SML.di("./icon-c33661e6.js",import.meta.url,"iconc33661e6");
SML.dm("shelle48e5956",["iconc33661e6"],(async e=>{function t(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e){return this instanceof i?(this.v=e,this):new i(e)}function n(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=o.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){r[e]&&(n[e]=function(t){return new Promise((function(o,i){s.push([e,t,o,i])>1||d(e,t)}))})}function d(e,t){try{!function(e){e.value instanceof i?Promise.resolve(e.value.v).then(l,c):u(s[0][2],e)}(r[e](t))}catch(e){u(s[0][3],e)}}function l(e){d("next",e)}function c(e){d("throw",e)}function u(e,t){e(t),s.shift(),s.length&&d(s[0][0],s[0][1])}}function r(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=o(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(t){return new Promise((function(i,n){(function(e,t,o,i){Promise.resolve(i).then((function(t){e({value:t,done:o})}),t)})(i,n,(t=e[o](t)).done,t.value)}))}}}const s=e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:o,elements:i}=t;return{kind:o,elements:i,finisher(t){customElements.define(e,t)}}})(e,t),a=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(o){o.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(o){o.createProperty(t.key,e)}};function d(e){return(t,o)=>void 0!==o?((e,t,o)=>{t.constructor.createProperty(o,e)})(e,t,o):a(e,t)}function l(e){return d({...e,state:!0})}const c=({finisher:e,descriptor:t})=>(o,i)=>{var n;if(void 0===i){const i=null!==(n=o.originalKey)&&void 0!==n?n:o.key,r=null!=t?{kind:"method",placement:"prototype",key:i,descriptor:t(o.key)}:{...o,key:i};return null!=e&&(r.finisher=function(t){e(t,i)}),r}{const n=o.constructor;void 0!==t&&Object.defineProperty(o,i,t(i)),null==e||e(n,i)}};var u;const h=null!=(null===(u=window.HTMLSlotElement)||void 0===u?void 0:u.prototype.assignedElements)?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter((e=>e.nodeType===Node.ELEMENT_NODE));function p(e){const{slot:t,selector:o}=null!=e?e:{};return c({descriptor:i=>({get(){var i;const n="slot"+(t?`[name=${t}]`:":not([name])"),r=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(n),s=null!=r?h(r,e):[];return o?s.filter((e=>e.matches(o))):s},enumerable:!0,configurable:!0})})}function m(e,t,o){let i,n=e;return"object"==typeof e?(n=e.slot,i=e):i={flatten:t},o?p({slot:n,flatten:t,selector:o}):c({descriptor:e=>({get(){var e,t;const o="slot"+(n?`[name=${n}]`:":not([name])"),r=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(o);return null!==(t=null==r?void 0:r.assignedNodes(i))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}class g{constructor(e,t){this._events=new Map,this._isConnected=!1,e.addController(this),this._host=e,this._getTarget=t}_getEventTarget(){return this._getTarget?this._getTarget():this._host}hostConnected(){const e=this._getEventTarget();for(const[t,o]of this._events)Array.isArray(o)?e.addEventListener(t,o[0],o[1]):e.addEventListener(t,o);this._isConnected=!0}hostDisconnected(){const e=this._getEventTarget();for(const[t,o]of this._events)Array.isArray(o)?e.removeEventListener(t,o[0],o[1]):e.removeEventListener(t,o);this._isConnected=!1}define(e,t,o){const i=e.toString();if(this._events.has(i))throw new Error(`Event ${i} already defined.`);if(o?this._events.set(i,[t,o]):this._events.set(i,t),this._isConnected){const e=this._getEventTarget();e&&e.addEventListener(i,t,o)}return t}}let _=e=>e;function E(){const e=new WeakMap;let t=!1;return{get isDirty(){return t},register(o,i){const n=e.get(o);n&&!n.has(i)?n.add(i):n||e.set(o,new Set([i])),t=!0},unregister(o,i){const n=e.get(o);n&&n.has(i)&&(n.delete(i),t=!0)},getRegisteredElements(o){const i=e.get(o);return t=!1,i},unregisterAll(o){e.delete(o),t=!0}}}function f(e){window.FACEPLATE_CONNECTORS=window.FACEPLATE_CONNECTORS||{},window.FACEPLATE_CONNECTORS[e]=window.FACEPLATE_CONNECTORS[e]||new Set;const t=t=>{var o,i;return!0===(null===(i=null===(o=window.FACEPLATE_CONNECTORS)||void 0===o?void 0:o[e])||void 0===i?void 0:i.has(t.constructor))};return{registerAncestorClass(t){var o,i;null===(i=null===(o=window.FACEPLATE_CONNECTORS)||void 0===o?void 0:o[e])||void 0===i||i.add(t)},connectToAncestor:e=>async function(e,t){let o=e;for(;o.parentElement;){if(o=o.parentElement,!o.tagName.includes("-"))continue;const e=o.tagName.toLowerCase();if(customElements.get(e)||await customElements.whenDefined(e),t(o))return o}}(e,t)}}function v(e,t,o=!0){return new CustomEvent(e,{composed:!0,bubbles:o,cancelable:!0,detail:t})}const S=e.e(class extends e.i{constructor(t){var o;if(super(t),t.type!==e.t.ATTRIBUTE||"class"!==t.name||(null===(o=t.strings)||void 0===o?void 0:o.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(t,[o]){var i,n;if(void 0===this.it){this.it=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in o)o[e]&&!(null===(i=this.nt)||void 0===i?void 0:i.has(e))&&this.it.add(e);return this.render(o)}const r=t.element.classList;this.it.forEach((e=>{e in o||(r.remove(e),this.it.delete(e))}));for(const e in o){const t=!!o[e];t===this.it.has(e)||(null===(n=this.nt)||void 0===n?void 0:n.has(e))||(t?(r.add(e),this.it.add(e)):(r.remove(e),this.it.delete(e)))}return e.T}});var b;!function(e){e.ExtraSmall="xs",e.Small="sm",e.Medium="md",e.Large="lg"}(b||(b={}));const y={[b.Small]:{label:"ps-[var(--rem10)] pe-[var(--rem6)]",icon:"ps-[var(--rem10)] pe-[var(--rem6)]",iconLabel:"ps-[var(--rem10)] pe-[var(--rem6)]"},[b.Medium]:{label:"ps-[var(--rem14)] pe-[var(--rem10)]",icon:"ps-[var(--rem10)] pe-[var(--rem6)]",iconLabel:"px-[var(--rem10)]"},[b.Large]:{label:"ps-[var(--rem14)] pe-[var(--rem10)]",icon:"px-[var(--rem14)]",iconLabel:"ps-[var(--rem14)] pe-[var(--rem10)]"}},C={[b.ExtraSmall]:{label:"px-[var(--rem10)]",icon:"px-[var(--rem6)]",iconLabel:"px-[var(--rem10)]"},[b.Small]:{label:"px-[var(--rem10)]",icon:"px-[var(--rem6)]",iconLabel:"px-[var(--rem10)]"},[b.Medium]:{label:"px-[var(--rem14)]",icon:"px-[var(--rem8)]",iconLabel:"ps-[var(--rem10)] pe-[var(--rem14)]"},[b.Large]:{label:"px-[var(--rem14)]",icon:"px-[var(--rem12)]",iconLabel:"ps-[var(--rem10)] pe-[var(--rem14)]"}},T={xs:"button-x-small",sm:"button-small",md:"button-medium",lg:"button-large"},A={primary:"button-primary",secondary:"button-secondary",tertiary:"button-tertiary",plain:"button-plain",bordered:"button-bordered",destructive:"button-destructive",media:"button-media",brand:"button-brand",success:"button-success",plainInverted:"button-plain-inverted",favorite:"button-favorite",favoriteToggled:"button-favorite-toggled",secondaryToggled:"button-secondary-toggled",caution:"button-caution",tab:"button-tab"},I=({attributes:e,size:t=b.Medium,appearance:o,shape:i,leadingIcon:n,trailingIcon:r,children:s,selected:a})=>{let d="label";n&&s?d="iconLabel":s||(d="icon");const l=r?y:C;return`${e?.className||""}\n${t?`${T[t]} ${l[t]?.[d]}`:""}\n${o?A[o]:""}\n${a?"button-activated":""}\n${"square"===i?"rounded-2":""}\n${"icon"===d?"icon":""}\n${"tab"===o?"flex-col":"items-center justify-center"}\nbutton inline-flex`},P=t=>{const{createElement:o}=e.g(),{attributes:i,selected:n,role:r}=t,s=i?.href,a=i?.disabled,d=(({hideChildrenOverflow:t,children:o,screenReaderContent:i,trailingIcon:n,leadingIcon:r,dropdown:s,appearance:a,selected:d,size:l})=>{let c="flex";(o||s)&&(c+=" me-xs");const{html:u}=e.g(),h=u`<span class="flex items-center justify-center${t?" overflow-hidden":""}"> ${r?u`<span class="${c}">${r}</span>`:void 0} ${o?u`<span class="${"flex items-center gap-xs"+(t?" overflow-hidden":"")}">${o}</span>`:void 0} </span> ${n}`;return["tab"===a?u` <span class="inline-flex items-center justify-center gap-xs">${h}</span> ${d?u` <span class="w-100 ${l===b.Small||l===b.ExtraSmall?"h-[2px] -mt-[2px]":"h-2xs -mt-2xs"} pointer-events-none bg-primary rounded-full"></span>`:""} `:h,i?u`<faceplate-screen-reader-content>${i}</faceplate-screen-reader-content>`:""]})({...t}),l=null!=s;return o(l?"a":"button",{rpl:!0,role:r,...i,className:`${I(t)} ${a&&l?"anchor-disabled":""}`,rplSelected:n},d)},R=({size:e=b.Medium,...t})=>P({...t,size:e});function w(t){const o=[t];return o.raw=o,e.a(o)}const O=document.querySelector("#tailwind")?.textContent??"";O||console.warn("Tailwind style tag not found - cannot build constructed stylesheet");const M=w(O);for(let e=0;e<256;e++)(e>>4&15).toString(16),(15&e).toString(16);var N,D,L;(new class{constructor(){this.settled=!1,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}).resolve(),function(e){e.App="app",e.Embed="embed",e.EmbedHeartbeat="embed-heartbeat",e.Event="event",e.EventBatch="event_batch",e.Heartbeat="heartbeat",e.HighlightMenu="highlight_menu",e.Screen="screen",e.SnippetEmbed="snippet_embed"}(N||(N={})),function(e){e.Global="global",e.Share="share"}(D||(D={})),function(e){e.Click="click",e.Drop="drop",e.Leave="leave",e.Load="load",e.View="view"}(L||(L={}));const U="x-verified-res",k="join",x="report";var F,V;!function(e){e.RichText="richText",e.Markdown="markdown"}(F||(F={})),function(e){e.Small="small",e.Large="large",e.XLarge="xlarge"}(V||(V={}));const B="post_composer";var G,W;!function(e){e.Type="type",e.DraftId="draft",e.Title="title",e.CrosspostSourceId="source_id",e.CrosspostTarget="crosspost_target",e.Url="url",e.ScheduledPostId="scheduled_post_id",e.PostId="post_id",e.CrosspostExperimentReferral="crosspost_experiment_referral"}(G||(G={})),function(e){e.Draft="draft",e.Schedule="schedule",e.Submit="submit",e.UpdateDraft="updateDraft",e.UpdateScheduledPost="updateScheduledPost"}(W||(W={}));var H,q,Y,$;!function(e){e.Upvote="upvote",e.Downvote="downvote",e.Reply="reply",e.Follow="follow",e.Awards="awards",e.Join="join",e.Report="report",e.CommunityValue="community-value",e.Unknown="unknown",e.RecentCommunitiesCreateAccount="recent_communities_create_account",e.AuthPrompt="auth_prompt"}(H||(H={})),function(e){e.UpvoteComment="upvote_comment",e.DownvoteComment="downvote_comment",e.ReplyComment="reply_comment",e.Report="report"}(q||(q={})),function(e){e.Follow="follow",e.FollowSignupCTA="follow_signup_cta",e.Unfollow="unfollow",e.Chat="chat",e.ChatSignupCTA="chat_signup_cta",e.Share="share",e.Message="send_message",e.GivePremium="give_premium",e.BlockUser="block_user",e.UnblockUser="unblock_user",e.GetHelp="get_help",e.Report="report",e.AddToCustomFeed="add_to_custom_feed"}(Y||(Y={})),function(e){e.Post="post",e.Comment="comment"}($||($={}));const j="faceplate-track",K="track-event",Q="devvit-action",z={upvote:"upvote",downvote:"downvote",upvoteTry:"upvote_try",downvoteTry:"downvote_try",reply:"reply",[k]:k,signup:"signup",save:"save",follow:"follow",awards:"awards",purchaseProduct:"purchase_product",vaultLogin:"vault_login",[x]:"report",[j]:j,[K]:K,[Q]:Q},J=["nav/click/login","user_drawer/click/login","reddit_pro_onboarding/click/login","xpromo/click/auth_header_login"],X=["premium_marketing/click/price","community_hovercard/click/join_signup_cta","community/click/subscribe","community/click/unsubscribe",`post_detail/click/${q.UpvoteComment}`,`post_detail/click/${q.DownvoteComment}`,`post_detail/click/${q.ReplyComment}`,`${B}/click/create_post`,"comment_composer/click/login_to_comment",`user_hovercard/click/${Y.Follow}`,`user_hovercard/click/${Y.FollowSignupCTA}`,`user_hovercard/click/${Y.Chat}`,`user_hovercard/click/${Y.ChatSignupCTA}`,"post/click/vote",`post/click/${H.Report}`,`post_detail/click/${H.Report}`,`profile/click/${q.DownvoteComment}`,`comment/click/${q.Report}`,"comment/click/reply",`profile/click/${q.UpvoteComment}`,`profile/click/${Y.Follow}`,`profile/click/${Y.FollowSignupCTA}`,`profile/click/${Y.Chat}`,`profile/click/${Y.ChatSignupCTA}`,`profile/click/${Y.Message}`,`profile/click/${Y.GivePremium}`,`profile/click/${Y.BlockUser}`,`profile/click/${Y.GetHelp}`,`profile/click/${Y.Report}`,`profile/click/${Y.AddToCustomFeed}`,"nav/click/recap_logged_out","subreddit/click/recap_logged_out","recap/click/recap_logged_out","xpromo/click/nsfw_blur:login","reddit_pro_onboarding/click/signup","new_awards/click/report",...J];window._pubsubControllerInstances??(window._pubsubControllerInstances=new Set);const Z=new Map;class ee{constructor(e){this.handlers={},this.host=e,this.host.addController(this)}hostConnected(){window._pubsubControllerInstances.add(this)}hostDisconnected(){window._pubsubControllerInstances.delete(this)}subscribe(e,t,o=!0,i=!1){this.handlers[e]||(this.handlers[e]=new Set),this.handlers[e].add(t),o&&Z.has(e)&&(t(Z.get(e)),i&&Z.delete(e))}unsubscribe(e,t){this.handlers[e]&&this.handlers[e].delete(t)}publish(e,t){return te(e,t)}}function te(e,t){Z.set(e,t);for(const o of window._pubsubControllerInstances)if(o.handlers[e]?.size)for(const i of o.handlers[e])i(t)}function oe(e,t){return t in e}const ie=Symbol("mixins/with-pubsub-manager");const ne=Symbol("mixins/with-pubsub");function re(e){if(oe(e,ne))return e;class t extends e{constructor(){super(...arguments),this.pubsub=new ee(this)}subscribe(e,t,o=!0,i=!1){this.pubsub.subscribe(e,t,o,i)}unsubscribe(e,t){this.pubsub.unsubscribe(e,t)}publish(e,t){te(e,t)}}return t[ne]=!0,t}function se(e,t,o=!0){return e?e instanceof ShadowRoot?se(e.host,t,o):e instanceof HTMLElement?e.matches(t)?e:o&&e.querySelector(t)?e.querySelector(t):se(e.parentNode,t,o):se(e.parentNode,t,o):null}window.ALL_ELEMENTS??(window.ALL_ELEMENTS=new Map);const ae=new Set(["faceplate-json","reddit-debug-panel","shreddit-debug-ad-display","shreddit-debug-dev-override","shreddit-debug-feature-timeline","shreddit-debug-v2-events","shreddit-perf-debugger"]),de={};function le(){if(window.renderTimes)return;window.renderTimes={},window.adoptedStylesheetByComponent=new Map;const t=e.s.prototype.update;e.s.prototype.update=function(...e){const o=this.nodeName.toLowerCase(),i=performance.now();t.apply(this,e);const n=performance.now()-i;ae.has(o)||(window.renderTimes[o]=window.renderTimes[o]??{cumulativeRenderTime:0,numRenders:0,numInstances:0},window.renderTimes[o].numRenders++,window.renderTimes[o].cumulativeRenderTime+=n,de[o]=de[o]??new WeakSet,de[o].has(this)||(window.renderTimes[o].numInstances++,de[o].add(this)));try{const e=this.shadowRoot?.adoptedStyleSheets[0];e&&window.adoptedStylesheetByComponent.set(this.constructor,e)}catch{}},window.printRenderReport=(e=20)=>{console.log(Object.entries(window.renderTimes).sort((([,e],[,t])=>t.cumulativeRenderTime-e.cumulativeRenderTime)).slice(0,e).map((([e,{cumulativeRenderTime:t,numInstances:o,numRenders:i}])=>`<${e}> ${t.toFixed(1)}ms, \n            ${i} renders from ${o} instances`)).join("\n"))}}let ce=new Set;function ue(){const e=new Set([...window.ALL_ELEMENTS.keys()]),t=new Set(he("*").filter((e=>e.tagName.includes("-"))).map((e=>e.tagName.toLowerCase())));return ce=ce.union?.(t)??[],[...e.difference?.(ce)??[]]}function he(e,t=document.documentElement){return[...t.querySelectorAll(e)].flatMap((t=>{const o=[t];return t.shadowRoot&&o.push(...he(e,t.shadowRoot)),o}))}const pe="[data-expected-lcp]";function me(){return he("*",document.body).some((e=>e.matches(pe)))}function ge(e,t=me){return e?se(e,pe,!1)?"true":t()?"false":"unknown":"unknown"}const _e=e.e(class extends e.i{constructor(t){if(super(t),t.type!==e.t.CHILD)throw Error("templateContent can only be used in child bindings")}render(t){return this.vt===t?e.T:(this.vt=t,document.importNode(t.content,!0))}}),Ee={rootMargin:"200px"},fe=new Map;function ve(e,t){return!fe.has(e)&&t&&fe.set(e,function(e){return new IntersectionObserver((e=>{for(const t of e){const e=t.target,o=t.isIntersecting?v("faceplate-enter",t,!1):v("faceplate-leave",t,!1);e.dispatchEvent(o)}}),e)}(t)),fe.get(e)}class Se{constructor(e=Ee){this._observer=ve(JSON.stringify(e),e)}observe(e){this._observer.observe(e)}unobserve(e){this._observer.unobserve(e)}}const be=Symbol("mixins/observer");function ye(e){if(be in e)return e;class t extends e{constructor(){super(...arguments),this._observer=null,this._handleEnter=e=>{this.observerIsIntersectingCallback(e.detail)},this._handleLeave=e=>{this.observerIsNotIntersectingCallback(e.detail)}}get isObserved(){return!!this._observer}enableObserver(e){this._observer||(this._observer=new Se(e),this._observer.observe(this),this.addEventListener("faceplate-enter",this._handleEnter),this.addEventListener("faceplate-leave",this._handleLeave))}disableObserver(){this._observer&&(this._observer.unobserve(this),this._observer=null,this.removeEventListener("faceplate-enter",this._handleEnter),this.removeEventListener("faceplate-leave",this._handleLeave))}observerIsIntersectingCallback(e){}observerIsNotIntersectingCallback(e){}}return t[be]=!0,t}var Ce,Te,Ae,Ie,Pe,Re,we;!function(e){e[e.emergency=0]="emergency",e[e.alert=1]="alert",e[e.critical=2]="critical",e[e.error=3]="error",e[e.warning=4]="warning",e[e.notice=5]="notice",e[e.info=6]="info",e[e.success=7]="success",e[e.debug=8]="debug",e[e.none=9]="none"}(Ce||(Ce={})),function(e){e.Programmatic="programmatic",e.Eager="eager",e.Action="action",e.Intent="intent",e.Lazy="lazy",e.Preload="preload"}(Te||(Te={})),function(e){e.Once="once",e.Always="always"}(Ae||(Ae={})),function(e){e.Get="get",e.Post="post",e.Dialog="dialog",e.Log="log"}(Ie||(Ie={})),function(e){e.Append="append",e.Prepend="prepend",e.After="after",e.Before="before",e.Replace="replace",e.Contents="contents"}(Pe||(Pe={})),function(e){e.XPromo="xpromo"}(Re||(Re={}));const Oe=new Set;let Me=we=class extends(ye(e.s)){constructor(){super(...arguments),this.content=null,this.slotState="pending"}connectedCallback(){switch(super.connectedCallback(),this.shouldRenderWithPaintGroup=this.paintGroup&&(!this.loading||this.loading===Te.Eager),this.loading){case Te.Programmatic:break;case Te.Lazy:this.enableObserver();break;case Te.Eager:default:this.load()}}disconnectedCallback(){this.disableObserver(),super.disconnectedCallback()}renderAsSlot(){switch(this.slotState){case"pending":return e.x`<slot></slot>`;case"ready":return e.x`<slot name="${we.READY_SLOT}"></slot>`;case"error":return e.x`<slot name="${we.ERROR_SLOT}"></slot>`}}render(){return this.shouldRenderAsSlot?this.renderAsSlot():null!=this.content?this.content:e.x` <slot></slot> <slot name="${we.READY_SLOT}"></slot> <slot name="${we.ERROR_SLOT}"></slot> `}observerIsIntersectingCallback(){this.disableObserver(),this.load()}async load(){try{if(!this.bundleName)throw new Error("Unspecified bundle.");Oe.add(this);const e=we.Loaders;if(0===e.size)return;const t=e.get(this.bundleName);if(!t)throw new Error(`Invalid bundle: ${this.bundleName}.`);if(this.shouldRenderWithPaintGroup&&this.paintGroup){const e=we.paintGroupLoaders.get(this.paintGroup);e?.push(t())}else await t();this.handleLoad()}catch(e){this.handleLoadError(e)}}async waitForPaintGroup(){if(!this.paintGroup||!this.shouldRenderWithPaintGroup)return;const e=we.paintGroupLoaders.get(this.paintGroup);var t;e&&await Promise.race([Promise.all(e),(t=2e3,new Promise((e=>{window.setTimeout(e,t)})))])}async handleLoad(){Oe.delete(this),this.shouldRenderWithPaintGroup&&await this.waitForPaintGroup(),this.shouldRenderAsSlot?this.slotState="ready":this.renderTemplate(we.READY_SLOT)}handleLoadError(e){console.error("Error loading async bundle",e?.stack),this.shouldRenderAsSlot?this.slotState="error":this.renderTemplate(we.ERROR_SLOT),window.Sentry?.withScope((e=>{e?.setTag?.("bundleName",this.bundleName),window.Sentry?.captureMessage?.("Failed to load async bundle")}))}renderTemplate(e){const t=this.findTemplate(e);t&&(this.content=_e(t))}findTemplate(e){const t=this.shadowRoot?.querySelector(`slot[name=${e}]`);if(!(t instanceof HTMLSlotElement))return null;const o=t?.assignedElements()[0];return o instanceof HTMLTemplateElement?o:null}};function Ne(e,t){var o;e.removeController(t),null===(o=t.hostDisconnected)||void 0===o||o.call(t)}function De(e,t,o,i){const n=new g(e,(()=>t));return n.define("click",(e=>o(e)),i),n.define("mouseup",(e=>{1===e.button&&o(e)}),i),n.define("keydown",(e=>{"Enter"!==e.code&&"Space"!==e.code||o(e)}),i),n}Me.styles=[M],Me.Loaders=new Map,Me.addLoaders=e=>{for(const[t,o]of Object.entries(e))we.Loaders.set(t,o);for(const e of Oe)e.load()},Me.paintGroupLoaders=((e=Re)=>new Map(Object.values(e).map((e=>[e,[]]))))(),Me.READY_SLOT="ready",Me.ERROR_SLOT="error",t([d({type:String})],Me.prototype,"bundleName",void 0),t([d({type:String})],Me.prototype,"loading",void 0),t([d({type:String,attribute:"paint-group",converter:e=>e})],Me.prototype,"paintGroup",void 0),t([d({type:Boolean})],Me.prototype,"shouldRenderAsSlot",void 0),t([l()],Me.prototype,"content",void 0),t([l()],Me.prototype,"shouldRenderWithPaintGroup",void 0),t([l()],Me.prototype,"slotState",void 0),Me=we=t([s("shreddit-async-loader")],Me);function Le(e,t,o,i){const n=new g(e,(()=>t));let r;const s=()=>r=r&&window.clearTimeout(r),a=e=>r=s()||window.setTimeout((()=>o(e)),300);return n.define("focusin",a,i),n.define("mouseenter",a,i),n.define("touchstart",a,i),n.define("focusout",s,i),n.define("mouseleave",s,i),n.define("touchend",s,i),n.define("touchcancel",s,i),e.addController(n),n}class Ue{constructor(e){this._isConnected=!1,this._host=e,e.addController(this)}addController(e){var t,o;(null!==(t=this._controllers)&&void 0!==t?t:this._controllers=[]).push(e),this._isConnected&&(null===(o=e.hostConnected)||void 0===o||o.call(e))}removeController(e){var t;null===(t=this._controllers)||void 0===t||t.splice(this._controllers.indexOf(e)>>>0,1)}requestUpdate(){this._host.requestUpdate()}get updateComplete(){return this._host.updateComplete}hostConnected(){var e;null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostConnected&&e.hostConnected())),this._isConnected=!0}hostDisconnected(){var e;this._isConnected=!1,null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostDisconnected&&e.hostDisconnected()))}hostUpdate(){var e;null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostUpdate&&e.hostUpdate()))}hostUpdated(){var e;null===(e=this._controllers)||void 0===e||e.forEach((e=>e.hostUpdated&&e.hostUpdated()))}}function ke(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function xe(e,t){let o=null;try{const i=e.dataset[t];if(i){const e=JSON.parse(i);ke(e)&&(o=e)}}catch(e){}return o}class Fe{constructor(e,t,o){this._target=t;let i=o;const n=xe(t,"faceplateObserverConfig");n&&(i=o?Object.assign(Object.assign({},o),n):n),this._observer=new Se(i),e.addController(this)}hostConnected(){this._observer.observe(this._target)}hostDisconnected(){this._observer.unobserve(this._target)}}function Ve(e,t,o,i){const n=new Ue(e);new Fe(n,t,i);return new g(n,(()=>t)).define("faceplate-enter",(e=>o(e))),n}class Be{constructor(){let e,t;this.promise=new Promise(((o,i)=>{e=o,t=i})),this.resolve=e,this.reject=t}}const Ge=new Map;function We(e){return Ge.has(e)||Ge.set(e,new Be),Ge.get(e)}function He(e){return We(e).promise}const qe=new Map,Ye=()=>{throw new Error("Class extending LoaderElement not configured!")};function $e(e,t){qe.set(e,t)}class je extends e.s{constructor(){super(...arguments),this.readyMark="",this.setMark="",this.goMark="",this.src="",this.loading=Te.Lazy,this._isLoading=!1,this._load=async()=>{if(!this.isLoading)try{this.isLoading=!0,this._ctrl&&(this._ctrl=Ne(this,this._ctrl));const e=await(qe.get(this.constructor)||Ye),t=e instanceof Function?e:e.loader,o=e instanceof Function?void 0:e.runner,i=v("faceplate-load-start");let n,r;this.dispatchEvent(i),t&&(n=await t(this,this.src)),this.setMark&&We(this.setMark).resolve(),this.goMark&&await He(this.goMark),o&&(r=await o(this,n));const s=v("faceplate-load",{resource:(null==r?void 0:r.src)||this.src,src:this.src});this.dispatchEvent(s)}catch(e){const t=v("faceplate-error",e);this.dispatchEvent(t)}finally{this.isLoading=!1}}}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=!!e}connectedCallback(){super.connectedCallback(),this._loaderInit()}async _loaderInit(){this.readyMark&&await He(this.readyMark);const{loading:e}=this;e===Te.Action?this._ctrl=De(this,this,this._load):e===Te.Lazy?this._ctrl=Ve(this,this,this._load):e===Te.Intent?this._ctrl=Le(this,this,this._load):e!==Te.Eager&&e!==Te.Preload||this._load()}load(){if(this.loading!==Te.Programmatic)throw new Error(`Calling load only supported with loading=${Te.Programmatic}`);return this._load()}}function Ke(e){const t=e.headers.get("content-type");return null==t?void 0:t.split(";")[0]}function Qe(e,t){if(t.startsWith("/"))return!0;let o;try{o=new URL(t)}catch(e){return!0}const[i,n]=e.hostname.split(".").reverse(),[r,s]=o.hostname.split(".").reverse();return i===r&&n===s}t([d({type:String,attribute:"readymark"})],je.prototype,"readyMark",void 0),t([d({type:String,attribute:"setmark"})],je.prototype,"setMark",void 0),t([d({type:String,attribute:"gomark"})],je.prototype,"goMark",void 0);let ze=()=>new URL(window.location.href);var Je,Xe;!function(e){e.Omit="omit",e.SameOrigin="same-origin",e.Include="include",e.SameDomain="same-domain"}(Je||(Je={})),function(e){e.UrlEncoded="application/x-www-form-urlencoded",e.FormData="multipart/form-data",e.JSON="application/json"}(Xe||(Xe={}));let Ze=async(e=1e4)=>{if(navigator.onLine)return!0;const t=AbortSignal.timeout(e);return new Promise((e=>{window.addEventListener("online",(()=>e(!0)),{once:!0,signal:t}),t.addEventListener("abort",(()=>e(!1)),{once:!0})}))};function et(e,t,o={}){var r;return n(this,arguments,(function*(){const n=null===o.onlineStatusCheck?null:null!==(r=o.onlineStatusCheck)&&void 0!==r?r:Ze,s=v("faceplate-request",{resource:e,request:t});if(yield yield i(s),s.defaultPrevented)return yield i(void 0);const a=t,{enctype:d}=o;if(d===Xe.FormData?delete a.headers["Content-Type"]:d&&(a.headers["Content-Type"]=d),d){const e=o.encoders?o.encoders[d]:void 0;if(!e){const e=new Error(`No encoder supplied for enctype ${d}`);return yield yield i(v("faceplate-error",e)),yield i(void 0)}a.body=yield i(e(t.body))}a.method===Ie.Get&&delete a.body,o.credentials===Je.SameDomain?Qe(ze(),e)&&(a.credentials=Je.Include):o.credentials&&o.credentials!==Je.Include?a.credentials=o.credentials:delete a.credentials,o.mode&&(a.mode=o.mode);try{n&&(yield i(n()));const t=yield i(fetch(e,a));yield yield i(v("faceplate-response",{response:t}))}catch(e){const t=e instanceof Error?e:new Error(null==e?void 0:e.toString());yield yield i(v("faceplate-error",t))}}))}function tt(e){return new Error(`Unsupported type File given for field ${e}. Use encoding type ${Xe.FormData} for file upload.`)}function ot(e){const t=new URLSearchParams;for(const o of e){if(o[1]instanceof File)throw tt(o[0]);t.append(o[0],o[1])}return t}const it=e=>new Promise((t=>setTimeout(t,e)));function nt(e,t){return n(this,arguments,(function*(){var o,s,a,d,l,c,u;try{for(var h,p=!0,m=r(function({attempts:e=1/0,budget:t=1/0,backoff:o=0,maxSleep:r=1/0,useJitter:s=!1}){return n(this,arguments,(function*(){if(e<=0)throw new TypeError("retry attempts must be a positive number");if(t<=0)throw new TypeError("retry budget must be a positive number");if(o<0)throw new TypeError("retry backoff cannot be a negative number");if(r<=0)throw new TypeError("retry maxSleep must be a positive number");const n=Date.now();let a=t;yield yield i(a);for(let d=1;d<e;d++){if(o){let e=Math.min(r,o*2**(d-1));if(s&&(e*=Math.random()*e),e>a)return yield i(void 0);yield i(it(e))}if(Number.isFinite(a)){const e=Date.now()-n;if(a=t-e,a<=0)return yield i(void 0)}yield yield i(a)}}))}(t));!(o=(h=yield i(m.next())).done);){h.value,p=!1;try{const t=e();try{for(var g,_=!0,E=(l=void 0,r(t));!(d=(g=yield i(E.next())).done);){u=g.value,_=!1;try{const e=u;yield yield i(e)}finally{_=!0}}}catch(e){l={error:e}}finally{try{_||d||!(c=E.return)||(yield i(c.call(E)))}finally{if(l)throw l.error}}}finally{p=!0}}}catch(e){s={error:e}}finally{try{p||o||!(a=m.return)||(yield i(a.call(m)))}finally{if(s)throw s.error}}}))}const rt={enctype:Xe.UrlEncoded,encoders:{[Xe.UrlEncoded]:ot}};let st=()=>{},at={backoff:500,attempts:3};const dt={credentials:Je.SameDomain,mode:"no-cors"};class lt{constructor(e){this.isRequestInProgress=!1,this.host=e}buildRequest(e){const t={method:e.method||Ie.Get,body:e.body||new FormData,headers:{}};return e.loading!==Te.Preload&&(t.headers.Accept="text/vnd.reddit.partial+html, text/html;q=0.9"),t.method===Ie.Get||(t.headers["Content-Type"]=Xe.UrlEncoded),t}validateRequestOptions(e){if(e.method&&![Ie.Get,Ie.Post].includes(e.method))throw new Error(`Unsupported method ${e.method}`)}_handleError(e,t="partial-request-generic-failure"){return v("faceplate-alert",{level:Ce.error,message:"Request failed",meta:null==e?void 0:e.toString(),cause:t,sourceElement:this.host.tagName})}_handleNetworkError(e){return v("faceplate-alert",{level:Ce.error,message:"Request failed",meta:e.status,alertDetails:{kind:"network",response:e},cause:`partial-request-network-error-${e.status}`,sourceElement:this.host.tagName})}_dispatchEventIfNotPrevented(e){e.defaultPrevented||this.host.dispatchEvent(e)}async request(e,t){var o,i,n,s;this.isRequestInProgress=!0;const a=`${ze().origin}${"/"===e[0]?"":"/"}${e}`,d=t&&t.loading===Te.Preload?dt:rt,l=(null==t?void 0:t.onError)||st,c=(null==t?void 0:t.retryOptions)||at;this.validateRequestOptions(t||{});const u=nt((()=>{const e=this.buildRequest(t||{});return et(a,e,d)}),c);try{let e;try{for(var h,p=!0,m=r(u);!(o=(h=await m.next()).done);){s=h.value,p=!1;try{const t=s;let o=!1;const i=()=>{o=!0};if(e=void 0,"faceplate-error"===t.type){const n=this._handleError(t.detail,"partial-request-fetch-failure");if(l({event:n,href:a,retry:i}),this._dispatchEventIfNotPrevented(n),o){e=n.detail;continue}return}if(this.host.dispatchEvent(t),t.defaultPrevented)return;if("faceplate-response"===t.type){const n=t.detail.response;if(!n.ok){const t=this._handleNetworkError(n);if(l({event:t,res:n,href:a,retry:i}),this._dispatchEventIfNotPrevented(t),o){e=t.detail;continue}return}const r=Ke(n);if("text/vnd.reddit.partial+html"!==r)throw new Error(`Unsupported content type "${r}" returned from ${a}`);return n}}finally{p=!0}}}catch(e){i={error:e}}finally{try{p||o||!(n=m.return)||await n.call(m)}finally{if(i)throw i.error}}if(e){const t=v("faceplate-alert",e);l({event:t,href:a}),this._dispatchEventIfNotPrevented(t)}}catch(e){const t=this._handleError(e,"partial-request-uncaught-failure");l({event:t,error:e instanceof Error?e:void 0,href:a}),this._dispatchEventIfNotPrevented(t)}finally{this.isRequestInProgress=!1}}}const ct="function"==typeof document.createRange;var ut;function ht(e){const t=e.cloneNode();return document.createRange().createContextualFragment(t.outerHTML).children[0]}function pt(e,t,o){var i,n;const r=mt(e),s=document.createDocumentFragment();for(const e of r){const t=null===(i=e.getAttribute("data-faceplate-swap-oob"))||void 0===i?void 0:i.split(":");if(null==t?void 0:t.length){const o=t.length>1?t[0]:Pe.Replace;e.removeAttribute("data-faceplate-swap-oob");const i=null!==(n=t[1])&&void 0!==n?n:t[0],r=document.querySelectorAll(i);if(!r.length)throw new Error(`Unable to find target node for out-of-band render: ${i}`);for(const t of r)pt(e.outerHTML,t,o)}else s.appendChild(e)}!function(e,t,o){const i=(new XMLSerializer).serializeToString(e).replace(/xmlns="[^"]*html[^"]*"/g,"");switch(o){case Pe.Append:return void t.insertAdjacentHTML("beforeend",i);case Pe.Prepend:return void t.insertAdjacentHTML("afterbegin",i);case Pe.After:return void t.insertAdjacentHTML("afterend",i);case Pe.Before:return void t.insertAdjacentHTML("beforebegin",i);case Pe.Replace:if(!t.parentNode)throw new Error("Attemping to use partial replace mode on target without a parent node!");return t.parentNode.insertBefore(e,t),void t.remove();case Pe.Contents:return t.textContent="",void t.appendChild(e);default:throw new Error(`Attempting to use unsupported partial mode '${o}'!`)}}(s,t,o)}function mt(e){const t=document.createElement("template");t.innerHTML=e;const o=Array.from(t.content.children);if(!ct)return o;for(let e=0;e<o.length;e++){const t=o[e];if("FACEPLATE-BATCH"===t.nodeName){const i=ht(t),n=customElements.get(t.nodeName.toLowerCase());if(!(n&&i instanceof n))continue;const r=i.getCurrentTarget(t),s=Array.from(r.children);if(r.innerHTML="",r!==t)for(const e of Array.from(t.children))i.appendChild(e);if(r!==t&&r.nodeName.includes("-")){const e=ht(r);r.replaceWith(e)}i.batchInsert(s),o[e]=i}}return o}!function(e){e.Append="append",e.Replace="replace",e.Contents="contents"}(ut||(ut={}));const gt=e=>{var t;return null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:""};function _t(e){throw 1}class Et extends je{constructor(){super(...arguments),this.src="",this.target="",this.loading=Te.Eager,this.renderMode=Pe.Replace,this.method=Ie.Get,this.alwaysShowSlot=!1,this.partialRequest=new lt(this)}get isLoading(){return!!this.partialRequest&&this.partialRequest.isRequestInProgress}set isLoading(e){}static get styles(){return e.a`:host{display:block}:host([loading=action]){cursor:pointer}`}_shouldShowLoadingSlot(){var e;if(!(null===(e=this.partialRequest)||void 0===e?void 0:e.isRequestInProgress))return!1;switch(this.loading){case Te.Action:case Te.Intent:case Te.Programmatic:return!0;case Te.Eager:case Te.Preload:case Te.Lazy:return!1}return _t(this.loading)}_shouldUsePlaceholder(){if(this.alwaysShowSlot||this.renderMode!==Pe.Replace)return!1;switch(this.loading){case Te.Lazy:return!0;case Te.Action:case Te.Eager:case Te.Intent:case Te.Preload:case Te.Programmatic:return!1}return _t(this.loading)}updated(){if(!this._shouldUsePlaceholder()||this._slotCapture)return;const e=this._shouldShowLoadingSlot(),t=Array.from(e?this.querySelectorAll("[slot=loading]"):this.childNodes);this._slotCapture=new DocumentFragment,t.forEach((e=>{var t;"INPUT"!==e.nodeName&&(null===(t=this._slotCapture)||void 0===t||t.appendChild(e))}));const o=document.createElement("div");o.style.minHeight="1px",o.style.minWidth="1px",o.style.marginBottom="-1px",e&&o.setAttribute("slot","loading"),this.appendChild(o)}render(){var t;const o=this.loading===Te.Action&&!(null===(t=this.partialRequest)||void 0===t?void 0:t.isRequestInProgress),i=this._shouldShowLoadingSlot();return e.x` <div tabindex="${e.l(o?0:void 0)}"> <slot name="${e.l(i?"loading":void 0)}"></slot> </div> `}loadContent(){return this._load()}async _loadContent(){var e,t,o;if(!this.src)throw new Error("No src attribute specified on faceplate-partial element.");if(null===(e=this.partialRequest)||void 0===e?void 0:e.isRequestInProgress)throw new Error("Request already in progress on faceplate-partial element.");let i;if(this.method===Ie.Post&&(i=new FormData,this.method===Ie.Post)){const e=this.querySelectorAll("input[type=hidden]");for(let t=0;t<e.length;t++){const o=e[t];!o.disabled&&o.name&&i.append(o.name,o.value)}}this._slotCapture&&(this._shouldShowLoadingSlot()?null===(t=this.querySelector("[slot=loading]"))||void 0===t||t.remove():this.innerHTML="",this.appendChild(this._slotCapture));const n=null===(o=this.partialRequest)||void 0===o?void 0:o.request(this.src,{body:i,method:this.method,loading:this.loading});this.loading===Te.Action&&this.requestUpdate();const r=await n;return r||this.loading!==Te.Action||this.requestUpdate(),null==r?void 0:r.text()}_renderContent(e){let t=null;const o=this.target?document.querySelectorAll(this.target):[this];(null==o?void 0:o.length)||console.warn("No target element found for faceplate-partial element.",this);for(const i of o){const o=this.renderMode===Pe.Replace,n=i.previousSibling;if(n||(t=i.parentNode),e&&this.parentElement&&(pt(e,i,this.renderMode),o)){const e=n?n.nextSibling:t?t.firstElementChild:null;if(e){const t=v("faceplate-load",{resource:this.src,src:this.src});e.dispatchEvent(t)}}}}}t([d({type:String})],Et.prototype,"src",void 0),t([d({type:String})],Et.prototype,"target",void 0),t([d({type:String})],Et.prototype,"loading",void 0),t([d({type:String,attribute:"render-mode"})],Et.prototype,"renderMode",void 0),t([d({converter:gt})],Et.prototype,"method",void 0),t([d({type:Boolean,attribute:"always-show-slot"})],Et.prototype,"alwaysShowSlot",void 0),$e(Et,{loader:e=>e._loadContent(),runner:(e,t)=>e._renderContent(t)});function ft(e,t){const o=v("faceplate-track",t),i=vt(t);o.SAN=i,e.dispatchEvent(o)}function vt(e){return`${e.source}/${e.action}/${e.noun}`.toLowerCase()}function St(e,t){for(const o in t){if("source"===o||"action"===o||"noun"===o)continue;const i=t[o],n=e[o];null==n?e[o]=i:ke(n)&&ke(i)&&St(n,i)}}!!window.customElements.get("faceplate-partial")||window.customElements.define("faceplate-partial",Et);const bt={fromAttribute:e=>e.trim().split(/ +/),toAttribute:e=>e.join(" ")},yt={fromAttribute:e=>e.trim().split(","),toAttribute:e=>e.join(",")},Ct={rootMargin:"0px"};let Tt=class extends e.s{constructor(){super(...arguments),this.source="",this.action="",this.noun="",this.loadingModifier=[],this._fireMode=Ae.Always,this._trackEvent=()=>{this._ctrl&&this._fireMode===Ae.Once&&(this._ctrl=Ne(this,this._ctrl));const{source:e,action:t,noun:o}=this;e&&t&&o&&ft(this,{source:e,action:t,noun:o})}}get loading(){return"click"===this.action?Te.Action:"view"===this.action?Te.Lazy:Te.Programmatic}createRenderRoot(){return this}connectedCallback(){super.connectedCallback();const{loading:e}=this;e===Te.Action?this._ctrl=De(this,this,this._trackEvent):e===Te.Lazy&&(this._ctrl=Ve(this,this,this._trackEvent,Ct),this._fireMode=Ae.Once);for(const e of this.loadingModifier)switch(e){case Ae.Once:case Ae.Always:this._fireMode=e}}disconnectedCallback(){super.disconnectedCallback(),this._ctrl&&(this._ctrl=Ne(this,this._ctrl))}trackEvent(){if(this.loading!==Te.Programmatic)throw new Error(`Calling trackEvent only supported with loading=${Te.Programmatic}`);return this._trackEvent()}};t([d({type:String})],Tt.prototype,"source",void 0),t([d({type:String})],Tt.prototype,"action",void 0),t([d({type:String})],Tt.prototype,"noun",void 0),t([d({converter:bt,attribute:"loading-modifier"})],Tt.prototype,"loadingModifier",void 0),Tt=t([s("faceplate-tracker")],Tt);let At=class extends Event{constructor(e,t,o){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=o}};function It(e){return e}let Pt=class{constructor(e,t,o,i){var n;if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t},this.host=e,void 0!==t.context){const e=t;this.context=e.context,this.callback=e.callback,this.subscribe=null!==(n=e.subscribe)&&void 0!==n&&n}else this.context=t,this.callback=o,this.subscribe=null!=i&&i;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new At(this.context,this.t,this.subscribe))}},Rt=class{constructor(e){this.disposers=new Map,this.updateObservers=()=>{for(const[e,t]of this.disposers)e(this.o,t)},void 0!==e&&(this.value=e)}get value(){return this.o}set value(e){this.setValue(e)}setValue(e,t=!1){const o=t||!Object.is(e,this.o);this.o=e,o&&this.updateObservers()}addCallback(e,t){if(t){this.disposers.has(e)||this.disposers.set(e,(()=>{this.disposers.delete(e)}));const t=this.disposers.get(e);e(this.value,t)}else e(this.value)}clearCallbacks(){this.disposers.clear()}},wt=class extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}},Ot=class extends Rt{constructor(e,t,o){super(void 0!==t.context?t.initialValue:o),this.onContextRequest=e=>{e.context===this.context&&e.composedPath()[0]!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,e.subscribe))},this.host=e,void 0!==t.context?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new wt(this.context))}};function Mt({context:e}){return c({finisher:(t,o)=>{const i=new WeakMap;t.addInitializer((t=>{i.set(t,new Ot(t,{context:e}))}));const n=Object.getOwnPropertyDescriptor(t.prototype,o),r=null==n?void 0:n.set,s={...n,set:function(e){var t;null===(t=i.get(this))||void 0===t||t.setValue(e),r&&r.call(this,e)}};Object.defineProperty(t.prototype,o,s)}})}function Nt({context:e,subscribe:t}){return c({finisher:(o,i)=>{o.addInitializer((o=>{new Pt(o,{context:e,callback:e=>{o[i]=e},subscribe:t})}))}})}var Dt,Lt,Ut={},kt={get exports(){return Ut},set exports(e){Ut=e}};Dt=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var i in o)t[i]=o[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function o(i){function n(){}function r(t,o,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},n.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var s=JSON.stringify(o);/^[\{\[]/.test(s)&&(o=s)}catch(e){}o=i.write?i.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var d in r)r[d]&&(a+="; "+d,!0!==r[d]&&(a+="="+r[d].split(";")[0]));return document.cookie=t+"="+o+a}}function s(e,o){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],s=0;s<r.length;s++){var a=r[s].split("="),d=a.slice(1).join("=");o||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var l=t(a[0]);if(d=(i.read||i)(d,l)||t(d),o)try{d=JSON.parse(d)}catch(e){}if(n[l]=d,e===l)break}catch(e){}}return e?n[e]:n}}return n.set=r,n.get=function(e){return s(e,!1)},n.getJSON=function(e){return s(e,!0)},n.remove=function(t,o){r(t,"",e(o,{expires:-1}))},n.defaults={},n.withConverter=o,n}((function(){}))},kt.exports=Dt();var xt=new Uint8Array(16);function Ft(){if(!Lt&&!(Lt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lt(xt)}var Vt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Bt=[],Gt=0;Gt<256;++Gt)Bt.push((Gt+256).toString(16).substr(1));function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(Bt[e[t+0]]+Bt[e[t+1]]+Bt[e[t+2]]+Bt[e[t+3]]+"-"+Bt[e[t+4]]+Bt[e[t+5]]+"-"+Bt[e[t+6]]+Bt[e[t+7]]+"-"+Bt[e[t+8]]+Bt[e[t+9]]+"-"+Bt[e[t+10]]+Bt[e[t+11]]+Bt[e[t+12]]+Bt[e[t+13]]+Bt[e[t+14]]+Bt[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Vt.test(e)}(o))throw TypeError("Stringified UUID is invalid");return o}function Ht(e,t,o){var i=(e=e||{}).random||(e.rng||Ft)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){o=o||0;for(var n=0;n<16;++n)t[o+n]=i[n];return t}return Wt(i)}class qt extends Ue{constructor(e,t){super(e),this._events=new g(this,(()=>this._host)),this.trackEvent=t,this._events.define("faceplate-track",(e=>{const t=e.detail,o=e.SAN||vt(t),i=e.composedPath();for(const e of i)if(e instanceof HTMLElement){const o=xe(e,"faceplateTrackingContext");o&&St(t,o)}this.trackEvent(t,o)}))}}const Yt=E(),$t=f("AlertReportingElement"),jt=$t.registerAncestorClass,Kt=$t.connectToAncestor,Qt={fromAttribute(e){if(e in Ce)return Ce[e]},toAttribute(e){if(e in Ce)return Ce[e]}};function zt(e,t,o,i){return{level:e,message:t,meta:o[0]&&"string"==typeof o[0]?o.join("\n"):void 0,count:i}}class Jt{constructor(e){this._handleAlertEvent=e=>{const t=e.detail;this.report(t)&&e.stopImmediatePropagation()},e.addController(this),jt(e.constructor),this.host=e}hostConnected(){this.host.addEventListener("faceplate-alert",this._handleAlertEvent)}hostDisconnected(){this.host.removeEventListener("faceplate-alert",this._handleAlertEvent)}report(e){const t=Yt.getRegisteredElements(this.host);if(t)for(const o of t)if(o.shouldDisplayAlert(e))return o.displayAlert(e),!0;return!1}}var Xt,Zt,eo;!function(e){e.MOBILE="mobile",e.TABLET="tablet",e.DESKTOP="desktop"}(Xt||(Xt={})),function(e){e.Seo="seo",e.Reddit="reddit",e.RedditSearch="reddit_search",e.Other="other",e.Invalid="invalid"}(Zt||(Zt={})),function(e){e.All="all",e.AllChats="all_chats",e.AllChatsSpoke="all_chats_spoke",e.AchievementsMain="achievements_main",e.AchievementDetail="achievement_detail",e.AchievementsCategory="achievement_category",e.AchievementsCategoryPreview="achievements_category_preview",e.AchievementPreview="achievement_preview",e.AnnouncementDetailPage="announcement_detail_page",e.ArenaFeed="arena",e.ArticleCommunities="article_communities",e.ArticleDetails="article_details",e.ArticleFeed="article_feed",e.ArticleInsights="article_insights",e.ArticleRssFeedList="article_rss_feed_list",e.BoostPostPage="boost_post_page",e.Community="community",e.CountryPage="country_page",e.CommunityOverflow="community_overflow",e.CommunityWiki="community_wiki",e.CommunityManagement="community_page",e.CommentStats="comment_insights",e.CustomFeed="custom_feed",e.DataRequest="data_request",e.DeleteRssFeedConfirmationModal="delete_rss_feed_confirmation_modal",e.DevplatformCustomPost="custom_post",e.DynamicFeed="dynamic_feed",e.GeoCuratedFeed="geo_curated_feed",e.Home="home",e.Inbox="inbox",e.InventoryDetail="inventory_detail",e.KeywordManagement="keyword_landing",e.Multireddit="multireddit",e.Popular="popular",e.PostCreation="post_submit",e.PostDetail="post_detail",e.PostEligibilityModal="post_eligibility_modal",e.PostEligibilityRecommendations="post_eligibility_recommendations",e.PrivateMessages="messages",e.PostQueue="post_queue",e.PostStats="post_stats",e.ProfileAccountStats="profile_account_stats",e.ProfileAccountStatsCharts="account-stats-charts",e.ProfileComments="profile_comments",e.ProfileCommentStatsDownload="profile_comment_stats_download",e.ProfileCommunityFinder="profile_community_finder",e.ProfileDashboard="profile_dashboard",e.ProfileDashboardPerformanceOverview="profile_dashboard_performance_overview",e.ProfileDashboardTrendingConvos="profile_dashboard_trending_convos",e.ProfileDownvoted="profile_downvoted",e.ProfileHidden="profile_hidden",e.ProfileOverview="profile_overview",e.ProfilePerformance="profile_performance",e.ProfilePerformanceComments="profile_performance_comments",e.ProfilePosts="profile_posts",e.ProfilePostStatsDownload="profile_post_stats_download",e.ProfileRelatedKeywords="profile_related_keywords",e.ProfileSaved="profile_saved",e.ProfileSubmitted="profile_submitted",e.ProfileTrendsLanding="profile_trends_landing",e.ProfileTrendingConvos="profile_trending_convos",e.ProfileTrendingConvoDetails="profile_trending_convo_details",e.ProfileTrends="profile_trends",e.ProfileUpvoted="profile_upvoted",e.ProfileTrendMonitoring="profile_trend_monitoring",e.ProfileModeration="profile_moderation",e.PublisherCommunities="publisher_communities",e.EmailVerificationError="email_verification_error",e.BrandMention="brand_mention",e.SeoCommunityDirectory="seo_community_directory",e.SingleCommentThread="single_comment_thread",e.Unknown="unknown",e.UserManagementMute="moderation_pages_muted",e.UserManagementBan="moderation_pages_banned",e.UserPosts="user_posts",e.AdsRblSurvey="ads_rbl_survey_iframe",e.Policies="policies",e.MiniInbox="mini_inbox",e.ModAchievements="achievement_mod_tools",e.ModChatChannels="mod_chat_channels",e.ModInsightsGrowth="mod_insights_growth",e.ModInsightsReportsAndRemovals="reports_and_removals_page",e.ModInsightsTeamHealth="mod_insights_team_health",e.ModApplication="mod_application",e.ModAutomations="moderation_pages_postguidance",e.ModPostAndCommentSettings="moderation_pages_edit",e.ModLog="moderation_pages_log",e.ModQueue="moderation_pages_modqueue",e.ModQueueAll="moderation_pages_modqueue_all",e.ModQueuePdp="moderation_pages_modqueue_pdp",e.ModRules="moderation_pages_rules",e.ModCommunityGuide="moderation_pages_communityguide",e.ModRecruitment="mod_recruitment",e.ModRecruitmentSuggestedCandidates="mod_recruitment_suggested_candidates",e.ModSettingsGeneral="moderation_pages_settings_general",e.ModSettingsPrivacy="moderation_pages_settings_privacy",e.ModSettingsNotifications="moderation_pages_settings_notifications",e.ModScheduledPosts="scheduled_posts",e.ModSavedResponses="moderation_saved_responses",e.ModWiki="moderation_pages_wiki",e.TemporaryEvents="temporary_events",e.TemporaryEventsCreate="temporary_events_create",e.TemporaryEventsEditTemplate="temporary_events_edit_config",e.TemporaryEventsView="temporary_events_view_run",e.RedditProOnboardingPage="reddit_pro_onboarding",e.ProductsHub="products-hub",e.SearchDropdown="search_dropdown",e.SearchResults="search_results",e.SearchResultsTrending="search_results_trending",e.SocialPreviewPage="social_preview",e.TrendsPreviewPage="trends_preview",e.TopicPage="topic",e.ExplorePage="explore",e.ExploreTopicPage="explore-topic",e.Embed="embed",e.Vault="vault",e.VideoWatchPage="video_watch_page",e.CDNMediaPage="cdn_media_page",e.SafetySubredditSettings="safety_subreddit_settings",e.Avatar="avatar",e.AvatarTabs="avatar_tabs",e.DisplayCollectibles="display_collectibles",e.UserRecap="user_recap",e.SubredditRecap="subreddit_recap",e.PremiumHub="premium_hub",e.PremiumMarketing="premium_marketing",e.ProductDetailPage="product_detail_page",e.ProductInsights="product_insights",e.ProductInsightDetailsPage="product_insight_details_page",e.ProductConversationsPage="product_conversations_page",e.ProductCommunitiesPage="product_communities_page",e.ProductMentionsFeedPage="product_details_insights_mentions_feed_page",e.GoldPage="gold_page",e.EarnedGoldPage="earned_gold_page",e.Earn="earn",e.Login="login",e.Register="register",e.Report="report",e.Password="password",e.PasswordRecovery="passwordrecovery",e.Username="username",e.Klp="klp",e.Recipe="recipe",e.FlairsModal="flairs_modal",e.FlairsList="flairs_list",e.SettingsAccount="settings_account",e.SettingsPrivacy="settings_privacy",e.SettingsPreferences="settings_preferences",e.SettingsProfile="settings_profile",e.SettingsEmails="settings_emails",e.SettingsRedirect="settings_redirect",e.SettingsChatPrivacy="settings_chat_privacy",e.SettingsChatAllowlist="settings_chat_allowlist",e.ChatRequestSettings="chat_request_settings",e.PmRequestSettings="pm_request_settings",e.PmArchive="pm_archive",e.PmArchiveConversation="pm_archive_conversation",e.Guides="gen_guides",e.GuidesConversation="gen_guides_conversation",e.SettingsNotifications="settings_notifications",e.SettingsDisabledAdminNotifications="settings_disabled_admin_notifications",e.UserFlairSettings="moderation_pages_userflair",e.UserFlairSettingsPrompt="user_flair_picker",e.PostFlairSettings="moderation_pages_postflair",e.LookAndFeelSettings="moderation_pages_lookandfeel",e.EmojiSettings="moderation_pages_emojis",e.NewPhoneOTPAuth="new_phone_auth_otp",e.CurrentPhoneOTPAuth="current_phone_auth_otp",e.Moderators="moderation_pages_moderators",e.InvitedModerators="moderation_pages_invites",e.ApprovedUsers="moderation_pages_approved_users",e.ComposeMessage="compose_message",e.UserHovercard="user_hovercard",e.Profile="profile",e.Announcement="announcement_page",e.Appeal="appeal",e.OnboardingGenderSelection="onboarding_gender_collection",e.OnboardingInterest="onboarding_interest",e.OnboardingLanguage="onboarding_language",e.OnboardingEmailPermission="onboarding_email_permission",e.OnboardingComplete="onboarding_complete_spinner",e.ReRedditPage="rereddit_page",e.SubredditAbout="subreddit_about",e.UnsharedArticleFeed="unshared_article_feed"}(eo||(eo={}));var to,oo,io,no,ro,so;!function(e){e.Link="link",e.Text="text",e.Image="image",e.Gif="gif",e.Video="video",e.Crosspost="crosspost",e.MultiMedia="multi_media",e.RTJSON="rtjson",e.Poll="poll",e.LiveAudio="liveaudio",e.RPAN="rpan",e.Gallery="gallery",e.Tournament="tournament"}(to||(to={})),function(e){e.FEED="feed",e.FULL_BLEED_VIDEO_FEED="full_bleed_video_feed",e.COMMENTS_PAGE="comments_page",e.COMMENT_TREES="comment_trees",e.SIDEBARS="sidebars",e.TRENDING_DISCOVERY="trending_discovery",e.TRENDING_SEARCH_RESULT="trending_search_result",e.BLANK_ONLY="blank_only"}(oo||(oo={})),function(e){e.GoodVisit="good_visit",e.GoodVisitFeed="good_visit_feed",e.GoodVisitSearch="good_visit_search",e.GoodVisitPostStats="good_visit_post_stats",e.GoodVisitGuides="good_visit_guides",e.GuidesRealtimeResponse="guides_realtime_response",e.GuidesRealtimeQuestion="guides_realtime_question",e.GuidesSSRResponse="guides_ssr_response",e.GuidesStreamingResponse="guides_streaming_response",e.GuidesStreamingQuestion="guides_streaming_question",e.GoodVisitInbox="good_visit_inbox",e.Background="background",e.GoodVisitCommunityWiki="good_visit_community_wiki",e.GoodVisitTrends="good_visit_trends",e.GoodVisitTrendAggregation="good_visit_trend_aggregation",e.GoodVisitDevPlatform="dev_platform",e.Latency="latency",e.TTCDeeplink="ttc_deeplink",e.TTCHybrid="ttc_hybrid"}(io||(io={})),function(e){e.SSR="ssr",e.CLIENT="client"}(no||(no={})),function(e){e.Initial="initial",e.NavigationControllerRestore="navigation_controller_restore",e.BFCache="bf_cache",e.ForegroundingAction="foregrounding_action",e.Unknown="unknown"}(ro||(ro={})),function(e){e.HOTKEY="hotkey"}(so||(so={}));var ao;!function(e){e.CardView="cardView",e.ModQueueCompactView="modQueueCompactView",e.CompactView="compactView"}(ao||(ao={}));const lo=(e="",t="")=>{const o=(e=>{if(!e)return;let t;try{const{searchParams:o}=new URL(e),i=o.get("embed_host_url"),n=i&&decodeURIComponent(i);if(!n)return;t={url:n,domain:new URL(n).hostname}}catch(e){}return t})(t);if(o)return o;let i="";try{i=e&&new URL(e)?.hostname||""}catch(e){}return{url:e,domain:i}},co=e=>{let t={};try{t=JSON.parse(document.getElementsByTagName("shreddit-screenview-data")?.[0]?.getAttribute("data")??"{}")}catch(e){throw new Error("Unable to parse screenview data")}return e?t[e]:t},uo=(e,t,o=co)=>{if(t?.[e])return{};const i=o(e);return i?{[e]:i}:{}};const ho=({source:e,action:t,noun:o,...i},n={})=>({...n,source:e,action:t,noun:o,referrer:lo(document.getElementsByTagName("shreddit-app")?.[0]?.getAttribute("referrer")||document.referrer,window.location.href),client_timestamp:Date.now(),...uo("post",n),...i}),po=e=>ho({source:"client",action:"emit",noun:"metric"},{metric:e}),mo="https://www.redditstatic.com/shreddit/assets/pix/ads/1.png",go="https://ad-delivery.net/px.gif?ch=2",_o="promotedlink",Eo="jag8CityBio212023",fo="adblock_detection_complete",vo="adblock-element",So="adblock-eyeo-element";function bo(e){if(!document.body.contains(e)){document.body.prepend(e);const o=t(e);return e.remove(),o}return t(e);function t(e){if(["BODY","HTML"].includes(e.tagName))return!1;if(e.hidden||!document.body.contains(e))return!0;const o=window.getComputedStyle(e);return"none"===o.display||"hidden"===o.visibility||!!e.parentElement&&t(e.parentElement)}}async function yo(e){return new Promise((t=>{const o=new Image;o.onerror=()=>{t(!0)},o.onload=()=>{t(!1)},o.src=e}))}function Co(e){"enabled"===new URLSearchParams(window.location.search).get("adblock_detection_debug_mode")&&console.debug("[adblock-detection] ",e)}function To(){const e=document.createElement("div");return e.style.width="1px",e.style.position="absolute",e.style.top="0",e.style.left="-1000px",e.style.display="block",e}let Ao,Io;async function Po(e={skipEyeoPixelCheck:!1}){return Io||async function(e){return Io=async function(e){await new Promise((e=>requestAnimationFrame(e)));const t=performance.now(),o=()=>{Co(`The detection logic ran in ${(performance.now()-t).toFixed(3)}ms`)},i=bo(function(){const e=To();return e.id=So,e.classList.add(Eo),e}());Co(i?" Eyeo bait element was blocked":" Eyeo bait element was not blocked");const n=async()=>{if(e.skipEyeoPixelCheck)return Co(" Eyeo bait pixel check skipped"),!1;const t=await yo(go);return Co(t?" Eyeo bait asset was blocked":" Eyeo bait asset was not blocked"),t};if(i||await n()){const e=bo(function(){const e=To();return e.className=_o,e}());Co(e?" Eyeo acceptable ads element was blocked":" Eyeo acceptable ads element was not blocked"),o();const t={isAdblockEnabled:!0,isAcceptableAdsEnabled:!e};return Co(` Final result: ${JSON.stringify(t)}`),t}const r=bo(function(){const e=To();return e.id=vo,e.classList.add("promoted"),e.dataset.beforeContent="advertisement",e}());Co(r?" Easylist bait element was blocked":" Easylist bait element was not blocked");const s=async()=>{const e=await yo(mo);return Co(e?" Easylist bait asset was blocked":" Easylist bait asset was not blocked"),e},a=r||await s();o();const d={isAdblockEnabled:a,isAcceptableAdsEnabled:!a&&void 0};return Co(` Final result: ${JSON.stringify(d)}`),d}(e),Ao=await Io,window.dispatchEvent(new Event(fo)),Ao}(e)}const Ro=({noun:e,pageType:t})=>(e=>e===eo.Embed)(t)?wo(e):e,wo=e=>{switch(e){case N.Screen:case N.App:return N.Embed;case N.Heartbeat:return N.EmbedHeartbeat;default:return e}},Oo={height:window?.screen.height,width:window?.screen.width},Mo=({success:e=!0,data:t,screenviewId:o,serverRenderId:i,triggerType:n=ro.Initial,hostPageType:r})=>{const{isAcceptableAdsEnabled:s,isAdblockEnabled:a}=Ao||{isAdblockEnabled:!1,isAcceptableAdsEnabled:void 0},d=!!window.matchMedia?.("(display-mode: standalone), (display-mode: minimal-ui)").matches;return ho({source:D.Global,action:L.View,noun:Ro({noun:N.Screen,pageType:r})},{...t,action_info:{...t.action_info,success:e,trigger_type:n},request:{...t.request,server_render_id:i},screenview_id:o,screen:Oo,adblock:{enabled:a,acceptable_ads:s},...d?{pwa:{installed:!0}}:{}})},No=({reason:e,screenViewData:t,screenviewId:o,hostPageType:i,impressionId:n})=>ho({source:D.Global,action:L.Leave,noun:Ro({noun:N.App,pageType:i})},{...t,action_info:{...t.action_info,reason:e},screenview_id:o,...n&&{ad_metadata:{impression_id:n}}}),Do=({screenViewData:e,timer:t,hostPageType:o,translationMetrics:i})=>ho({source:D.Global,action:L.View,noun:Ro({noun:N.Heartbeat,pageType:o})},{...e,timer:t,translation_metrics:i}),Lo=(e,t,o)=>ho({source:D.Global,action:L.Drop,noun:N.EventBatch},{...e,dropped_data:{event_batch_size:o},action_info:{...e.action_info,reason:t.toLowerCase()}});var Uo,ko;!function(e){e.Comments="comments",e.CopyLink="copy_link",e.HighlightTextComponent="highlight_text_component",e.Replies="replies",e.ProfileName="profile_name",e.ProfileIcon="profile_icon",e.PostTitle="post_title",e.ReadMore="read_more",e.RedditLogo="reddit_logo",e.SubredditIcon="subreddit_icon",e.SubredditName="subreddit_name",e.Upvote="upvote",e.ViewMore="view_more",e.Whitespace="whitespace",e.Members="members_count",e.Online="online_count",e.Media="media",e.JoinCommunity="join_community",e.ViewMoreMedia="view_more_media",e.FullscreenMedia="fullscreen_media"}(Uo||(Uo={})),function(e){e.Post="Post",e.Comment="Comment",e.Feed="Feed",e.Snippet_Post="Snippet_Post",e.Snippet_Comment="Snippet_Comment"}(ko||(ko={}));var xo;!function(e){e[e.TIER_ZERO=0]="TIER_ZERO",e[e.TIER_ONE=1]="TIER_ONE",e[e.DEFAULT=2]="DEFAULT"}(xo||(xo={}));const Fo={source:"global",action:"view",noun:"screen"},Vo=e=>{return o=Fo,(t=e).source===o.source&&t.action===o.action&&t.noun===o.noun;var t,o},Bo={MvqI0hhL:"prod-3-d",so2nI2ZO:"prod-3-e","37MVFOke":"prod-3-d",aNqxoMv7:"prod-3-e",uIBE3bJ6:"core-prod-usor-aws-1"},Go=[{field:"source",validatePresence:!1},{field:"action",validatePresence:!1},{field:"noun",validatePresence:!1},{field:"action_info",validatePresence:!1},{field:"page_type",validatePresence:!0},{field:"success",validatePresence:!1},{field:"client_timestamp",validatePresence:!0},{field:"referrer",validatePresence:!0},{field:"url",validatePresence:!1},{field:"domain",validatePresence:!1},{field:"server_render_id",validatePresence:!0},{field:"canonical_url",validatePresence:!1},{field:"screenview_id",validatePresence:!0},{field:"adblock",validatePresence:!0},{field:"enabled",validatePresence:!0}],Wo=(e,t=Go)=>{if(e.includes(`"source":"${Fo.source}"`)&&e.includes(`"action":"${Fo.action}"`)&&e.includes(`"noun":"${Fo.noun}"`)){for(let o=0;o<t.length;o++)if(!e.includes(t[o].field)||t[o].validatePresence&&e.includes(`"${t[o].field}":""`))return!1;return!0}return null},Ho=(e="")=>{let t="",o="";const i=e.split(".");if(i.length>=3){t=`t2_${i[0].replace(/\b0+/g,"")}`,o=i[2]}return{id:t,cookie_created_timestamp:parseInt(o,10)}};function qo(e,t){const o=function(e,t){const o=Yo(e),i=jo(e);return o||i||(delete t.user_preferences?.language,delete t.platform?.language_list,delete t.platform?.primary_language,delete t.platform?.browser_name,delete t.platform?.browser_version,$o(e)||delete t.request?.edgebucket),t}(e,structuredClone(t)),i={...e,app:{...o.app},user_preferences:{...e.user_preferences,...o.user_preferences},user:{...e.user,...o.user},request:{...e.request,...o.request},platform:{...e.platform,...o.platform},session:{...e.session,...o.session},uuid:Ht()};return i.user_preferences&&!Object.keys(i.user_preferences).length&&(i.user_preferences={}),i.platform&&!Object.keys(i.platform).length&&(i.platform={}),i.perf_metrics?.serving_cluster&&(i.perf_metrics.serving_cluster=Bo[i.perf_metrics.serving_cluster]||i.perf_metrics.serving_cluster),Yo(e)&&e.pwa?.installed&&(i.platform.browser_name="pwa"),"client_ad"!==e.source&&delete i.request.external_headers,i}const Yo=e=>"global"===e?.source&&"view"===e.action&&"screen"===e.noun,$o=e=>"experiment"===e?.source&&"expose"===e.action,jo=(e={})=>{const{source:t="",action:o="",noun:i=""}=e;return"browser"===t&&"observe"===o&&"performance"===i||"client"===t&&"record"===o&&["ttfb_fcp","lcp","inp","cls","total_page_load"].includes(i)},Ko=[eo.Embed],Qo="nav",zo=e=>()=>ho({source:Qo,action:"click",noun:e}),Jo=(e,t)=>()=>ho({source:Qo,action:"click",noun:e,subreddit:t?{name:t}:void 0}),Xo=zo("wordmark"),Zo=zo("user"),ei=zo("search_opened"),ti=zo("search_closed"),oi="hamburger_menu",ii="user_drawer";class ni extends Ue{constructor(e,t){super(e),this.events=new g(this,(()=>window)),this.getCommonLabels=t,this.events.define("w3-report",(e=>{this.sendReport(e.detail)})),this.events.define("faceplate-track",(e=>{this.handleEvent(e.detail)}))}async getW3ReportSender(){return(await Promise.resolve().then((function(){return Yn}))).w3Report}async sendReport(e){(await this.getW3ReportSender())({...e,labels:{...this.getCommonLabels?.(),...e.labels}})}async getV2EventConverter(){return(await SML.di("./w3-report-from-v2-event-a108f7d8.js",import.meta.url,"w3reportfromv2eventa108f7d8")).getW3ReportsFromV2Event}async handleEvent(e){const t=(await this.getV2EventConverter())(e);t&&t.forEach((e=>this.sendReport(e)))}}var ri;!function(e){e.AdRefocusStart="time-before-unfocus",e.LastClickedAdId="last-clicked-ad-id",e.ImpressionId="last-clicked-impression-id",e.RecentPages="recent-subreddits-store",e.RecentCommunities="recent-communities-store",e.FeatureTestLocalStorageKey="shreddit_local_storage_feature_test",e.DisclaimerStore="disclaimer_store",e.DevvitPostChromeAnimationCountByApp="devvit-chrome-animation-by-app",e.DevvitGamesSectionFeaturedGameSlug="devvit-games-section-featured-game-slug",e.AmaPostCreationModalDismissed="ama-post-creation-modal-dismissed",e.AmaReminderTooltipShown="ama-reminder-tooltip-shown",e.GoodVisit="good-visit-status",e.GoodVisitFS="good-visit-feeds-search",e.GoodVisitKLP="good-visit-klp",e.GoodVisitGuides="good-visit-guides",e.GoodVisitInbox="good-visit-inbox",e.GoodVisitPdpSeeker="good-visit-pdp-seeker",e.GuidesQueryHistory="guides-query-history",e.ModalBlocking="modal-blocking-status",e.XpromoEducationalDeeplinkPrompt="xpromo-educational-deeplink-prompt",e.AdEvents="ad-events",e.AdUserTargeting="ad-user-targeting",e.Follow="follow_store",e.RecentSearches="recent-searches-store",e.NsfwTypeaheadExpanded="nsfw_typeahead_expanded",e.SearchTypeaheadExpanded="search-typeahead-expanded",e.EventsBuffer="events-buffer-v2",e.LoginTime="login-time",e.ModQueuePreferencesExpandReports="mod-queue-preferences-expand-reports",e.AchievementsStore="achievements-store",e.AchievementsUpdatesEnabled="achievements-updates-enabled",e.ModActivityCardsCollapseState="activity-cards-collapse-state",e.ModInsightsCardCollapseState="insights-card-collapse-state",e.TeamFlairSelectionIsShown="team-flair-selection-is-shown",e.ModNavState="mod-nav-state",e.ModActivityPanelState="mod-activity-panel-state",e.ModUserSummaryFeedback="mod-user-summary-feedback",e.ModQueueTutorial="mod-queue-tutorial",e.I18nPostTranslationBanner="i18n-post-translation-banner",e.I18nTranslationInterventionShown="i18n-translation-intervention-shown",e.AwardAnonymously="award-anonymously",e.TranslationInitialized="translation_initialized",e.RemovalReasonDontNotifyDismissed="removal-reason-dont-notify-dismissed",e.ModQueueSafetyBannerState="mod-queue-safety-banner-state-ban-evasion-modmail",e.MomentsShownXpromos="moments-shown-xpromos",e.AdPlacement="AdPlacement",e.ForceRefresh="force-refresh",e.WikiEditWelcomeMessage="wiki-edit-welcome-message",e.ProfileSSRMiddleStateSeenCount="profile-ssr-middle-state-seen-count",e.ProfileSSRMiddleStateLastSeenDate="profile-ssr-middle-state-last-seen-date",e.DraftsCoachMarkSeen="drafts-page-coachmark",e.CrosspostingUpsellExperiment="crossposting-upsell-experiment",e.RedditProDesktopNudge="reddit-pro-desktop-nudge",e.SavedResponseBansCoachMarkSeen="saved-response-bans-coachmark",e.EarnFtue="earn-ftue",e.CommentStatsCoachmark="comment-stats-coachmark",e.CommentShareAsPostCoachmark="comment-share-as-post-coachmark",e.GamesNavCoachmarkSeen="games-nav-coachmark-seen",e.RecentlyPlayedGames="recently-played-games",e.PmArchiveCoachmarkSeenCount="pm-archive-coachmark-seen-count",e.ShareToModChatCoachMarkMQSeen="share-to-mod-chat-mq-coachmark",e.ShareToModChatCoachMarkMQChatSeen="share-to-mod-chat-mq-chat-coachmark",e.ShareToModChatCoachMarkOverflowSeen="share-to-mod-chat-overflow-coachmark",e.ShareToModChatCoachMarkInlineSeen="share-to-mod-chat-inline-coachmark",e.LastMetaPixelTrigger="last-meta-pixel-trigger",e.RemovalReasonSuggestionsCoachmarkSeen="removal-reason-suggestions-coachmark"}(ri||(ri={}));const si=new class{getStorage(){try{return window.localStorage}catch(e){return}}clear(){this.getStorage()?.clear()}getItem(e){return this.getStorage()?.getItem(e)||null}removeItem(e){this.getStorage()?.removeItem(e)}setItem(e,t){this.getStorage()?.setItem(e,t)}isAvailable(){try{this.setItem(ri.FeatureTestLocalStorageKey,"yes");const e="yes"===this.getItem(ri.FeatureTestLocalStorageKey);return this.removeItem(ri.FeatureTestLocalStorageKey),e}catch{return!1}}};class ai{constructor(e){let t;this.key=e;const o=si.getItem(e);if(null==o)t=[];else try{t=function(e){if(!Array.isArray(e))throw new Error;const t=e;return t.forEach((e=>{if("string"!=typeof e)throw new Error})),t}(JSON.parse(o))}catch(e){t=[]}this.valuesSet=new Set(t)}hasValue(e){return this.valuesSet.has(e)}setValue(e){if(this.valuesSet.size>=ai.MAX_SET_SIZE)return!1;return!this.valuesSet.has(e)&&(this.valuesSet.add(e),this._persist(),!0)}removeValue(e){const t=this.valuesSet.delete(e);return t&&this._persist(),t}_persist(){const e=JSON.stringify([...this.valuesSet]);si.setItem(this.key,e)}}var di,li;ai.MAX_SET_SIZE=50,function(e){e.Standard="hidden",e.Webkit="webkitHidden"}(di||(di={})),function(e){e.hidden="visibilitychange",e.webkitHidden="webkitvisibilitychange",e.mozHidden="mozvisibilitychange",e.msHidden="msvisibilitychange"}(li||(li={}));const ci=Object.keys(li),ui={initialized:!1,visibilityCallbacks:new Array},hi=()=>{},pi=ci.find((e=>void 0!==document[e]));var mi=(e=hi,t={immediate:!1})=>{const o=ui.visibilityCallbacks.length;return ui.visibilityCallbacks.includes(e)||(t.shouldBeCalledFirst?ui.visibilityCallbacks.unshift(e):ui.visibilityCallbacks.push(e)),!ui.initialized&&pi&&(ui.initialized=!0,document.addEventListener(li[pi],(()=>{const e=!document[pi];ui.visibilityCallbacks.forEach((t=>t(e)))})),t.immediate&&e(!document[pi])),t.resetInit&&(ui.initialized=!1),o<ui.visibilityCallbacks.length};let gi=!1;const _i=e=>{const t=si.getItem(ri.AdRefocusStart),o=si.getItem(ri.LastClickedAdId),i=si.getItem(ri.ImpressionId),n=si.getItem(ri.AdPlacement);if(t&&o&&i){e(((e,t,o,i)=>ho({source:"post",action:"refocus",noun:"ad"},{post:e,ad_click:{landing_page_duration:Math.min(t,2**31-1)},ad_metadata:{impression_id:o,placement:i}}))({id:o},Math.round(performance.now()-parseFloat(t)),i,n))}(t||o||i)&&(si.removeItem(ri.AdRefocusStart),si.removeItem(ri.LastClickedAdId),si.removeItem(ri.ImpressionId),si.removeItem(ri.AdPlacement))};function Ei(e){return e?.toLowerCase()||""}function fi(e){return(e=Ei(e)).includes("firefox")||e.includes("fxios")}function vi(e,t){return function(e,t){return/(iPad)/i.test(Ei(e))||/(Mac)/i.test(Ei(e))&&t&&t>1}(e,t)||/(iPhone|iPod)/i.test(Ei(e))}function Si(e){return!function(e){return(e=Ei(e)).includes("chrome")||e.includes("crios")}(e)&&!function(e){return Ei(e).includes("edg")}(e)&&!fi(e)&&(Ei(e).includes("safari")||vi(e))}const bi="correlationId",yi="feedCorrelationId",Ci="store-correlation-id",Ti="store-feed-correlation-id";let Ai=window.location;const Ii=()=>window.navigator&&window.navigator.userAgent.toLowerCase()||"";let Pi=!1;const Ri=[],wi=[],Oi=vi(Ii(),window.navigator?.maxTouchPoints)?"pagehide":"beforeunload",Mi=(e,t)=>{const o=e.length,i=e.indexOf(t);return-1!==i&&e.splice(i,1),o>e.length},Ni={unsubscribe(e){const t=Mi(Ri,e),o=Mi(wi,e);return t||o},subscribe(e=()=>{},t={}){const o=Ri.length,i=wi.length,n=t.shouldBeCalledFirst?"unshift":"push";return Ri.includes(e)||Ri[n](e),t.unloadOnly||wi.includes(e)||wi[n](e),Pi||(Pi=!0,window.addEventListener(Oi,(()=>{Ri.forEach((e=>e()))})),window.addEventListener("beforeRoute",(()=>{wi.forEach((e=>e()))}))),o<Ri.length||i<wi.length},eventType:Oi},Di="over18",Li="search_over18",Ui="mod_queue_compact",ki={expires:365,httpOnly:!1},xi="eu_cookie",Fi={expires:730,httpOnly:!1},Vi="compact",Bi="reddit_translation_status";function Gi(e,t){const[o,i]=e.split("?"),n=new URLSearchParams(i);return n.delete(t),n.toString()?o+"?"+n.toString():o}function Wi(e,t,o){if(!t||!o)return e;const[i,n]=e.split("?"),r=new URLSearchParams(n);return r.set(t,o),i+"?"+r.toString()}const Hi={shouldDisplayCoachmark:!0,shouldDisplayFeedbackCoachmark:!1,coachmarkDisplayCount:0,showCommentTranslationModal:!0,showPostTranslationModal:!0},qi=["ar","kn-IN","ml-IN","mr-IN","ta-IN","te-IN"],Yi=["ta-IN","id-ID"],$i=[...["bn-IN","da-DK","de-DE","cs-CZ","el-GR","en-US","es-ES","es-MX","fi-FI","fil-PH","fr-FR","hi-IN","hu-HU","it-IT","ja-JP","ko-KR","ms-MY","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sr-RS","sv-SE","th-TH","tr-TR","uk-UA","vi-VN","zh-CN","zh-TW"],...Yi,...qi,...Object.keys({"ar-test-i18n":"ar","kn-IN-test-i18n":"kn-IN","ml-IN-test-i18n":"ml-IN","mr-IN-test-i18n":"mr-IN","ta-IN-test-i18n":"ta-IN","te-IN-test-i18n":"te-IN"})];Object.fromEntries(qi.map((e=>[e,e])));const ji=Object.fromEntries(Yi.map((e=>[e,e]))),Ki=Object.fromEntries($i.map((e=>[e,e]))),Qi="en-US";new Map([["bn",Ki["bn-IN"]],["cs",Ki["cs-CZ"]],["da",Ki["da-DK"]],["de",Ki["de-DE"]],["el",Ki["el-GR"]],["es",Ki["es-ES"]],["es-419",Ki["es-MX"]],["fi",Ki["fi-FI"]],["fil",Ki["fil-PH"]],["fr",Ki["fr-FR"]],["hi",Ki["hi-IN"]],["hu",Ki["hu-HU"]],["it",Ki["it-IT"]],["ja",Ki["ja-JP"]],["ko",Ki["ko-KR"]],["ms",Ki["ms-MY"]],["nb",Ki["nb-NO"]],["no",Ki["nb-NO"]],["nl",Ki["nl-NL"]],["pl",Ki["pl-PL"]],["pt",Ki["pt-PT"]],["ro",Ki["ro-RO"]],["ru",Ki["ru-RU"]],["sr",Ki["sr-RS"]],["sv",Ki["sv-SE"]],["th",Ki["th-TH"]],["tr",Ki["tr-TR"]],["uk",Ki["uk-UA"]],["vi",Ki["vi-VN"]],["zh",Ki["zh-CN"]],["zh-hans",Ki["zh-CN"]],["zh-hant",Ki["zh-TW"]],["zh-SG",Ki["zh-CN"]],["zh-HK",Ki["zh-TW"]],["zh-MO",Ki["zh-TW"]]]);var zi,Ji,Xi,Zi,en;!function(e){e.ENABLED="enabled",e.DISABLED="disabled"}(zi||(zi={})),function(e){e.SEO="seo",e.OTHER="other"}(Ji||(Ji={})),function(e){e.GetOriginal="get-original",e.GetTranslation="get-translation"}(Xi||(Xi={})),function(e){e.Title="title",e.TitleBody="title-body"}(Zi||(Zi={})),function(e){e[e.Posts=0]="Posts",e[e.Comments=1]="Comments",e[e.Communities=2]="Communities"}(en||(en={}));const tn="translated-post-changed",on="translated-comments-changed",nn="translated-posts-changed";var rn,sn,an;!function(e){e.Translated="translated",e.Untranslated="untranslated",e.None=""}(rn||(rn={})),function(e){e.PageLoad="page_load",e.ToggleChange="toggle_change",e.Pagination="pagination",e.LoadMore="load_more"}(sn||(sn={})),function(e){e.MtSeoBot="mt_seo_crawler",e.MtSeoUser="mt_seo",e.UserNav="user_navigation"}(an||(an={}));const dn="off",ln="on";new Map([["hi-latn",Ki["hi-IN"]],["id-ID",ji["id-ID"]],["id",ji["id-ID"]],["ta-IN",ji["ta-IN"]],["ta",ji["ta-IN"]]]),Object.keys(Ki).filter((e=>e!==Qi));function cn(e,t,o){const[i,n]=e?e.split("?"):"",r=new URLSearchParams(n);return t?(r.set("translated","1"),o&&r.set("tl",o)):(r.delete("translated"),o&&r.delete("tl")),r.toString()?i+"?"+decodeURIComponent(r.toString()):i}function un(e){try{const t=JSON.parse(decodeURIComponent(e));if((e=>{const t=e;return!(!t||"object"!=typeof t||void 0!==t.isTranslationActive&&"boolean"!=typeof t.isTranslationActive||"boolean"!=typeof t.shouldDisplayCoachmark||"number"!=typeof t.coachmarkDisplayCount||void 0!==t.isSearchTranslationsEnabled&&"boolean"!=typeof t.isSearchTranslationsEnabled||void 0!==t.showCommentTranslationModal&&"boolean"!=typeof t.showCommentTranslationModal||void 0!==t.showPostTranslationModal&&"boolean"!=typeof t.showPostTranslationModal)})(t))return t}catch(e){}return null}const hn=(e,t,o,i)=>{t=t.trim();const n=""===(o=o.trim()),r=""===t,s=t!==o,a=r&&n,d=t===o&&!n;return e?!1===i&&n&&r?rn.Translated:!1===i?rn.Untranslated:!0!==i||n?d?rn.Untranslated:!n&&r?rn.Translated:n&&!r?rn.Untranslated:s||a?rn.Translated:rn.None:rn.Translated:rn.Untranslated},pn={withPosts:new Set([eo.Community,eo.Home,eo.Popular,eo.All]),withPost:new Set([eo.PostDetail]),withComments:new Set([eo.PostDetail])},mn=e=>({load_type:e.loadType,scenario:e.scenario,translation_setting_state:e.translationSettingState,target_language:e.targetLanguage,post:e.post?{id:e.post.id,has_body:e.post.hasBody,post_type:e.post.postType,title_state:e.post.titleState,body_state:e.post.bodyState,is_translatable:e.post.isTranslatable,translated_images:e.post.translatedImages,untranslated_images:e.post.untranslatedImages}:void 0,comments:e.comments?{total_comments_in_page:e.comments.totalCommentsInPage,translated_comments:e.comments.translatedComments,untranslated_comments:e.comments.untranslatedComments,translatable_comments:e.comments.translatableComments,all_comments_translated:e.comments.allCommentsTranslated,all_comments_untranslated:e.comments.allCommentsUntranslated,translatable_ids:e.comments.translatableIds,translated_ids:e.comments.translatedIds,untranslated_ids:e.comments.untranslatedIds}:void 0,posts:e.posts?{total_posts_in_page:e.posts.totalPostsInPage,posts_with_translated_title:e.posts.postsWithTranslatedTitle,posts_with_untranslated_title:e.posts.postsWithUntranslatedTitle,posts_with_translated_body:e.posts.postsWithTranslatedBody,posts_with_untranslated_body:e.posts.postsWithUntranslatedBody,translatable_posts:e.posts.translatablePosts,all_post_titles_untranslated:e.posts.allPostTitlesUntranslated,all_post_titles_translated:e.posts.allPostTitlesTranslated,all_post_bodies_untranslated:e.posts.allPostBodiesUntranslated,all_post_bodies_translated:e.posts.allPostBodiesTranslated,translatable_ids:e.posts.translatableIds,translated_ids:e.posts.translatedIds,untranslated_ids:e.posts.untranslatedIds,translated_images:e.posts.translatedImages,untranslated_images:e.posts.untranslatedImages}:void 0}),gn="impression-id-for-global-leave-app-event";const _n=new Set([xi,Vi,Ui,"loid",Di,Li,"fastly-request-id","pwa",Bi,"subreddit_sort","token_v2","reddit_session","csrf_token","session_tracker",...["_options","correlation_id"]]),En=new Set(["AT","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MQ","MT","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","UK","YT"]),fn=e=>En.has(e),vn=({country:e,name:t,options:o,value:i})=>{Sn({country:e,name:t})&&Ut.set(t,i,o)},Sn=({country:e,name:t})=>{return o=t,_n.has(o)||!fn(e)||bn();var o},bn=()=>{const e=yn();return!!e?.nonessential},yn=()=>{const e=Ut.get(xi);return void 0!==e?(e=>{try{const o=JSON.parse(decodeURIComponent(e));return!0===(t=o).opted&&"boolean"==typeof t.nonessential?o:void 0}catch{return}var t})(e):void 0},Cn=({paidUaEnabled:e,country:t})=>{if(!e)return{};const o=Ut.get("gclid"),i=Ut.get("gbraid"),n={...o?{gclid:o}:{},...i?{gbraid:i}:{}};return{paid_ua:{consent:!fn(t)||bn(),...n}}},Tn=()=>{const e=document.querySelector("shreddit-app"),t="true"===e?.getAttribute("paid-ua-enabled")||!1,o=e?.getAttribute("country")||"US";return Cn({paidUaEnabled:t,country:o})},An=(e,t)=>e.isNavigationControllerRestore?ro.NavigationControllerRestore:e.isBfCacheRestore?ro.BFCache:t?ro.ForegroundingAction:ro.Initial,In=async({pageType:e,triggerType:t,serverRenderId:o="",shouldUpdateRecaptcha:i=!1})=>{if(!i||Ko.includes(e))return;const n=window.btoa(`${e}|${t}|${o}`).replace(/=/g,"");return fetch(`/svc/shreddit/update-recaptcha?k=${n}`)};class Pn{constructor(e){this.hasSentScreenview=!1,this._pageUnloaded=!1,this._visibilityHandlerAdded=!1,this._initialVisibilityChangeToVisibleHappened=!1,this._visibilityChangeGVSEventWasFired=!1,this._screenviewId="",this.onBeforeUnloadCallback=()=>{this._pageUnloaded=!0,ft(this._host,No({screenviewId:this._screenviewId,screenViewData:this._host.screenViewData,hostPageType:this._host.pageType}))},this.sendScreenview=()=>{const e=An(this._host);this._screenviewId=Ht();const t=this.enrichScreenViewWithTranslation();ft(this._host,Mo({success:this._host.success,data:{...t,action_info:{...this._host.screenViewData.action_info,page_request_id:this._host.serverRenderId}},screenviewId:this._screenviewId,serverRenderId:this._host.serverRenderId,triggerType:An(this._host),hostPageType:this._host.pageType})),In({pageType:this._host.pageType,triggerType:e,serverRenderId:this._host.serverRenderId,shouldUpdateRecaptcha:this._host.shouldUpdateRecaptcha})},this._host=e,this._host.addController(this)}trackScreenview(){const e=this.hasSentScreenview?"":this._host.serverRenderId;if(!this._visibilityChangeGVSEventWasFired){const t=An(this._host);this._screenviewId=Ht();const o=this.enrichScreenViewWithTranslation(),i=this.enrichScreenViewWithPaidUa();ft(this._host,Mo({success:this._host.success,data:{...o,...i,action_info:{...this._host.screenViewData.action_info,page_request_id:this._host.serverRenderId}},screenviewId:this._screenviewId,serverRenderId:e,triggerType:t,hostPageType:this._host.pageType})),In({pageType:this._host.pageType,triggerType:t,serverRenderId:e,shouldUpdateRecaptcha:this._host.shouldUpdateRecaptcha}),this.hasSentScreenview=!0,this._pageUnloaded=!1}}_bindShredditVisibilityChange(){this._visibilityHandlerAdded||(this._visibilityHandlerAdded=!0,mi((e=>{if(e){if(this._initialVisibilityChangeToVisibleHappened){const e=An(this._host,!0);this._screenviewId=Ht();const t=this.enrichScreenViewWithTranslation();ft(this._host,Mo({success:this._host.success,data:{...t,action_info:{...this._host.screenViewData.action_info,page_request_id:this._host.serverRenderId}},screenviewId:this._screenviewId,serverRenderId:this._host.serverRenderId,triggerType:e,hostPageType:this._host.pageType})),In({pageType:this._host.pageType,triggerType:e,serverRenderId:this._host.serverRenderId,shouldUpdateRecaptcha:this._host.shouldUpdateRecaptcha}),this._visibilityChangeGVSEventWasFired=!0,this._pageUnloaded=!1}this._initialVisibilityChangeToVisibleHappened=!0}else if(!this._pageUnloaded){const e=function(){const e=window[gn]||null;return e&&delete window[gn],e}();ft(this._host,No({reason:"tab_backgrounded",screenviewId:this._screenviewId,screenViewData:this._host.screenViewData,hostPageType:this._host.pageType,impressionId:e}))}}),{immediate:!0}))}enrichScreenViewWithTranslation(){const e=un(Ut.get(Bi)??""),t=e?.isTranslationActive;return{...this._host.screenViewData,...e?{translation_metrics:{translation_setting_state:t?"on":"off",target_language:this._host.userLanguage}}:{}}}enrichScreenViewWithPaidUa(){return{...this._host.screenViewData,...Cn({paidUaEnabled:!!this._host.paidUaEnabled,country:this._host.country||"US"})}}hostConnected(){Ni.subscribe(this.onBeforeUnloadCallback,{unloadOnly:!0}),this._bindShredditVisibilityChange(),(e=>{gi||!si.isAvailable()||(gi=!0,mi((t=>{try{t?_i(e):si.setItem(ri.AdRefocusStart,String(performance.now()))}catch(e){return}}),{immediate:!0}))})((e=>ft(this._host,e))),window.addEventListener("afterRoute",this.sendScreenview)}hostDisconnected(){Ni.unsubscribe(this.onBeforeUnloadCallback),window.removeEventListener("afterRoute",this.sendScreenview)}}var Rn;function wn(e){return{...e,createdAt:Date.now(),attempt:0,statusCodes:[]}}function On(e,t){const{name:o,value:i,type:n,labels:r,createdAt:s}=e;return{age:Date.now()-s,type:"reddit-w3reporting",url:"",user_agent:navigator.userAgent,body:{sampling_fraction:Mn(e,t),type:n,name:o,value:i,labels:r??{}}}}function Mn(e,t){return e.isFailure?t.sampling.failureFraction:t.sampling.successFraction}function Nn(e,t){e.attempt=Math.min(t,e.attempt+1)}function Dn({batch:e,reportQueue:t,maxReportAge:o,lastStatusCode:i}){for(const t of e)t.attempt+=1,t.statusCodes.push(i);const{maxReportAttempts:n}=Ln(o);t.unshift(...e.filter((e=>e.attempt<n)))}function Ln(e){const t=Math.floor(Math.log(e/1e3));return{maxAttempts:t,maxReportAttempts:Math.min(3,t)}}async function Un({config:e,batch:t,maxReportAge:o,isTimeSensitive:i,reportQueue:n,onError:r}){const s=function(e){return e.urlIndex=(e.urlIndex+1)%e.reportingUrls.length,e.reportingUrls[e.urlIndex]}(e);if(!s)return;const a=t.map((t=>On(t,e))).filter((e=>e.age<o));if(0===a.length)return;!async function({batch:e,reportQueue:t,resp:o,isTimeSensitive:i,config:n,maxReportAge:r,onError:s}){const{maxAttempts:a}=Ln(r);switch(o.status){case 200:i||function(e){e.attempt=0}(n),function(e){e.batchSizeMultiplier=1}(n);break;case 207:case 400:await s(e,o);break;case 413:Dn({batch:e,reportQueue:t,maxReportAge:r,lastStatusCode:o.status}),function(e){e.batchSizeMultiplier=e.batchSizeMultiplier/2}(n);break;default:Dn({batch:e,reportQueue:t,maxReportAge:r,lastStatusCode:o.status}),i||Nn(n,a)}}({batch:t,resp:await fetch(s,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(a),keepalive:!0}),isTimeSensitive:i,maxReportAge:o,config:e,reportQueue:n,onError:r})}function kn({disabled:e,qItem:t,config:o}){return!e&&function(e,t){const o=Mn(e,t);return Math.random()<o}(t,o)}!function(e){e.Counter="counter",e.Gauge="gauge",e.Histogram="histogram"}(Rn||(Rn={}));function xn({policyUrl:e,onError:t,disabled:o,maxReportAge:i=3e5,flushInterval:n=3e3}){const r={w3IncludeSubdomains:!1,reportingUrls:[],policyUrl:e??"https://w3-reporting.reddit.com/policy",sampling:{successFraction:1,failureFraction:1},attempt:0,batchSizeMultiplier:1,urlIndex:-1},s=Boolean(o);let a=null;async function d(){return a||(a=async function(e){try{const t=await fetch(e.policyUrl,{method:"GET"}),o=t.headers.get("report-to");if(o){const t=JSON.parse(`[${o}]`),i=t?.find((({group:e})=>"w3-reporting"===e));e.w3IncludeSubdomains=Boolean(i?.include_subdomains);const n=i?.endpoints?.map?.((e=>e.url))||[];n.length>0&&(e.reportingUrls=n)}const i=t.headers.get("x-reddit-w3reporting");if(i){const t=JSON.parse(i);"number"==typeof t.success_fraction&&(e.sampling.successFraction=t.success_fraction),"number"==typeof t.failure_fraction&&(e.sampling.failureFraction=t.failure_fraction)}}catch(e){window.Sentry?.captureException?.(e)}}(r)),a}let l=[];const{maxAttempts:c}=Ln(i);async function u(){if(0===l.length)return;const e=Math.max(1,Math.floor(l.length*r.batchSizeMultiplier)),o=l.slice(0,e);l=l.slice(e);try{await Un({batch:o,isTimeSensitive:!1,config:r,maxReportAge:i,reportQueue:l,onError:t})}catch(e){window.Sentry?.captureException?.(e),Nn(r,c),Dn({batch:o,reportQueue:l,maxReportAge:i,lastStatusCode:666})}}let h=[];async function p(){if(0===h.length)return;const e=[...h];h=[];try{await Un({batch:e,isTimeSensitive:!0,config:r,maxReportAge:i,reportQueue:l,onError:t})}catch(t){window.Sentry?.captureException?.(t),Nn(r,c),Dn({batch:e,reportQueue:l,lastStatusCode:420,maxReportAge:i})}}return window.setTimeout((async function e(){await u(),window.setTimeout(e,n*Math.exp(r.attempt))}),n),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&u()})),{w3Report:async function(e){await d();const t=wn(e);kn({qItem:t,config:r,disabled:s})&&l.push(t)},w3ReportNow:async function(e){await d();const t=wn(e);kn({qItem:t,config:r,disabled:s})&&(0===h.length&&setTimeout(p,0),h.push(t))},printReportQueue:function(e=!1){const t=e?h:l;return JSON.stringify(t.map((e=>On(e,r))),null,2)}}}async function Fn(e,t){const o=(await t.json())?.invalid.map(function(e,t){return o=>{const i="number"==typeof o?e[o]:o,{labels:n={}}=i,r={};for(const e in n)r[e.replace(/auth/,"a_u_t_h")]=n[e];const s=t?i.statusCodes.concat(t):i.statusCodes;return{name:i.name,labels:r,attempt:i.attempt,statusCodes:s}}}(e,t.status));window.Sentry?.withScope((e=>{e.setExtra("statusCode",t.status),e.setExtra("reports",JSON.stringify(o)),window.Sentry?.captureMessage("Failed to send W3 reports")}))}const Vn=(e,t)=>{"function"==typeof navigator.sendBeacon?navigator.sendBeacon(e,t):((e,t)=>{fetch(e,{body:t,headers:{"Content-Type":"text/plain"},keepalive:!0,method:"POST"})})(e,t)};async function Bn(e){try{const o=Gn();if(t=o,!Boolean("string"==typeof t&&t?.length))return;const i=function(e){const{name:t,value:o,type:i,labels:n}=e,r={age:1,type:"reddit-w3reporting",url:"",user_agent:navigator.userAgent,body:{sampling_fraction:.99,type:i,name:t,value:o,labels:n??{}}};return JSON.stringify([r])}(e);Vn(o,i)}catch(t){!function(e,t){if(!(e instanceof Error))return;window.Sentry?.withScope((o=>{o?.setTag("w3","reportWebVital"),o?.setTag("w3Url",Gn()),o?.setTag("w3Params",JSON.stringify([t])),o?.setTag("errorMessage",e.message?.slice?.(0,200)),o?.setTag("errorName",e.name?.slice?.(0,200)),o?.setTag("errorStack",e.stack?.slice?.(0,200)?.replaceAll?.("\n","")),window.Sentry?.captureMessage?.("Failed to report w3 web vital")}))}(t,e)}var t}function Gn(){return window.CLIENT_CONFIG.W3_REPORTING_WEB_VITAL_REPORTS_URL}const{w3Report:Wn,w3ReportNow:Hn,printReportQueue:qn}=xn({onError:Fn,disabled:Boolean(CLIENT_CONFIG.DISABLE_W3_REPORTING)});var Yn=Object.freeze({__proto__:null,get W3ReportType(){return Rn},defaultOnError:Fn,printReportQueue:qn,w3Report:Wn,w3ReportNow:Hn,w3ReportWebVital:Bn,w3Reporting:xn});const $n=e=>{try{return new URL(e).hostname.endsWith("reddit.com")}catch(e){return!1}};var jn,Kn,Qn,zn,Jn;!function(e){e[e.IMPRESSION=1]="IMPRESSION",e[e.CLICK=2]="CLICK",e[e.COMMENTS_VIEW=3]="COMMENTS_VIEW",e[e.UPVOTE=4]="UPVOTE",e[e.DOWNVOTE=5]="DOWNVOTE",e[e.COMMENT=6]="COMMENT",e[e.VIEWABLE_IMPRESSION=7]="VIEWABLE_IMPRESSION",e[e.COMMENT_UPVOTE=8]="COMMENT_UPVOTE",e[e.COMMENT_DOWNVOTE=9]="COMMENT_DOWNVOTE",e[e.VENDOR_FULLY_IN_VIEW=10]="VENDOR_FULLY_IN_VIEW",e[e.VENDOR_FULLY_IN_VIEW_5_SECS=11]="VENDOR_FULLY_IN_VIEW_5_SECS",e[e.VENDOR_FULLY_IN_VIEW_15_SECS=12]="VENDOR_FULLY_IN_VIEW_15_SECS",e[e.GROUP_M_VIEWABLE=13]="GROUP_M_VIEWABLE",e[e.UNLOAD=14]="UNLOAD",e[e.LEAD_GENERATION=200]="LEAD_GENERATION"}(jn||(jn={})),function(e){e[e.GALLERY_ITEM_IMPRESSION=15]="GALLERY_ITEM_IMPRESSION"}(Kn||(Kn={})),function(e){e[e.VIDEO_VIEWABLE_IMPRESSION=100]="VIDEO_VIEWABLE_IMPRESSION",e[e.VIDEO_FULLY_VIEWABLE_IMPRESSION=101]="VIDEO_FULLY_VIEWABLE_IMPRESSION",e[e.VIDEO_PLAYED_WITH_SOUND=102]="VIDEO_PLAYED_WITH_SOUND",e[e.VIDEO_PLAYED_EXPANDED=103]="VIDEO_PLAYED_EXPANDED",e[e.VIDEO_WATCHED_25=104]="VIDEO_WATCHED_25",e[e.VIDEO_WATCHED_50=105]="VIDEO_WATCHED_50",e[e.VIDEO_WATCHED_75=106]="VIDEO_WATCHED_75",e[e.VIDEO_WATCHED_95=107]="VIDEO_WATCHED_95",e[e.VIDEO_WATCHED_100=108]="VIDEO_WATCHED_100",e[e.VIDEO_STARTED=109]="VIDEO_STARTED",e[e.VIDEO_WATCHED_3_SECS=110]="VIDEO_WATCHED_3_SECS",e[e.VIDEO_WATCHED_5_SECS=111]="VIDEO_WATCHED_5_SECS",e[e.VIDEO_WATCHED_10_SECS=112]="VIDEO_WATCHED_10_SECS",e[e.VIDEO_GROUP_M_VIEWABLE=113]="VIDEO_GROUP_M_VIEWABLE",e[e.VIDEO_VENDOR_FULLY_VIEWABLE_50=114]="VIDEO_VENDOR_FULLY_VIEWABLE_50",e[e.MRC_VIDEO_VIEWABLE_IMPRESSION=115]="MRC_VIDEO_VIEWABLE_IMPRESSION",e[e.VIDEO_VIEWABLE_WATCHED_6_SECS=116]="VIDEO_VIEWABLE_WATCHED_6_SECS",e[e.VIDEO_VIEWABLE_WATCHED_15_SECS=117]="VIDEO_VIEWABLE_WATCHED_15_SECS"}(Qn||(Qn={})),function(e){e[e.IMPRESSION=1]="IMPRESSION",e[e.CLICK=2]="CLICK",e[e.COMMENTS_VIEW=3]="COMMENTS_VIEW",e[e.UPVOTE=4]="UPVOTE",e[e.DOWNVOTE=5]="DOWNVOTE",e[e.COMMENT=6]="COMMENT",e[e.VIEWABLE_IMPRESSION=7]="VIEWABLE_IMPRESSION",e[e.COMMENT_UPVOTE=8]="COMMENT_UPVOTE",e[e.COMMENT_DOWNVOTE=9]="COMMENT_DOWNVOTE",e[e.VENDOR_FULLY_IN_VIEW=10]="VENDOR_FULLY_IN_VIEW",e[e.VENDOR_FULLY_IN_VIEW_5_SECS=11]="VENDOR_FULLY_IN_VIEW_5_SECS",e[e.VENDOR_FULLY_IN_VIEW_15_SECS=12]="VENDOR_FULLY_IN_VIEW_15_SECS",e[e.GROUP_M_VIEWABLE=13]="GROUP_M_VIEWABLE",e[e.UNLOAD=14]="UNLOAD",e[e.GALLERY_ITEM_IMPRESSION=15]="GALLERY_ITEM_IMPRESSION",e[e.VIDEO_VIEWABLE_IMPRESSION=100]="VIDEO_VIEWABLE_IMPRESSION",e[e.VIDEO_FULLY_VIEWABLE_IMPRESSION=101]="VIDEO_FULLY_VIEWABLE_IMPRESSION",e[e.VIDEO_PLAYED_WITH_SOUND=102]="VIDEO_PLAYED_WITH_SOUND",e[e.VIDEO_PLAYED_EXPANDED=103]="VIDEO_PLAYED_EXPANDED",e[e.VIDEO_WATCHED_25=104]="VIDEO_WATCHED_25",e[e.VIDEO_WATCHED_50=105]="VIDEO_WATCHED_50",e[e.VIDEO_WATCHED_75=106]="VIDEO_WATCHED_75",e[e.VIDEO_WATCHED_95=107]="VIDEO_WATCHED_95",e[e.VIDEO_WATCHED_100=108]="VIDEO_WATCHED_100",e[e.VIDEO_STARTED=109]="VIDEO_STARTED",e[e.VIDEO_WATCHED_3_SECS=110]="VIDEO_WATCHED_3_SECS",e[e.VIDEO_WATCHED_5_SECS=111]="VIDEO_WATCHED_5_SECS",e[e.VIDEO_WATCHED_10_SECS=112]="VIDEO_WATCHED_10_SECS",e[e.VIDEO_GROUP_M_VIEWABLE=113]="VIDEO_GROUP_M_VIEWABLE",e[e.VIDEO_VENDOR_FULLY_VIEWABLE_50=114]="VIDEO_VENDOR_FULLY_VIEWABLE_50",e[e.MRC_VIDEO_VIEWABLE_IMPRESSION=115]="MRC_VIDEO_VIEWABLE_IMPRESSION",e[e.VIDEO_VIEWABLE_WATCHED_6_SECS=116]="VIDEO_VIEWABLE_WATCHED_6_SECS",e[e.VIDEO_VIEWABLE_WATCHED_15_SECS=117]="VIDEO_VIEWABLE_WATCHED_15_SECS",e[e.LEAD_GENERATION=200]="LEAD_GENERATION",e[e.PRODUCT_CLICK=300]="PRODUCT_CLICK",e[e.PRODUCT_IMPRESSION=301]="PRODUCT_IMPRESSION",e[e.ENGAGED_CLICK=302]="ENGAGED_CLICK"}(zn||(zn={})),function(e){e[e.IMPRESSION_THRESHOLD=0]="IMPRESSION_THRESHOLD",e[e.LARGE_AD_FULL_VIEW_THRESHOLD=.3]="LARGE_AD_FULL_VIEW_THRESHOLD",e[e.VIEWABILITY_THRESHOLD=.5]="VIEWABILITY_THRESHOLD",e[e.EIGHTY_VIEWABILITY_THRESHOLD=.8]="EIGHTY_VIEWABILITY_THRESHOLD",e[e.FULL_VIEWABILITY_THRESHOLD=.999]="FULL_VIEWABILITY_THRESHOLD",e[e.VISIBILITY_THRESHOLD=.01]="VISIBILITY_THRESHOLD"}(Jn||(Jn={}));const Xn=[Jn.IMPRESSION_THRESHOLD,Jn.LARGE_AD_FULL_VIEW_THRESHOLD,Jn.VIEWABILITY_THRESHOLD,Jn.EIGHTY_VIEWABILITY_THRESHOLD,Jn.FULL_VIEWABILITY_THRESHOLD];var Zn,er,tr;!function(e){e.IN_FEED_AD_VIDEO="in-feed-ad-video",e.COMMENT_PAGE_AD_VIDEO="comment-page-ad-video"}(Zn||(Zn={})),function(e){e[e.IMPRESSION_TIME=0]="IMPRESSION_TIME",e[e.VIEWABILITY_TIME=1e3]="VIEWABILITY_TIME",e[e.VENDOR_VIEWABILITY_TIME=100]="VENDOR_VIEWABILITY_TIME",e[e.VIDEO_VIEWABILITY_TIME=2e3]="VIDEO_VIEWABILITY_TIME",e[e.VIDEO_FULL_VIEWABILITY_TIME=3e3]="VIDEO_FULL_VIEWABILITY_TIME",e[e.VENDOR_VIEWABILITY_TIME_5=5e3]="VENDOR_VIEWABILITY_TIME_5",e[e.VENDOR_VIEWABILITY_TIME_15=15e3]="VENDOR_VIEWABILITY_TIME_15",e[e.VIDEO_VIEWABLE_WATCHED_6_SECS=6e3]="VIDEO_VIEWABLE_WATCHED_6_SECS",e[e.VIDEO_VIEWABLE_WATCHED_15_SECS=15e3]="VIDEO_VIEWABLE_WATCHED_15_SECS"}(er||(er={})),function(e){e[e.VIDEO_WATCHED_SECONDS_3=3e3]="VIDEO_WATCHED_SECONDS_3",e[e.VIDEO_WATCHED_SECONDS_5=5e3]="VIDEO_WATCHED_SECONDS_5",e[e.VIDEO_WATCHED_SECONDS_10=1e4]="VIDEO_WATCHED_SECONDS_10"}(tr||(tr={}));const or=[{pixelEvent:zn.VIDEO_VIEWABLE_IMPRESSION,threshold:Jn.VIEWABILITY_THRESHOLD,time:er.VIDEO_VIEWABILITY_TIME},{pixelEvent:zn.VIDEO_FULLY_VIEWABLE_IMPRESSION,threshold:Jn.FULL_VIEWABILITY_THRESHOLD,time:er.VIDEO_FULL_VIEWABILITY_TIME},{pixelEvent:zn.VIDEO_VIEWABLE_WATCHED_6_SECS,threshold:Jn.VIEWABILITY_THRESHOLD,time:er.VIDEO_VIEWABLE_WATCHED_6_SECS,timePercent:.95},{pixelEvent:zn.VIDEO_VIEWABLE_WATCHED_15_SECS,threshold:Jn.VIEWABILITY_THRESHOLD,time:er.VIDEO_VIEWABLE_WATCHED_15_SECS,timePercent:.95}];var ir;!function(e){e.VIDEO_STATE_Q0="VIDEO_STATE_Q0",e.VIDEO_STATE_Q1="VIDEO_STATE_Q1",e.VIDEO_STATE_Q2="VIDEO_STATE_Q2",e.VIDEO_STATE_Q3="VIDEO_STATE_Q3",e.VIDEO_STATE_Q4="VIDEO_STATE_Q4"}(ir||(ir={}));const nr=[{timePercent:0,quartileKey:ir.VIDEO_STATE_Q0},{pixelEvent:zn.VIDEO_WATCHED_25,timePercent:.25,quartileKey:ir.VIDEO_STATE_Q1},{pixelEvent:zn.VIDEO_WATCHED_50,timePercent:.5,quartileKey:ir.VIDEO_STATE_Q2},{pixelEvent:zn.VIDEO_WATCHED_75,timePercent:.75,quartileKey:ir.VIDEO_STATE_Q3},{pixelEvent:zn.VIDEO_WATCHED_95,timePercent:.95},{pixelEvent:zn.VIDEO_WATCHED_100,timePercent:1,quartileKey:ir.VIDEO_STATE_Q4}],rr=[{pixelEvent:zn.VIDEO_WATCHED_3_SECS,time:tr.VIDEO_WATCHED_SECONDS_3,timePercent:.95},{pixelEvent:zn.VIDEO_WATCHED_5_SECS,time:tr.VIDEO_WATCHED_SECONDS_5,timePercent:.95},{pixelEvent:zn.VIDEO_WATCHED_10_SECS,time:tr.VIDEO_WATCHED_SECONDS_10,timePercent:.95}];var sr,ar;zn.VENDOR_FULLY_IN_VIEW,er.VENDOR_VIEWABILITY_TIME,zn.VENDOR_FULLY_IN_VIEW_5_SECS,er.VENDOR_VIEWABILITY_TIME_5,zn.VENDOR_FULLY_IN_VIEW_15_SECS,er.VENDOR_VIEWABILITY_TIME_15,function(e){e.DISPLAY="display",e.VIDEO="video"}(sr||(sr={})),function(e){e[e.NO_EVENT=0]="NO_EVENT",e[e.NOT_VISIBLE_NOT_AUDIBLE=1]="NOT_VISIBLE_NOT_AUDIBLE",e[e.VISIBLE_NOT_AUDIBLE=2]="VISIBLE_NOT_AUDIBLE",e[e.AUDIBLE_NOT_VISIBLE=3]="AUDIBLE_NOT_VISIBLE",e[e.VISIBLE_AND_AUDIBLE=4]="VISIBLE_AND_AUDIBLE"}(ar||(ar={}));var dr,lr,cr,ur,hr;!function(e){e.ANY_TOTAL_VIEW_TIME="a",e.FIFTY_TOTAL_VIEW_TIME="b",e.EIGHTY_TOTAL_VIEW_TIME="be",e.FULL_TOTAL_VIEW_TIME="c",e.ANY_CONTINUOUS_VIEW_TIME="d",e.FIFTY_CONTINUOUS_VIEW_TIME="e",e.THIRTY_CONTINUOUS_VIEW_TIME="ea",e.EIGHTY_CONTINUOUS_VIEW_TIME="eb",e.FULL_CONTINUOUS_VIEW_TIME="f",e.GLOBAL_COUNT="r",e.GROUP_M_VIEWABLE="g",e.AD_LOAD_TIME="i",e.TIMESTAMP="t",e.WAS_EVER_VIEWABLE="o",e.PRODUCT_ID="p",e.LARGE_AD_FULL_VIEW="q",e.HEIGHT="h",e.WIDTH="w",e.SCREEN_HEIGHT="sh",e.SCREEN_WIDTH="sw",e.TEST_ID="ti"}(dr||(dr={})),function(e){e.IMAGE="image",e.VIDEO="video",e.GALLERY="gallery",e.TEXT="text",e.BLANK="blank",e.SHOPPING_SINGLE_PRODUCT="shopping_single_product",e.SHOPPING_MULTI_PRODUCT="shopping_multi_product",e.PROMOTED_COMMUNITY_POST="promoted_community_post",e.PROMOTED_COMMUNITY_POST_V2="promoted_community_post_v2",e.RBL_SURVEY="rbl_survey",e.PROFILE_AMA="profile_ama",e.DEV_PLATFORM_AD_POST="dev_platform_ad_post",e.UNSUPPORTED="unsupported"}(lr||(lr={})),function(e){e[e.IMAGE=0]="IMAGE",e[e.TEXT=1]="TEXT",e[e.VIDEO=2]="VIDEO",e[e.PRODUCT=3]="PRODUCT",e[e.ORGANIC_CONTENT=4]="ORGANIC_CONTENT"}(cr||(cr={})),function(e){e.LEAD_GEN="lead-gen",e.STANDARD="standard"}(ur||(ur={})),function(e){e.UNKNOWN="unknown",e.TITLE="title",e.USERNAME="username",e.MEDIA="media",e.TEXT_BODY="text_body",e.BACKGROUND="background",e.CTA_DESTINATION_URL="cta_destination_url",e.CTA_BUTTON="cta_button",e.CTA_WHITESPACE="cta_whitespace",e.CTA_CAPTION="cta_caption",e.VIDEO_CTA="video_cta",e.PRODUCT_NAME="product_name",e.PRODUCT_INFO="product_info",e.PRODUCT_INFO_STRIKETHROUGH="product_info_strikethrough",e.PROMOTED_ITEM_1="promoted_item_1",e.FLOATING_CTA_DESTINATION_URL="floating_cta_destination_url",e.FLOATING_CTA_BUTTON="floating_cta_button",e.FLOATING_CTA_WHITESPACE="floating_cta_whitespace",e.PROMOTED_LABEL="promoted_label",e.ACTION_BAR_WHITESPACE="action_bar_whitespace",e.CREDIT_BAR_WHITESPACE="credit_bar_whitespace",e.AMA_STATUS_BAR="ama_status_bar",e.AMA_STATUS_BAR_CTA="ama_status_bar_cta",e.REMINDER_STATUS_BAR="reminder_status_bar",e.REMINDER_STATUS_BAR_CTA="reminder_status_bar_cta"}(hr||(hr={}));var pr;!function(e){e.IS_VIDEO_AD="va",e.TOTAL_MRC_VIEWABLE_TIME="vb",e.VIDEO_AD_DURATION="vc",e.TOTAL_PLAY_TIME="vd",e.VOLUME="ve",e.IS_VISIBLE="vg",e.VIDEO_HEIGHT="vh",e.TOTAL_AUDIBLE_TIME="vi",e.VIDEO_WIDTH="vw",e.WAS_FULL_SCREEN="vq",e.HALF_DURATION_80_IN_VIEW_AUDIBLE="vr",e.VIDEO_STATE_Q0="vs",e.VIDEO_STATE_Q1="vt",e.VIDEO_STATE_Q2="vu",e.VIDEO_STATE_Q3="vv",e.VIDEO_STATE_Q4="vx",e.FULL_IN_VIEW_AUDIBLE_TIME="vy",e.FULL_IN_VIEW_TIME="vz",e.WAS_FULL_IN_VIEW_1SEC="xa",e.ANY_CONTINUOUS_VIDEO_VIEW_TIME="xf",e.FIFTY_CONTINUOUS_VIDEO_VIEW_TIME="xb",e.FULL_CONTINUOUS_VIDEO_VIEW_TIME="vf",e.EIGHTY_TOTAL_VIDEO_VIEW_TIME="xe",e.HAS_SEEKED="xc"}(pr||(pr={}));const mr={[zn.VIDEO_VIEWABLE_IMPRESSION]:{watched_ms:er.VIDEO_VIEWABILITY_TIME},[zn.VIDEO_FULLY_VIEWABLE_IMPRESSION]:{watched_ms:er.VIDEO_FULL_VIEWABILITY_TIME},[zn.VIDEO_VIEWABLE_WATCHED_6_SECS]:{watched_ms:er.VIDEO_VIEWABLE_WATCHED_6_SECS},[zn.VIDEO_VIEWABLE_WATCHED_15_SECS]:{watched_ms:er.VIDEO_VIEWABLE_WATCHED_15_SECS},[zn.VIDEO_WATCHED_3_SECS]:{watched_ms:tr.VIDEO_WATCHED_SECONDS_3},[zn.VIDEO_WATCHED_5_SECS]:{watched_ms:tr.VIDEO_WATCHED_SECONDS_5},[zn.VIDEO_WATCHED_10_SECS]:{watched_ms:tr.VIDEO_WATCHED_SECONDS_10},[zn.VIDEO_STARTED]:{watched_percentage:0},[zn.VIDEO_WATCHED_25]:{watched_percentage:25},[zn.VIDEO_WATCHED_50]:{watched_percentage:50},[zn.VIDEO_WATCHED_75]:{watched_percentage:75},[zn.VIDEO_WATCHED_95]:{watched_percentage:95},[zn.VIDEO_WATCHED_100]:{watched_percentage:100}},gr={[zn.VENDOR_FULLY_IN_VIEW]:{vendor_viewability_duration_ms:er.VENDOR_VIEWABILITY_TIME},[zn.VENDOR_FULLY_IN_VIEW_5_SECS]:{vendor_viewability_duration_ms:er.VENDOR_VIEWABILITY_TIME_5},[zn.VENDOR_FULLY_IN_VIEW_15_SECS]:{vendor_viewability_duration_ms:er.VENDOR_VIEWABILITY_TIME_15}},_r=[{experimentName:"shreddit_ad_event_migration_m2",pixelEventTypes:[zn.IMPRESSION,zn.CLICK,zn.VIDEO_VIEWABLE_IMPRESSION,zn.VIDEO_VIEWABLE_WATCHED_6_SECS,zn.VIDEO_VIEWABLE_WATCHED_15_SECS]},{experimentName:"shreddit_ad_event_migration_m3",pixelEventTypes:[zn.COMMENTS_VIEW,zn.UPVOTE,zn.DOWNVOTE,zn.COMMENT,zn.COMMENT_UPVOTE,zn.COMMENT_DOWNVOTE,zn.VIDEO_FULLY_VIEWABLE_IMPRESSION,zn.VIDEO_PLAYED_WITH_SOUND,zn.VIDEO_PLAYED_EXPANDED,zn.VIDEO_GROUP_M_VIEWABLE,zn.VIDEO_WATCHED_25,zn.VIDEO_WATCHED_50,zn.VIDEO_WATCHED_75,zn.VIDEO_WATCHED_95,zn.VIDEO_WATCHED_100,zn.VIDEO_STARTED,zn.VIDEO_WATCHED_3_SECS,zn.VIDEO_WATCHED_5_SECS,zn.VIDEO_WATCHED_10_SECS,zn.VENDOR_FULLY_IN_VIEW,zn.VENDOR_FULLY_IN_VIEW_5_SECS,zn.VENDOR_FULLY_IN_VIEW_15_SECS,zn.VIEWABLE_IMPRESSION,zn.UNLOAD,zn.GALLERY_ITEM_IMPRESSION,zn.ENGAGED_CLICK,zn.PRODUCT_IMPRESSION,zn.PRODUCT_CLICK,zn.LEAD_GENERATION]}],Er=[{experimentName:"shreddit_ad_event_migration_cutoff_m1",pixelEventTypes:[zn.GROUP_M_VIEWABLE]}],fr=[zn.GROUP_M_VIEWABLE],vr=[{key:"TOTAL_MRC_VIEWABLE_TIME",playing:!0,threshold:Jn.VIEWABILITY_THRESHOLD},{key:"TOTAL_AUDIBLE_TIME",playing:!0,threshold:0,withSound:!0},{key:"HALF_DURATION_80_IN_VIEW_AUDIBLE",playing:!0,withSound:!0,threshold:Jn.EIGHTY_VIEWABILITY_THRESHOLD},{key:"FULL_IN_VIEW_AUDIBLE_TIME",playing:!0,threshold:Jn.FULL_VIEWABILITY_THRESHOLD,withSound:!0},{key:"FULL_IN_VIEW_TIME",playing:!0,threshold:Jn.FULL_VIEWABILITY_THRESHOLD},{key:"ANY_IN_VIEW_TIME",playing:!0,threshold:Jn.VISIBILITY_THRESHOLD},{key:"FIFTY_IN_VIEW_TIME",playing:!0,threshold:Jn.VIEWABILITY_THRESHOLD},{key:"EIGHTY_IN_VIEW_TIME",playing:!0,threshold:Jn.EIGHTY_VIEWABILITY_THRESHOLD}];function Sr(e,t){const o=new URL(e);return Object.entries(t).forEach((([e,t])=>{o.searchParams.set(e,String(t))})),o.toString()}const br=vr.map((e=>e.key));var yr={};Object.defineProperty(yr,"__esModule",{value:!0});var Cr,Tr=yr.pluralSelector=void 0,Ar=new Intl.PluralRules("en-US");function Ir(e){switch(e.status){case 429:return(t=e.headers.get("X-ratelimit-reset"))?Tr({one:`Your request has been rate limited, please take a break for ${t} second and try again.`,other:`Your request has been rate limited, please take a break for ${t} seconds and try again.`,count:parseInt(t)||0}):"Your request has been rate limited, please take a break for a couple minutes and try again.";case 403:return"\n      Your request has been blocked by network security.  Please try to login with your Reddit account.\n    ";default:return"We have encountered an error. Please try again later."}var t}Tr=yr.pluralSelector=function(e){return e[Ar.select(e.count)]},function(e){e.AcceptAutomationRecommendation="AcceptAutomationRecommendation",e.AcceptModeratorInvite="AcceptModeratorInvite",e.AchievementCategoryById="AchievementCategoryById",e.AchievementCategoryByIdIdentity="AchievementCategoryByIdIdentity",e.AchievementTrophyById="AchievementTrophyById",e.AchievementUnlockedNotifications="AchievementUnlockedNotifications",e.AdAccounts="AdAccounts",e.AddBrandAnalyticsSearchQueryKeyword="AddBrandAnalyticsSearchQueryKeyword",e.AddModmailMessage="AddModmailMessage",e.AddSubredditWidget="AddSubredditWidget",e.AddWikiContributor="AddWikiContributor",e.AddWikiPageEditor="AddWikiPageEditor",e.AgeAssurance="AgeAssurance",e.All="All",e.AllChatsPageCustomRecommendations="AllChatsPageCustomRecommendations",e.AllChatsPageNavigation="AllChatsPageNavigation",e.AllChatsPageRecommendations="AllChatsPageRecommendations",e.AllFeedRightRail="AllFeedRightRail",e.AllowlistedRedditorInfo="AllowlistedRedditorInfo",e.ApplyRemovalReason="ApplyRemovalReason",e.ApproveRedditor="ApproveRedditor",e.ArticleCommunities="ArticleCommunities",e.ArticleCommunityRecommendations="ArticleCommunityRecommendations",e.ArticleDetailsPage="ArticleDetailsPage",e.ArticleDetailsPostsFeed="ArticleDetailsPostsFeed",e.ArticleFeed="ArticleFeed",e.ArticleRssFeedList="ArticleRssFeedList",e.ArtistDetails="ArtistDetails",e.AssignFlairUserTypeahead="AssignFlairUserTypeahead",e.AssignUserFlairModal="AssignUserFlairModal",e.AudioRoomById="AudioRoomById",e.AvatarCatalog="AvatarCatalog",e.AvatarPastLooks="AvatarPastLooks",e.AwardDialogFromComment="AwardDialogFromComment",e.AwardDialogFromPost="AwardDialogFromPost",e.AwardGoldPurchaseFromComment="AwardGoldPurchaseFromComment",e.AwardGoldPurchaseFromPost="AwardGoldPurchaseFromPost",e.AwardLeaderboardComment="AwardLeaderboardComment",e.AwardLeaderboardPost="AwardLeaderboardPost",e.AwardOnContentModerationInfo="AwardOnContentModerationInfo",e.AwardSelectionSheetFromComment="AwardSelectionSheetFromComment",e.AwardSelectionSheetFromPost="AwardSelectionSheetFromPost",e.BackupVault="BackupVault",e.BanEvasionSubredditSettings="BanEvasionSubredditSettings",e.BannedUserIdentity="BannedUserIdentity",e.BanSubredditUser="BanSubredditUser",e.BlockedAccounts="BlockedAccounts",e.BoostedPostAdInsights="BoostedPostAdInsights",e.BoostPostPage="BoostPostPage",e.BrandAnalyticsMentionsChart="BrandAnalyticsMentionsChart",e.BrandAnalyticsSearchKeyword="BrandAnalyticsSearchKeyword",e.BrandLiftSurveyConfig="BrandLiftSurveyConfig",e.CancelEconRecurringPayment="CancelEconRecurringPayment",e.CancelPaySubscription="CancelPaySubscription",e.CancelTemporaryEventRun="CancelTemporaryEventRun",e.ChangePaymentMethod="ChangePaymentMethod",e.ChangeStripePaymentMethod="ChangeStripePaymentMethod",e.ChatBadgeIndicator="ChatBadgeIndicator",e.ChatBanChatChannelUser="ChatBanChatChannelUser",e.ChatBannedUsers="ChatBannedUsers",e.ChatBanSubredditUser="ChatBanSubredditUser",e.ChatBlockedRedditors="ChatBlockedRedditors",e.ChatChannelRecommendations="ChatChannelRecommendations",e.ChatChannelsByIds="ChatChannelsByIds",e.ChatContentControlSettings="ChatContentControlSettings",e.ChatCreateShareUrl="ChatCreateShareUrl",e.ChatCreateSubredditChannel="ChatCreateSubredditChannel",e.ChatCreateUccChatChannel="ChatCreateUccChatChannel",e.ChatCrowdControlSettings="ChatCrowdControlSettings",e.ChatCurrentUserContext="ChatCurrentUserContext",e.ChatDeleteChannel="ChatDeleteChannel",e.ChatGetChatChannelBannedUsers="ChatGetChatChannelBannedUsers",e.ChatGetUccChannelTaggingInfo="ChatGetUccChannelTaggingInfo",e.ChatGetUserMessageRequestSetting="ChatGetUserMessageRequestSetting",e.ChatIsUserBannedFromChatChannel="ChatIsUserBannedFromChatChannel",e.ChatModApprove="ChatModApprove",e.ChatModRemove="ChatModRemove",e.ChatPinMessagesToSubredditChannel="ChatPinMessagesToSubredditChannel",e.ChatQueryTagSubreddits="ChatQueryTagSubreddits",e.ChatRedditors="ChatRedditors",e.ChatRedditorsByName="ChatRedditorsByName",e.ChatReportForm="ChatReportForm",e.ChatRetractChatChannelUserRoleInvitation="ChatRetractChatChannelUserRoleInvitation",e.ChatSearchChatMessageReactionIcons="ChatSearchChatMessageReactionIcons",e.ChatShareUrl="ChatShareUrl",e.ChatSubreddit="ChatSubreddit",e.ChatUnbanChatChannelUser="ChatUnbanChatChannelUser",e.ChatUnbanSubredditUser="ChatUnbanSubredditUser",e.ChatUpdateAccountPreferences="ChatUpdateAccountPreferences",e.ChatUpdateChannel="ChatUpdateChannel",e.ChatUpdateChannelModerationSettings="ChatUpdateChannelModerationSettings",e.ChatUpdateChatChannelUserRolePromotion="ChatUpdateChatChannelUserRolePromotion",e.ChatUpdateChatChannelUsersRoles="ChatUpdateChatChannelUsersRoles",e.ChatUpdateCrowdControlLevel="ChatUpdateCrowdControlLevel",e.ChatUpdateRedditorBlockState="ChatUpdateRedditorBlockState",e.Checkout="Checkout",e.CheckoutDevvitProducts="CheckoutDevvitProducts",e.ClaimFreeNft="ClaimFreeNft",e.ClearPostFlair="ClearPostFlair",e.ClearUserFlair="ClearUserFlair",e.Comment="Comment",e.CommentForEdit="CommentForEdit",e.CommentForSocialPreview="CommentForSocialPreview",e.CommentModerationInfo="CommentModerationInfo",e.CommentPermalink="CommentPermalink",e.Comments="Comments",e.CommentStatsPage="CommentStatsPage",e.CommentTreeAds="CommentTreeAds",e.CommunityClubActivePaidSubscriber="CommunityClubActivePaidSubscriber",e.CommunityClubUserPermissions="CommunityClubUserPermissions",e.CommunityGuide="CommunityGuide",e.CommunityJoinActions="CommunityJoinActions",e.CommunityManagementPage="CommunityManagementPage",e.CommunityManagementPageTypeahead="CommunityManagementPageTypeahead",e.CommunityName="CommunityName",e.CommunitySearch="CommunitySearch",e.CommunityStatus="CommunityStatus",e.CommunityStatusForEdit="CommunityStatusForEdit",e.CommunitySuggestions="CommunitySuggestions",e.ComposeMessagePage="ComposeMessagePage",e.ConfirmEconPayment="ConfirmEconPayment",e.ContentCarouselModSafetySmartEscalations="ContentCarouselModSafetySmartEscalations",e.ContextualSignupPrompt="ContextualSignupPrompt",e.ContributorProgramVerificationModal="ContributorProgramVerificationModal",e.ConvertMarkdownToRTJSON="ConvertMarkdownToRTJSON",e.ConvertRTJSONToMarkdown="ConvertRTJSONToMarkdown",e.CreateAdAccount="CreateAdAccount",e.CreateAutomation="CreateAutomation",e.CreateAvatar="CreateAvatar",e.CreateAvatarPage="CreateAvatarPage",e.CreateAwardOrder="CreateAwardOrder",e.CreateBrandToolsRequest="CreateBrandToolsRequest",e.CreateCaptchaToken="CreateCaptchaToken",e.CreateComment="CreateComment",e.CreateCustomPostSnapshot="CreateCustomPostSnapshot",e.CreateDraft="CreateDraft",e.CreateEconOrder="CreateEconOrder",e.CreateEconPayment="CreateEconPayment",e.CreateMediaUploadLease="CreateMediaUploadLease",e.CreateModmailConversation="CreateModmailConversation",e.CreateModUserNote="CreateModUserNote",e.CreatePaymentIntent="CreatePaymentIntent",e.CreatePayoutAccountOnboardingUrl="CreatePayoutAccountOnboardingUrl",e.CreatePost="CreatePost",e.CreateProfilePost="CreateProfilePost",e.CreateProfileStructuredStylesUploadLease="CreateProfileStructuredStylesUploadLease",e.CreatePublisherArticle="CreatePublisherArticle",e.CreatePublisherRssFeed="CreatePublisherRssFeed",e.CreateSavedResponse="CreateSavedResponse",e.CreateScheduledPost="CreateScheduledPost",e.CreateStorefrontOrder="CreateStorefrontOrder",e.CreateSubreddit="CreateSubreddit",e.CreateSubredditRule="CreateSubredditRule",e.CreateSubredditStructuredStylesUploadLease="CreateSubredditStructuredStylesUploadLease",e.CreateTemporaryEventConfig="CreateTemporaryEventConfig",e.CreateUserFlair="CreateUserFlair",e.CrowdControlSubredditSettings="CrowdControlSubredditSettings",e.CustomFeed="CustomFeed",e.CustomFeedAddSubreddits="CustomFeedAddSubreddits",e.CustomFeedCommunities="CustomFeedCommunities",e.CustomFeedCreate="CustomFeedCreate",e.CustomFeedCurator="CustomFeedCurator",e.CustomFeedDelete="CustomFeedDelete",e.CustomFeedDescription="CustomFeedDescription",e.CustomFeedDetailsForm="CustomFeedDetailsForm",e.CustomFeedPosts="CustomFeedPosts",e.CustomFeedRecommendations="CustomFeedRecommendations",e.CustomFeedRemoveSubreddits="CustomFeedRemoveSubreddits",e.CustomFeedsForUser="CustomFeedsForUser",e.CustomFeedUpdateDetails="CustomFeedUpdateDetails",e.CustomFeedUpdateSubscriptionState="CustomFeedUpdateSubscriptionState",e.DataProtectionPreferences="DataProtectionPreferences",e.DeclineModeratorInvite="DeclineModeratorInvite",e.DeleteAchievementNotifications="DeleteAchievementNotifications",e.DeleteAutomation="DeleteAutomation",e.DeleteComment="DeleteComment",e.DeleteFollowedKeywords="DeleteFollowedKeywords",e.DeleteInboxNotifications="DeleteInboxNotifications",e.DeleteModUserNote="DeleteModUserNote",e.DeletePost="DeletePost",e.DeletePostDraft="DeletePostDraft",e.DeletePrivateMessage="DeletePrivateMessage",e.DeleteProfileSocialLinks="DeleteProfileSocialLinks",e.DeletePublisherRSSFeed="DeletePublisherRSSFeed",e.DeleteSavedResponse="DeleteSavedResponse",e.DeleteScheduledPost="DeleteScheduledPost",e.DeleteSubredditChatChannel="DeleteSubredditChatChannel",e.DeleteSubredditEmoji="DeleteSubredditEmoji",e.DeleteSubredditFlairTemplate="DeleteSubredditFlairTemplate",e.DeleteSubredditMuteSettings="DeleteSubredditMuteSettings",e.DeleteSubredditRule="DeleteSubredditRule",e.DeleteSubredditWidget="DeleteSubredditWidget",e.DevvitAppPermissionsConsentDialog="DevvitAppPermissionsConsentDialog",e.DisapproveRedditor="DisapproveRedditor",e.DismissAutomationRecommendation="DismissAutomationRecommendation",e.DismissBrandAnalyticsKeywordSuggestion="DismissBrandAnalyticsKeywordSuggestion",e.DismissSmartEscalation="DismissSmartEscalation",e.DisplayCollectiblesForModal="DisplayCollectiblesForModal",e.DraftAndScheduled="DraftAndScheduled",e.DynamicFeedElements="DynamicFeedElements",e.DynamicInterestTopics="DynamicInterestTopics",e.EarnProgramDetails="EarnProgramDetails",e.EconUiUnit="EconUiUnit",e.EditAvatar="EditAvatar",e.EligibleCommunitiesPage="EligibleCommunitiesPage",e.Embed="Embed",e.EmbedComment="EmbedComment",e.EmbedFeed="EmbedFeed",e.EmojiSettings="EmojiSettings",e.EndPostEvent="EndPostEvent",e.EnrollInStreaks="EnrollInStreaks",e.EstimatedViews="EstimatedViews",e.EvaluateCommentAutomationsByPostId="EvaluateCommentAutomationsByPostId",e.EvaluatePostAutomations="EvaluatePostAutomations",e.Experiences="Experiences",e.ExploreFeed="ExploreFeed",e.ExploreTopicFeed="ExploreTopicFeed",e.ExportVaultBackup="ExportVaultBackup",e.ExportVaultPage="ExportVaultPage",e.ExposeVariant="ExposeVariant",e.FeedPost="FeedPost",e.FetchTitle="FetchTitle",e.FlairedRedditorByName="FlairedRedditorByName",e.FlairedRedditors="FlairedRedditors",e.Frontpage="Frontpage",e.GeneralSearch="GeneralSearch",e.GeneratedProfileDescriptions="GeneratedProfileDescriptions",e.GeneratedUsernames="GeneratedUsernames",e.GenerateSubredditEmojiUploadLease="GenerateSubredditEmojiUploadLease",e.GeoCuratedFeedSources="GeoCuratedFeedSources",e.GetAccessoriesBySection="GetAccessoriesBySection",e.GetActiveVaultDetails="GetActiveVaultDetails",e.GetAdBusinessNameById="GetAdBusinessNameById",e.GetAdTransparencyMessagesById="GetAdTransparencyMessagesById",e.GetAnswersDynamicConfig="GetAnswersDynamicConfig",e.GetApprovedUsers="GetApprovedUsers",e.GetArtistNameById="GetArtistNameById",e.GetDevvitProducts="GetDevvitProducts",e.GetFollowedKeywords="GetFollowedKeywords",e.GetFreeNftClaimDrops="GetFreeNftClaimDrops",e.GetFundingInstrumentsByAdAccountId="GetFundingInstrumentsByAdAccountId",e.GetFundingInstrumentSecret="GetFundingInstrumentSecret",e.GetIsCommentGuidanceAvailableFromPostId="GetIsCommentGuidanceAvailableFromPostId",e.GetLastAuthorModNoteByCommentId="GetLastAuthorModNoteByCommentId",e.GetLastAuthorModNoteByPostId="GetLastAuthorModNoteByPostId",e.GetListingById="GetListingById",e.GetMessageRecipientSubredditInfo="GetMessageRecipientSubredditInfo",e.GetNftDetails="GetNftDetails",e.GetPreviousActions="GetPreviousActions",e.GetRelatedCommunityRecommendations="GetRelatedCommunityRecommendations",e.GetSharedModPageFragment="GetSharedModPageFragment",e.GetSubredditModRecruitmentSettings="GetSubredditModRecruitmentSettings",e.GetVaultRegistrationChallenge="GetVaultRegistrationChallenge",e.GoldPackages="GoldPackages",e.GrantAppPermission="GrantAppPermission",e.GuidesCitationCommentDetails="GuidesCitationCommentDetails",e.GuidesCitationPostDetails="GuidesCitationPostDetails",e.GuidesPageConversationDetails="GuidesPageConversationDetails",e.GuidesPageDetails="GuidesPageDetails",e.GuidesRecommendedPosts="GuidesRecommendedPosts",e.HarassmentSubredditSettings="HarassmentSubredditSettings",e.HiddenArticleCommunityRecommendations="HiddenArticleCommunityRecommendations",e.HiddenReportsModQueueItems="HiddenReportsModQueueItems",e.HideArticleCommunityRecommendation="HideArticleCommunityRecommendation",e.HideInboxAnnouncements="HideInboxAnnouncements",e.HighlightedPosts="HighlightedPosts",e.HomeFeedRightRail="HomeFeedRightRail",e.HorizontalExperiences="HorizontalExperiences",e.Identity="Identity",e.IdentityAppealEligibility="IdentityAppealEligibility",e.IdentityHotkeys="IdentityHotkeys",e.IdentityImmersiveTranslationSetting="IdentityImmersiveTranslationSetting",e.IdentityModeratorCheck="IdentityModeratorCheck",e.IdentityUserDataExportEligibility="IdentityUserDataExportEligibility",e.IdentityUserEmail="IdentityUserEmail",e.IdentityUserIcon="IdentityUserIcon",e.IdentityUserName="IdentityUserName",e.IdentityUserPreferences="IdentityUserPreferences",e.IgnoreReports="IgnoreReports",e.InboxAnnouncementsByIds="InboxAnnouncementsByIds",e.InboxBadgeIndicator="InboxBadgeIndicator",e.InterestTopics="InterestTopics",e.InterestTopicsSearch="InterestTopicsSearch",e.InterestTopicsV2="InterestTopicsV2",e.InvitedPage="InvitedPage",e.IsEmailValidForRegistration="IsEmailValidForRegistration",e.IsUsernameValidForRegistration="IsUsernameValidForRegistration",e.KeywordLandingPage="KeywordLandingPage",e.LandingExperience="LandingExperience",e.LeftNavBusinessToolsSection="LeftNavBusinessToolsSection",e.LeftNavCommunitiesSection="LeftNavCommunitiesSection",e.LeftNavGamesSection="LeftNavGamesSection",e.LeftNavModerationSection="LeftNavModerationSection",e.LeftNavMultiredditsSection="LeftNavMultiredditsSection",e.MarkInboxAnnouncementsRead="MarkInboxAnnouncementsRead",e.MarkNotificationRead="MarkNotificationRead",e.MarkPrivateMessageAsRead="MarkPrivateMessageAsRead",e.MediaAuthInfo="MediaAuthInfo",e.MediaLinks="MediaLinks",e.ModAchievementsPage="ModAchievementsPage",e.ModActivityPanel="ModActivityPanel",e.ModActivityPreview="ModActivityPreview",e.ModActivityPreviewHovercard="ModActivityPreviewHovercard",e.ModAllSubredditPermissions="ModAllSubredditPermissions",e.ModAuthorFlair="ModAuthorFlair",e.ModAutomationRecommendation="ModAutomationRecommendation",e.ModAutomationRules="ModAutomationRules",e.ModAutomationsPage="ModAutomationsPage",e.ModBanInfoForUser="ModBanInfoForUser",e.ModBulkApprove="ModBulkApprove",e.ModBulkIgnore="ModBulkIgnore",e.ModBulkLock="ModBulkLock",e.ModBulkMarkNSFW="ModBulkMarkNSFW",e.ModBulkMarkSpoiler="ModBulkMarkSpoiler",e.ModBulkRemove="ModBulkRemove",e.ModBulkUnignore="ModBulkUnignore",e.ModBulkUnlock="ModBulkUnlock",e.ModBulkUnmarkNSFW="ModBulkUnmarkNSFW",e.ModBulkUnmarkSpoiler="ModBulkUnmarkSpoiler",e.ModBulkUpdatePostFlair="ModBulkUpdatePostFlair",e.ModCommunityChatContentControlPage="ModCommunityChatContentControlPage",e.ModCommunityChatRequirementsPage="ModCommunityChatRequirementsPage",e.ModeratorEvaluateCommentAutomations="ModeratorEvaluateCommentAutomations",e.ModeratorEvaluatePostAutomations="ModeratorEvaluatePostAutomations",e.ModeratorsPage="ModeratorsPage",e.ModGetBannedData="ModGetBannedData",e.ModGetMutedData="ModGetMutedData",e.ModGetUserManagementData="ModGetUserManagementData",e.ModGetUserRedditorInfoByName="ModGetUserRedditorInfoByName",e.ModGrowthInsightsPage="ModGrowthInsightsPage",e.ModHierarchyPage="ModHierarchyPage",e.ModInsightsModQueueEntrypoint="ModInsightsModQueueEntrypoint",e.ModInsightsWidgetData="ModInsightsWidgetData",e.ModLogInsightsSummary="ModLogInsightsSummary",e.ModLogItems="ModLogItems",e.ModLogPage="ModLogPage",e.ModmailConversationMessagesAndActions="ModmailConversationMessagesAndActions",e.ModmailFullConversation="ModmailFullConversation",e.ModmailSavedResponses="ModmailSavedResponses",e.ModMuteInfoForUser="ModMuteInfoForUser",e.ModNav="ModNav",e.ModNotesModActions="ModNotesModActions",e.ModNotesOverview="ModNotesOverview",e.ModNotesRail="ModNotesRail",e.ModNotesRailUserContent="ModNotesRailUserContent",e.ModPermissions="ModPermissions",e.ModPermissionsRightRail="ModPermissionsRightRail",e.ModPostAndCommentSettings="ModPostAndCommentSettings",e.ModQueue="ModQueue",e.ModQueueItemComment="ModQueueItemComment",e.ModQueueItemPost="ModQueueItemPost",e.ModQueueItems="ModQueueItems",e.ModRecruitmentInviteApplicants="ModRecruitmentInviteApplicants",e.ModRecruitmentSuggestedMods="ModRecruitmentSuggestedMods",e.ModRemovalReasons="ModRemovalReasons",e.ModReportsAndRemovalsInsightsPage="ModReportsAndRemovalsInsightsPage",e.ModRulesItems="ModRulesItems",e.ModSafetySmartEscalations="ModSafetySmartEscalations",e.ModSafetySubredditSettings="ModSafetySubredditSettings",e.ModSavedResponseOptions="ModSavedResponseOptions",e.ModSavedResponses="ModSavedResponses",e.ModSavedResponsesPage="ModSavedResponsesPage",e.ModScheduledPostsPage="ModScheduledPostsPage",e.ModSettingsGeneralPage="ModSettingsGeneralPage",e.ModSettingsNotificationsPage="ModSettingsNotificationsPage",e.ModSettingsPrivacyPage="ModSettingsPrivacyPage",e.ModSubredditAutomationRecommendationsIds="ModSubredditAutomationRecommendationsIds",e.ModSubredditLookAndFeelSettings="ModSubredditLookAndFeelSettings",e.ModTeamHealthInsightsPage="ModTeamHealthInsightsPage",e.ModThingPreviewCommentById="ModThingPreviewCommentById",e.ModThingPreviewPostInfoById="ModThingPreviewPostInfoById",e.ModToolsSetYearInReviewAvailability="ModToolsSetYearInReviewAvailability",e.ModUserNotes="ModUserNotes",e.ModUserTypeahead="ModUserTypeahead",e.MultiContentReportingSearch="MultiContentReportingSearch",e.MutedSubreddits="MutedSubreddits",e.MuteMember="MuteMember",e.MyModeratedSubreddits="MyModeratedSubreddits",e.NamedEntityFeed="NamedEntityFeed",e.NotificationInboxFeed="NotificationInboxFeed",e.OptInToGatedSubreddit="OptInToGatedSubreddit",e.PDPRightRailRelatedPosts="PDPRightRailRelatedPosts",e.PDPRightRailTopicPosts="PDPRightRailTopicPosts",e.PdpSeekerPostQueueRecentPosts="PdpSeekerPostQueueRecentPosts",e.PdpSeekerPostQueueRelatedPosts="PdpSeekerPostQueueRelatedPosts",e.PdpSeekerPostQueueSearchRecommendations="PdpSeekerPostQueueSearchRecommendations",e.PdpSeekerSuggestedQueriesForSearch="PdpSeekerSuggestedQueriesForSearch",e.PdpTranslationOptions="PdpTranslationOptions",e.PersonalizedDevvitGames="PersonalizedDevvitGames",e.PersonalizedYearInReview="PersonalizedYearInReview",e.Popular="Popular",e.PopularCommunities="PopularCommunities",e.PopularFeedRightRail="PopularFeedRightRail",e.Post="Post",e.PostCachability="PostCachability",e.PostCollaborators="PostCollaborators",e.PostCreationPage="PostCreationPage",e.PostDirectoriesAvailable="PostDirectoriesAvailable",e.PostDirectoryPage="PostDirectoryPage",e.PostDraftCount="PostDraftCount",e.PostFlair="PostFlair",e.PostFlairSettings="PostFlairSettings",e.PostForEdit="PostForEdit",e.PostForHighlights="PostForHighlights",e.PostForInstagramStories="PostForInstagramStories",e.PostForSocialPreview="PostForSocialPreview",e.PostForWatermarking="PostForWatermarking",e.PostLevelCrowdControlSettings="PostLevelCrowdControlSettings",e.PostModerationInfo="PostModerationInfo",e.PostStatsPage="PostStatsPage",e.PostVideoPage="PostVideoPage",e.PostWithoutSubreddit="PostWithoutSubreddit",e.PremiumMarketingPage="PremiumMarketingPage",e.PreviewCommentAutomation="PreviewCommentAutomation",e.PreviewPostAutomation="PreviewPostAutomation",e.PrivateMessages="PrivateMessages",e.PrivateMessagesThread="PrivateMessagesThread",e.ProductCommunities="ProductCommunities",e.ProductCommunitiesPage="ProductCommunitiesPage",e.ProductDetailsInsightsMentions="ProductDetailsInsightsMentions",e.ProductDetailsInsightsMentionsFeed="ProductDetailsInsightsMentionsFeed",e.ProductInsightCards="ProductInsightCards",e.ProductInsightsDetailsPage="ProductInsightsDetailsPage",e.ProfileAccountPerformance="ProfileAccountPerformance",e.ProfileActiveSubreddits="ProfileActiveSubreddits",e.ProfileBrandMentions="ProfileBrandMentions",e.ProfileBusinessToolsPage="ProfileBusinessToolsPage",e.ProfileCommentStatsDownload="ProfileCommentStatsDownload",e.ProfileCommunityFinderPage="ProfileCommunityFinderPage",e.ProfileContributions="ProfileContributions",e.ProfileCreationPage="ProfileCreationPage",e.ProfileDashboardOverview="ProfileDashboardOverview",e.ProfileDashboardPage="ProfileDashboardPage",e.ProfileDashboardTrendingConvos="ProfileDashboardTrendingConvos",e.ProfileFollowers="ProfileFollowers",e.ProfileForSocialPreview="ProfileForSocialPreview",e.ProfileHeader="ProfileHeader",e.ProfileKeywords="ProfileKeywords",e.ProfileLeftNav="ProfileLeftNav",e.ProfileModeratedSubreddits="ProfileModeratedSubreddits",e.ProfilePerformance="ProfilePerformance",e.ProfilePostStatsDownload="ProfilePostStatsDownload",e.ProfileProductInsights="ProfileProductInsights",e.ProfileRelatedKeywords="ProfileRelatedKeywords",e.ProfileSettings="ProfileSettings",e.ProfileTrendingConvoDetails="ProfileTrendingConvoDetails",e.ProfileTrendingConvoMentions="ProfileTrendingConvoMentions",e.ProfileTrendingConvos="ProfileTrendingConvos",e.ProfileTrendMonitoringPage="ProfileTrendMonitoringPage",e.ProfileTrendsCommunityAffinityTable="ProfileTrendsCommunityAffinityTable",e.ProfileTrendsMentionsChart="ProfileTrendsMentionsChart",e.ProfileTypeahead="ProfileTypeahead",e.PromotedFloatingCTA="PromotedFloatingCTA",e.PromotePost="PromotePost",e.PublisherOverviewStats="PublisherOverviewStats",e.PublishSubmissionGroups="PublishSubmissionGroups",e.RecentPosts="RecentPosts",e.RecommendedMediaFeed="RecommendedMediaFeed",e.RecoverUsername="RecoverUsername",e.RedditChat="RedditChat",e.RedditorByName="RedditorByName",e.RedditorIdByName="RedditorIdByName",e.RedditProAdCreationModal="RedditProAdCreationModal",e.RedditProBrandCategories="RedditProBrandCategories",e.RedditProKeywordsForTopic="RedditProKeywordsForTopic",e.RedditProKeywordSummary="RedditProKeywordSummary",e.RedditProOnboardingDetailForm="RedditProOnboardingDetailForm",e.RedditProOnboardingPage="RedditProOnboardingPage",e.RedditProRecommendedKeywords="RedditProRecommendedKeywords",e.RedditProRecommendedKeywordsContent="RedditProRecommendedKeywordsContent",e.RedditProTopicExplorer="RedditProTopicExplorer",e.RegisterPushToken="RegisterPushToken",e.RegisterVaultAddress="RegisterVaultAddress",e.RemoveHighlightedPost="RemoveHighlightedPost",e.RemoveWikiContributor="RemoveWikiContributor",e.RemoveWikiContributorBan="RemoveWikiContributorBan",e.RemoveWikiPageEditor="RemoveWikiPageEditor",e.RenderSavedResponseTemplate="RenderSavedResponseTemplate",e.RenderSavedResponseTemplateBySubredditId="RenderSavedResponseTemplateBySubredditId",e.ReorderFlairs="ReorderFlairs",e.ReorderHighlightedPosts="ReorderHighlightedPosts",e.ReorderSavedResponses="ReorderSavedResponses",e.ReorderSubredditRules="ReorderSubredditRules",e.ReorderSubredditWidgets="ReorderSubredditWidgets",e.ReportAward="ReportAward",e.ReportComment="ReportComment",e.ReportForm="ReportForm",e.ReportFormData="ReportFormData",e.ReportModmailMessage="ReportModmailMessage",e.ReportPost="ReportPost",e.ReportPrivateMessage="ReportPrivateMessage",e.ReportRedditor="ReportRedditor",e.ReportUserDetails="ReportUserDetails",e.ReputationSubredditSettings="ReputationSubredditSettings",e.RequestAppeal="RequestAppeal",e.RequestCommunitySettingsChange="RequestCommunitySettingsChange",e.RequestPasswordReset="RequestPasswordReset",e.RequestUserDataExport="RequestUserDataExport",e.RestoreWikiPageRevision="RestoreWikiPageRevision",e.RevokeAppPermission="RevokeAppPermission",e.SafetyFilterEvaluationsAsModerator="SafetyFilterEvaluationsAsModerator",e.SafetyFiltersModInsightsChart="SafetyFiltersModInsightsChart",e.SafetyFiltersOverview="SafetyFiltersOverview",e.SaveSubredditEmoji="SaveSubredditEmoji",e.SaveWikiPageSettings="SaveWikiPageSettings",e.ScheduleTemporaryEventRun="ScheduleTemporaryEventRun",e.SctCommentInfo="SctCommentInfo",e.SearchDynamicComponents="SearchDynamicComponents",e.SearchDynamicTypeahead="SearchDynamicTypeahead",e.SendDirectChatToRedditor="SendDirectChatToRedditor",e.SendMessageToSubreddit="SendMessageToSubreddit",e.SetBrandAnalyticsKeywords="SetBrandAnalyticsKeywords",e.SetModmailConversationsArchiveStatus="SetModmailConversationsArchiveStatus",e.SetModmailConversationsFilterStatus="SetModmailConversationsFilterStatus",e.SetModmailConversationsHighlightStatus="SetModmailConversationsHighlightStatus",e.SetModmailConversationsReadStatus="SetModmailConversationsReadStatus",e.SetModRecruitmentApplicationTemplate="SetModRecruitmentApplicationTemplate",e.SetModRecruitmentEnabled="SetModRecruitmentEnabled",e.SetProfileSocialLinks="SetProfileSocialLinks",e.SetSubredditEmojisEnabled="SetSubredditEmojisEnabled",e.SetSuggestedSort="SetSuggestedSort",e.SettingsAccountPage="SettingsAccountPage",e.SettingsEmailPage="SettingsEmailPage",e.SettingsModNotificationModal="SettingsModNotificationModal",e.SettingsNotificationsCommunities="SettingsNotificationsCommunities",e.SettingsNotificationsModeratedCommunities="SettingsNotificationsModeratedCommunities",e.SettingsNotificationsPage="SettingsNotificationsPage",e.SettingsPreferencesPage="SettingsPreferencesPage",e.SettingsPrivacyPage="SettingsPrivacyPage",e.SettingsProfilePage="SettingsProfilePage",e.ShareMenu="ShareMenu",e.ShopArtistsData="ShopArtistsData",e.ShopGalleryData="ShopGalleryData",e.ShopGallerySetup="ShopGallerySetup",e.SimilarSubreddits="SimilarSubreddits",e.StorefrontLayout="StorefrontLayout",e.StorefrontLayoutData="StorefrontLayoutData",e.StoreUxtargetingAction="StoreUxtargetingAction",e.SubmitMedia="SubmitMedia",e.SubmitModRecruitmentApplication="SubmitModRecruitmentApplication",e.SubmitScheduledPostNow="SubmitScheduledPostNow",e.SubmitUserContactForAd="SubmitUserContactForAd",e.Subreddit="Subreddit",e.SubredditByName="SubredditByName",e.SubredditChatChannelModerationSettings="SubredditChatChannelModerationSettings",e.SubredditChatChannels="SubredditChatChannels",e.SubredditDirectoryPage="SubredditDirectoryPage",e.SubredditEmojis="SubredditEmojis",e.SubredditEmojiTemplates="SubredditEmojiTemplates",e.SubredditFeed="SubredditFeed",e.SubredditModApplication="SubredditModApplication",e.SubredditMostEngagingPosts="SubredditMostEngagingPosts",e.SubredditMostSubscribedPosts="SubredditMostSubscribedPosts",e.SubredditMostViewedPosts="SubredditMostViewedPosts",e.SubredditPostFlairTemplates="SubredditPostFlairTemplates",e.SubredditPostingEligibility="SubredditPostingEligibility",e.SubredditPostingEligibilityCriteria="SubredditPostingEligibilityCriteria",e.SubredditRightRail="SubredditRightRail",e.SubredditScheduledPosts="SubredditScheduledPosts",e.SubredditStyles="SubredditStyles",e.SubredditToManageHighlights="SubredditToManageHighlights",e.SubredditTypeahead="SubredditTypeahead",e.SubredditWidgets="SubredditWidgets",e.SubredditYearInReview="SubredditYearInReview",e.SuggestedModsList="SuggestedModsList",e.TaxonomyTopicsInfo="TaxonomyTopicsInfo",e.TemporaryEventConfigs="TemporaryEventConfigs",e.TemporaryEventRuns="TemporaryEventRuns",e.TemporaryEventsPage="TemporaryEventsPage",e.TemporaryEventsPresets="TemporaryEventsPresets",e.TemporaryEventsView="TemporaryEventsView",e.TestSizeModQueueItems="TestSizeModQueueItems",e.ToggleHideWikiPageRevision="ToggleHideWikiPageRevision",e.TopicBySlug="TopicBySlug",e.TopicFeedBySlug="TopicFeedBySlug",e.TranslatedComment="TranslatedComment",e.TranslatedPost="TranslatedPost",e.TranslatedPosts="TranslatedPosts",e.TranslatedStrings="TranslatedStrings",e.TranslationPreferredLanguages="TranslationPreferredLanguages",e.TrendCard="TrendCard",e.TrendingCarousel="TrendingCarousel",e.TrendingSearches="TrendingSearches",e.TrendPageList="TrendPageList",e.TrendPageSocialPreview="TrendPageSocialPreview",e.TrophyCategories="TrophyCategories",e.TrophyCategoriesIdentity="TrophyCategoriesIdentity",e.UnbanSubredditUser="UnbanSubredditUser",e.UndoDismissBrandAnalyticsKeywordSuggestion="UndoDismissBrandAnalyticsKeywordSuggestion",e.UnhideArticleCommunityRecommendation="UnhideArticleCommunityRecommendation",e.UnignoreReports="UnignoreReports",e.UnlockedCommunitiesPage="UnlockedCommunitiesPage",e.UnmuteMember="UnmuteMember",e.UnsharedArticleFeed="UnsharedArticleFeed",e.UpdateAccountGender="UpdateAccountGender",e.UpdateAccountPreferences="UpdateAccountPreferences",e.UpdateAchievementTrophyIsNew="UpdateAchievementTrophyIsNew",e.UpdateAchievementTrophyIsPinned="UpdateAchievementTrophyIsPinned",e.UpdateAdHideState="UpdateAdHideState",e.UpdateAdsPaymentMethod="UpdateAdsPaymentMethod",e.UpdateAutomation="UpdateAutomation",e.UpdateAutomationRank="UpdateAutomationRank",e.UpdateBrandOnboarding="UpdateBrandOnboarding",e.UpdateChatMessagesAsRead="UpdateChatMessagesAsRead",e.UpdateCollectibleOutfitSubmission="UpdateCollectibleOutfitSubmission",e.UpdateComment="UpdateComment",e.UpdateCommentDistinguishedState="UpdateCommentDistinguishedState",e.UpdateCommentFollowState="UpdateCommentFollowState",e.UpdateCommentLockedState="UpdateCommentLockedState",e.UpdateCommentSaveState="UpdateCommentSaveState",e.UpdateCommentSendRepliesState="UpdateCommentSendRepliesState",e.UpdateCommentStickyState="UpdateCommentStickyState",e.UpdateCommentVoteState="UpdateCommentVoteState",e.UpdateCommercialCommunicationState="UpdateCommercialCommunicationState",e.UpdateCommunityStatus="UpdateCommunityStatus",e.UpdateContributorRequestTimestamp="UpdateContributorRequestTimestamp",e.UpdateCookieConsentInteractionBanner="UpdateCookieConsentInteractionBanner",e.UpdateCookieConsentInteractionSetting="UpdateCookieConsentInteractionSetting",e.UpdateDraft="UpdateDraft",e.UpdateEventTime="UpdateEventTime",e.UpdateFollowedKeywords="UpdateFollowedKeywords",e.UpdateHatefulContentFilters="UpdateHatefulContentFilters",e.UpdateHighlightedPost="UpdateHighlightedPost",e.UpdateInboxActivitySeenState="UpdateInboxActivitySeenState",e.UpdateInboxAnnouncementOptOuts="UpdateInboxAnnouncementOptOuts",e.UpdateInboxNotificationPreferences="UpdateInboxNotificationPreferences",e.UpdateMessageDistinguishedState="UpdateMessageDistinguishedState",e.UpdateModeratorHierarchy="UpdateModeratorHierarchy",e.UpdateModPnSettingStatus="UpdateModPnSettingStatus",e.UpdateModPnSettingThreshold="UpdateModPnSettingThreshold",e.UpdateModPreferences="UpdateModPreferences",e.UpdateModRecruitmentApplicationStatus="UpdateModRecruitmentApplicationStatus",e.UpdateMultiredditFavoriteState="UpdateMultiredditFavoriteState",e.UpdateNotificationPreferences="UpdateNotificationPreferences",e.UpdatePost="UpdatePost",e.UpdatePostCollaborators="UpdatePostCollaborators",e.UpdatePostDistinguishedState="UpdatePostDistinguishedState",e.UpdatePostFlair="UpdatePostFlair",e.UpdatePostFollowState="UpdatePostFollowState",e.UpdatePostHideState="UpdatePostHideState",e.UpdatePostLevelCrowdControlSettings="UpdatePostLevelCrowdControlSettings",e.UpdatePostLockedState="UpdatePostLockedState",e.UpdatePostNsfwState="UpdatePostNsfwState",e.UpdatePostPollVoteState="UpdatePostPollVoteState",e.UpdatePostReminderState="UpdatePostReminderState",e.UpdatePostRequirements="UpdatePostRequirements",e.UpdatePostSaveState="UpdatePostSaveState",e.UpdatePostSendRepliesState="UpdatePostSendRepliesState",e.UpdatePostSpoilerState="UpdatePostSpoilerState",e.UpdatePostStickyState="UpdatePostStickyState",e.UpdatePostVoteState="UpdatePostVoteState",e.UpdatePreferredLanguagesPreference="UpdatePreferredLanguagesPreference",e.UpdatePremiumPreferences="UpdatePremiumPreferences",e.UpdateProfileFollowState="UpdateProfileFollowState",e.UpdateProfilePrivacyPreferences="UpdateProfilePrivacyPreferences",e.UpdateProfilePrivacyPreferencesV2="UpdateProfilePrivacyPreferencesV2",e.UpdateProfileSettings="UpdateProfileSettings",e.UpdateProfileSocialLinks="UpdateProfileSocialLinks",e.UpdateProfileStyles="UpdateProfileStyles",e.UpdatePublisherRSSFeed="UpdatePublisherRSSFeed",e.UpdateRecommendationPreferences="UpdateRecommendationPreferences",e.UpdateRedditorAllowlistState="UpdateRedditorAllowlistState",e.UpdateRedditorBlockState="UpdateRedditorBlockState",e.UpdateReportState="UpdateReportState",e.UpdateSavedResponse="UpdateSavedResponse",e.UpdateScheduledPost="UpdateScheduledPost",e.UpdateSearchPreferences="UpdateSearchPreferences",e.UpdateSensitiveAdsPreferences="UpdateSensitiveAdsPreferences",e.UpdateSpokenLanguagesPreference="UpdateSpokenLanguagesPreference",e.UpdateStorefrontListings="UpdateStorefrontListings",e.UpdateSubredditAchievementsSettings="UpdateSubredditAchievementsSettings",e.UpdateSubredditBanner="UpdateSubredditBanner",e.UpdateSubredditChannelsSettings="UpdateSubredditChannelsSettings",e.UpdateSubredditChatChannel="UpdateSubredditChatChannel",e.UpdateSubredditColors="UpdateSubredditColors",e.UpdateSubredditEmojiPermissions="UpdateSubredditEmojiPermissions",e.UpdateSubredditFavoriteState="UpdateSubredditFavoriteState",e.UpdateSubredditFlair="UpdateSubredditFlair",e.UpdateSubredditIcon="UpdateSubredditIcon",e.UpdateSubredditModeratorState="UpdateSubredditModeratorState",e.UpdateSubredditMuteAndNotificationLevelSettings="UpdateSubredditMuteAndNotificationLevelSettings",e.UpdateSubredditMuteSettings="UpdateSubredditMuteSettings",e.UpdateSubredditNotificationSettings="UpdateSubredditNotificationSettings",e.UpdateSubredditPostFlairSettings="UpdateSubredditPostFlairSettings",e.UpdateSubredditQuarantineOptInState="UpdateSubredditQuarantineOptInState",e.UpdateSubredditRule="UpdateSubredditRule",e.UpdateSubredditSettings="UpdateSubredditSettings",e.UpdateSubredditSubscriptions="UpdateSubredditSubscriptions",e.UpdateSubredditUserFlairSettings="UpdateSubredditUserFlairSettings",e.UpdateSubredditWidget="UpdateSubredditWidget",e.UpdateTemporaryEventConfig="UpdateTemporaryEventConfig",e.UpdateTopicPreferences="UpdateTopicPreferences",e.UpdateUserFlair="UpdateUserFlair",e.UpdateUserFlairAndEnabledStatus="UpdateUserFlairAndEnabledStatus",e.UpdateUserInterestTopics="UpdateUserInterestTopics",e.UpdateWelcomePageContent="UpdateWelcomePageContent",e.UpdateWelcomePageState="UpdateWelcomePageState",e.UpsertBanEvasionSubredditSettings="UpsertBanEvasionSubredditSettings",e.UpsertModSafetySubredditSettings="UpsertModSafetySubredditSettings",e.UpsertWikiContributorBan="UpsertWikiContributorBan",e.UpsertWikiPage="UpsertWikiPage",e.UpsertWikiSettings="UpsertWikiSettings",e.UserAvatarBackgrounds="UserAvatarBackgrounds",e.UserAvatarOutfits="UserAvatarOutfits",e.UserCollectibleSubmissions="UserCollectibleSubmissions",e.UserCommunityAchievements="UserCommunityAchievements",e.UserDrawer="UserDrawer",e.UserFlairSettings="UserFlairSettings",e.UserFlairTemplates="UserFlairTemplates",e.UserHoverCard="UserHoverCard",e.UserNameById="UserNameById",e.UserProfile="UserProfile",e.UserSnoovatar="UserSnoovatar",e.ValidateCreatePostInput="ValidateCreatePostInput",e.ValidateCreateSubredditInput="ValidateCreateSubredditInput",e.ValidateSavedResponseTemplate="ValidateSavedResponseTemplate",e.VerifyUserIdentity="VerifyUserIdentity",e.WhereToCrosspostNewModSuggestions="WhereToCrosspostNewModSuggestions",e.WhereToPost="WhereToPost",e.WikiApprovedContributors="WikiApprovedContributors",e.WikiBannedContributors="WikiBannedContributors",e.WikiComparisonDiff="WikiComparisonDiff",e.WikiContent="WikiContent",e.WikiGeneralSettings="WikiGeneralSettings",e.WikiPage="WikiPage",e.WikiPageContributors="WikiPageContributors",e.WikiPageRevisions="WikiPageRevisions",e.WikiPageRevisionsV2="WikiPageRevisionsV2",e.WikiPageSettings="WikiPageSettings",e.WikiPageTree="WikiPageTree",e.WikiRecentRevisions="WikiRecentRevisions",e.WikiRevisionByCursor="WikiRevisionByCursor",e.WikiTemplates="WikiTemplates"}(Cr||(Cr={})),Cr.AcceptAutomationRecommendation,Cr.AcceptModeratorInvite,Cr.AddBrandAnalyticsSearchQueryKeyword,Cr.AddModmailMessage,Cr.AddSubredditWidget,Cr.AddWikiContributor,Cr.AddWikiPageEditor,Cr.ApproveRedditor,Cr.BackupVault,Cr.BanSubredditUser,Cr.CancelEconRecurringPayment,Cr.CancelPaySubscription,Cr.CancelTemporaryEventRun,Cr.ChangePaymentMethod,Cr.ChangeStripePaymentMethod,Cr.ChatBanChatChannelUser,Cr.ChatBanSubredditUser,Cr.ChatCreateShareUrl,Cr.ChatCreateSubredditChannel,Cr.ChatCreateUccChatChannel,Cr.ChatDeleteChannel,Cr.ChatModApprove,Cr.ChatModRemove,Cr.ChatPinMessagesToSubredditChannel,Cr.ChatRetractChatChannelUserRoleInvitation,Cr.ChatUnbanChatChannelUser,Cr.ChatUnbanSubredditUser,Cr.ChatUpdateAccountPreferences,Cr.ChatUpdateChannel,Cr.ChatUpdateChannelModerationSettings,Cr.ChatUpdateChatChannelUserRolePromotion,Cr.ChatUpdateChatChannelUsersRoles,Cr.ChatUpdateCrowdControlLevel,Cr.ChatUpdateRedditorBlockState,Cr.Checkout,Cr.CheckoutDevvitProducts,Cr.ClaimFreeNft,Cr.ClearPostFlair,Cr.ClearUserFlair,Cr.CreateAdAccount,Cr.CreateAutomation,Cr.CreateAvatar,Cr.CreateAwardOrder,Cr.CreateCaptchaToken,Cr.CreateCustomPostSnapshot,Cr.CreateEconOrder,Cr.CreateEconPayment,Cr.CreateMediaUploadLease,Cr.CreateModUserNote,Cr.CreateModmailConversation,Cr.CreatePaymentIntent,Cr.CreateProfileStructuredStylesUploadLease,Cr.CreatePublisherArticle,Cr.CreatePublisherRssFeed,Cr.CreateSavedResponse,Cr.CreateStorefrontOrder,Cr.CreateSubreddit,Cr.CreateSubredditRule,Cr.CreateSubredditStructuredStylesUploadLease,Cr.CreateUserFlair,Cr.CustomFeedAddSubreddits,Cr.CustomFeedCreate,Cr.CustomFeedDelete,Cr.CustomFeedRemoveSubreddits,Cr.CustomFeedUpdateSubscriptionState,Cr.DeclineModeratorInvite,Cr.DeleteAchievementNotifications,Cr.DeleteAutomation,Cr.DeleteComment,Cr.DeleteFollowedKeywords,Cr.DeleteInboxNotifications,Cr.DeleteModUserNote,Cr.DeletePost,Cr.DeletePostDraft,Cr.DeletePrivateMessage,Cr.DeleteProfileSocialLinks,Cr.DeletePublisherRSSFeed,Cr.DeleteSavedResponse,Cr.DeleteScheduledPost,Cr.DeleteSubredditChatChannel,Cr.DeleteSubredditEmoji,Cr.DeleteSubredditFlairTemplate,Cr.DeleteSubredditMuteSettings,Cr.DeleteSubredditRule,Cr.DeleteSubredditWidget,Cr.DisapproveRedditor,Cr.DismissAutomationRecommendation,Cr.DismissSmartEscalation,Cr.EnrollInStreaks,Cr.ExposeVariant,Cr.GenerateSubredditEmojiUploadLease,Cr.GrantAppPermission,Cr.HideArticleCommunityRecommendation,Cr.HideInboxAnnouncements,Cr.IdentityUserPreferences,Cr.IgnoreReports,Cr.MarkInboxAnnouncementsRead,Cr.MarkNotificationRead,Cr.MarkPrivateMessageAsRead,Cr.ModBulkApprove,Cr.ModBulkIgnore,Cr.ModBulkLock,Cr.ModBulkMarkNSFW,Cr.ModBulkMarkSpoiler,Cr.ModBulkRemove,Cr.ModBulkUnignore,Cr.ModBulkUnlock,Cr.ModBulkUnmarkNSFW,Cr.ModBulkUnmarkSpoiler,Cr.ModBulkUpdatePostFlair,Cr.ModGetUserRedditorInfoByName,Cr.ModRecruitmentInviteApplicants,Cr.ModToolsSetYearInReviewAvailability,Cr.MuteMember,Cr.OptInToGatedSubreddit,Cr.PromotePost,Cr.PublishSubmissionGroups,Cr.RegisterPushToken,Cr.RegisterVaultAddress,Cr.RemoveHighlightedPost,Cr.RemoveWikiContributor,Cr.RemoveWikiContributorBan,Cr.RemoveWikiPageEditor,Cr.RenderSavedResponseTemplate,Cr.RenderSavedResponseTemplateBySubredditId,Cr.ReorderFlairs,Cr.ReorderHighlightedPosts,Cr.ReorderSavedResponses,Cr.ReorderSubredditRules,Cr.ReorderSubredditWidgets,Cr.ReportAward,Cr.ReportComment,Cr.ReportModmailMessage,Cr.ReportPost,Cr.ReportPrivateMessage,Cr.ReportRedditor,Cr.ReportUserDetails,Cr.RequestAppeal,Cr.RequestCommunitySettingsChange,Cr.RequestUserDataExport,Cr.RestoreWikiPageRevision,Cr.RevokeAppPermission,Cr.SaveSubredditEmoji,Cr.SaveWikiPageSettings,Cr.SendDirectChatToRedditor,Cr.SendMessageToSubreddit,Cr.SetBrandAnalyticsKeywords,Cr.SetModRecruitmentApplicationTemplate,Cr.SetModRecruitmentEnabled,Cr.SetModmailConversationsArchiveStatus,Cr.SetModmailConversationsFilterStatus,Cr.SetModmailConversationsHighlightStatus,Cr.SetModmailConversationsReadStatus,Cr.SetProfileSocialLinks,Cr.SetSubredditEmojisEnabled,Cr.SetSuggestedSort,Cr.StoreUxtargetingAction,Cr.SubmitMedia,Cr.SubmitModRecruitmentApplication,Cr.SubmitScheduledPostNow,Cr.SubredditWidgets,Cr.ToggleHideWikiPageRevision,Cr.UnbanSubredditUser,Cr.UnhideArticleCommunityRecommendation,Cr.UnignoreReports,Cr.UnmuteMember,Cr.UpdateAccountGender,Cr.UpdateAccountPreferences,Cr.UpdateAchievementTrophyIsNew,Cr.UpdateAchievementTrophyIsPinned,Cr.UpdateAdHideState,Cr.UpdateAdsPaymentMethod,Cr.UpdateAutomation,Cr.UpdateAutomationRank,Cr.UpdateBrandOnboarding,Cr.UpdateChatMessagesAsRead,Cr.UpdateCollectibleOutfitSubmission,Cr.UpdateComment,Cr.UpdateCommentDistinguishedState,Cr.UpdateCommentFollowState,Cr.UpdateCommentLockedState,Cr.UpdateCommentSaveState,Cr.UpdateCommentSendRepliesState,Cr.UpdateCommentStickyState,Cr.UpdateCommentVoteState,Cr.UpdateCommercialCommunicationState,Cr.UpdateCommunityStatus,Cr.UpdateContributorRequestTimestamp,Cr.UpdateCookieConsentInteractionBanner,Cr.UpdateCookieConsentInteractionSetting,Cr.UpdateEventTime,Cr.UpdateFollowedKeywords,Cr.UpdateHighlightedPost,Cr.UpdateInboxActivitySeenState,Cr.UpdateInboxAnnouncementOptOuts,Cr.UpdateInboxNotificationPreferences,Cr.UpdateMessageDistinguishedState,Cr.UpdateModPnSettingStatus,Cr.UpdateModPnSettingThreshold,Cr.UpdateModPreferences,Cr.UpdateModRecruitmentApplicationStatus,Cr.UpdateMultiredditFavoriteState,Cr.UpdateNotificationPreferences,Cr.UpdatePostCollaborators,Cr.UpdatePostDistinguishedState,Cr.UpdatePostFlair,Cr.UpdatePostFollowState,Cr.UpdatePostHideState,Cr.UpdatePostLevelCrowdControlSettings,Cr.UpdatePostLockedState,Cr.UpdatePostNsfwState,Cr.UpdatePostPollVoteState,Cr.UpdatePostReminderState,Cr.UpdatePostRequirements,Cr.UpdatePostSaveState,Cr.UpdatePostSendRepliesState,Cr.UpdatePostSpoilerState,Cr.UpdatePostStickyState,Cr.UpdatePostVoteState,Cr.UpdatePreferredLanguagesPreference,Cr.UpdatePremiumPreferences,Cr.UpdateProfileFollowState,Cr.UpdateProfilePrivacyPreferences,Cr.UpdateProfilePrivacyPreferencesV2,Cr.UpdateProfileSettings,Cr.UpdateProfileSocialLinks,Cr.UpdateProfileStyles,Cr.UpdateRecommendationPreferences,Cr.UpdateRedditorAllowlistState,Cr.UpdateRedditorBlockState,Cr.UpdateReportState,Cr.UpdateSavedResponse,Cr.UpdateScheduledPost,Cr.UpdateSearchPreferences,Cr.UpdateSensitiveAdsPreferences,Cr.UpdateSpokenLanguagesPreference,Cr.UpdateStorefrontListings,Cr.UpdateSubredditAchievementsSettings,Cr.UpdateSubredditBanner,Cr.UpdateSubredditChatChannel,Cr.UpdateSubredditColors,Cr.UpdateSubredditEmojiPermissions,Cr.UpdateSubredditFavoriteState,Cr.UpdateSubredditFlair,Cr.UpdateSubredditIcon,Cr.UpdateSubredditModeratorState,Cr.UpdateSubredditMuteAndNotificationLevelSettings,Cr.UpdateSubredditMuteSettings,Cr.UpdateSubredditNotificationSettings,Cr.UpdateSubredditPostFlairSettings,Cr.UpdateSubredditQuarantineOptInState,Cr.UpdateSubredditRule,Cr.UpdateSubredditSettings,Cr.UpdateSubredditSubscriptions,Cr.UpdateSubredditUserFlairSettings,Cr.UpdateSubredditWidget,Cr.UpdateUserFlair,Cr.UpdateUserFlairAndEnabledStatus,Cr.UpdateWelcomePageContent,Cr.UpdateWelcomePageState,Cr.UpsertModSafetySubredditSettings,Cr.UpsertWikiContributorBan,Cr.UpsertWikiPage,Cr.UpsertWikiSettings,Cr.AchievementTrophyById,Cr.AchievementUnlockedNotifications,Cr.AddSubredditWidget,Cr.AllChatsPageRecommendations,Cr.AllowlistedRedditorInfo,Cr.BackupVault,Cr.BlockedAccounts,Cr.BoostedPostAdInsights,Cr.BrandAnalyticsSearchKeyword,Cr.ChatBannedUsers,Cr.ChatBlockedRedditors,Cr.ChatContentControlSettings,Cr.ChatCrowdControlSettings,Cr.ChatCurrentUserContext,Cr.ChatGetChatChannelBannedUsers,Cr.ChatGetUccChannelTaggingInfo,Cr.ChatGetUserMessageRequestSetting,Cr.ChatIsUserBannedFromChatChannel,Cr.ChatQueryTagSubreddits,Cr.ChatRedditors,Cr.ChatRedditorsByName,Cr.ChatReportForm,Cr.ChatSearchChatMessageReactionIcons,Cr.ChatShareUrl,Cr.ChatSubreddit,Cr.ClaimFreeNft,Cr.CommunityName,Cr.CommunitySearch,Cr.CommunitySuggestions,Cr.ConvertMarkdownToRTJSON,Cr.ConvertRTJSONToMarkdown,Cr.CreateAvatar,Cr.CreateCustomPostSnapshot,Cr.CreateTemporaryEventConfig,Cr.DeleteSubredditWidget,Cr.DismissBrandAnalyticsKeywordSuggestion,Cr.EligibleCommunitiesPage,Cr.EndPostEvent,Cr.EnrollInStreaks,Cr.EvaluateCommentAutomationsByPostId,Cr.EvaluatePostAutomations,Cr.ExportVaultBackup,Cr.FetchTitle,Cr.GeneratedProfileDescriptions,Cr.GeneratedUsernames,Cr.GetAdBusinessNameById,Cr.GetAnswersDynamicConfig,Cr.GetApprovedUsers,Cr.GetFollowedKeywords,Cr.GetFundingInstrumentSecret,Cr.GetIsCommentGuidanceAvailableFromPostId,Cr.GetMessageRecipientSubredditInfo,Cr.GetVaultRegistrationChallenge,Cr.IdentityImmersiveTranslationSetting,Cr.IsEmailValidForRegistration,Cr.IsUsernameValidForRegistration,Cr.MediaAuthInfo,Cr.ModAutomationRules,Cr.ModeratorEvaluateCommentAutomations,Cr.ModeratorEvaluatePostAutomations,Cr.MutedSubreddits,Cr.PersonalizedDevvitGames,Cr.PreviewCommentAutomation,Cr.PreviewPostAutomation,Cr.ProfileKeywords,Cr.RedditorByName,Cr.RedditorIdByName,Cr.RegisterVaultAddress,Cr.ReorderSubredditWidgets,Cr.ReportUserDetails,Cr.SafetyFilterEvaluationsAsModerator,Cr.ScheduleTemporaryEventRun,Cr.SettingsModNotificationModal,Cr.SettingsNotificationsCommunities,Cr.SettingsNotificationsModeratedCommunities,Cr.SubredditByName,Cr.SubredditStyles,Cr.SubredditTypeahead,Cr.SubredditWidgets,Cr.TaxonomyTopicsInfo,Cr.TrophyCategories,Cr.UndoDismissBrandAnalyticsKeywordSuggestion,Cr.UnlockedCommunitiesPage,Cr.UpdateEventTime,Cr.UpdateSubredditAchievementsSettings,Cr.UpdateSubredditWidget,Cr.UpdateTemporaryEventConfig,Cr.UserCommunityAchievements,Cr.ValidateCreatePostInput,Cr.ValidateCreateSubredditInput,Cr.ValidateSavedResponseTemplate,Cr.WhereToCrosspostNewModSuggestions,Cr.WikiComparisonDiff,Cr.WikiPage,Cr.WikiRevisionByCursor;const Pr=["https://ads.reddit.com","https://reddit-service-ads-ui"];function Rr(e){window.Sentry?.captureMessage?.(e)}const wr=[429,403];class Or extends Error{constructor(e,t){super(e),this.response=t,this.name="ClientGQLNetworkError"}}async function Mr({operation:e,variables:t={},init:o={}}){try{const i=await fetch((Pr.some((e=>Ai.origin.startsWith(e)))?"https://www.reddit.com":"")+"/svc/shreddit/graphql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({operation:e,variables:t,csrf_token:Ut.get("csrf_token")}),...o});if(i.ok)return i.json();const n=await i.text();Rr(`Client GQL Request failed with status ${i.status}: ${n}`);const r=Ir(i);throw r&&wr.includes(i.status)&&function(e,t){const o=document.querySelector("shreddit-app");o&&o.dispatchEvent(v("faceplate-alert",{level:Ce.error,message:e,cause:t}))}(r,`client-gql-network-error-${i.status}`),new Or(n)}catch(t){throw Rr(`Unable to complete the request for GQL operation "${e}": ${t}`),t}}const Nr={None:"NONE",Subscribed:"SUBSCRIBED"},Dr={AmaCarouselInFeed:"AMA_CAROUSEL_IN_FEED",AnnouncementInFeed:"ANNOUNCEMENT_IN_FEED",ArenaFeed:"ARENA_FEED",Auth:"AUTH",AuthPrompt:"AUTH_PROMPT",AwarderChurned:"AWARDER_CHURNED",AwarderDormant:"AWARDER_DORMANT",AwarderFirstTime:"AWARDER_FIRST_TIME",AwarderNeverAwarded:"AWARDER_NEVER_AWARDED",AwarderRecurring:"AWARDER_RECURRING",AwardsPromo:"AWARDS_PROMO",BlockingXpromo:"BLOCKING_XPROMO",BypassableXpromo:"BYPASSABLE_XPROMO",ChatChannelsOnPdp:"CHAT_CHANNELS_ON_PDP",ChatChannelUnitInHomeFeed:"CHAT_CHANNEL_UNIT_IN_HOME_FEED",ChatOnboardingCta:"CHAT_ONBOARDING_CTA",CommunityOnboarding:"COMMUNITY_ONBOARDING",DesktopSidebarAuthUnit:"DESKTOP_SIDEBAR_AUTH_UNIT",EducationalDeeplinkPrompt:"EDUCATIONAL_DEEPLINK_PROMPT",EverestPromo:"EVEREST_PROMO",ExclusiveCommunitiesGrowthTest:"EXCLUSIVE_COMMUNITIES_GROWTH_TEST",ExclusiveCommunitiesValidationTest:"EXCLUSIVE_COMMUNITIES_VALIDATION_TEST",GamingCommunityUpsell:"GAMING_COMMUNITY_UPSELL",GoogleOneTap:"GOOGLE_ONE_TAP",HighFlyerUpsell:"HIGH_FLYER_UPSELL",InlineAuthUpsell:"INLINE_AUTH_UPSELL",InFeedSurvey:"IN_FEED_SURVEY",LanguagePreferenceBottomSheet:"LANGUAGE_PREFERENCE_BOTTOM_SHEET",ListingBelow:"LISTING_BELOW",LiveChatReactionEdu:"LIVE_CHAT_REACTION_EDU",LiveChatVideoEdu:"LIVE_CHAT_VIDEO_EDU",LoggedInOnboarding:"LOGGED_IN_ONBOARDING",ModularEducation:"MODULAR_EDUCATION",ModRecruitmentBanner:"MOD_RECRUITMENT_BANNER",NewInYourCommunitiesCarousel:"NEW_IN_YOUR_COMMUNITIES_CAROUSEL",NewUserEducation:"NEW_USER_EDUCATION",NewVisitorFeedNav:"NEW_VISITOR_FEED_NAV",NsfwBlocking:"NSFW_BLOCKING",OnboardingAgeSelection:"ONBOARDING_AGE_SELECTION",OnboardingEmailConfirmation:"ONBOARDING_EMAIL_CONFIRMATION",OnboardingFlowCompletion:"ONBOARDING_FLOW_COMPLETION",OnboardingGenderSelection:"ONBOARDING_GENDER_SELECTION",OnboardingInFeed:"ONBOARDING_IN_FEED",OnboardingLanguageSelection:"ONBOARDING_LANGUAGE_SELECTION",OnboardingTopicsSelection:"ONBOARDING_TOPICS_SELECTION",PersistentQrCodeUnit:"PERSISTENT_QR_CODE_UNIT",PersonalizedCommunityRecommendationsInDiscoverFeed:"PERSONALIZED_COMMUNITY_RECOMMENDATIONS_IN_DISCOVER_FEED",PersonalizedCommunityRecommendationsInHomeFeed:"PERSONALIZED_COMMUNITY_RECOMMENDATIONS_IN_HOME_FEED",PwaXpromo:"PWA_XPROMO",RecommendationChainingInHomeFeed:"RECOMMENDATION_CHAINING_IN_HOME_FEED",RedditProProfileCard:"REDDIT_PRO_PROFILE_CARD",RedditProProfilePinPostCoachmark:"REDDIT_PRO_PROFILE_PIN_POST_COACHMARK",RedditProPromo:"REDDIT_PRO_PROMO",RedditProShareButtonCoachmark:"REDDIT_PRO_SHARE_BUTTON_COACHMARK",ReonboardingBottomSheet:"REONBOARDING_BOTTOM_SHEET",ReonboardingBottomSheetInPlace:"REONBOARDING_BOTTOM_SHEET_IN_PLACE",ReonboardingInFeed:"REONBOARDING_IN_FEED",ScreenshotSharingBanner:"SCREENSHOT_SHARING_BANNER",StringIdExperience:"STRING_ID_EXPERIENCE",SubredditRecommendationsInSubredditFeed:"SUBREDDIT_RECOMMENDATIONS_IN_SUBREDDIT_FEED",ViralCommunityXpromo:"VIRAL_COMMUNITY_XPROMO",WikiPilotCommunities:"WIKI_PILOT_COMMUNITIES",WikiSubredditFeedCarousel:"WIKI_SUBREDDIT_FEED_CAROUSEL"};function Lr(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function Ur(e){return"object"===Lr(e)}function kr(e,t){return e.length<124?e:t}var xr,Fr;function Vr(e){if(!Ur(e))throw new Error(`Message is expected to be an object, but got ${Lr(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if("string"!=typeof e.type)throw new Error(`Message is expects the 'type' property to be a string, but got ${Lr(e.type)}`);switch(e.type){case Fr.ConnectionInit:case Fr.ConnectionAck:case Fr.Ping:case Fr.Pong:if(null!=e.payload&&!Ur(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break;case Fr.Subscribe:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Lr(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Ur(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Lr(e.payload)}`);if("string"!=typeof e.payload.query)throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Lr(e.payload.query)}`);if(null!=e.payload.variables&&!Ur(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Lr(e.payload.variables)}`);if(null!=e.payload.operationName&&"string"!==Lr(e.payload.operationName))throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Lr(e.payload.operationName)}`);if(null!=e.payload.extensions&&!Ur(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Lr(e.payload.extensions)}`);break;case Fr.Next:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Lr(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Ur(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Lr(e.payload)}`);break;case Fr.Error:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Lr(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(t=e.payload,!(Array.isArray(t)&&t.length>0&&t.every((e=>"message"in e))))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break;case Fr.Complete:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Lr(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break;default:throw new Error(`Invalid message 'type' property "${e.type}"`)}var t;return e}function Br(e,t){return Vr(e),JSON.stringify(e,t)}function Gr(e){const{url:t,connectionParams:o,lazy:i=!0,onNonLazyError:n=console.error,lazyCloseTimeout:r=0,keepAlive:s=0,disablePong:a,connectionAckWaitTimeout:d=0,retryAttempts:l=5,retryWait:c=async function(e){let t=1e3;for(let o=0;o<e;o++)t*=2;await new Promise((e=>setTimeout(e,t+Math.floor(2700*Math.random()+300))))},shouldRetry:u=Wr,isFatalConnectionProblem:h,on:p,webSocketImpl:m,generateID:g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},jsonMessageReplacer:_,jsonMessageReviver:E}=e;let f;if(m){if(!("function"==typeof(v=m)&&"constructor"in v&&"CLOSED"in v&&"CLOSING"in v&&"CONNECTING"in v&&"OPEN"in v))throw new Error("Invalid WebSocket implementation provided");f=m}else"undefined"!=typeof WebSocket?f=WebSocket:"undefined"!=typeof global?f=global.WebSocket||global.MozWebSocket:"undefined"!=typeof window&&(f=window.WebSocket||window.MozWebSocket);var v;if(!f)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const S=f,b=(()=>{const e=(()=>{const e={};return{on:(t,o)=>(e[t]=o,()=>{delete e[t]}),emit(t){var o;"id"in t&&(null===(o=e[t.id])||void 0===o||o.call(e,t))}}})(),t={connecting:(null==p?void 0:p.connecting)?[p.connecting]:[],opened:(null==p?void 0:p.opened)?[p.opened]:[],connected:(null==p?void 0:p.connected)?[p.connected]:[],ping:(null==p?void 0:p.ping)?[p.ping]:[],pong:(null==p?void 0:p.pong)?[p.pong]:[],message:(null==p?void 0:p.message)?[e.emit,p.message]:[e.emit],closed:(null==p?void 0:p.closed)?[p.closed]:[],error:(null==p?void 0:p.error)?[p.error]:[]};return{onMessage:e.on,on(e,o){const i=t[e];return i.push(o),()=>{i.splice(i.indexOf(o),1)}},emit(e,...o){for(const i of[...t[e]])i(...o)}}})();function y(e){const t=[b.on("error",(o=>{t.forEach((e=>e())),e(o)})),b.on("closed",(o=>{t.forEach((e=>e())),e(o)}))]}let C,T,A=0,I=!1,P=0,R=!1;async function w(){clearTimeout(T);const[e,i]=await(null!=C?C:C=new Promise(((e,i)=>(async()=>{if(I){if(await c(P),!A)return C=void 0,i({code:1e3,reason:"All Subscriptions Gone"});P++}b.emit("connecting");const n=new S("function"==typeof t?await t():t,"graphql-transport-ws");let r,l;function u(){isFinite(s)&&s>0&&(clearTimeout(l),l=setTimeout((()=>{n.readyState===S.OPEN&&(n.send(Br({type:Fr.Ping})),b.emit("ping",!1,void 0))}),s))}y((e=>{C=void 0,clearTimeout(r),clearTimeout(l),i(e),Wr(e)&&4499===e.code&&(n.close(4499,"Terminated"),n.onerror=null,n.onclose=null)})),n.onerror=e=>b.emit("error",e),n.onclose=e=>b.emit("closed",e),n.onopen=async()=>{try{b.emit("opened",n);const e="function"==typeof o?await o():o;if(n.readyState!==S.OPEN)return;n.send(Br(e?{type:Fr.ConnectionInit,payload:e}:{type:Fr.ConnectionInit},_)),isFinite(d)&&d>0&&(r=setTimeout((()=>{n.close(xr.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")}),d)),u()}catch(e){b.emit("error",e),n.close(xr.InternalClientError,kr(e instanceof Error?e.message:new Error(e).message,"Internal client error"))}};let h=!1;n.onmessage=({data:t})=>{try{const o=function(e,t){return Vr("string"==typeof e?JSON.parse(e,t):e)}(t,E);if(b.emit("message",o),"ping"===o.type||"pong"===o.type)return b.emit(o.type,!0,o.payload),void("pong"===o.type?u():a||(n.send(Br(o.payload?{type:Fr.Pong,payload:o.payload}:{type:Fr.Pong})),b.emit("pong",!1,o.payload)));if(h)return;if(o.type!==Fr.ConnectionAck)throw new Error(`First message cannot be of type ${o.type}`);clearTimeout(r),h=!0,b.emit("connected",n,o.payload),I=!1,P=0,e([n,new Promise(((e,t)=>y(t)))])}catch(e){n.onmessage=null,b.emit("error",e),n.close(xr.BadResponse,kr(e instanceof Error?e.message:new Error(e).message,"Bad response"))}}})())));e.readyState===S.CLOSING&&await i;let n=()=>{};const l=new Promise((e=>n=e));return[e,n,Promise.race([l.then((()=>{if(!A){const t=()=>e.close(1e3,"Normal Closure");isFinite(r)&&r>0?T=setTimeout((()=>{e.readyState===S.OPEN&&t()}),r):t()}})),i])]}function O(e){if(Wr(e)&&(t=e.code,![1e3,1001,1006,1005,1012,1013,1013].includes(t)&&t>=1e3&&t<=1999||[xr.InternalServerError,xr.InternalClientError,xr.BadRequest,xr.BadResponse,xr.Unauthorized,xr.SubprotocolNotAcceptable,xr.SubscriberAlreadyExists,xr.TooManyInitialisationRequests].includes(e.code)))throw e;var t;if(R)return!1;if(Wr(e)&&1e3===e.code)return A>0;if(!l||P>=l)throw e;if(!u(e))throw e;if(null==h?void 0:h(e))throw e;return I=!0}return i||(async()=>{for(A++;;)try{const[,,e]=await w();await e}catch(e){try{if(!O(e))return}catch(e){return null==n?void 0:n(e)}}})(),{on:b.on,subscribe(e,t){const o=g(e);let i=!1,n=!1,r=()=>{A--,i=!0};return(async()=>{for(A++;;)try{const[s,a,d]=await w();if(i)return a();const l=b.onMessage(o,(e=>{switch(e.type){case Fr.Next:return void t.next(e.payload);case Fr.Error:return n=!0,i=!0,t.error(e.payload),void r();case Fr.Complete:return i=!0,void r()}}));return s.send(Br({id:o,type:Fr.Subscribe,payload:e},_)),r=()=>{i||s.readyState!==S.OPEN||s.send(Br({id:o,type:Fr.Complete},_)),A--,i=!0,a()},void await d.finally(l)}catch(e){if(!O(e))return}})().then((()=>{n||t.complete()})).catch((e=>{t.error(e)})),()=>{i||r()}},async dispose(){if(R=!0,C){const[e]=await C;e.close(1e3,"Normal Closure")}},terminate(){C&&b.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Wr(e){return Ur(e)&&"code"in e&&"reason"in e}async function Hr(){const e=Ut.get("csrf_token")??"",t=await fetch("/svc/shreddit/token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({csrf_token:e})});return t.ok?t.json():null}!function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"}(xr||(xr={})),function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"}(Fr||(Fr={}));const qr=(()=>{let e,t=!1,o=!1;const i=()=>{t=!0},n=()=>{o=!0};function r({reconnectOnClose:r,onConnectedCallback:s,lazyCloseTimeout:a}){return(!e||r&&t||o)&&(e=function({onConnectedCallback:e,onCompletedCallback:t,onCloseFunction:o,lazyCloseTimeout:i=5e3}){let n=!1;return Gr({url:"wss://gql-realtime.reddit.com/query",connectionAckWaitTimeout:5e3,lazyCloseTimeout:i,retryAttempts:1,shouldRetry:()=>n,on:{connecting:()=>{n=!1},closed:e=>{if(1e3===e.code)throw o(),new Error("Connection has been terminated.")},message:o=>{o.type===Fr.ConnectionAck&&(e?.(),n=!0),o.type===Fr.Complete&&t?.()}},lazy:!0,connectionParams:async()=>{const e=await Hr();return e?{Authorization:`Bearer ${e.token}`}:{}}})}({onCloseFunction:i,onConnectedCallback:s,onCompletedCallback:n,lazyCloseTimeout:a})),e}return({query:e,onData:t,onClose:o,onConnectedCallback:i,reconnectOnClose:n=!1,lazyCloseTimeout:s})=>r({reconnectOnClose:n,onConnectedCallback:i,lazyCloseTimeout:s}).subscribe(e,{next:t,error:e=>o?.(e),complete:()=>o?.()})})();var Yr;!function(e){e.Control1="control_1",e.Control2="control_2"}(Yr||(Yr={}));const $r=e=>!!(e=>{if(e!==Yr.Control1&&e!==Yr.Control2)return e||void 0})(e);function jr(e){if(window?.CLIENT_EXPERIMENTS)return window?.CLIENT_EXPERIMENTS?.[e]}function Kr(e){const t=jr(e);return $r(t)}let Qr=Mr;const zr="client_ad",Jr={[zn.IMPRESSION]:{source:zr,action:"view",noun:"ad"},[zn.CLICK]:{source:zr,action:"click",noun:"ad"},[zn.VIDEO_VIEWABLE_IMPRESSION]:{source:zr,action:"view",noun:"video"},[zn.VIDEO_VIEWABLE_WATCHED_6_SECS]:{source:zr,action:"view",noun:"video"},[zn.VIDEO_VIEWABLE_WATCHED_15_SECS]:{source:zr,action:"view",noun:"video"},[zn.GROUP_M_VIEWABLE]:{source:zr,action:"group_m_viewable",noun:"ad"},[zn.COMMENTS_VIEW]:{source:zr,action:"view",noun:"comments"},[zn.UPVOTE]:{source:zr,action:"upvote",noun:"ad"},[zn.DOWNVOTE]:{source:zr,action:"downvote",noun:"ad"},[zn.COMMENT]:{source:zr,action:"submit",noun:"comment"},[zn.COMMENT_UPVOTE]:{source:zr,action:"upvote",noun:"comment"},[zn.COMMENT_DOWNVOTE]:{source:zr,action:"downvote",noun:"comment"},[zn.VIDEO_FULLY_VIEWABLE_IMPRESSION]:{source:zr,action:"fully_view",noun:"video"},[zn.VIDEO_PLAYED_WITH_SOUND]:{source:zr,action:"watch_with_sound",noun:"video"},[zn.VIDEO_PLAYED_EXPANDED]:{source:zr,action:"watch_expanded",noun:"video"},[zn.VIDEO_GROUP_M_VIEWABLE]:{source:zr,action:"watch_group_m",noun:"video"},[zn.VIDEO_WATCHED_25]:{source:zr,action:"watch_percentage",noun:"video"},[zn.VIDEO_WATCHED_50]:{source:zr,action:"watch_percentage",noun:"video"},[zn.VIDEO_WATCHED_75]:{source:zr,action:"watch_percentage",noun:"video"},[zn.VIDEO_WATCHED_95]:{source:zr,action:"watch_percentage",noun:"video"},[zn.VIDEO_WATCHED_100]:{source:zr,action:"watch_percentage",noun:"video"},[zn.VIDEO_STARTED]:{source:zr,action:"watch_percentage",noun:"video"},[zn.VIDEO_WATCHED_3_SECS]:{source:zr,action:"watch_seconds",noun:"video"},[zn.VIDEO_WATCHED_5_SECS]:{source:zr,action:"watch_seconds",noun:"video"},[zn.VIDEO_WATCHED_10_SECS]:{source:zr,action:"watch_seconds",noun:"video"},[zn.VENDOR_FULLY_IN_VIEW]:{source:zr,action:"vendor_fully_in_view",noun:"ad"},[zn.VENDOR_FULLY_IN_VIEW_5_SECS]:{source:zr,action:"vendor_fully_in_view",noun:"ad"},[zn.VENDOR_FULLY_IN_VIEW_15_SECS]:{source:zr,action:"vendor_fully_in_view",noun:"ad"},[zn.VIEWABLE_IMPRESSION]:{source:zr,action:"viewable",noun:"ad"},[zn.UNLOAD]:{source:zr,action:"unload",noun:"ad"},[zn.GALLERY_ITEM_IMPRESSION]:{source:zr,action:"view",noun:"gallery_item"},[zn.ENGAGED_CLICK]:{source:zr,action:"engaged_click",noun:"ad"},[zn.PRODUCT_IMPRESSION]:{source:zr,action:"view",noun:"product"},[zn.PRODUCT_CLICK]:{source:zr,action:"click",noun:"product"},[zn.LEAD_GENERATION]:{source:zr,action:"submit",noun:"lead"}};function Xr(e){return!!e.encryptedTrackingId}function Zr(e,t){return e.encryptedTrackingId+t.additionalEventMetadata}function es(e){return!!fr.includes(e)||_r.some((({experimentName:t,pixelEventTypes:o})=>Kr(t)&&o.includes(e)))}function ts(e){return Er.some((({experimentName:t,pixelEventTypes:o})=>Kr(t)&&o.includes(e)))}function os({target:e,pixelEvent:t,impressionId:o,displayMetadata:i,videoMetadata:n,pixelRequestBody:r}){const s=Jr[t.type];if(!s)return;const a={impression_id:o,event_timestamp:Math.floor(Date.now()),display_metadata:i,video_metadata:n,additional_metadata:r.additionalEventMetadata};if(Xr(t))a.encrypted_tracking_id=t.encryptedTrackingId,a.encrypted_tracking_payload=r.encryptedTrackingPayload;else{if(!$n(t.url))return;const{encryptedTrackingId:e,encryptedTrackingPayload:o}=function(e){const t=new URL(e);return{encryptedTrackingPayload:t.searchParams.get("za")||"",encryptedTrackingId:t.searchParams.get("zp")||""}}(t.url);a.encrypted_tracking_id=e,a.encrypted_tracking_payload=o}const d={client_ad_event_metadata:a,video_watch_metadata:mr[t.type],vendor_fully_in_view_metadata:gr[t.type],screen:{height:window.screen.height,width:window.screen.width}},l=v("track-event",{details:ho(s,d)});e.dispatchEvent(l)}function is(e,t,o){if(Kr("shreddit_pixel_counter_metric_killswitch"))return;if(!Xr(o)&&!$n(o.url))return;ft(e,po({name:"ads_igif_requests_total",value:1,label_values:[`tracking_type,${zn[o.type]}`,`request_stage,${t}`]}))}function ns(e){const t=new Map;return e.forEach((e=>{const o=t.get(e.type)||[];o.push(e),t.set(e.type,o)})),t}const rs=new class{constructor(){this.postUnloadQueue=[],this.postUnloadQueueData=new Map,this.deviceType=Xt.MOBILE,this.removeFromUnloadQueue=(e,t)=>{const o=t||this.postUnloadQueueData.get(e);clearTimeout(o?.timer),this.postUnloadQueueData.delete(e);this.postUnloadQueue.indexOf(e)>-1&&this.postUnloadQueue.splice(this.postUnloadQueue.indexOf(e),1)},this.queuePostForUnload=(e,t,o,i,n,r)=>{if(!this.postUnloadQueue.some((e=>e===t))&&this.postEvents.get(t)?.get(zn.UNLOAD)&&(this.postUnloadQueueData.set(t,{postId:e,impressionId:t,getMetadata:i,firePixel:n,isPixelFiringRefactorEnabled:o,getPixelScalingFields:r,timer:setTimeout((()=>{o?n({pixelEventType:zn.UNLOAD,metadata:i()}):this.firePixel({postId:e,impressionId:t,pixelEventType:zn.UNLOAD,metadata:i(),pixelRequestBody:r()}),this.removeFromUnloadQueue(t)}),6e5)}),this.postUnloadQueue.push(t),this.postUnloadQueue.length>5)){const e=this.postUnloadQueue.shift();if(e){const t=this.postUnloadQueueData.get(e);if(!t)return;t.isPixelFiringRefactorEnabled?t.firePixel({pixelEventType:zn.UNLOAD,metadata:t.getMetadata()}):this.firePixel({postId:t.postId,impressionId:e,pixelEventType:zn.UNLOAD,metadata:t.getMetadata(),pixelRequestBody:t.getPixelScalingFields()}),this.removeFromUnloadQueue(e,t)}}},this.postPixels=new Map,this.firedPixels=new Set,this.postEvents=new Map,this.galleryData=new Map}_resetFiredPixels(){this.firedPixels=new Set,this.postPixels=new Map,this.postUnloadQueue=[]}get postEventsMap(){return this.postEvents}_resetPostEvents(){this.postEvents=new Map,this.galleryData=new Map}updateEvents({postId:e,impressionId:t,events:o,galleryItems:i}){this.postEvents.set(t,ns(o)),i&&this.galleryData.set(t,i.map((e=>ns(e.adEvents))))}generatePixelHash(e,t){return e.encryptedTrackingId+t.additionalEventMetadata}observeImpressionTracker(){const e=this.deviceType===Xt.DESKTOP?"shreddit_desktop":"shreddit_mobile";Wn({type:Rn.Counter,name:"ads_third_party_impression_tracker_total",value:1,labels:{client_platform:e}})}isOptimizedPixelEvent(e){return!!e.encryptedTrackingId}getGalleryUrls(e,t,o){const i=void 0===o&&t===zn.IMPRESSION,n=i?0:o;if(void 0===n)return[];const r=i?zn.GALLERY_ITEM_IMPRESSION:t,s=this.galleryData.get(e)||[];return s[n]&&s[n].get(r)||[]}mapMetadataToStrings(e){return Object.entries(e).reduce(((e,[t,o])=>(e[t]=o.toString(),e)),{})}firePixelWithPOST({pixelEvent:e,postId:t,impressionId:o,pixelRequestBody:i,metadata:n}){if(!e.encryptedTrackingId)return;const r=this.generatePixelHash(e,i);if(!this.firedPixels.has(r)){if(this.firedPixels.add(r),this.postPixels.set(o,{...this.postPixels.get(o)||{},[e.encryptedTrackingId]:{pixelType:e.type,metadata:n}}),!ts(e.type)){const t=n?this.mapMetadataToStrings(n):{};fetch("https://alb.reddit.com/track",{method:"POST",mode:"no-cors",body:JSON.stringify({encryptedTrackingId:e.encryptedTrackingId,encryptedTrackingPayload:i.encryptedTrackingPayload,additionalEventMetadata:i.additionalEventMetadata,clientImpressionID:i.impressionId,...t})})}return this.fireDebugPixel({pixel:r,pixelEvent:{encryptedTrackingId:e.encryptedTrackingId,type:e.type,metadata:n},encryptedTrackingPayload:i?.encryptedTrackingPayload,additionalEventMetadata:i?.additionalEventMetadata,impressionId:o,postId:t}),e.encryptedTrackingId}}firePixelWithGET(e,t,o,i){if(!e.url||this.firedPixels.has(e.url))return;const n=!$n(e.url);this.firedPixels.add(e.url),n||this.postPixels.set(o,{...this.postPixels.get(o)||{},[e.url]:{pixelType:e.type,metadata:i}});let r=e.url;if(!ts(e.type)||n){const e=new Image;i&&!n&&(r=Sr(r,i)),e.src=r}return this.fireDebugPixel({pixel:r,pixelEvent:{url:e.url,type:e.type,metadata:n?void 0:i},impressionId:o,postId:t}),n&&e.type===zn.IMPRESSION&&this.observeImpressionTracker(),r}firePixelsFromEvents({pixelEvents:e,postId:t,impressionId:o,metadata:i,displayMetadata:n,videoMetadata:r,pixelRequestBody:s}){const a=[];return e.forEach((e=>{let d;if(d=this.isOptimizedPixelEvent(e)?this.firePixelWithPOST({pixelEvent:e,postId:t,impressionId:o,pixelRequestBody:s,metadata:i}):this.firePixelWithGET(e,t,o,i),d&&a.push(d),d&&es(e.type)){const t=document.querySelector("shreddit-app");os({pixelEvent:e,impressionId:o,displayMetadata:n,videoMetadata:r,pixelRequestBody:s,target:t})}})),a}fireDebugPixel(e){const t=v("pixelFired",e);window.dispatchEvent(t)}firePixel({pixelEventType:e,postId:t="",impressionId:o,galleryIndex:i,metadata:n,displayMetadata:r,videoMetadata:s,pixelRequestBody:a}){const d=this.postEvents.get(o)?.get(e)||[];if(this.galleryData.has(o)){const t=this.getGalleryUrls(o,e,i)||[];d.push(...t)}return this.firePixelsFromEvents({pixelEvents:d,postId:t,impressionId:o,metadata:n,displayMetadata:r,videoMetadata:s,pixelRequestBody:a})}fireQueuedUnloadPixels(){this.postUnloadQueue.forEach((e=>{const t=this.postUnloadQueueData.get(e);t&&(t.isPixelFiringRefactorEnabled?t.firePixel({pixelEventType:zn.UNLOAD,metadata:t.getMetadata()}):this.firePixel({postId:t.postId,impressionId:e,pixelEventType:zn.UNLOAD,metadata:t.getMetadata(),pixelRequestBody:t.getPixelScalingFields()}),this.removeFromUnloadQueue(e,t))}))}};class ss{constructor(e){this.sendPageVisitEvent=async()=>{const e=document.querySelector("shreddit-app")?.getAttribute("country"),t=fn(e||""),{isAcceptableAdsEnabled:o,isAdblockEnabled:i}=await Po({skipEyeoPixelCheck:t}),n=this.getQueryParamVal(i,o);fetch(`/svc/shreddit/styling-overrides/${`?context=${n}`}`)},this.host=e,this.host.addController(this),requestAnimationFrame(this.sendPageVisitEvent)}getQueryParamVal(e,t){return e&&t?"scoped":e&&!t?"local":"namespaced"}hostConnected(){window.addEventListener("afterRoute",this.sendPageVisitEvent)}hostDisconnected(){window.removeEventListener("afterRoute",this.sendPageVisitEvent)}}const as=()=>performance.getEntriesByName("InternalNavigationStart","mark").length>0,ds=()=>{const e=performance.getEntriesByName("InternalNavigationStart","mark");return e.length>0?e[0].startTime:0},ls=e=>ho({source:"post_detail",action:"navigation_to_post_detail",noun:"comments_paint"},e),cs=e=>ho({source:"post_detail",action:"navigation_to_post_detail",noun:"comments_interactive"},e),us=({TTCPDuration:e,secondaryTTCP:t})=>{if(as()){const o={comments_load:{viewable_millis:Math.floor(t-ds())}};return void 0!==e&&(o.timer={millis:Math.floor(e-ds()),type:io.TTCHybrid}),ls(o)}{const o={comments_load:{viewable_millis:Math.floor(t)}};return void 0!==e&&(o.timer={millis:e,type:io.TTCDeeplink}),ls(o)}},hs=()=>"shouldTrackTTC"in window&&window.shouldTrackTTC&&0===window.scrollY,ps=e=>{window.shouldTrackTTC=e},ms="force_seo",gs=["enabled","control_1","control_2"],_s=e=>{if("true"===document.querySelector("shreddit-app")?.getAttribute("seeker-session")){const t=new URL(e),o=new URLSearchParams(t.search);return o.set("seeker-session","true"),t.search=o.toString(),t.href}return e},Es=(e,t)=>{const o=new URL(e),i=new URLSearchParams(o.search),n=t.filter((([e])=>!i.has(e)));if(n.length)return n.forEach((e=>i.set(...e))),o.search=i.toString(),o.href};let fs=window.fetch;const vs=864e5;let Ss=null,bs=[],ys=new Map;const Cs=vs,Ts=Date.now()+vs,As="time-to-first-byte",Is="first-contentful-paint";function Ps(){const e=Date.now();for(const[t,o]of ys.entries())e-o.lastAccessed>Cs&&ys.delete(t);if(ys.size<=25)return;const t=[...ys.entries()].sort(((e,t)=>e[1].lastAccessed-t[1].lastAccessed));ys.delete(t[0][0])}let Rs;const ws=[/^\/api\/v1\/.+/,/^\/svc\/shreddit\/oauth-grant.*/,/^\/(login|register|password|username|passwordreset|passwordrecovery)\/?/,/^\/avatar\/(claim|shop)/,/^\/partner\/(persona|stripe)\/.+/,/insights/,/^\/settings\/premium/,/^\/topics\/[a-z0]-\d+/,/^\/user\/.+\/about\/.+\/?/,/^\/user\/.+\/wiki\/.+\/config\/automoderator\/?/,/^\/api\/report_redirect/],Os=[/^\/user\/(?<username>[^/]+)\/display-collectibles\//];let Ms;class Ns{constructor(e){var t;this.overrideQueryParams=null,this.navigationIndicator=document.querySelector("navigation-indicator"),this.ignoreNavigations=!1,this._hybridNavigationCount=0,this.handleNavigate=e=>{const{url:t}=e.destination,o=new URL(t),i=Ms.currentEntry?.key?ys.get(Ms.currentEntry.key):void 0;let n=!1;if(this.ignoreNavigations)return void(this.currentUrl=t);if(Ts<Date.now())return;if(!e.canIntercept)return;if("reload"===e.navigationType)return;if(["push","traverse"].includes(e.navigationType)&&i?.callbackNavigations){const o=Ms.currentEntry.index,n=Ms.entries().find((t=>t.key===e.destination.key)),r=n?Ms.entries().indexOf(n):-1,s=-1!==r,a=s&&r===o-1,d=s&&r===o+1,{onForwardNav:l,onBackNav:c}=i.callbackNavigations;if(d&&l)return l(),void(this.currentUrl=t);if(a&&c)return c(),void(this.currentUrl=t)}if("replace"===e.navigationType){if(t===this.pendingUrl)return void e.intercept();if(t!==this.currentUrl||o.hash||t.endsWith("#")){if(this._getLocation()===this.currentUrl||this._getLocation()!==t)return void(this.currentUrl=t);n=!0}else n=!0}if(Os.some((e=>e.test(o.pathname))))return void e.intercept();if(!this.isRoutable(t))return;if(e.hashChange)return;const r=function(e){const t=e.originalEvent?.composedPath()||[];for(const e of t)if("A"===e.nodeName)return e;return}(e);if("_blank"===r?.target)return;const s=new URL(this.currentUrl||""),a=new URL(t);if(s.hash="",a.hash="",!n&&a.toString()===s.toString())return void e.intercept();if(!Ms.currentEntry)throw new Error("navigation.currentEntry is null");const d=this.lastCompletedNavigationKey||Ms.currentEntry.key;Ms.updateCurrentEntry({state:{scrollOffset:window.scrollY}}),e.intercept({handler:async()=>{let o;window.dispatchEvent(new Event("beforeRoute"));try{o=await this.hybridNavigate(e,d)}catch(e){console.log(e?.stack)}o&&(this._hybridNavigationCount++,window.dispatchEvent(new Event("afterRoute")),this.lastCompletedNavigationKey=Ms.currentEntry?.key,this.currentUrl=t)}})},this._processActionQueue=()=>{for(const e of bs){const[t,...o]=e;this[t](...o)}bs=[]},this._host=e,this._host.addController(this),Rs=document.querySelector("script[nonce]")?.nonce??"",this.overrideQueryParams=(t=new URL(this._getLocation()).search,Array.from(new URLSearchParams(t).entries()).filter((([e,t])=>gs.includes(t)))),this.currentUrl=this._getLocation()}replace(e){this.ignoreNavigations=!0,this._replaceState(null,e),this.ignoreNavigations=!1}replaceAndNavigate(e){this._replaceState(null,e)}push(e,t={}){const{onBackNav:o,onForwardNav:i}=t;if(Ms.currentEntry?.key){const e=ys.get(Ms.currentEntry.key);ys.set(Ms.currentEntry.key,{scrollOffsets:xs(),lastAccessed:Date.now(),callbackNavigations:{...e?.callbackNavigations,onForwardNav:i}})}if(i?.(),this.ignoreNavigations=!0,this._pushState(null,e),this.ignoreNavigations=!1,Ms.currentEntry?.key){const e=ys.get(Ms.currentEntry.key);ys.set(Ms.currentEntry.key,{scrollOffsets:xs(),lastAccessed:Date.now(),callbackNavigations:{...e?.callbackNavigations,onBackNav:o}})}}async enableHybridNavigation(){await async function(){Ds||(Ds=async function(){if(Ms=window.navigation,!Ms){console.log("Navigation API not supported, loading polyfill");try{const{applyPolyfill:e}=await SML.di("./apply-polyfill-8aed03a1.js",import.meta.url,"applypolyfill8aed03a1");Ms=e()}catch{console.log("Navigation polyfill failed to initialize.")}}}());return Ds}(),Ms&&(Ms.addEventListener("navigate",this.handleNavigate),console.log("Navigation listeners online"),this.lastCompletedNavigationKey=Ms.currentEntry?.key)}disableHybridNavigation(){window.navigation&&(Ms=window.navigation,Ms.removeEventListener("navigate",this.handleNavigate),console.log("Navigation listeners offline"))}isRoutable(e){const t=new URL(e);if(t.host!==window.location.host)return!1;if(ws.some((e=>e.test(t.pathname))))return!1;return!new RegExp("#main-content$").test(e)}setTimeToCommentData(){performance.clearMarks("InternalNavigationStart"),performance.mark("InternalNavigationStart"),ps(!0)}async hybridNavigate(e,t){let o,i,{url:n}=e.destination;const r=performance.now();if(this.setTimeToCommentData(),n===this.pendingUrl)return;this.overrideQueryParams&&(n=Es(n,this.overrideQueryParams)??n),n=_s(n);const s=this.pendingUrl=n,a=e.destination.key,d=ys.get(a);if(d){if(!d.fragment)return console.log("No DOM for history entry, performing full navigation"),this.pendingUrl=void 0,void this.fullNavigateTo(n);o=performance.now()-r;const e=xs(),s=this.replaceDOM(d.fragment,!0),a=ys.get(t)||{};return ys.set(t,{...a,fragment:s,scrollOffsets:e,lastAccessed:Date.now()}),Ps(),Vs(d.scrollOffsets),i=performance.now()-r,this.pendingUrl=void 0,this._host.handleWebVitalW3Reporting({[As]:o||1,[Is]:i},{hybrid:!0}),!0}let l;this.navigationIndicator?.show?.();try{l=await this.performRequest(e,r)}catch(e){console.error(e),"AbortError"!==e?.name&&this.navigationIndicator?.hide?.()}if(e.signal.aborted)return this.pendingUrl=void 0,this.navigationIndicator?.hide?.(),!1;if(!l)return this.pendingUrl=void 0,!1;if(s!==this.pendingUrl)return!1;this.pendingUrl=void 0,this.navigationIndicator?.hide?.();const c=document.createRange().createContextualFragment(l),u=xs();window.scroll({behavior:"instant",top:0});const h=this.replaceDOM(c);return ys.set(t,{fragment:h,scrollOffsets:u,lastAccessed:Date.now()}),Ps(),this.scrollToHash(n),i=performance.now()-r,this._host.handleWebVitalW3Reporting({[Is]:i},{hybrid:!0}),!0}async performRequest(e,t){let{url:o}=e.destination;this.overrideQueryParams&&(o=Es(o,this.overrideQueryParams)??o),o=_s(o);const i=new AbortController;this.currentAbort&&this.currentAbort.abort(),this.currentAbort=i;const n=()=>i.abort();e.signal.addEventListener("abort",n,{once:!0});const r=new URL(o),s=setTimeout((()=>{this.pendingUrl===o&&i.abort()}),3e4),a={headers:{nonce:Rs,clienthash:this._host.clientHash,accept:"text/vnd.reddit.hybrid+html, text/html;q=0.9"},signal:i.signal,referrer:this.currentUrl};e.formData&&(a.method="POST",a.body=e.formData);const d=await fs(r,a);if(d.url!==o&&window.addEventListener("afterRoute",(()=>{if(this.pendingUrl=d.url,r.hash){const e=new URL(d.url);e.hash=r.hash,history.replaceState({},"",e)}else history.replaceState({},"",d.url);this.pendingUrl=void 0}),{once:!0}),!d.headers?.has("hybrid-route"))return console.log("Not a hybrid response, performing full navigation"),this.fullNavigateTo(o),clearTimeout(s),void this.currentAbort.abort();const l=performance.now()-t;this._host.handleWebVitalW3Reporting({[As]:l},{hybrid:!0}),this.currentAbort=void 0;const c=await d.text();return clearTimeout(s),e.signal.removeEventListener("abort",n),c}replaceDOM(e,t=!1){const o=new DocumentFragment;let i,n;const r=this.findPersistentElements(this._host),s=this.findPersistentElements(e),a=new Map([...r.entries()].filter((([e])=>s.has(e)))),d=Fs(Bs(this._host,a));this.extractPersistentElements(a),this.insertPersistentElements(e,a);const l=[];if(this._host.childNodes.forEach((e=>{ks(e)&&" routable page start "===e.data?i=e:ks(e)&&" routable page end "===e.data?n=e:n||i&&l.push(e)})),!i||!n)throw new Error("Missing boundary comments for DOM replacement");for(const e of l)e.remove(),o.appendChild(e);return this._host.screenViewData={},this._host.isNavigationControllerRestore=t,this._host.insertBefore(e,n),Vs(d),o}findPersistentElements(e){const t=Array.from(e.querySelectorAll("[id][data-persistent], meta[id][data-persistent-placeholder]")),o=new Map;for(const e of t)o.set(e.id,e);return o}extractPersistentElements(e){e.forEach((e=>{const t=document.createElement("meta");t.id=e.id,t.setAttribute("data-persistent-placeholder",""),e.replaceWith(t)}))}insertPersistentElements(e,t){const o=this.findPersistentElements(e);t.forEach((e=>{const t=o.get(e.id);t?t.replaceWith(e):console.error(`Placeholder or target element missing for <${e.nodeName.toLowerCase()} id="${e.id} data-persistent>`)})),t.clear()}navigateTo(e){const t=document.createElement("a");t.setAttribute("href",e),t.style.display="none",document.body.appendChild(t),t.click(),t.remove()}fullNavigateTo(e){let t=e.startsWith("/")?`${new URL(window.location.href).origin}${e}`:e;!function(){const e=document.querySelector("shreddit-app");e?.dispatchEvent(new CustomEvent(Ti))}(),this.disableHybridNavigation(),this._hybridNavigationCount=0,window.addEventListener("pageshow",this.enableHybridNavigation),t=Es(t,this.overrideQueryParams??[])??t,this._assignLocation(t)}scrollToHash(e){const t=new URL(e).hash;t&&requestAnimationFrame((()=>{const e=document.getElementById(t.slice(1));if(e){const t=e.dataset.scrollBehaviour||"smooth";e.scrollIntoView({behavior:t})}}))}_getLocation(){return window.location.toString()}_assignLocation(e){return window.location.assign(e)}_replaceState(e,t){return history.replaceState(e,"",t)}_pushState(e,t){return history.pushState(e,"",t)}_getCurrentURL(){return this.currentUrl}_getHistoryStateMap(){return ys}hostConnected(){if(Ss)throw new Error("Only one NavigationController may be active at a time.");Ss=this,this.enableHybridNavigation().then(this._processActionQueue)}hostDisconnected(){Ss=null,this.disableHybridNavigation()}get hybridNavigationCount(){return this._hybridNavigationCount}}let Ds=null;function Ls(e){if(Ss)return Ss.replace(e);bs.push(["replace",e])}function Us(){return Ss?.hybridNavigationCount??0}function ks(e){return e.nodeType===Node.COMMENT_NODE}function xs(){const e=Fs(Bs());return e.set(window,{top:window.scrollY,left:window.scrollX}),e}function Fs(e){const t=new Map;for(const o of e)t.set(o,{top:o.scrollTop,left:o.scrollLeft});return t}function Vs(e){for(const[t,o]of e)t.scrollTo({behavior:"instant",...o})}function Bs(e=document,t=new Map){const o=Array.from(t.values()),i=Array.from(e.querySelectorAll("[data-scroll-restore]"));return[...new Set([...o,...i])]}class Gs{constructor(e){this.handleObservation=e=>{const t=()=>{e.getEntries().forEach((e=>{const t=e;if(!t?.scripts?.length)return;const o=ho({...this.buildCommon(),...this.buildLongAnimationFrame(t)});this._host._handleEvent(o)}))};this.callbackId="requestIdleCallback"in window?requestIdleCallback(t):setTimeout(t)},this._host=e,this._host.addController(this)}hostConnected(){if(this._host.shouldObservePerformance){if(Gs.activeInstance)throw new Error("Only one PerformanceObserverController may be active at a time.");Gs.activeInstance=this,this.initObservers()}}hostDisconnected(){this._host.shouldObservePerformance&&(this.performanceObserver?.disconnect(),window.clearTimeout(this.callbackId),Gs.activeInstance=void 0)}initObservers(){this.performanceObserver=new window.PerformanceObserver(this.handleObservation),this.performanceObserver.observe({type:"long-animation-frame",buffered:!0})}buildLongAnimationFrame(e){return{long_animation_frame:{blocking_duration:Math.round(e.blockingDuration),duration:Math.round(e.duration),first_ui_event_start:Math.round(e.firstUIEventTimestamp),render_start:Math.round(e.renderStart),scripts_json:this.safeParseJsonString(e.scripts),start_time:Math.round(e.startTime),style_and_layout_start:Math.round(e.styleAndLayoutStart)}}}buildCommon(){return{source:"browser",action:"observe",noun:"performance",screenview_id:this._host._visibilityChange._screenviewId,browser_context:{hybrid_navigation_count:Us(),release:this._host.release,time_origin:Math.round(performance.timeOrigin)},action_info:{page_type:this._host.pageType,route_name:this._host.routeName},request:{canonical_url:this._host.canonicalUrl}}}safeParseJsonString(e){let t;try{t=JSON.stringify(e)}catch{}return t||"[]"}}var Ws,Hs;!function(e){e.Standard="hidden",e.Webkit="webkitHidden"}(Ws||(Ws={})),function(e){e.hidden="visibilitychange",e.webkitHidden="webkitvisibilitychange",e.mozHidden="mozvisibilitychange",e.msHidden="msvisibilitychange"}(Hs||(Hs={}));const qs=Object.keys(Hs),Ys={initialized:!1,visibilityCallbacks:new Array},$s=()=>{},js=qs.find((e=>void 0!==document[e]));var Ks=(e=$s,t={immediate:!1})=>{const o=Ys.visibilityCallbacks.length;return Ys.visibilityCallbacks.includes(e)||(t.shouldBeCalledFirst?Ys.visibilityCallbacks.unshift(e):Ys.visibilityCallbacks.push(e)),!Ys.initialized&&js&&(Ys.initialized=!0,document.addEventListener(Hs[js],(()=>{const e=!document[js];Ys.visibilityCallbacks.forEach((t=>t(e)))})),t.immediate&&e(!document[js])),t.resetInit&&(Ys.initialized=!1),o<Ys.visibilityCallbacks.length};const Qs=e=>{const t=Ys.visibilityCallbacks.length,o=Ys.visibilityCallbacks.indexOf(e);return-1!==o&&Ys.visibilityCallbacks.splice(o,1),t>Ys.visibilityCallbacks.length};class zs{constructor(e){this.performanceObserver=null,this.attachCommentsPartialListener=()=>{this.performanceObserver?.disconnect(),this.host.isBot||this.host.pageType!==eo.PostDetail&&this.host.pageType!==eo.SingleCommentThread||this.host.addEventListener("faceplate-load",this.handleCommentsPartialsLoaded)},this.handleVisibilityChange=()=>{ps(!1),this.host.removeEventListener("faceplate-load",this.handleCommentsPartialsLoaded),this.performanceObserver?.disconnect()},this.handleCommentsPartialsLoaded=e=>{if("faceplate-load"===e.type&&(this.host.pageType===eo.PostDetail||this.host.pageType===eo.SingleCommentThread)&&"src"in e.detail&&e.detail.src.startsWith("/svc/shreddit/comments")&&!e.detail.src.includes("inline-refresh=true")){const e=performance.now();this.host.removeEventListener("faceplate-load",this.handleCommentsPartialsLoaded),PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("element")?(this.performanceObserver=new PerformanceObserver((t=>{t.getEntries().forEach((t=>{if((e=>"identifier"in e&&"string"==typeof e.identifier&&"renderTime"in e&&"number"==typeof e.renderTime)(t)&&"TTCP"===t.identifier){const o=t.renderTime;this.performanceObserver?.disconnect(),hs()&&ft(this.host,us({TTCPDuration:o,secondaryTTCP:e}))}}))})),this.performanceObserver.observe({type:"element",buffered:!1})):ft(this.host,us({secondaryTTCP:e}))}},this.host=e,e.addController(this)}hostConnected(){Ks(this.handleVisibilityChange),window.addEventListener("afterRoute",this.attachCommentsPartialListener),this.attachCommentsPartialListener()}hostDisconnected(){Qs(this.handleVisibilityChange),window.removeEventListener("afterRoute",this.attachCommentsPartialListener),this.host.removeEventListener("faceplate-load",this.handleCommentsPartialsLoaded),this.performanceObserver?.disconnect()}}let Js,Xs,Zs,ea=!1,ta=Promise.resolve();function oa(e){let t=e;for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function ia(){const e=document.activeElement;return e?oa(e):null}function na(){const e=ia();return e instanceof HTMLElement?e:null}function ra(e){const t=e.hasAttribute("tabindex");e.blur(),t||e.setAttribute("tabindex","0"),e.focus(),t||e.removeAttribute("tabindex")}function sa(e){ea||(ea=!0,ra(e),ta=new Promise((t=>{setTimeout((()=>{const o=ia();e!==o&&ra(e),ea=!1,t()}))})))}function aa(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&"false"!==e.getAttribute("aria-hidden")||"none"===e.style.display||"0"===e.style.opacity||"hidden"===e.style.visibility||"collapse"===e.style.visibility}function da(e){return"-1"!==e.getAttribute("tabindex")&&!aa(e)&&!function(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&"false"!==e.getAttribute("aria-disabled")}(e)&&(e.hasAttribute("tabindex")||(e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement)&&e.hasAttribute("href")||e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e instanceof HTMLIFrameElement)}class la{constructor(e){this._focusableElements=null,this._firstFocusable=null,this._lastFocusable=null,this._savedFocusable=null,this._target=e}get size(){var e;return(null===(e=this._focusableElements)||void 0===e?void 0:e.size)||0}get first(){return this._firstFocusable}get last(){return this._lastFocusable}_focusTarget(e){var t;return e?(sa(e),!0):(null===(t=na())||void 0===t||t.blur(),!1)}_getActiveInternalElement(){if(!this._focusableElements)return null;const e=na();return e&&this._focusableElements.has(e)?e:null}has(e){var t;return(null===(t=this._focusableElements)||void 0===t?void 0:t.has(e))||!1}refresh(){const e=ua({root:this._target,skipNode:aa,isMatch:da});this._firstFocusable=e[0],this._lastFocusable=e[e.length-1],this._focusableElements=new Set(e)}focus(){if(this._focusableElements)for(const e of this._focusableElements)if(e.autofocus)return this._focusTarget(e);return this._focusTarget(this._firstFocusable)}blur(){var e;null===(e=this._savedFocusable)||void 0===e||e.blur()}focusFirst(){return this._focusTarget(this._firstFocusable)}focusLast(){return this._focusTarget(this._lastFocusable)}saveFocus(){this._savedFocusable=this._getActiveInternalElement()}restoreFocus(){this._focusTarget(this._savedFocusable)}}class ca extends la{constructor(e,t){super(t),e.addController(this)}hostConnected(){this.refresh()}}function ua({root:e,skipNode:t,isMatch:o,maxDepth:i=20,depth:n=0}){const r=[];if(n>=i)return r;const s=e=>{const r=e.assignedNodes().filter((e=>1===e.nodeType));if(r.length>0){return ua({root:r[0].parentElement,skipNode:t,isMatch:o,maxDepth:i,depth:n+1})}return[]},a=Array.from(e.children||[]);for(const e of a)t(e)||(o(e)&&r.push(e),null!=e.shadowRoot?r.push(...ua({root:e.shadowRoot,skipNode:t,isMatch:o,maxDepth:i,depth:n+1})):"SLOT"===e.tagName?r.push(...s(e)):r.push(...ua({root:e,skipNode:t,isMatch:o,maxDepth:i,depth:n+1})));return r}class ha{constructor(e){this._opts=e,this._frames=[]}get top(){return this._frames[this._frames.length-1]}add(e){const t=this.top;this._frames.push(e),t?this._opts.framePaused&&this._opts.framePaused(t):this._opts.stackEntered&&this._opts.stackEntered(e),this._opts.frameAdded&&this._opts.frameAdded(e)}_pop(){const e=this._frames.pop();if(!e)return;const t=this.top;this._opts.frameRemoved&&this._opts.frameRemoved(e),t?this._opts.frameResumed&&this._opts.frameResumed(t):this._opts.stackExited&&this._opts.stackExited(e)}remove(e){const t=this._frames.indexOf(e);t<0||(t===this._frames.length-1?this._pop():(this._frames.splice(t,1),this._opts.frameRemoved&&this._opts.frameRemoved(e)))}}const pa=new ha({stackEntered(){document.body.style.pointerEvents&&(Js=document.body.style.pointerEvents),document.body.style.pointerEvents="none",document.body.style.overflow&&(Xs=document.body.style.overflow),document.body.style.overflow="hidden"},stackExited(){Js?document.body.style.pointerEvents=Js:document.body.style.removeProperty("pointer-events"),Xs?document.body.style.overflow=Xs:document.body.style.removeProperty("overflow")}}),ma=new ha({stackEntered(){Zs=na(),window.addEventListener("keydown",ga),window.addEventListener("focusin",_a)},stackExited(e){Zs?sa(Zs):e.blur(),window.removeEventListener("keydown",ga),window.removeEventListener("focusin",_a)},frameAdded(e){e.inFocusTrap=!0,e.focusManager.refresh(),e.focusManager.focus()},frameRemoved(e){e.inFocusTrap=!1},framePaused(e){e.focusManager.saveFocus()},frameResumed(e){e.focusManager.restoreFocus()}});function ga(e){const t=ma.top;t&&("Escape"===e.key?t.blocking||(e.stopPropagation(),t.close()):function(e,t){if("Tab"!==e.key)return;if(t.focusManager.size<1)return e.preventDefault();const o=na();if(!o)return;if(1===t.focusManager.size&&o===t.focusManager.first)return e.preventDefault();if(e.shiftKey){if(o===t.focusManager.first)t.focusManager.focusLast(),e.preventDefault()}else if(o===t.focusManager.last)t.focusManager.focusFirst(),e.preventDefault()}(e,t))}function _a(e){const t=ma.top;t&&function(e,t){const o=na();if(!o||o===t)return;if(t.focusManager.has(o))return;t.focusManager.focusFirst()&&e.preventDefault()}(e,t)}let Ea=class extends e.i{constructor(t){if(super(t),this.et=e.A,t.type!==e.t.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===e.A||null==t)return this.ft=void 0,this.et=t;if(t===e.T)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;const o=[t];return o.raw=o,this.ft={_$litType$:this.constructor.resultType,strings:o,values:[]}}};Ea.directiveName="unsafeHTML",Ea.resultType=1;const fa=e.e(Ea);let va=class extends e.s{constructor(){super(...arguments),this.focusManager=new ca(this,this),this.open=!1,this.blocking=!1,this.returnValue="",this.modal=!1,this._inFocusTrap=!1}get inFocusTrap(){return this._inFocusTrap}set inFocusTrap(e){if(this._inFocusTrap!==e)if(this._inFocusTrap=e,e){const e=window.getComputedStyle(this).boxShadow;e&&(this.dataset.faceplateDialogPreviousShadow=e,this.style.boxShadow=`${e}, 0 0 0 max(100vw, 100vh) var(--color-scrim)`)}else this.dataset.faceplateDialogPreviousShadow?this.style.boxShadow=this.dataset.faceplateDialogPreviousShadow:this.style.removeProperty("boxShadow")}get isFocusEnabled(){return this===ma.top}disconnectedCallback(){super.disconnectedCallback(),this.modal&&ma.remove(this)}close(e){void 0!==e&&(this.returnValue=e);const t=v("faceplate-close");this.dispatchEvent(t),t.defaultPrevented||(this.open=!1,this.modal&&ma.remove(this))}show(){this.modal=!1,this.open=!0,this.focusManager.focus()}showModal(){if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');this.modal=!0,this.open=!0,ma.add(this)}static get styles(){return e.a`:host{display:none;left:0;right:0;width:-moz-fit-content;width:fit-content;background:var(--color-ui-modalbackground);border-radius:4px;margin:auto;padding:1rem;box-shadow:var(--boxshadow-modal);pointer-events:all;max-width:95vw;max-height:95vh;overflow:auto}:host([open]){display:block;z-index:1}.backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1}`}render(){return e.x` ${fa(this.modal?"\n  <style>\n    :host {\n      top: 50%;\n      transform: translateY(-50%);\n      position: fixed;\n    }\n  </style>\n":"\n  <style>\n    :host {\n      position: absolute;\n    }\n  </style>\n")} <div class="${this.modal?"backdrop":""}" role="${e.l(this.open?"dialog":void 0)}" aria-modal="${e.l(this.open&&this.modal?"true":void 0)}"></div> <slot></slot> `}};t([d({type:Boolean,reflect:!0})],va.prototype,"open",void 0),t([d({type:Boolean})],va.prototype,"blocking",void 0),t([d({attribute:!1})],va.prototype,"modal",void 0),t([l()],va.prototype,"inFocusTrap",null),va=t([s("faceplate-dialog")],va);let Sa=class extends e.s{static get styles(){return e.a`:host{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;position:absolute}`}render(){return e.x` <slot></slot> `}};Sa=t([s("faceplate-screen-reader-content")],Sa);const ba="first-comment-updated";var ya;!function(e){e.Mobile="mweb3x",e.Desktop="web3x"}(ya||(ya={}));const Ca=ya.Mobile,Ta=Object.values(ya),Aa="on-load-embed",Ia="on-embed-clicked",Pa="on-embed-entrypoint-clicked",Ra="on-embed-entrypoint-viewed";function wa(e,t=0,o={leading:!1,trailing:!0}){let i,n=!1;return function(...r){i&&clearTimeout(i),o.leading&&!i?(e.apply(this,r),n=!0):n=!1,i=setTimeout((()=>{o.trailing&&!n&&e.apply(this,r),i=null}),t)}}const Oa=Symbol.for("mixins/with-viewport-height");const Ma="logged-in",Na="translation-context";function Da(e,t){return t in e}const La=Symbol("mixins/with-navigation-connection"),Ua=new Set;class ka{constructor(e){this._host=e,this._host.addController(this)}hostConnected(){window.addEventListener("beforeRoute",this.handleBeforeRoute)}hostDisonnected(){window.removeEventListener("beforeRoute",this.handleBeforeRoute)}handleBeforeRoute(){let e;for((()=>{for(const e of Ua)e.cleanupSideEffectsBeforeNavigation()})();e=ma.top;)ma.remove(e)}}class xa{constructor(e,t={}){this.pageType=void 0,this.settings={},this.registeredEvents=0,this.eventsListened=0,this.translationMetricsEventData={scenario:"",translationSettingState:dn},this.getSettings=()=>this.settings,this.getPageType=()=>this.pageType,this.handleMutationObserverChanges=e=>{for(const t of e)"attributes"===t.type&&"routename"===t.attributeName&&this.updateSettingsHybridNav()},this.registerTranslationChangesEvents=e=>{this.pageType&&(this.initListeners(),this.initListenersCounters(e))},this.initListeners=()=>{this.host.addEventListener(tn,this.onTranslatedPostChanged),this.host.addEventListener(on,this.onTranslatedCommentsChanged),this.host.addEventListener(nn,this.onTranslatedPostsChanged)},this.initListenersCounters=e=>{e.withPost&&this.registeredEvents++,e.withComments&&this.registeredEvents++,e.withPosts&&this.registeredEvents++},this.unregisterTranslationChangesEvents=()=>{this.host.removeEventListener(tn,this.onTranslatedPostChanged),this.host.removeEventListener(on,this.onTranslatedCommentsChanged),this.host.removeEventListener(nn,this.onTranslatedPostsChanged)},this.handleTranslationEvent=(e,t)=>{const o=t.detail?.[e];o&&(this.translationMetricsEventData.scenario=t.detail?.scenario??"",this.translationMetricsEventData.targetLanguage=t.detail?.targetLanguage??this.translationMetricsEventData.targetLanguage,this.translationMetricsEventData[e]=o,this.eventsListened++,this.submitPartialTranslationMetrics())},this.onTranslatedPostChanged=e=>{this.handleTranslationEvent("post",e)},this.onTranslatedCommentsChanged=e=>{this.handleTranslationEvent("comments",e)},this.onTranslatedPostsChanged=e=>{this.handleTranslationEvent("posts",e)},this.submitPartialTranslationMetrics=()=>{if(!this.pageType)return;if(this.eventsListened<this.registeredEvents)return;const e=this.host.translationContextValue?.isTranslationActive,t=this.translationMetricsEventData.scenario===sn.ToggleChange;(e||!e&&t)&&ft(this.host,((e,t,o)=>{const i=ho({source:"machine_translations",action:"request",noun:"content"});return e.translationSettingState=t?ln:dn,e.loadType=an.UserNav,{...i,action_info:{...i.action_info,page_type:o,reason:t?ln:dn},translation_metrics:mn(e)}})(this.translationMetricsEventData,this.host.translationContextValue?.isTranslationActive||!1,this.pageType)),this.resetTranslationMetricsData()},this.resetTranslationMetricsData=()=>{this.eventsListened=0,this.translationMetricsEventData={scenario:"",translationSettingState:dn}},this.updateSettingsPageload=()=>{var e;this.pageType=this.host.pageType,this.settings={...this.settings,...(e=this.pageType,e?{withPosts:pn.withPosts.has(e),withPost:pn.withPost.has(e),withComments:pn.withComments.has(e)}:{withPosts:!1,withPost:!1,withComments:!1})},this.resetTranslationMetricsData(),this.registerTranslationChangesEvents(this.settings)},this.updateSettingsHybridNav=()=>{this.registeredEvents=0,this.updateSettingsPageload()},this.host=e,this.host.addController(this),this.settings=t,this.pageType=this.host.pageType}hostConnected(){this.initListeners(),this.updateSettingsPageload(),this.connectObservers()}hostDisconnected(){this.unregisterTranslationChangesEvents(),this.disconnectObservers()}connectObservers(){this._mutationObserver||(this._mutationObserver=new MutationObserver(this.handleMutationObserverChanges)),this._mutationObserver.observe(this.host,{attributes:!0,attributeFilter:["routename"]})}disconnectObservers(){this._mutationObserver?.disconnect?.()}}const Fa=Symbol("mixins/with-patched-fetch");function Va(){return!!document.querySelector(".theme-dark")||!document.querySelector(".theme-light")&&matchMedia("(prefers-color-scheme: dark)").matches}var Ba;!function(e){e.TIME_TO_FIRST_BYTE="time-to-first-byte",e.FIRST_CONTENTFUL_PAINT="first-contentful-paint",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.CUMULATIVE_LAYOUT_SHIFT="cumulative-layout-shift",e.INTERACTION_TO_NEXT_PAINT="interaction-to-next-paint",e.FIRST_POST_MEANINGFUL_PAINT="first-post-meaningful-paint",e.FIRST_COMMENT_MEANINGFUL_PAINT="first-comment-meaningful-paint",e.TOTAL_PAGE_LOAD="total-page-load"}(Ba||(Ba={}));const Ga=[Ba.FIRST_POST_MEANINGFUL_PAINT,Ba.FIRST_COMMENT_MEANINGFUL_PAINT],Wa="screen-reader-only-alert";var Ha;!function(e){e.polite="polite",e.assertive="assertive"}(Ha||(Ha={}));const qa=(e,t)=>{e.dispatchEvent(new CustomEvent(Wa,{detail:{...t},bubbles:!0}))},Ya="screen-reader-alert-outlet";class $a extends Ue{constructor(e){super(e),this.alertOutletElement=null,this.events=new g(this,(()=>window)),this._handleEvent=async e=>{e.stopPropagation();const t=this._getAlertOutletElement();if(!t)throw Error("No screen-reader-alert-outlet element found.");await window.customElements.whenDefined(Ya),t.announce(e.detail)},e.addController(this),this.events.define(Wa,this._handleEvent)}_getAlertOutletElement(){return this.alertOutletElement||(this.alertOutletElement=document.querySelector(Ya)),this.alertOutletElement}}var ja;async function Ka(e=window){const t=new URLSearchParams(e.location.search).get("app_installed");if(Object.values(ja).includes(t))return t;if(void 0===e.navigator||"function"!=typeof e.navigator.getInstalledRelatedApps||e!==e.top)return ja.Unsupported;return void 0!==(await e.navigator.getInstalledRelatedApps()).find((e=>"com.reddit.frontpage"===e.id))?ja.Installed:ja.NotInstalled}!function(e){e.Installed="installed",e.NotInstalled="not_installed",e.Unsupported="unsupported"}(ja||(ja={}));function Qa(){const e=document.querySelector("shreddit-app")?.pageType;return e||void 0}const za={_rplIsReducedMotion:!1,get mediaQuery(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches},get rplIsReducedMotion(){return"function"==typeof this._rplIsReducedMotion?this._rplIsReducedMotion():this._rplIsReducedMotion},get isReducedMotion(){return this.rplIsReducedMotion||this.mediaQuery}},Ja={keyframes:[],options:{duration:0}},Xa=new Map,Za=new WeakMap;function ed(e){return e??Ja}function td(e,t){Xa.set(e,ed(t))}function od(e,t){const o=Za.get(e);if(o?.[t])return e?.noAnimate?rd(o[t]):o[t];const i=Xa.get(t);return i?e?.noAnimate?rd(i):i:Ja}function id(e,t,o){return new Promise((i=>{if(o?.duration===1/0)throw new Error("Promise-based animations must be finite.");const n=function(e,t){return za.isReducedMotion?rd({keyframes:e,options:t}):{keyframes:e,options:t}}(t,o),r=e.animate(n.keyframes,n.options);r.addEventListener("cancel",i,{once:!0}),r.addEventListener("finish",i,{once:!0})}))}function nd(e){return Promise.all(e.getAnimations().map((e=>new Promise((t=>{const o=()=>requestAnimationFrame(t);e.addEventListener("cancel",o,{once:!0}),e.addEventListener("finish",o,{once:!0}),e.cancel()})))))}const rd=({keyframes:e,options:t})=>({keyframes:e,options:{...t,duration:0}}),sd=(e,t)=>{var o,i;const n=e._$AN;if(void 0===n)return!1;for(const e of n)null===(i=(o=e)._$AO)||void 0===i||i.call(o,t,!1),sd(e,t);return!0},ad=e=>{let t,o;do{if(void 0===(t=e._$AM))break;o=t._$AN,o.delete(e),e=t}while(0===(null==o?void 0:o.size))},dd=e=>{for(let t;t=e._$AM;e=t){let o=t._$AN;if(void 0===o)t._$AN=o=new Set;else if(o.has(e))break;o.add(e),ud(t)}};function ld(e){void 0!==this._$AN?(ad(this),this._$AM=e,dd(this)):this._$AM=e}function cd(e,t=!1,o=0){const i=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(t)if(Array.isArray(i))for(let e=o;e<i.length;e++)sd(i[e],!1),ad(i[e]);else null!=i&&(sd(i,!1),ad(i));else sd(this,e)}const ud=t=>{var o,i,n,r;t.type==e.t.CHILD&&(null!==(o=(n=t)._$AP)&&void 0!==o||(n._$AP=cd),null!==(i=(r=t)._$AQ)&&void 0!==i||(r._$AQ=ld))};let hd=class extends e.i{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,o){super._$AT(e,t,o),dd(this),this.isConnected=e._$AU}_$AO(e,t=!0){var o,i;e!==this.isConnected&&(this.isConnected=e,e?null===(o=this.reconnected)||void 0===o||o.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),t&&(sd(this,e),ad(this))}setValue(t){if(e.b(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}};const pd=()=>new md;let md=class{};const gd=new WeakMap,_d=e.e(class extends hd{render(t){return e.A}update(t,[o]){var i;const n=o!==this.G;return n&&void 0!==this.G&&this.ot(void 0),(n||this.rt!==this.lt)&&(this.G=o,this.ct=null===(i=t.options)||void 0===i?void 0:i.host,this.ot(this.lt=t.element)),e.A}ot(e){var t;if("function"==typeof this.G){const o=null!==(t=this.ct)&&void 0!==t?t:globalThis;let i=gd.get(o);void 0===i&&(i=new WeakMap,gd.set(o,i)),void 0!==i.get(this.G)&&this.G.call(this.ct,void 0),i.set(this.G,e),void 0!==e&&this.G.call(this.ct,e)}else this.G.value=e}get rt(){var e,t,o;return"function"==typeof this.G?null===(t=gd.get(null!==(e=this.ct)&&void 0!==e?e:globalThis))||void 0===t?void 0:t.get(this.G):null===(o=this.G)||void 0===o?void 0:o.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}}),Ed=()=>{let e=document.activeElement;for(;e?.shadowRoot?.activeElement;)e=e.shadowRoot.activeElement;return e};function fd(e,t){return new Promise((o=>{e.addEventListener(t,(function i(n){n.target===e&&(e.removeEventListener(t,i),o())}))}))}function vd(e,t,o={maximumMatches:1/0}){const i=[];return function n(r){if(!(i.length>=o.maximumMatches)){if(r instanceof Element){if(o.skipTree?.(r))return;!i.includes(r)&&e(r)&&i.push(r);r instanceof HTMLSlotElement&&(e=>e.getRootNode({composed:!0})?.host!==t)(r)&&r.assignedElements({flatten:!0}).forEach(n),null!==r.shadowRoot&&"open"===r.shadowRoot.mode&&n(r.shadowRoot)}Array.from(r.children).forEach(n)}}(t),i}const Sd=new Set(["button","input","select","textarea","audio","video","summary"]);function bd(e){const t=e.tagName.toLowerCase();return!e.hasAttribute("inert")&&("-1"!==e.getAttribute("tabindex")&&(!e.hasAttribute("disabled")&&(!("input"===t&&"radio"===e.getAttribute("type")&&!e.hasAttribute("checked"))&&(o=e,!!Boolean(o.offsetParent||o.offsetWidth||o.offsetHeight||o.getClientRects().length)&&("hidden"!==window.getComputedStyle(e).visibility&&(!("audio"!==t&&"video"!==t||!e.hasAttribute("controls"))||(!!e.hasAttribute("tabindex")||(!(!e.hasAttribute("contenteditable")||"false"===e.getAttribute("contenteditable"))||(!("a"!==t||!e.hasAttribute("href"))||Sd.has(t))))))))));var o}function yd(e,t){return vd(bd,e,{skipTree:t,maximumMatches:1/0})}let Cd=[];const Td=new Set(["rpl-menu"]);class Ad{constructor(e){this.currentFocus=null,this.tabDirection="forward",this.disableFocusTrap=!1,this.checkFocusRaf=null,this.elementsToIgnoreFocusEventsWithin=new WeakSet,this.handleFocusIn=e=>{if(this.isActive()){for(const t of e.composedPath())if(t instanceof HTMLElement&&this.elementsToIgnoreFocusEventsWithin.has(t))return;this.checkFocus()}},this.handleKeyDown=e=>{if("Tab"!==e.key||this.disableFocusTrap||!this.isActive())return;e.shiftKey?this.tabDirection="backward":this.tabDirection="forward",e.preventDefault();const t=Ed(),o=this.getTabbable();let i=o.findIndex((e=>e===t));if(-1===i)return this.currentFocus=o[0],void this.currentFocus?.focus({preventScroll:!0});const n="forward"===this.tabDirection?1:-1;i+n>=o.length?i=0:i+n<0?i=o.length-1:i+=n,this.currentFocus=o[i],this.currentFocus?.focus({preventScroll:!0}),setTimeout((()=>this.checkFocus()))},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e}getTabbable(){return yd(this.element,(e=>{const t=e.tagName.toLowerCase();return!!Td.has(t)&&(this.elementsToIgnoreFocusEventsWithin.add(e),!0)}))}activate(){Cd.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){Cd=Cd.filter((e=>e!==this.element)),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return Cd[Cd.length-1]===this.element}disableFocusTrapping(){this.disableFocusTrap=!0}enableFocusTrapping(){this.disableFocusTrap=!1}checkFocus(){this.isActive()&&!this.disableFocusTrap&&(this.checkFocusRaf&&cancelAnimationFrame(this.checkFocusRaf),this.checkFocusRaf=requestAnimationFrame((()=>{const e=this.getTabbable();if(!this.element.matches(":focus-within")){const t=e[0],o=e[e.length-1],i="forward"===this.tabDirection?t:o;"function"==typeof i?.focus&&(this.currentFocus=i,this.currentFocus?.focus())}})))}}const Id=Symbol("mixins/with-event-dispatcher");class Pd{constructor(e){this.host=e}get namespace(){return null!==this.host.eventNamespaceOverride?this.host.eventNamespaceOverride:this.host.tagName.toLowerCase()}eventId(e){return""===e&&(e="generic"),this.namespace+":"+e}dispatch(e,{bubbles:t=!0,cancelable:o=!0,composed:i=!0,...n}={bubbles:!0,cancelable:!0,composed:!0}){return this.host.dispatchEvent(new CustomEvent(this.eventId(e),{bubbles:t,cancelable:o,composed:i,...n}))}}class Rd extends(function(e){if(Da(e,Id))return e;class t extends e{constructor(){super(...arguments),this.eventNamespaceOverride=null,this.emitter=new Pd(this)}}return t[Id]=!0,t}(e.s)){constructor(){super(...arguments),this.logDebugMessage=(...e)=>{}}}const wd=e=>{const t=document.createElement("style");return t.textContent=e.cssText,document.head.appendChild(t),{remove:()=>{document.head.removeChild(t)},update:e=>{t.textContent=e.cssText}}},Od=e.a`:host{box-sizing:border-box}:host *,:host ::after,:host ::before{box-sizing:inherit}[hidden]{display:none!important}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}`,Md=e.a`.styled-scrollbar{--_scrollbar-color:var(--scrollbar-color, var(--color-neutral-border));--_scrollbar-background:var(--scrollbar-background, var(--color-neutral-background));scrollbar-color:transparent transparent;scrollbar-width:thin}.styled-scrollbar::-webkit-scrollbar{width:16px;height:16px}.styled-scrollbar::-webkit-scrollbar-track{background:var(--_scrollbar-background)}.styled-scrollbar:hover{scrollbar-color:var(--_scrollbar-color) transparent}.styled-scrollbar:hover::-webkit-scrollbar-thumb{background:var(--_scrollbar-color);border:6px solid var(--_scrollbar-background);border-radius:8px}`;wd(e.a`.rpl-scroll-lock{overflow:hidden!important}`);const Nd=new Set;function Dd(e){Nd.add(e),document.body.classList.contains("rpl-scroll-lock")||document.body.classList.add("rpl-scroll-lock")}function Ld(e){Nd.delete(e),0===Nd.size&&document.body.classList.remove("rpl-scroll-lock")}function Ud(e){return e.scrollHeight!==e.clientHeight}const kd={Show:"show",Hide:"hide"},xd=Symbol("mixins/with-portal"),Fd={_root:document.body,set portalRoot(e){this._root=e},get portalRoot(){return Vd(this._root)}},Vd=e=>"function"==typeof e?e():e;function Bd(t){if(Da(t,xd))return t;class o extends t{get portalRoot(){return Vd(this._portalRoot??Fd.portalRoot)}set portalRoot(e){this._portalRoot=e}connectedCallback(){super.connectedCallback(),this.style.display="none"}attachPortal(){this.portalRoot.appendChild(this.portalContainer)}removePortal(){this.portalContainer.parentElement&&this.portalContainer.parentElement.removeChild(this.portalContainer)}createRenderRoot(){return this.portalContainer=document.createElement("div"),this.portalShadowRoot=this.portalContainer.attachShadow(this.constructor.shadowRootOptions),e.S(this.portalShadowRoot,this.constructor.elementStyles),this.portalShadowRoot}}return o[xd]=!0,o}const Gd=Symbol("mixins/with-dialog-child"),Wd=Symbol("dialog-child");function Hd(e){var o;if(Da(e,Gd))return e;class i extends e{constructor(){super(...arguments),this[o]=!0,this.dockable=!1,this.docked=!1,this.appearance=void 0}async connectedCallback(){super.connectedCallback(),this.hasUpdated||await this.updateComplete,this.dispatchEvent(new CustomEvent("rpl-dialog-child-connected",{bubbles:!0,composed:!0}))}disconnectedCallback(){this.dispatchEvent(new CustomEvent("rpl-dialog-child-disconnected",{bubbles:!0,composed:!0}))}}return o=Wd,i[Gd]=!0,t([l()],i.prototype,"dockable",void 0),t([l()],i.prototype,"docked",void 0),t([d({type:String,reflect:!0,attribute:"appearance"})],i.prototype,"appearance",void 0),i}const qd=e=>!!e&&(Wd in e&&e instanceof HTMLElement),Yd=Symbol("mixins/with-template-child");function $d(e){if(Da(e,Yd))return e;class t extends e{constructor(){super(...arguments),this.contentAppended=!1}appendTemplateContentTo(e,t={cache:!0}){if(t.cache&&this.contentAppended)return;let o=this.firstElementChild;for(;"slot"===o?.tagName.toLowerCase();){const e=o.assignedElements()[0];if(!e)break;o=e}if("template"!==o?.tagName.toLowerCase())return;const i=o.content.cloneNode(!0);e.innerHTML="",e.appendChild(i),this.contentAppended=!0}}return t[Yd]=!0,t}const jd={Space:"Space",Enter:"Enter"},Kd={Escape:"Escape",Space:jd.Space,Enter:jd.Enter},Qd=Symbol.for("rpl-menu"),zd=e=>Qd in e;let Jd={scrollToStart:"Scroll to start",scrollToEnd:"Scroll to end",closeDialog:"Close Dialog"};const Xd={term:e=>Jd[e],updateTerms:e=>{Jd={...Jd,...e}}};class Zd extends(function(e){if(Da(e,La))return e;class t extends e{constructor(){super(...arguments),this.cleanupSideEffectsBeforeNavigationHasRun=!1}connectedCallback(){super.connectedCallback(),Ua.add(this),this.cleanupSideEffectsBeforeNavigationHasRun=!1}disconnectedCallback(){this.cleanupSideEffectsBeforeNavigationHasRun||this.cleanupSideEffectsBeforeNavigation(),super.disconnectedCallback()}cleanupSideEffectsBeforeNavigation(){Ua.delete(this),this.cleanupSideEffectsBeforeNavigationHasRun=!0}}return t[La]=!0,t}($d(Bd(Rd)))){constructor(){super(...arguments),this.styledDialogChildren=new Set,this.originalTrigger=null,this.triggerElement=null,this.shouldOpenOnReconnect=!1,this.dialogRef=pd(),this.panelRef=pd(),this.overlayRef=pd(),this.open=!1,this.overlayBlur=!1,this.dialogId="",this.dialogClassName="",this.label="",this.blocking=!1,this.noAnimate=!1,this.disableCacheContents=!1,this.screenreaderCloseButton=!1,this.eagerAttachTemplateContent=!1,this.persistOnReconnect=!1,this.handleCloseButtonClicked=e=>{e?.stopPropagation(),this.requestClose("close-button")},this.handleMenuClose=e=>{this.requestClose("menu-closed")},this.handleTriggerElementEvent=e=>{const t=e.detail;if(t.dialogId===this.dialogId)return t.action===kd.Hide?this.hide():this.handleTriggerShowAction(t)},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.modal.isActive()&&this.open&&(e.stopPropagation(),this.requestClose("keyboard"))}}connectedCallback(){if(super.connectedCallback(),this.portalContainer.id=this.dialogId,this.portalContainer.classList.add(this.tagName.toLowerCase()),this.dialogClassName&&this.portalContainer.classList.add(this.dialogClassName),this.modal=new Ad(this.portalContainer),this.eagerAttachTemplateContent){if(this.persistOnReconnect)throw new Error("[RPLDialog]: Cannot set both `eager-attach-template-content` and `persist-on-reconnect`.");this.appendTemplateContentTo(this.portalContainer,{cache:!this.disableCacheContents}),this.panelAriaHidden=!0,this.attachPortal()}document.addEventListener("rpl-dialog-trigger:trigger-clicked",this.handleTriggerElementEvent),this.shouldOpenOnReconnect&&(this.open=!0,this.syncOpenOnRender(this.shouldOpenOnReconnect.modaled),this.shouldOpenOnReconnect=!1)}willUpdate(e){e.has("open")&&this.hasUpdated&&this.handleOpenChange(),e.has("litTemplateChildren")&&this.handleLitTemplateChildrenChange(),super.willUpdate(e);const t=Array.from(e.entries()).map((([e,t])=>({key:e,changed:t!==this[e],newValue:this[e]})));this.emitter.dispatch("internal-sync",{detail:t})}async firstUpdated(){this.syncOpenOnRender()}syncOpenOnRender(e=!0){this.dialogRef.value&&(this.dialogRef.value.hidden=!this.open),this.panelAriaHidden=!this.open,this.open&&(this.attachPortal(),this.litTemplateChildren||this.appendTemplateContentTo(this.portalContainer,{cache:!this.disableCacheContents}),this.addOpenListeners(),this.modal.activate(),e||this.modal.disableFocusTrapping(),this.handleOpenFocus(),e&&Dd(this))}cleanupSideEffectsBeforeNavigation(){super.cleanupSideEffectsBeforeNavigation(),this.open&&this.persistOnReconnect?this.shouldOpenOnReconnect={modaled:!this.modal.disableFocusTrap}:this.shouldOpenOnReconnect=!1,this.modal.deactivate(),this.panelAriaHidden=!0,this.removePortal(),this.removeAttribute("open"),Ld(this),document.removeEventListener("rpl-dialog-trigger:trigger-clicked",this.handleTriggerElementEvent)}async requestClose(e){if(this.blocking)return;if(this.emitter.dispatch("request-close",{cancelable:!0,detail:{source:e}})||!this.panelRef.value)return this.hide();{const e=od(this,this.animationNames.denyClose);id(this.panelRef.value,e.keyframes,e.options)}}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown),this.portalContainer.addEventListener("rpl-modal-card:close-button-clicked",this.handleCloseButtonClicked),this.portalContainer.addEventListener("rpl:menu-close",this.handleMenuClose)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown),this.portalContainer.removeEventListener("rpl-modal-card:close-button-clicked",this.handleCloseButtonClicked),this.portalContainer.removeEventListener("rpl:menu-close",this.handleMenuClose)}handleTriggerShowAction(e){if(!this.open&&!this.triggerElement)return this.triggerElement=e.triggerElement,e.noModal?this.show():this.showModal()}handleSlotChange(e){}handleDialogChildConnected(e){}handleDialogChildDisconnected(e){}internalHandleDialogChildConnected(e){const t=e.composedPath()[0];qd(t)&&!this.styledDialogChildren.has(t)&&(this.styledDialogChildren.add(t),this.handleDialogChildConnected(t))}internalHandleDialogChildDisconnected(e){const t=e.composedPath()[0];qd(t)&&this.styledDialogChildren.has(t)&&(this.styledDialogChildren.delete(t),this.handleDialogChildDisconnected(t))}async handleLitTemplateChildrenChange(){await this.updateComplete,e.B(this.litTemplateChildren,this.portalContainer)}async handleOpenFocus(e){this.originalTrigger=Ed();const t=this.portalContainer.querySelector("[autofocus]");t&&t.removeAttribute("autofocus"),e&&await e,requestAnimationFrame((()=>{if(!!this.emitter.dispatch("initial-focus",{cancelable:!0}))if(t)t.focus({preventScroll:!0});else{const e=vd(zd,this.portalContainer,{maximumMatches:1}),t=e?.[0];t?t.focusOnOpen():this.modal.checkFocus()}t&&t.setAttribute("autofocus","")}))}async handleOpenChange(){if(this.open){if(this.eagerAttachTemplateContent&&this.removePortal(),this.attachPortal(),this.appendTemplateContentTo(this.portalContainer,{cache:!this.disableCacheContents}),this.emitter.dispatch("show"),this.addOpenListeners(),this.panelAriaHidden=!1,this.modal.activate(),this.triggerElement&&this.triggerElement.addOpenAttributes(),this.modal.disableFocusTrap||Dd(this),!this.dialogRef.value||!this.overlayRef.value||!this.panelRef.value)return this.emitter.dispatch("after-show");await this.handleOpenFocus(Promise.all([nd(this.dialogRef.value),nd(this.overlayRef.value)])),this.dialogRef.value.hidden=!1;const e=od(this,this.animationNames.show),t=od(this,this.animationNames.overlayShow);return await Promise.all([id(this.panelRef.value,e.keyframes,e.options),id(this.overlayRef.value,t.keyframes,t.options)]),this.emitter.dispatch("after-show")}{if(this.emitter.dispatch("hide"),this.removeOpenListeners(),this.modal.deactivate(),this.dialogRef.value&&this.overlayRef.value&&this.panelRef.value){await Promise.all([nd(this.dialogRef.value),nd(this.overlayRef.value)]);const e=od(this,this.animationNames.hide),t=od(this,this.animationNames.overlayHide);if(!this.overlayRef.value)return;await Promise.all([id(this.overlayRef.value,t.keyframes,t.options).then((()=>{this.overlayRef.value&&(this.overlayRef.value.hidden=!0)})),id(this.panelRef.value,e.keyframes,e.options).then((()=>{this.panelRef.value&&(this.panelRef.value.hidden=!0)}))])}!this.open&&(this.dialogRef.value&&(this.dialogRef.value.hidden=!0),Ld(this),this.removePortal()),this.overlayRef.value&&(this.overlayRef.value.hidden=!1),this.panelRef.value&&(this.panelRef.value.hidden=!1),this.triggerElement&&(this.triggerElement.removeOpenAttributes(),this.triggerElement=null);const e=this.originalTrigger;return"function"==typeof e?.focus?new Promise((t=>setTimeout((()=>{e.focus({preventScroll:!0}),this.panelAriaHidden=!0,t(this.emitter.dispatch("after-hide"))})))):(this.panelAriaHidden=!0,this.emitter.dispatch("after-hide"))}}set panelAriaHidden(e){this.panelRef.value&&(this.panelRef.value.ariaHidden=String(e))}async showModal(){if(!this.open)return this.modal.enableFocusTrapping(),this.open=!0,fd(this,this.emitter.eventId("after-show"))}checkFocus(){this.modal.checkFocus()}async show(){if(!this.open)return this.modal.disableFocusTrapping(),this.open=!0,fd(this,this.emitter.eventId("after-show"))}async hide(){if(this.open)return this.open=!1,fd(this,this.emitter.eventId("after-hide"))}renderTopOfDialog(){return e.A}renderScreenreaderCloseButton(){return this.screenreaderCloseButton?e.x`<button tabindex="-1" @click="${this.handleCloseButtonClicked}" class="sr-only"> ${Xd.term("closeDialog")} </button>`:e.x``}render(){return e.x` <div part="base" class="${S({dialog:!0,"dialog-open":this.open,...this.renderDialogBaseClasses()})}" ${_d(this.dialogRef)}> <div part="overlay" class="${S({"dialog-overlay":!0,"dialog-overlay-blur":this.overlayBlur,"dialog-overlay-no-modal":this.modal.disableFocusTrap})}" @click="${()=>this.requestClose("overlay")}" tabindex="-1" ${_d(this.overlayRef)}></div> ${this.renderScreenreaderCloseButton()} <div part="panel" class="dialog-panel" role="dialog" aria-modal="${!this.modal.disableFocusTrap}" aria-label="${this.label}" tabindex="-1" ${_d(this.panelRef)}> ${this.renderTopOfDialog()} <slot @slotchange="${this.handleSlotChange}" @rpl-dialog-child-connected="${this.internalHandleDialogChildConnected}" @rpl-dialog-child-disconnected="${this.internalHandleDialogChildDisconnected}"></slot> </div> </div> `}}t([d({attribute:!1})],Zd.prototype,"dialogRef",void 0),t([d({attribute:!1})],Zd.prototype,"panelRef",void 0),t([d({attribute:!1})],Zd.prototype,"overlayRef",void 0),t([d({type:Boolean,reflect:!0})],Zd.prototype,"open",void 0),t([d({type:Boolean,reflect:!0,attribute:"overlay-blur"})],Zd.prototype,"overlayBlur",void 0),t([d({reflect:!0,attribute:"dialog-id"})],Zd.prototype,"dialogId",void 0),t([d({reflect:!0,attribute:"dialog-classname"})],Zd.prototype,"dialogClassName",void 0),t([d({reflect:!0})],Zd.prototype,"label",void 0),t([d({type:Boolean})],Zd.prototype,"blocking",void 0),t([d({type:Boolean,attribute:"no-animate"})],Zd.prototype,"noAnimate",void 0),t([d({type:Boolean,reflect:!0,attribute:"disable-cache-contents"})],Zd.prototype,"disableCacheContents",void 0),t([d({type:Boolean,reflect:!0,attribute:"screenreader-close-button"})],Zd.prototype,"screenreaderCloseButton",void 0),t([d({type:Boolean,reflect:!0,attribute:"eager-attach-template-content"})],Zd.prototype,"eagerAttachTemplateContent",void 0),t([d({type:Boolean,reflect:!0,attribute:"persist-on-reconnect"})],Zd.prototype,"persistOnReconnect",void 0),t([l()],Zd.prototype,"litTemplateChildren",void 0);var el=e.a`${Od}:host{--transition-duration:250ms;display:contents}.dialog{display:flex;align-items:center;justify-content:center;position:fixed;top:0;right:0;bottom:0;left:0;z-index:var(--z-index-dialog,1000);user-select:none;pointer-events:none}.dialog-panel{display:flex;flex-direction:column;z-index:2;width:fit-content;max-width:calc(100% - var(--spacer-2xl));max-height:calc(100% - var(--spacer-2xl));background-color:var(--color-ui-modalbackground);border-radius:var(--radius-md);box-shadow:var(--boxshadow-modal)}.dialog-variant-plain .dialog-panel{max-width:100%;max-height:100%;background-color:transparent;border-radius:initial;box-shadow:initial}.dialog-panel:focus{outline:0}.dialog-open{user-select:auto}.dialog-open .dialog-overlay,.dialog-open .dialog-panel{pointer-events:auto}.dialog-open .dialog-panel{display:flex;opacity:1}.dialog-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,var(--rpl-dialog-backdrop-opacity,.5))}.dialog-overlay-blur{backdrop-filter:blur(var(--dialog-backdrop-blur, 4px))}.dialog-overlay-no-modal{display:none!important}`;let tl=class extends Zd{constructor(){super(...arguments),this.animationNames={show:"dialog.show",hide:"dialog.hide",denyClose:"dialog.denyClose",overlayShow:"dialog.overlay.show",overlayHide:"dialog.overlay.hide"},this.variant="default"}handleDialogChildConnected(e){e.appearance="modal","plain"!==this.variant&&this.styledDialogChildren.size>0&&(this.variant="plain")}renderDialogBaseClasses(){return{[`dialog-variant-${this.variant}`]:!0}}};tl.styles=el,t([d({type:String,reflect:!0})],tl.prototype,"variant",void 0),tl=t([s("rpl-dialog")],tl),td("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}}),td("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}}),td("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}}),td("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}}),td("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});const ol=async e=>{const t=()=>new Promise((e=>setTimeout(e,0)));return e.hasUpdated||await e.updateComplete,t()};class il{constructor(e,t){this.host=e,this.config=t,this.rafId=null,this._connectedElements=new Map,this._wasObserving=[],e.addController(this)}async hostConnected(){const e=this.host.hasUpdated;if(this.resizeObserver??(this.resizeObserver=new ResizeObserver(((e,t)=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>(this.rafId=null,this.config.callback.call(this.host).call(this.host,e,t))))}))),e){for(const e of this._wasObserving)this.connectElement(e);this._wasObserving=[]}!e&&this.config.observeAllOnFirstUpdate&&(await ol(this.host),this.observeAllElements())}hostDisconnected(){this._wasObserving=this.connectedElements,this.unobserveAllElements()}fetchElement(e){return this.config.elements[e]?.call(this.host)??null}get connectedElements(){return Array.from(this._connectedElements.keys())}get unconnectedElements(){return Object.keys(this.config.elements).filter((e=>!this._connectedElements.has(e)))}connectElement(e){const t=this.fetchElement(e);return t&&(this._connectedElements.has(e)&&this.resizeObserver.unobserve(this._connectedElements.get(e)),this.resizeObserver.observe(t,{box:"border-box"}),this._connectedElements.set(e,t)),!!t}observeAllElements(){for(const e of this.unconnectedElements)this.connectElement(e)}unobserveAllElements(){this.resizeObserver.disconnect(),this._connectedElements.clear()}replaceObservedElement(e){return this.connectElement(e)}}var nl=e.a`${Od}${Md}:host{--background-color:var(--color-ui-modalbackground);--_overlay-height:var(--scrollbox-overlay-height, 2.5em);--_overlay-margin:calc(var(--_overlay-height) * -1);--_overlay-z-index:var(--overlay-z-index, 1)}@media (prefers-color-scheme:dark){:host{--background-color-transparent:rgba(0, 0, 0, 0)}}@media (prefers-color-scheme:light){:host{--background-color-transparent:rgba(255, 255, 255, 0)}}:host{display:flex;flex-direction:column;min-height:0;flex-shrink:1;flex-grow:0;overflow:auto;padding:0 4px;margin:0 -4px}:host{-ms-overflow-style:none;scrollbar-width:none}:host::-webkit-scrollbar{display:none;width:0!important}.visibility-ref-bottom,.visibility-ref-top{pointer-events:none}.visibility-ref-bottom{position:relative;bottom:1px}.bottom-overlay,.top-overlay{position:sticky;height:var(--_overlay-height);min-height:var(--_overlay-height);margin-top:var(--_overlay-margin);opacity:1;transition:opacity .2s;pointer-events:none;z-index:var(--_overlay-z-index)}.overlay--hidden{opacity:0}.top-overlay{top:-1px;background:linear-gradient(to bottom,var(--background-color) 20%,var(--background-color-transparent))}.bottom-overlay{bottom:-1px;background:linear-gradient(to top,var(--background-color) 20%,var(--background-color-transparent))}`;class rl extends Rd{constructor(){super(...arguments),this.visibilityEls={},this.showTopOverlay=!1,this.showBottomOverlay=!1,this.disableOverlay=!1,this.updateOverlayVisibility=e=>{for(const t of e){if(!(t.target instanceof HTMLElement))continue;const{position:e}=t.target.dataset,o=!t.isIntersecting;"bottom"===e&&(this.showBottomOverlay=o),"top"===e&&(this.showTopOverlay=o)}this.emitter.dispatch("visibility-change")},this.createVisibilityRef=e=>{if(!(e instanceof HTMLElement))return;const t=e.dataset.position;this.visibilityEls[t]&&this.intersectionObserver.unobserve(this.visibilityEls[t]),this.intersectionObserver.observe(e),this.visibilityEls[t]=e}}connectedCallback(){super.connectedCallback(),this.intersectionObserver=new IntersectionObserver(this.updateOverlayVisibility,{root:this,threshold:[0,1]})}render(){return e.x` <div class="${S({"top-overlay":!0,"overlay--hidden":!this.showTopOverlay||this.disableOverlay})}"></div> <div class="visibility-ref-top" ${_d(this.createVisibilityRef)} data-position="top"></div> <slot></slot> <div class="visibility-ref-bottom" ${_d(this.createVisibilityRef)} data-position="bottom"></div> <div class="${S({"bottom-overlay":!0,"overlay--hidden":!this.showBottomOverlay||this.disableOverlay})}"></div> `}}t([l()],rl.prototype,"showTopOverlay",void 0),t([l()],rl.prototype,"showBottomOverlay",void 0),t([l()],rl.prototype,"disableOverlay",void 0);let sl=class extends rl{};sl.styles=nl,sl=t([s("rpl-scrollbox")],sl);class al extends(Hd(Rd)){constructor(){super(...arguments),this.resizeController=new il(this,{observeAllOnFirstUpdate:!0,callback:()=>this.handleResize,elements:{content:()=>this.contentRef}}),this.isFooterEmpty=!0,this.shouldContentScroll=!1,this.scrollableContent=!1,this.autoClose=!1,this.autoDock=!1,this.contentRef=void 0,this.headerRef=pd(),this.footerRef=pd(),this.emitCloseButtonClickEvent=()=>{this.emitter.dispatch("close-button-clicked",{bubbles:!0,composed:!0,detail:{}})},this.emitDockButtonClickEvent=()=>{this.emitter.dispatch("dock-button-clicked",{bubbles:!0,composed:!0,detail:{}})},this.handleCloseButtonClick=e=>{e.stopPropagation(),this.autoClose&&this.emitCloseButtonClickEvent()},this.handleCloseButtonKeydown=e=>{this.autoClose&&"Enter"===e.key&&this.emitCloseButtonClickEvent()},this.handleDockButtonClick=e=>{this.autoDock&&this.emitDockButtonClickEvent()},this.handleDockButtonKeydown=e=>{this.autoDock&&"Enter"===e.key&&this.emitDockButtonClickEvent()},this.handleResize=()=>{this.updateShouldContentScroll(),this.emitter.dispatch("resize")},this.updateShouldContentScroll=async()=>{this.shouldContentScroll=!!this.contentRef&&Ud(this.contentRef),this.style.setProperty("--modal-card-scrollbar-width",this.contentRef?.offsetWidth-this.contentRef?.clientWidth+"px")}}willUpdate(e){if(e.has("docked")){const e=this.shadowRoot?.querySelector("rpl-scrollbox");if(!e)return;this.docked?(e.style.scrollBehavior="auto",e.scrollTo({top:0,behavior:"auto"}),e.style.scrollBehavior="",e.style.overflow="hidden"):e.style.overflow=""}}setContentRef(e){if(!e)return;const t=e;this.contentRef=t,this.resizeController.replaceObservedElement("content")}get headerHeight(){return this.headerRef.value?.clientHeight}handleSlotChange(e){this.isFooterEmpty=!(this.footerSlot?.length||this.primaryButtonSlot?.length||this.secondaryButtonSlot?.length||this.tertiaryButtonSlot?.length)}render(){const t=this.dockable&&"bottom-sheet"===this.appearance,o=e.x` <div class="${S({"header-action-container":!0,"header-action-container-floating":this.shouldContentScroll})}" part="header-action-container"> ${t?e.x`<slot name="dock-button" part="dock-button" class="${S({"dock-button-docked":this.docked})}" @click="${this.handleDockButtonClick}" @keydown="${this.handleDockButtonKeydown}"></slot>`:e.A} <slot name="close-button" part="close-button" @click="${this.handleCloseButtonClick}" @keydown="${this.handleCloseButtonKeydown}"></slot> </div>`,i=e.x` <div class="modal-card-header-container" part="header-container"> <div part="header" class="${S({"modal-card-header":!0,"modal-card-header-with-icon":this.titleGraphic.length>0,"modal-card-header-with-collapse":t})}" ${_d(this.headerRef)}> <div part="title-graphic" class="modal-card-title-graphic" aria-hidden="true"> <slot name="title-graphic"></slot> </div> <slot name="title"></slot> </div> ${this.scrollableContent?e.x`<rpl-scrollbox .disableOverlay="${this.docked}"><slot></slot></rpl-scrollbox>`:e.x`<slot></slot>`} </div>`;return e.x` ${this.shouldContentScroll?o:e.A} <div class="${S({"modal-card-content":!0,"styled-scrollbar":!0,"modal-card-content-docked":this.docked})}" part="content"> <rpl-scrollbox ${_d(this.setContentRef)} .disableOverlay="${this.docked}"> ${[this.shouldContentScroll?e.A:o,i]} </rpl-scrollbox> </div> <div part="footer" class="${S({"modal-card-footer":!0,"modal-card-footer-sticky":this.shouldContentScroll,"modal-card-footer-empty":this.isFooterEmpty})}" ?hidden="${t&&this.docked}" ${_d(this.footerRef)}> <slot name="tertiary-button" @slotchange="${this.handleSlotChange}"></slot> <div class="primary-secondary-button-container"> <slot name="secondary-button" @slotchange="${this.handleSlotChange}"></slot> <slot name="primary-button" @slotchange="${this.handleSlotChange}"></slot> </div> <slot name="footer" @slotchange="${this.handleSlotChange}"></slot> </div> `}}t([l()],al.prototype,"isFooterEmpty",void 0),t([l()],al.prototype,"shouldContentScroll",void 0),t([d({type:Boolean,reflect:!0,attribute:"scrollable-content"})],al.prototype,"scrollableContent",void 0),t([d({type:Boolean,reflect:!0,attribute:"auto-close"})],al.prototype,"autoClose",void 0),t([d({type:Boolean,reflect:!0,attribute:"auto-dock"})],al.prototype,"autoDock",void 0),t([p({slot:"title-graphic"})],al.prototype,"titleGraphic",void 0),t([p({slot:"footer",flatten:!0})],al.prototype,"footerSlot",void 0),t([p({slot:"primary-button",flatten:!0})],al.prototype,"primaryButtonSlot",void 0),t([p({slot:"secondary-button",flatten:!0})],al.prototype,"secondaryButtonSlot",void 0),t([p({slot:"tertiary-button",flatten:!0})],al.prototype,"tertiaryButtonSlot",void 0);var dl=e.a`${Od}:host{--scrollbar-background:var(--color-ui-modalbackground);--default-slot-padding:var(--spacer-xs) 0;display:flex;flex-direction:column;align-items:center;height:100%;position:relative;font-size:16px;box-sizing:border-box;max-height:inherit;min-height:inherit;overflow:auto;padding:0;background-color:var(--color-ui-modalbackground)}:host([appearance=modal]){border-radius:var(--rem16);box-shadow:var(--boxshadow-modal)}:host([appearance=bottom-sheet]){border-start-start-radius:var(--radius-md);border-start-end-radius:var(--radius-md);width:100%;max-height:calc(var(--bottom-sheet-expanded-height) - 1rem)}:host(.no-input-margins) rpl-scrollbox{padding:0;margin:0}.modal-card-content{box-sizing:border-box;padding:var(--content-padding,var(--spacer-md));width:100%;display:flex;flex-direction:column;flex:1 1;overflow-y:auto;overflow-x:hidden}:host([appearance=bottom-sheet]) .modal-card-content{padding:0 var(--content-padding,var(--spacer-md)) var(--content-padding,var(--spacer-md))}:host([appearance=bottom-sheet]) .modal-card-content-docked{padding:0 var(--content-padding,var(--spacer-md)) 0}.header-action-container{display:inline-flex;position:absolute;top:0;inset-inline-end:0;margin:var(--content-padding,var(--spacer-md));z-index:2;gap:var(--spacer-xs)}:host([appearance=bottom-sheet]) .header-action-container{margin:0 var(--content-padding,var(--spacer-md)) var(--content-padding,var(--spacer-md))}.header-action-container.header-action-container-floating{margin:var(--content-padding,var(--spacer-md)) calc(var(--content-padding,var(--spacer-md)) + var(--modal-card-scrollbar-width)) var(--content-padding,var(--spacer-md))}:host([appearance=bottom-sheet]) .header-action-container.header-action-container-floating{margin:0 calc(var(--content-padding,var(--spacer-md)) + var(--modal-card-scrollbar-width)) var(--content-padding,var(--spacer-md))}slot:not([name]){padding:var(--default-slot-padding);font-size:var(--rem14);display:flex;flex-direction:column;min-height:0}:host([scrollable-content]) slot:not([name]){display:contents}:host([scrollable-content]) slot:not([name])::slotted(.rpl-modal-card-scrollable){min-height:0;flex-shrink:1;overflow:auto}slot[name=title]{font-size:var(--rem18);font-weight:700;text-align:left}slot[name=tertiary-button]{font-size:14px;text-align:center}slot[name=close-button],slot[name=dock-button]{display:inline-flex;transition:transform .2s;transform-origin:center}slot[name=dock-button].dock-button-docked{transform:rotate(180deg)}.modal-card-close-button-floating slot[name=close-button],.modal-card-close-button-floating slot[name=dock-button]{box-shadow:var(--elevation-sm);border-radius:999px}.modal-card-header{display:flex;align-items:center;width:100%;max-width:calc(100% - var(--spacer-3xl));box-sizing:border-box;text-align:left}:host([appearance=bottom-sheet]) .modal-card-header{padding-bottom:var(--rem8)}.modal-card-header,.modal-card-header-with-icon{flex-direction:row;padding-inline:0 var(--spacer-2xl)}.modal-card-header-with-collapse{padding-inline:0 5rem}.modal-card-title-graphic{display:flex;align-items:center}.modal-card-header-with-icon .modal-card-title-graphic{padding-inline-end:var(--spacer-sm)}.modal-card-footer{display:flex;flex-direction:column;width:100%;background:var(--color-ui-modalbackground);padding:var(--spacer-md);box-sizing:border-box;gap:var(--spacer-sm)}.modal-card-footer-empty{display:none}.modal-card-footer-sticky{box-shadow:var(--elevation-md)}.primary-secondary-button-container{gap:var(--spacer-sm);display:flex;flex-direction:column}@media (min-width:640px){:host([appearance=bottom-sheet]) slot[name=tertiary-button],:host([appearance=modal]) slot[name=tertiary-button]{align-items:center}:host([appearance=bottom-sheet]) .modal-card-footer,:host([appearance=modal]) .modal-card-footer{flex-direction:row;align-items:center;justify-content:space-between}:host([appearance=bottom-sheet]) .primary-secondary-button-container,:host([appearance=modal]) .primary-secondary-button-container{flex-direction:row;margin-inline-start:auto}}`;let ll=class extends al{};ll.styles=dl,ll=t([s("rpl-modal-card")],ll);let cl=0;const ul="push-token-last-refresh-ms";var hl;!function(e){e.Enabled="Enabled",e.Pending="Pending",e.NoServiceWorker="NoServiceWorker",e.NoPushManager="NoPushManager",e.NoSubscription="NoSubscription",e.NoNotificationAPI="NoNotificationAPI",e.Blocked="Blocked",e.Error="Error"}(hl||(hl={}));const pl=e=>ho({source:"notification_system_settings",action:e,noun:"push_notifications"});let ml=!1;function gl(...e){const t=document.querySelector("shreddit-app");t&&ft(t,ho(...e))}async function _l(e=!1,t=navigator.serviceWorker){const o=await(t?.getRegistration());if(!o)return!1;let i=await o.pushManager.getSubscription();if(i&&!e)return!0;const n={userVisibleOnly:!0,applicationServerKey:"BJ2nJR9HeBwCWe4s7bKfKgWZkx2Q8Q59yBdSVLxWIhPaWuzHDUxQ2YJnhLvbAVujWBZYuQv60V6a6oipSw09FT0"};ml=!0;try{return gl({source:"notification",action:"request",noun:"pushToken"}),i=await o.pushManager.subscribe(n),i?(await async function(e){const t=await Mr({operation:Cr.RegisterPushToken,variables:{pushToken:e,language:document.documentElement.lang||Ki["en-US"],timezoneName:Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Los_Angeles",timestamp:(new Date).toISOString()}});if(!t.data.registerWebPushToken?.ok)throw new Error("Error registering push token");si.setItem(ul,Date.now().toString())}(JSON.stringify(i)),gl({source:"notification",action:"register",noun:"pushToken"}),!0):!1}catch{return gl({source:"notification",action:"bail",noun:"pushToken"}),!1}finally{ml=!1}}const El=()=>"Notification"in globalThis&&void 0!==globalThis.Notification?Notification:null;async function fl(e=navigator.serviceWorker,t=El()){if(!t)return hl.NoNotificationAPI;try{await yl.promise;const o=await(e?.getRegistration());if(!o)return hl.NoServiceWorker;if(!o.pushManager)return hl.NoPushManager;if("denied"===t.permission)return hl.Blocked;if("default"===t.permission)return hl.Pending;return await o.pushManager.getSubscription()?hl.Enabled:ml?hl.Pending:hl.NoSubscription}catch{return hl.Error}}async function vl(e=navigator.serviceWorker,t=El()){if("denied"===t.permission)return await Sl(),!1;const o=await t.requestPermission();if("granted"===o){const t=await _l(!1,e);return t&&gl(pl("enable")),t}return"denied"===o&&(await Sl(),!1)}function Sl(){return async function(t){let o=null;const i=`alert-dialog-${cl}`,n=t.closeText||"Close dialog",r=t.okText||"Ok",s=e=>{e.stopPropagation(),o?.hide()},a=e.x`<rpl-modal-card> ${t.title?e.x`<h2 slot="title" class="text-16 font-semibold">${t.title}</h2>`:e.A} <p>${t.text}</p> <div slot="primary-button"> ${R({children:r,appearance:"primary",attributes:{"aria-label":r,onclick:s}})} </div> <div slot="close-button"> ${R({appearance:"secondary",shape:"pill",leadingIcon:e.C({size:e.I.Small}),size:b.Small,attributes:{"aria-label":n,onclick:s}})} </div> </rpl-modal-card>`,d=document.createDocumentFragment();e.B(e.x`<rpl-dialog open id="${i}" dialog-id="${i}" label="${t.title}" .litTemplateChildren="${a}"></rpl-dialog>`,d),cl++,document.body.appendChild(d),o=document.querySelector(`rpl-dialog#${i}`),o.showModal(),await new Promise((e=>{o?.addEventListener("rpl-dialog:after-hide",(()=>e()),{once:!0})})),o.remove()}({title:"Notifications Disabled",text:"Use your browser settings menu to allow notifications for this site."})}let bl=!1;const yl=new Be,Cl=(e=navigator.serviceWorker)=>{if(!e)return;const t=document.getElementsByTagName("shreddit-app")?.[0],o={action_info:{page_type:Qa()},screen:{height:window?.screen.height,width:window?.screen.width},referrer:lo(t?.getAttribute("referrer")||document.referrer,window.location.href)};e.controller?.postMessage({command:"registerClient",v2EventBoilerPlate:o,disablePNs:"true"===t?.getAttribute("disable-pns")})},Tl=(e=navigator.serviceWorker)=>{e?.addEventListener("message",(t=>{const{data:o}=t;if("registerWithServiceWorker"===(o.command||o.type))return Cl(e)}))},Al=new Be;window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),Al.resolve(e)})),window.addEventListener("appinstalled",(()=>{const e=ho({source:"mweb",action:"install",noun:"pwa"}),t=document.querySelector("shreddit-app");t&&ft(t,e)}));const Il=(e=window)=>!!e.matchMedia?.("(display-mode: standalone), (display-mode: minimal-ui), (display: window-controls-overlay)").matches,Pl="join";var Rl,wl,Ol;!function(e){e.AchievementsModalShowById="achievements-modal-show-by-id",e.AchievementsProgressToast="achievements-progress-toast",e.AddRemovalReasonClose="add_removal_reason_close",e.AdUpdated="ad_updated",e.AgeGateBirthdateSubmitted="age_gate_birthday_submitted",e.AMAEnded="ama_ended",e.AMAOpenExamplesModal="ama_open_examples_modal",e.AMAOpenSelfieTooltip="ama_open_selfie_tooltip",e.AMAPostRsvpSubscribe="ama_post_rsvp_subscribe",e.AMAPostRsvpUnsubscribe="ama_post_rsvp_unsubscribe",e.AMAStarted="ama_started",e.AMATryEnd="ama_try_end",e.AMATryStartEarly="ama_try_start_early",e.AvatarStateUpdated="avatar_state_updated",e.AvatarUpdated="avatar_updated",e.AwardContent="award_content",e.AwardDialogClose="award_dialog_close",e.AwardDialogGoldTopUpRequest="award_dialog_gold_top_up_request",e.AwardDialogNavigateTo="award_dialog_navigate_to",e.AwardOnContentUpdated="award_on_content_updated",e.BanEvasionSummaryUpdate="ban_evasion_summary_update",e.BlockPdpAdClick="block_pdp_ad_click",e.CancelCommunitySubscription="cancel_community_subscription",e.CommentComposerBlurred="comment_composer_blurred",e.CommentComposerFocused="comment_composer_focused",e.CommentCreated="comment_created",e.CommentDeleted="comment_deleted",e.CommentDownvoted="comment_downvoted",e.CommentFilterUpdated="comment_filter_updated",e.CommentSort="comment_sort",e.CommentTreeAdsLoaded="comment_tree_ads_loaded",e.CommentUpdated="comment_updated",e.CommentUpvoted="comment_upvoted",e.CommunityAuthorFlairUpdated="community_author_flair_updated",e.CommunityGuideUpdated="community_guide_updated",e.CommunityOnboardingUpdated="community_onboarding_updated",e.CTLReportInit="ctl_report_init",e.CustomFeedCreated="custom_feed_created",e.CustomFeedDeleted="custom_feed_deleted",e.CustomFeedSourcesUpdated="custom_feed_sources_updated",e.CustomFeedUpdated="custom_feed_updated",e.DsaTransparencyModal="dsa_transparency_modal",e.EntityFilterView="entity_filter_view",e.ExplainerClosed="explainer_closed",e.FeatureActivated="feature_activated",e.GoldPurchased="gold_purchased",e.GuidesCitationMismatch="guides_citation_mismatch",e.GuidesDeactivateLink="guides_deactivate_link",e.GuidesEntrypointTooltipOpen="guides_entrypoint_tooltip_open",e.GuidesRenderNewQuestionContainer="guides_render_new_question_container",e.GuidesRenderNewQuestionContainerStarted="guides_render_new_question_container_started",e.GuidesRenderSplitScreenPostsView="guides_render_split_screen_posts_view",e.GuidesRenderSplitScreenSourcesView="guides_render_split_screen_sources_view",e.GuidesRenderSplitScreenView="guides_render_split_screen_view",e.GuidesResponseContainerSsrRendered="guides_response_container_ssr_rendered",e.GuidesRetryRequested="guides_retry_requested",e.GuidesStartGoodVisitTimer="guides_start_good_visit_timer",e.GuidesStopGoodVisitTimer="guides_stop_good_visit_timer",e.GuidesStoreGoodVisit="guides_store_good_visit",e.GuidesStreamingEnded="guides_streaming_ended",e.GuidesStreamingRateLimitDetails="guides_streaming_rate_limit_details",e.GuidesStreamingStarted="guides_streaming_started",e.GuidesStreamingUserQuota="guides_streaming_user_quota",e.GuidesSubscriptionConnected="guides_subscription_connected",e.GuidesSubscriptionDisconnected="guides_subscription_disconnected",e.GuidesSubscriptionResponded="guides_subscription_responded",e.GuidesSuggestionLoadingStarted="guides_suggestion_loading_started",e.GuidesUnavailableQueryClicked="guides_unavailable_query_clicked",e.Hotkeys="hotkeys_listener",e.I18nCommentTranslationOverride="i18n_comment_translation_override",e.I18nMoreCommentsPostMetrics="i18n_more_comments_post_metrics",e.I18nPostTranslationOverride="i18n_post_translation_override",e.InboxCountChanged="inbox_count_changed",e.InboxReadAllEvent="notification_inbox_notification_read_all_event",e.LightboxClose="lightbox_close",e.LightboxClosed="lightbox_closed",e.LightboxOpen="lightbox_open",e.LightboxOpened="lightbox_opened",e.LoidLoaded="loid_loaded",e.MediaAutoplayAttempt="media_autoplay_attempt",e.MediaSyncPlayback="media_sync_playback",e.MediaSyncVolume="media_sync_volume",e.ModActivityPanelForceClose="mod_activity_panel_force_close",e.ModChatChannelsChannelDetailsClosed="mod_chat_channels_channel_details_closed",e.ModChatChannelsDeleteAction="mod_chat_channels_delete_action",e.ModChatChannelsDeleteCancelled="mod_chat_channels_delete_cancelled",e.ModChatChannelsSaveAction="mod_chat_channels_save_action",e.ModChatChannelsSaveCancelled="mod_chat_channels_save_cancelled",e.ModChatChannelsSettingsDialogData="mod_chat_channels_settings_dialog_data",e.ModChatChannelsSettingsDialogOptimisticSave="mod_chat_channels_settings_dialog_optimistic_save",e.ModChatChannelsSettingsDialogSaveError="mod_chat_channels_settings_dialog_save_error",e.ModChatChannelsSettingsDialogSaveSuccess="mod_chat_channels_settings_dialog_save_success",e.ModChatChannelsSettingsDialogSaving="mod_chat_channels_settings_dialog_saving",e.ModNotesCreated="mod_notes_created",e.ModNotesDeleted="mod_notes_deleted",e.ModNotesLogFilter="mod_notes_log_filter",e.ModNotesOpenLog="mod_notes_open_log",e.ModNotesOpenLogFocus="mod_notes_open_log_focus",e.ModNotesOpenUserFlairEdditor="mod_notes_open_user_flair_editor",e.ModNotesRailClose="mod_notes_rail_close",e.ModNotesRailForceClose="mod_notes_rail_force_close",e.ModNotesRailOpen="mod_notes_rail_open",e.ModQueueActivityPanelClosed="mod_queue_activity_panel_closed",e.ModQueueActivityPanelOpened="mod_queue_activity_panel_opened",e.ModQueueBulkSelection="mod_queue_bulk_selection",e.ModQueueKeyboardShortcuts="modqueue_keyboard_shortcuts",e.ModQueuePdpLinkClick="mod_queue_pdp_link_click",e.ModQueuePdpPanelClosed="mod_queue_pdp_panel_closed",e.ModQueuePdpPanelOpened="mod_queue_pdp_panel_opened",e.ModQueueThingSelected="mod_queue_thing_selected",e.ModQueueTutorialOpen="mod_queue_tutorial_open",e.ModRealtimeUpdate="mod_realtime_update",e.ModReportsToggle="mod_reports_toggle",e.ModRulesCloseRuleDetails="mod_rules_close_rule_details",e.ModRulesConfirmRuleEditRejection="mod_rules_confirm_rule_edit_rejection",e.ModRulesCreateRule="mod_rules_create_rule",e.ModRulesOpenRuleDetails="mod_rules_open_rule_details",e.ModRulesRuleDeleted="mod_rules_rule_deleted",e.ModRulesRuleDetailsClosed="mod_rules_rule_details_closed",e.ModRulesSaveRuleDetails="mod_rules_save_rule_details",e.ModRulesShowCloseConfirmModal="mod_rules_show_close_confirm_modal",e.ModRulesShowRuleDeleteModal="mod_rules_show_rule_delete_modal",e.ModRulesShowRuleReasonModal="mod_rules_show_rule_reason_modal",e.ModToolsEmojiReloadTable="mod_tools_emoji_reload_table",e.MultiredditFavoriteStatusChange="multireddit_favorite_status_change",e.NotificationInboxNotificationHideEvent="notification_inbox_notification_hide_event",e.PageDataLoaded="page_data_loaded",e.PageDataRequested="page_data_requested",e.PmArchiveDeleteConfirmationModalSuccess="pm_archive_delete_confirmation_modal_success",e.PostDownvoted="post_downvoted",e.PostFlairUpdated="post_flair_updated",e.PostUpdated="post_updated",e.PostUpvoted="post_upvoted",e.PremiumPurchased="premium_purchased",e.PromotePostSuccess="promote_post_success",e.PurchaseCheckout="purchase_checkout",e.PurchaseCheckoutMetadata="purchase_checkout_metadata",e.PurchaseDialogClose="purchase_dialog_close",e.PurchaseDialogGoldTopUpRequest="purchase_dialog_gold_top_up_request",e.PurchaseDialogNavigateTo="purchase_dialog_navigate_to",e.RedoAvatarAction="redo_avatar_action",e.ReloadHighlights="reload_highlights",e.RemovalReasonStatus="removal_reason_status",e.ReportFlowClose="report_flow_close",e.ReportFlowInit="report_flow_init",e.ReportPageSummaryUpdate="report_page_summary_update",e.RequestAvatarState="request_avatar_state",e.ScreenViewDataLoaded="screenview_data_loaded",e.SearchFlairExpansionStateChanged="search_flair_expansion_state_changed",e.SearchShowFiltersEntrypoint="search_show_filters_entrypoint",e.SearchTypeaheadFlairClick="search_typeahead_flair_click",e.SearchTypeaheadScopeAdjusterDismiss="search_typeahead_scope_adjuster_dismiss",e.SmartEscalationsClose="smart_escalations_close",e.SmartEscalationsDismiss="smart_escalations_dismiss",e.SmartEscalationsInit="smart_escalations_init",e.SmartEscalationsOpen="smart_escalations_open",e.SmartEscalationsStatus="smart_escalations_status",e.SubredditFavoriteStatusChange="subreddit_favorite_status_change",e.SubredditMuteStatusChange="subreddit_mute_status_change",e.SubredditSubscriptionChange="subreddit_subscription_change",e.ThemeCookieSetByUser="theme_cookie_set_by_user",e.ThemeCookieSyncedFromUserPreference="theme_cookie_synced_from_user_preference",e.TopicPageSeeAllClicked="topic_page_see_all_clicked",e.TopicPageTabChanged="topic_page_tab_changed",e.TranslationToggled="translation_toggled",e.TriggerAmaRemindMeModal="trigger_ama_remind_me_modal",e.TriggerCommentBlockingAuth="trigger_comment_blocking_auth",e.TriggerCommunityAppearanceMenu="trigger_community_appearance_menu",e.TriggerEducationalDeeplinkPrompt="trigger_educational_deeplink_prompt",e.TriggerFeedErrorBanner="trigger_feed_error_banner",e.TriggerLightboxOpen="trigger_lightbox_open",e.UndoAvatarAction="undo_avatar_action",e.UpdateAvatarState="update_avatar_state",e.UserModActionsBan="user_mod_actions_ban",e.UserModActionsBanCancel="user_mod_actions_ban_cancel",e.UserModActionsBanFailure="user_mod_actions_ban_failure",e.UserModActionsMute="user_mod_actions_mute",e.UserModActionsMuteCancel="user_mod_actions_mute_cancel",e.UserModActionsMuteFailure="user_mod_actions_mute_failure",e.UserModActionsUnban="user_mod_actions_unban",e.UserModActionsUnmute="user_mod_actions_unmute",e.WikiTimerAlert="wiki-timer-alert",e.WikiVersionSelected="wiki-version-selected"}(Rl||(Rl={})),function(e){e.EMPTY="empty",e.READY="ready"}(wl||(wl={})),function(e){e.SUCCESS="success"}(Ol||(Ol={}));let Ml=null,Nl=class extends e.s{constructor(){super(...arguments),this._activatedFeatures=new Set,this.pubSubController=new ee(this),this._onFeatureActivated=e=>{this.registerFeatureActivation(e.name)}}connectedCallback(){super.connectedCallback(),Ml=this;const e=this.dataset.activatedFeatures?.split("|").filter((e=>e))??[];this._activatedFeatures=new Set(e),this.pubSubController.subscribe(Rl.FeatureActivated,this._onFeatureActivated,!1)}_refreshDataset(){this.dataset.activatedFeatures=Array.from(this._activatedFeatures).join("|")}registerFeatureActivation(e){this._activatedFeatures.add(e),this._refreshDataset()}hasFeatureBeenActivated(e){return this._activatedFeatures.has(e)}};Nl=t([s("shreddit-activated-feature-meta")],Nl);const Dl=e=>!!Ml&&Ml.hasFeatureBeenActivated(e),Ll=new Set;window.addEventListener("beforeRoute",(()=>{Ll.clear()}));const Ul=async({name:e,queryParams:t,routeParams:o,bodyParams:i,renderMode:n,root:r=document})=>{const s=r.querySelector(`faceplate-loader[name=${e}]`),a=r.querySelector(`faceplate-iframe[name=${e}], faceplate-partial[name=${e}]`),d=a instanceof Et,l=d&&n&&n!==Pe.Replace;if((Ll.has(e)||Dl(e))&&!l)return;if(!a)throw new Error(`${e} not found`);if(s&&a&&s.nextElementSibling!==a)throw new Error(`Both loader and loader element for ${e} was found, but they are not siblings`);if(s&&s?.loading!==Te.Programmatic||a?.loading!==Te.Programmatic)throw new Error(`${e} cannot be activated`);const c=a.src,u=d?a.renderMode:void 0,h=new URLSearchParams(t).toString();if(h){const e=a.src.includes("?");a.src=`${a.src}${e?"&":"?"}${h}`}if(o)for(const e in o){const t=o[e];a.src=a.src.replace(`/:${e}`,t?`/${t}`:"")}const p=a.getAttribute("method");i&&(a.setAttribute("method",Ie.Post),Object.entries(i).forEach((([e,t])=>{const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.setAttribute("value",t),a.appendChild(o)}))),n&&d&&(a.renderMode=n),l||Ll.add(e);const m=await Promise.allSettled([s?.load(),a.load()]);return l&&(a.src=c,u&&(a.renderMode=u),p?a.setAttribute("method",p):null===p&&a.removeAttribute("method")),te(Rl.FeatureActivated,{name:e}),te(`activate-${e}`),m};var kl,xl,Fl,Vl;!function(e){e[e.UserAccountCreated=200]="UserAccountCreated"}(kl||(kl={})),function(e){e.Email="register_email",e.EmailVerification="register_email_verification",e.UsernameAndPassword="register_username_and_password",e.Username="register_username",e.Password="register_password"}(xl||(xl={})),xl.Email,xl.EmailVerification,xl.UsernameAndPassword,xl.Email,xl.EmailVerification,xl.Username,xl.Password,function(e){e[e.UserLoggedIn=200]="UserLoggedIn",e[e.TwoFARequired=202]="TwoFARequired",e[e.InvalidInput=400]="InvalidInput",e[e.RecaptchaFailed=401]="RecaptchaFailed"}(Fl||(Fl={})),function(e){e.ConfirmOTPApp="login_otp_app",e.ConfirmOTPBackup="login_otp_backup",e.UsernameAndPassword="login_username_and_password"}(Vl||(Vl={}));const Bl="googleid-signin",Gl=`${Bl}-script`,Wl="appleid-signin",Hl=`${Wl}-script`;var ql,Yl,$l,jl,Kl;!function(e){e.ConfirmOTPApp="link_account_otp_app",e.ConfirmOTPBackup="link_account_otp_backup",e.ConfirmPassword="link_account_password",e.SelectAccount="link_account_select_account"}(ql||(ql={})),function(e){e[e.UserLoggedIn=200]="UserLoggedIn",e[e.UserAccountCreated=201]="UserAccountCreated",e[e.MultipleAccountsFound=202]="MultipleAccountsFound",e[e.GoogleCredentialMismatch=203]="GoogleCredentialMismatch"}(Yl||(Yl={})),function(e){e.AddPhone="add-phone",e.UpdatePhone="update-phone",e.AddEmailWithPhone="add-email"}($l||($l={})),function(e){e.EnterPhone="phone_auth_enter_phone",e.OTP="new_phone_auth_otp"}(jl||(jl={})),function(e){e.AddPhone="add_phone",e.UpdatePhone="update_phone",e.RemovePhone="remove_phone",e.AddEmail="add_email",e.DeactivateAccount="deactivate_account",e.Onboarding="onboarding"}(Kl||(Kl={}));var Ql,zl,Jl;!function(e){e.Login="login",e.Password="password",e.PasswordRecovery="passwordrecovery",e.Register="register",e.RegisterEmailOnly="register-email-only",e.RegisterPrompt="register-prompt",e.Onboarding="onboarding",e.PhoneAuth="phone_auth",e.HighFlyerRegister="high_flyer_register",e.AnswersRegister="answers_register",e.LoggedInAction="logged_in_action",e.CommunityValueRegister="community_value_register"}(Ql||(Ql={})),function(e){e.Login="login-standalone",e.Password="password-standalone",e.PasswordRecovery="passwordrecovery-standalone",e.Register="register-standalone"}(zl||(zl={})),function(e){e.GoogleOneTapPrompt="googleOneTapPrompt",e.SignupDrawerPrompt="signupDrawerPrompt",e.InlineAuthLandingExperienceXpromo="inlineAuthLandingExperienceXpromo"}(Jl||(Jl={}));const Xl={...Jl,...Ql};var Zl,ec,tc,oc,ic,nc,rc,sc,ac,dc;!function(e){e.IncorrectUsernamePassword="INCORRECT_USERNAME_PASSWORD",e.InvalidClient="INVALID_CLIENT",e.InvalidScope="INVALID_SCOPE",e.NotFound="NOT_FOUND",e.RateLimit="RATELIMIT",e.TwoFARequired="TWO_FA_REQUIRED",e.WrongOTP="WRONG_OTP"}(Zl||(Zl={})),function(e){e.Apple="apple",e.Google="google",e.Reddit="reddit"}(ec||(ec={})),function(e){e.Login="login",e.OneTap="one_tap",e.Register="register",e.RegisterEmailOnly="register-email-only",e.SignupDrawer="signup_drawer",e.Username="username",e.Password="password",e.PasswordRecovery="passwordrecovery",e.PhoneAuth="phone_auth",e.XpromoLogin="xpromo_login",e.InlineUpsell="upsell_unit",e.Onboarding="onboarding",e.AccountSettings="account_settings",e.SSOLinking="sso_linking",e.DesktopAuthPrompt="desktop_auth_prompt",e.HighFlyerRegister="high_flyer_register",e.AnswersRegister="answers_register",e.LoggedInAction="logged_in_action",e.CommunityValueRegister="community_value_register",e.Unknown="unknown",e.NsfwBlockAuth="nsfw_block_auth"}(tc||(tc={})),function(e){e.Open="auth-flow-modal-open"}(oc||(oc={})),function(e){e.App="app",e.Backup="backup"}(ic||(ic={})),function(e){e.DeleteBirthdate="/svc/shreddit/account/delete-birthdate",e.DeactivateAccount="/svc/shreddit/account/deactivate_account",e.DeactivateAccountWithPhoneToken="/svc/shreddit/account/deactivate_account_with_phone_token",e.IdentityProviderCreate="/svc/shreddit/account/identity_provider_create",e.IdentityProviderLink="/svc/shreddit/account/identity_provider_link",e.IdentityProviderSignin="/svc/shreddit/account/identity_provider_signin",e.LinkExternalIdentity="/svc/shreddit/account/link-external-identity",e.Login="/svc/shreddit/account/login",e.LoginOTP="/svc/shreddit/account/login/otp",e.Logout="/svc/shreddit/account/logout",e.PasswordResetInitialize="/svc/shreddit/account/password_reset_initialize",e.PasswordResetAccounts="/svc/shreddit/account/password_reset_accounts",e.PasswordReset="/svc/shreddit/account/password_reset",e.EmailVerifyInitialize="/svc/shreddit/account/email_verify_initialize",e.EmailVerifyConfirm="/verification/:token",e.UpdateEmail="/svc/shreddit/account/update-email",e.UnlinkExternalIdentity="/svc/shreddit/account/unlink-external-identity",e.UpdatePassword="/svc/shreddit/account/update-password",e.UpdatePhoneNumberWithPassword="/svc/shreddit/account/update-phone-with-password",e.UpdatePhoneNumberWithCurrentPhoneNumber="/svc/shreddit/account/update-phone-with-phone",e.UpdateEmailWithPhoneNumber="/svc/shreddit/account/update-email-with-phone",e.UpdateBirthdate="/svc/shreddit/account/update-birthdate",e.RemovePhoneWithPhone="/svc/shreddit/account/remove-phone-with-phone",e.VerifyPhoneByAccountInitialize="/svc/shreddit/account/verify-phone-by-account-initialize",e.VerifyPhoneByAccount="/svc/shreddit/account/verify-phone-by-account",e.VerifyPhoneByCodeInitialize="/svc/shreddit/account/verify_phone_by_code_initialize",e.VerifyPhoneByCode="/svc/shreddit/account/verify_phone_by_code",e.LoginWithPhoneNumber="/svc/shreddit/account/login_with_phone_number",e.RegisterPhone="/svc/shreddit/account/register_phone",e.RegisterEmail="/svc/shreddit/account/register_email",e.RegisterEmailVerifyInitialize="/svc/shreddit/account/register_email_verify_initialize",e.RegisterEmailVerifyCheck="/svc/shreddit/account/register_email_verify_check",e.EnableMFA="/svc/shreddit/account/enable_mfa",e.DisableMFA="/svc/shreddit/account/disable_mfa",e.GenerateOTP="/svc/shreddit/account/generate_otp",e.GenerateBackup="/svc/shreddit/account/generate_backup",e.CheckIsOIDCRequired="/svc/shreddit/account/login/check_is_oidc_required",e.GetOIDCProviderLoginUrl="/svc/shreddit/account/login/get_oidc_provider_login_url",e.SetOIDCCallbackData="/svc/shreddit/account/login/set_oidc_callback_data",e.SetOIDCAccountPickerChoice="/svc/shreddit/account/login/set_oidc_account_picker_choice"}(nc||(nc={})),function(e){e.RecoverUsername="recover_username",e.CheckInbox="recover_username_check_inbox"}(rc||(rc={})),function(e){e.ResetPassword="forgot_password",e.CheckInbox="reset_password_check_inbox"}(sc||(sc={})),function(e){e.PasswordRecovery="reset_password",e.CheckInbox="check_inbox"}(ac||(ac={})),function(e){e.AccountSelection="account_selector",e.ResetPassword="enter_new_password"}(dc||(dc={}));Object.values(Ql).join("|");const lc=[ql.SelectAccount,ql.ConfirmPassword,ql.ConfirmOTPApp,ql.ConfirmOTPBackup,Vl.UsernameAndPassword,Vl.ConfirmOTPApp,Vl.ConfirmOTPBackup,xl.Email,xl.UsernameAndPassword,xl.Username,xl.Password,sc.ResetPassword,sc.CheckInbox,rc.RecoverUsername,rc.CheckInbox];var cc,uc;!function(e){e.login="login_with_password",e.sso="login_with_external_identity",e.register="register_email",e.verifyPhone="verify_phone",e.loginWithPhone="login_with_phone",e.registerPhone="register_phone"}(cc||(cc={})),function(e){e.login="v1/web/login_with_password",e.sso="v1/web/login_with_external_identity",e.register="v1/web/register_email",e.verifyPhone="v1/web/verify_phone",e.loginWithPhone="v1/web/login_with_phone",e.registerPhone="v1/web/register_phone"}(uc||(uc={}));const hc=new Set([Vl.UsernameAndPassword,xl.Email,...Object.values(sc),...Object.values(ac),...Object.values(dc),...Object.values(rc)]);let pc=Ul;const mc=Symbol("mixins/with-overlays");let gc=window.location;const _c=/^(\w*Error:)/,Ec=e=>_c.exec(e)?.[1]?.toLocaleLowerCase().replace(":","")||"unknown",fc=e=>{const t=e.detail;let o=t.sourceElement,i=t.cause;const n=e.target instanceof Element;if(!o&&n&&(o=e.target.tagName),!n||"FACEPLATE-ALERT"!==o&&vc(e.target))"FACEPLATE-PARTIAL"===o&&n&&(o=`${o}[name=${e.target.getAttribute("name")}]`);else{const t=Sc(e.target);t&&(o=`${o}__${t.tagName}`)}if("partial-request-fetch-failure"===t.cause){const e="string"==typeof t.meta?t.meta:"";if(e.includes("Connection has been terminated"))i="partial-request-fetch-failure__connection-terminated";else{i=`partial-request-fetch-failure__${Ec(e)}`}}return v("faceplate-alert",{...t,sourceElement:o,cause:i,_shredditEnriched:!0})};function vc(e){return e.tagName.includes("-")}function Sc(e){return null===e.parentElement||vc(e.parentElement)?e.parentElement:Sc(e.parentElement)}const bc={FetchFailure:"fetch-failure",FetchBadResponse:"fetch-bad-response",QueryBadResponse:"query-bad-response",UserInteractionFailed:"user-interaction-failed",UncaughtError:"uncaught-error",UserWentOffline:"user-went-offline"},yc=e=>{if(!(e instanceof Error))return bc.UncaughtError;if("ClientGQLNetworkError"===e.name)return bc.FetchBadResponse;const t=Ec(e.toString());return"error"===t?bc.UncaughtError:`${bc.UncaughtError}__${t}`};let Cc,Tc;const Ac=()=>{return void 0!==Tc||(e=document.querySelector("shreddit-app")?.microAppName??void 0,Tc=void 0!==e?e:"unknown"),Tc;var e};function Ic(e,t){const o=Pc();return(Ic=function(e,t){return o[e-=277]})(e,t)}function Pc(){const e=["function","2097sqGdJn","apply","null","18qPDJOs","toJSON","40WKmpsR","hasOwnProperty","5799794SdnReo","call","22nTkEPH","stringify","test","[object Array]","push","503590YwzVgp","prototype","object","17588twtUnz","191163Eelbix","3YsggCq","1099284bqPsmx","string","length","38305zBHcAS","replace","GSON.stringify","join","number","toString","boolean"];return(Pc=function(){return e})()}!function(e){const t=Ic,o=e();for(;;)try{if(117786===-parseInt(t(292))/1*(-parseInt(t(301))/2)+-parseInt(t(280))/3*(parseInt(t(278))/4)+-parseInt(t(284))/5+-parseInt(t(281))/6+-parseInt(t(279))/7*(parseInt(t(297))/8)+parseInt(t(295))/9*(-parseInt(t(306))/10)+parseInt(t(299))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}(Pc);function Rc(e,t){const o=Uc();return(Rc=function(e,t){return o[e-=323]})(e,t)}!function(e){const t=Rc,o=e();for(;;)try{if(237116===parseInt(t(369))/1+parseInt(t(325))/2+parseInt(t(355))/3*(-parseInt(t(342))/4)+-parseInt(t(332))/5*(-parseInt(t(340))/6)+-parseInt(t(365))/7+parseInt(t(335))/8+-parseInt(t(351))/9)break;o.push(o.shift())}catch(e){o.push(o.shift())}}(Uc);const wc=(()=>{const e=Ic,t={},o=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;let i,n,r,s;function a(e){const t=Ic;return o.lastIndex=0,o[t(303)](e)?'"'+e[t(285)](o,(function(e){const o=t,i=r[e];return typeof i===o(282)?i:"\\u"+("0000"+e.charCodeAt(0)[o(289)](16)).slice(-4)}))+'"':'"'+e+'"'}function d(e,t){const o=Ic;let r,l,c,u;const h=i;let p,m=t[e];switch(m&&typeof m===o(277)&&"function"==typeof m[o(296)]&&(m=m[o(296)](e)),"function"==typeof s&&(m=s[o(300)](t,e,m)),typeof m){case"string":return a(m);case o(288):return isFinite(m)?String(m):"null";case o(290):return String(m);case o(277):if(!m)return"null";if(i+=n,p=[],Object[o(307)][o(289)][o(293)](m)===o(304)){for(u=m[o(283)],r=0;r<u;r+=1)p[r]=d(r,m)||o(294);return c=0===p.length?"[]":i?"[\n"+i+p[o(287)](",\n"+i)+"\n"+h+"]":"["+p.join(",")+"]",i=h,c}if(s&&typeof s===o(277))for(u=s[o(283)],r=0;r<u;r+=1)typeof s[r]===o(282)&&(l=s[r],c=d(l,m),c&&p.push(a(l)+(i?": ":":")+c));else for(l in m)Object.prototype[o(298)][o(300)](m,l)&&(c=d(l,m),c&&p[o(305)](a(l)+(i?": ":":")+c));return c=0===p[o(283)]?"{}":i?"{\n"+i+p[o(287)](",\n"+i)+"\n"+h+"}":"{"+p.join(",")+"}",i=h,c}}return typeof t[e(302)]!==e(291)&&(r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t[e(302)]=function(t,o,r){const a=e;let l;if(i="",n="",typeof r===a(288))for(l=0;l<r;l+=1)n+=" ";else typeof r===a(282)&&(n=r);if(s=o,o&&typeof o!==a(291)&&(typeof o!==a(277)||typeof o[a(283)]!==a(288)))throw new Error(a(286));return d("",{"":t})}),t})();let Oc=[];let Mc;const Nc=()=>(!Mc&&(Mc=document[Rc(368)]("shreddit-app")),Mc),Dc=async({eventsBuffer:e,errorText:t,v2EventsRoute:o})=>{const i=Rc;if(!e[i(343)])return!0;const n={v2EventsRoute:o,options:{nowSendingDropEvent:!0,shouldNotRetryIfFail:!0}},r=t??"other_error";return 1===e[i(343)]?await kc({...n,eventsBuffer:[(s=e[0],a=r,ho({source:D.Global,action:L.Drop,noun:N.Event},{...s,dropped_data:{event_source:s.source,event_action:s.action,event_noun:s.noun,event_batch_size:1},action_info:{...s.action_info,reason:a.toLowerCase()}}))]}):await kc({...n,eventsBuffer:[Lo(e[0],r,e.length)]});var s,a},Lc=async({url:e,eventsBuffer:t,microapp:o,options:i})=>{const n=Rc,r=document[n(368)](n(350))?.[n(336)](n(367))??n(329),s=Ut[n(370)](n(366))??"",a={[r]:s,info:t},d=wc[n(346)](a);let l;try{l=await fetch(e,{body:d,headers:{"Content-Type":"text/PLAIN","x-sh-microapp-route":o||n(327)},keepalive:!0,method:n(349),credentials:n(357)})}catch(o){return!i?.underCachingExperiment&&(i?.shouldNotRetryIfFail?!i?.[n(359)]&&await Dc({eventsBuffer:t,errorText:n(337)+o,v2EventsRoute:e}):await kc({eventsBuffer:t,options:{shouldNotRetryIfFail:!0}}),!0)}if(l?.ok){const e=(e=>{const t=Rc,o=JSON[t(331)](e),i=o?.[t(345)],n=i[t(347)](Vo);if(!n)return!1;const r=wc.stringify(n);return!!Oc[t(326)]((e=>wc[t(346)](e)===r))||(Oc[t(343)]>100?Oc=[]:Oc[t(353)](n),!1)})(d);"basic"===l[n(354)]&&l.headers[n(363)](U)&&Wo(d)&&d[Rc(344)]('"page_type":"'+Qa()+'"')&&!e?(Nc()?.[n(328)](),window[n(362)](new CustomEvent(n(324)))):n(334)===n(341)&&null!==Wo(d)&&window.dispatchEvent(new CustomEvent(n(364),{detail:{correctResponseType:l[n(354)]===n(323),correctHeaders:l[n(352)][n(363)](U),correctStringifiedEvents:Wo(d),hasSeenIdentiticalGVSEvent:e}})),e&&(Nc()?.[n(360)](),n(334)===n(341)&&window[n(362)](new CustomEvent(n(364),{detail:{hasSeenIdentiticalGVSEvent:e}})));const t=l.headers.get("x-set-loid")||void 0,o=l[n(352)][n(370)](n(348))||void 0;window[n(362)](new CustomEvent(n(361),{detail:{loid:t,session_tracker:o}}))}else if(!i?.[n(359)])return await Dc({eventsBuffer:t,errorText:n(371)+l?.[n(333)],v2EventsRoute:e});return!0};function Uc(){const e=["monolith","resolvePendingRequests","token_csrf","random","parse","1091525kTDJzN","status","production","989256FYEdYe","getAttribute","An error: ","floor","Invalid len argument supplied. Must be greater than ","6tmLxHv","development","143408ImWJWC","length","includes","info","stringify","find","x-set-session","post","shreddit-app","1386945EoPvUo","headers","push","type","24WbACkq","slice","same-origin","map","nowSendingDropEvent","pauseIncomingRequests","v2-events-sent","dispatchEvent","has","no-resolve","290885npzmHa","csrf_token","ctn","querySelector","30843mhsdQb","get","HTTP Response Code: ","basic","force-refresh","693574yTYjev","some"];return(Uc=function(){return e})()}const kc=async({eventsBuffer:e,options:t})=>{const o=(()=>{if("function"==typeof fetch)return Lc})();return void 0===o||await o({url:"/svc/shreddit/events",eventsBuffer:e,microapp:Ac(),options:t})};let xc,Fc,Vc=[];const Bc=new Set(["global__view__screen","global__view__embed","global__leave__app","post_detail__click__comments","post_detail__click__post","global__view__heartbeat","post__view__comments","post__consume__comments","post__click__ad","client_ad__view__ad","client_ad__view__video","client_ad__click__ad"]);si.isAvailable()&&si.removeItem("events-buffer");function Gc(e){if(Vc.push(e),(e=>{if(!e)return!1;const{source:t,action:o,noun:i}=e,n=`${t}__${o}__${i}`;return Bc.has(n)})(e)){const e=Vc.slice();Vc=[],Wc(e)}else if(Vc.length>=40){const e=Vc.slice();Vc=[],Wc(e)}else xc||(xc=setTimeout((()=>{const e=Vc.slice();Vc=[],Wc(e)}),3e3))}function Wc(e){!function(){xc&&clearTimeout(xc);xc=void 0}(),async function(e,t=kc,o=Yc){const i=await t({eventsBuffer:e,options:{underCachingExperiment:!0}});if(!si.isAvailable())return;if(!i){const t=qc();t.push(e);try{si.setItem(ri.EventsBuffer,JSON.stringify(t))}catch{}}o()}(e)}function Hc(){const e=Vc.slice();Vc=[],e.length>0&&Wc(e)}const qc=()=>{try{return JSON.parse(si.getItem(ri.EventsBuffer)??"[]")}catch(e){return si.removeItem(ri.EventsBuffer),[]}};function Yc(){Fc||(Fc=setTimeout((()=>{!async function(e=kc){if(function(){Fc&&clearTimeout(Fc);Fc=void 0}(),!si.isAvailable())return;const t=qc();for(;t.length>0;){if(!await e({eventsBuffer:t[0],options:{underCachingExperiment:!0}}))return void Yc();t.shift();try{si.setItem(ri.EventsBuffer,JSON.stringify(t))}catch(e){continue}}}()}),3e3))}class $c extends Jt{report(e){if("network"===e.alertDetails?.kind){const t=Ir(e.alertDetails.response);return super.report({...e,message:t})}return super.report(e)}}const jc=function(e){if(oe(e,Fa))return e;class o extends e{constructor(...e){super(...e),this.canLoadRequests=!1,this._canLoadRequests=!1,this.resolvePendingRequests=()=>{this._canLoadRequests=!0,this._pendingRequestsResolver?.()},this.pauseIncomingRequests=()=>{this._canLoadRequests=!1};const t=[];new Promise((e=>{this._pendingRequestsResolver=e})).then((()=>{t.forEach((([e,t])=>{e(t)}))})),window.fetch=new Proxy(window.fetch,{apply:(e,o,[i,n])=>{const r=n?.headers?.Accept?.includes("text/vnd.reddit.partial+html")||"string"==typeof i&&i.includes("render-mode=partial")||i instanceof URL&&i.search.includes("render-mode=partial");return this._canLoadRequests||!r?e(i,n):new Promise((o=>{t.push([o,e(i,n)])}))}}),window.Response=new Proxy(window.Response,{construct(e,[t,o]){const i=Reflect.construct(e,[t,o]);return(o?.headers instanceof Headers&&o?.headers?.has(U)||o?.headers?.[U])&&i.headers.delete(U),i}}),window.Headers.prototype.set=new Proxy(window.Headers.prototype.set,{apply(e,t,[o,i]){if(o!==U)return Reflect.apply(e,t,[o,i])}})}connectedCallback(){super.connectedCallback(),this._canLoadRequests=this.canLoadRequests}}return o[Fa]=!0,t([d({type:Boolean,attribute:"can-load-requests"})],o.prototype,"canLoadRequests",void 0),o}(function(e){var t;return Oa in e?e:(t=class extends e{constructor(){super(...arguments),this.supportsDvh=!1,this._cleanupDvhPolyfill=()=>{},this._updateHeight=()=>{this._setDynamicViewportUnit((document.documentElement.clientHeight/100).toFixed(1)+"px")},this._updateHeightDebounced=wa(this._updateHeight,50)}connectedCallback(){super.connectedCallback(),this.supportsDvh=CSS.supports("height: 100dvh"),this._polyfillDvh()}disconnectedCallback(){super.disconnectedCallback(),this._cleanupDvhPolyfill()}_polyfillDvh(){if(this.supportsDvh)this._setDynamicViewportUnit("1dvh");else{const e=window.matchMedia?.("(orientation: landscape)");e?.addEventListener?.("change",this._updateHeightDebounced),window.addEventListener("resize",this._updateHeightDebounced),this._updateHeight(),this._cleanupDvhPolyfill=()=>{window.removeEventListener("resize",this._updateHeightDebounced),e?.removeEventListener?.("change",this._updateHeightDebounced)}}}_setDynamicViewportUnit(e){document.documentElement.style?.setProperty?.("--dvh-unit",e),document.documentElement.style?.setProperty?.("--viewport-height","calc(calc(var(--dvh-unit) * 100))")}},t[Oa]=!0,t)}(function(e){if(oe(e,ie))return e;class t extends e{constructor(){super(...arguments),this._windowEvents=new g(this,(()=>window)),this._cache=new Map,this.subscribers=new Map,this.registerSubscriber=this._windowEvents.define("pubsub-subscribe",(e=>{const{topic:t,subscriber:o,readCache:i,readCacheOnce:n}=e.detail,r=this.getOrCreateTopicSubs(t);r?.add(o),i&&this._cache.has(t)&&(o(this._cache.get(t)),n&&this._cache.delete(t))})),this.unregisterSubscriber=this._windowEvents.define("pubsub-unsubscribe",(e=>{const{topic:t,subscriber:o}=e.detail,i=this.getOrCreateTopicSubs(t);i?.delete(o)})),this.publish=this._windowEvents.define("pubsub-publish",(e=>{const{topic:t,data:o}=e.detail;this.getOrCreateTopicSubs(t).forEach((e=>e(o))),this._cache.set(t,o)}))}getOrCreateTopicSubs(e){return this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e)}}return t[ie]=!0,t}(function(e){if(oe(e,mc))return e;class t extends e{goToMweb(){gc.href=`${CLIENT_CONFIG.ORIGIN}/register/`}getAuthFlowManager(){return document.querySelector("auth-flow-manager")}constructor(...e){super(...e),this.isUserLoggedIn=!1,this._overlayEvents=new g(this),this.displays=[],this.handleLoggedInAction=async(e,t)=>{if(!this.isUserLoggedIn)if(window.navigator.onLine){await this.updateComplete;await this.displayAuthFlow({...e.detail,...t})||this.goToMweb()}else this.showBrowserOfflineToast()},this.onLoggedInAction=(e,t)=>{const o=this.getActionSourceFromEvent(e),i=e.detail?.thingType,n=e.detail?.username,r=e.detail?.subreddit_name;this.handleLoggedInAction(e,{...t,...i?{thingType:i}:{},...n?{username:n}:{},...r?{subredditName:r}:{},actionSource:o})},this.handleFaceplateTrack=(e,t)=>{const o=e.SAN??vt(e.detail),i=e.detail?.popup?.button_text;(function(e,t,o){return e.some((e=>{const[i,n]=e.split(":");return t===i&&(!n||o===n)}))})(X,o,i)&&this.handleLoggedInAction(e,{...t,actionSource:this.getActionSource(e.detail?.action,e.detail?.noun),san:o})},this.registerDisplay=this._overlayEvents.define("register-overlay-display",(e=>{const t=e.detail.display;-1===this.displays.indexOf(t)&&this.displays.push(t)})),this.unregisterDisplay=this._overlayEvents.define("unregister-overlay-display",(e=>{const t=e.detail.display,o=this.displays.indexOf(t);-1!==o&&this.displays.splice(o,1)})),this.dismissOverlay=this._overlayEvents.define("dismiss-overlay",(()=>{for(const e of this.displays)e.dismissOverlay()})),this._overlayEvents.define(z.upvote,this.onLoggedInAction),this._overlayEvents.define(z.upvoteTry,this.onLoggedInAction),this._overlayEvents.define(z.downvote,this.onLoggedInAction),this._overlayEvents.define(z.downvoteTry,this.onLoggedInAction),this._overlayEvents.define(z.reply,this.onLoggedInAction),this._overlayEvents.define(z[Pl],this.onLoggedInAction),this._overlayEvents.define(z.signup,this.onLoggedInAction),this._overlayEvents.define(z.save,this.onLoggedInAction),this._overlayEvents.define(z.follow,this.onLoggedInAction),this._overlayEvents.define(z.awards,this.onLoggedInAction),this._overlayEvents.define(z.purchaseProduct,this.onLoggedInAction),this._overlayEvents.define(z.vaultLogin,this.onLoggedInAction),this._overlayEvents.define(z.report,this.onLoggedInAction),this._overlayEvents.define(z[Q],this.onLoggedInAction),this._overlayEvents.define(z[j],this.handleFaceplateTrack)}displayOverlay(e,t){let o=!1;for(const i of this.displays)i.displayOverlay(e,t),o=!0;return o}async displayAuthFlow(e={}){const t=this.getAuthFlowManager();if(J.includes(e.san??""))return t.show(Ql.Login);{const o=e.permalink??(e.details&&e.details.permalink)??"";try{if(t.hasStep(Ql.LoggedInAction))return t.show(Ql.LoggedInAction,{queryParams:e});{const t=new URLSearchParams(window.location.search).get("token")??void 0;return await pc({name:"SignupDrawer_LcD4fG",renderMode:Pe.Contents,queryParams:{...e,...t&&{token:t},permalink:o}}),!0}}catch(i){return t.show(Ql.Register,{queryParams:{thingId:e.thingId,actionSource:e.actionSource,permalink:o}})}}}showBrowserOfflineToast(){const e=v("faceplate-alert",{level:Ce.warning,message:"No internet connection. Please try again."});this.dispatchEvent(e)}getActionSource(e,t){if("click"===e)switch(t){case q.UpvoteComment:return H.Upvote;case q.DownvoteComment:return H.Downvote;case q.ReplyComment:return H.Reply;case q.Report:return H.Report}}getActionSourceFromEvent(e){return e.type===z.upvoteTry?H.Upvote:e.type===z.downvoteTry?H.Downvote:e.type}}return t[mc]=!0,t}(e.s)))),Kc=()=>{},Qc=[Ba.FIRST_CONTENTFUL_PAINT,...Ga];let zc=class extends jc{get csrfProviderToken(){return Ut.get("csrf_token")??""}constructor(){super(),this.isUserLoggedIn=!1,this.isBfCacheRestore=!1,this.isNavigationControllerRestore=!1,this.translationContextValue=Hi,this.prefetch=!1,this.debug=!1,this.isBlank=!1,this.routeName="",this.serverRenderId="",this.correlationId="",this.feedCorrelationId="",this.loid="",this.canonicalUrl="",this.deviceType=Xt.MOBILE,this.referrer=document.referrer,this.referrerType=Zt.Reddit,this.country="US",this.browser="unknown",this.isCanary=!1,this.shouldUpdateRecaptcha=!0,this.shouldTrackAppInstalled=!1,this.appName=Ca,this.shouldObservePerformance=!1,this.release="unknown",this.microAppName="unknown",this.microAppPool="unknown",this.microAppDeployment="unknown",this.clientHash="",this.seekerSession=!1,this.commentsPartialSSR="",this.disablePNs=!1,this.reportTranslationMetrics=!1,this.hasNonImmersiveTranslations=!1,this.userLanguage="",this.paidUaEnabled=!1,this.isBot=!1,this._alertControllerElement=null,this.perfMetrics={},this.ttfb_fcp_sent=!1,this.lcp_sent=!1,this.cls_sent=!1,this.inp_sent=!1,this.tpl_sent=!1,this.success=!0,this.screenViewData={},this._events=new g(this),this._v2Events=new qt(this,(()=>{})),this._alertReporter=new $c(this),this._screenReaderAlertReceiver=new $a(this),this._w3Reporter=new ni(this,(()=>({auth_state:this.isUserLoggedIn?"logged_in":"logged_out",browser:this.browser,deployment_type:this.isCanary?"canary":"main",device_type:this.deviceType,page_type:(this.pageType??"").toLowerCase(),referrer_type:this.referrerType}))),this._visibilityChange=new Pn(this),this._navigationController=new Ns(this),this._navigationSideEffectController=new ka(this),this._alertsBuffer=[],this._connectBufferTimeMs=2500,this._isAlertBuffering=!0,this.timeToCommentController=new zs(this),this.updateTranslationContextCookie=()=>{vn({country:this.country,name:Bi,value:JSON.stringify(this.translationContextValue),options:ki})},this.clearActiveToasts=()=>{if(!(this._alertControllerElement&&this._alertControllerElement.parentElement||(this._alertControllerElement=document.querySelector("alert-controller"),null!==this._alertControllerElement)))return;const{toaster:e}=this._alertControllerElement;Array.from(e?.querySelectorAll("faceplate-toast")||[]).forEach((e=>e.remove()))},this.closeOfflineBannersIfOnline=()=>{navigator.onLine&&this.clearActiveToasts()},this.handleOnline=()=>{window.removeEventListener("faceplate-alert",Kc),this.closeOfflineBannersIfOnline()},this.handleOffline=()=>{this.clearActiveToasts(),this._alertReporter.report({level:Ce.warning,message:"You seem to be offline.",meta:{disableAutoDismiss:!0},namedContent:{icon:e.c({size:e.I.Large})},sourceElement:this.tagName,cause:bc.UserWentOffline}),window.addEventListener("faceplate-alert",Kc)},this.handleFaceplateTrack=e=>{const t=this.querySelector("#canonical-url-updater"),o=t?.getAttribute("value")??"";o&&o!==this.canonicalUrl&&(this.canonicalUrl=o);const i=e.detail,n={...ho(i),action_info:{...i.action_info,page_type:i.action_info?.page_type||this._getPageType()},request:{...i.request,canonical_url:this.canonicalUrl}};this._handleEvent(n),this._logIfMissingCorrelationId(n,"faceplate-track")},this.handleUpdateTranslationContext=e=>{if(this.hasNonImmersiveTranslations)return;const t=e?.detail;t&&"object"==typeof t&&(this.translationContextValue={...this.translationContextValue,...t},this.updateTranslationContextCookie())},this.toggleSidebar=this._events.define("logo-click",(()=>{this.classList.toggle("sidebar-open")})),this.onPageHide=()=>{Hc()},this.onPageShow=async e=>{const t=performance.getEntriesByType("navigation").some((e=>"back_forward"===e.type))||performance.navigation.type===PerformanceNavigation.TYPE_BACK_FORWARD,o=e.persisted,i=await this._w3Reporter.getW3ReportSender();t&&(this.isBfCacheRestore=o,i({name:"shreddit_page_shows_total",type:Rn.Counter,value:1,labels:{browser:this.browser,cached:`${o}`,auth_state:this.isUserLoggedIn?"logged_in":"logged_out",page_type:this._getPageType()}})),this.closeOfflineBannersIfOnline()},this.updateCorrelationIdsFromStorage=()=>{let e={};try{e=JSON.parse(this.dataset.faceplateTrackingContext||"{}")}catch(e){window.Sentry?.captureException?.(e)}try{const t=window.sessionStorage.getItem(bi),o=window.sessionStorage.getItem(yi);t&&(this.correlationId=t,window.sessionStorage.removeItem(bi)),o&&(this.feedCorrelationId=this.feedCorrelationId||o,window.sessionStorage.removeItem(yi)),this.isCached()&&!this.correlationId&&(this.correlationId=Ht());const i={correlation_id:this.correlationId,...this.feedCorrelationId?{feed:{correlation_id:this.feedCorrelationId}}:{}};St(i,e),this.dataset.faceplateTrackingContext=JSON.stringify(i)}catch(e){window.Sentry?.captureException?.(e)}},this.isErrorPage=()=>!!(document.querySelector("#shreddit-forbidden")||document.querySelector("guard-community-modal")||document.querySelector(".subreddit-content-error")),this.isCached=()=>"true"===this.getAttribute("is-cached"),this.onFaceplateRequest=e=>{this.addCSRFToken(e);const{body:t}=e.detail.request;if(t?.meta&&(t.meta.page_not_found=""),"/svc/shreddit/perfMetrics"===e.detail.resource){t.meta={...t.meta,route_name:this.routeName,page_type:this.pageType||"",prefetch:this.prefetch.toString(),microapp_name:this.microAppName,device_type:this.deviceType,is_ssr:this.commentsPartialSSR?this.commentsPartialSSR:"unknown"},this.success=!this.isErrorPage();!!document.querySelector("#shreddit-forbidden-not_found")&&(t.meta.page_not_found=1);const o=this.getPerformanceAttribution(t);this.handleWebVitalW3Reporting(t.metrics,{hybrid:!1,attribution:o}),this.batchPerfV2Event(t.metrics,{attribution:o}),Object.keys(t.metrics).every((e=>!Qc.includes(e)))&&e.preventDefault()}},this.onPixelFired=e=>{const t={level:Ce.debug,name:"pixel",meta:e.detail};!this._alertReporter.report(t)&&this._isAlertBuffering&&this._alertsBuffer.push(t)},this._enrichScreenView=this._events.define("screenview-data-loaded",(e=>{this.screenViewData=e.detail})),this._updateCanonicalUrl=this._events.define("canonical-url-updated",(e=>{this.canonicalUrl=e.detail})),this._firstCommentUpdate=this._events.define(ba,(()=>{const e=this.querySelector("faceplate-partial.lb-lazy-preload");e&&e.classList.remove("hidden")})),this._pageviewUnsuccessful=this._events.define("unsuccessful-pageview",(()=>{this.success=!1})),this._handleEvent=e=>{if(!this.shouldOmitRblGVS(e)&&(Gc(e),this.debug)){let t,o={};try{o=JSON.parse(document.getElementById("debug-event-data")?.value??"{}")}catch(e){return void console.error("Unable to parse JSON from `debug-event-data`.")}try{t=this._augmentServerSideV2EventsData(e,o)}catch(e){return void console.error("Unable to augment event with server side data.")}const i={level:Ce.debug,name:"v2event",meta:JSON.stringify(t)};!this._alertReporter.report(i)&&this._isAlertBuffering&&this._alertsBuffer.push(i)}},this._logIfMissingCorrelationId=(e,t)=>{if(!this.isCached())try{const o=xe(this,"faceplateTrackingContext");e.correlation_id||window.Sentry?.captureMessage?.(`${t} missing correlation-id`,{tags:{connected:this.isConnected,updated:this.hasUpdated,event:`${e.source}|${e.action}|${e.noun}`,correlationId:!!this.correlationId,faceplateTrackingCorrelationId:!(!o||!o.correlation_id)}}),this.feedCorrelationId&&!e.feed?.correlation_id&&window.Sentry?.captureMessage?.(`${t} missing correlation-id`,{tags:{connected:this.isConnected,updated:this.hasUpdated,event:`${e.source}|${e.action}|${e.noun}`,feedCorrelationId:!!this.feedCorrelationId,faceplateTrackingFeedCorrelationId:!(!o||!o.feed?.correlation_id)}})}catch(e){window.Sentry?.captureMessage?.(`Error reporting on ${t} with missing correlation_id: ${e.message}`)}},this._trackEvent=this._events.define("track-event",(async e=>{const t=this._addEventDetails(e);this._handleEvent(t),this._logIfMissingCorrelationId(t,"track-event")})),this._getPageType=()=>(this.pageType??"").toLowerCase(),this._onLoadEmbed=this._events.define(Aa,(()=>{var e;ft(this,(e=this.screenViewData,ho({source:D.Global,action:L.Load,noun:N.Embed},e)))})),this._onEmbedClicked=this._events.define(Ia,(e=>{ft(this,((e,t)=>{const o={...e,action_info:{...e?.action_info,type:Uo.Whitespace}};return t?.post&&(o.post=t.post),t?.action_info?.position&&(o.action_info.position=t.action_info.position),ho({source:D.Global,action:L.Click,noun:N.Embed},o)})(this.screenViewData,e.detail.details))})),this._onEmbedEntrypointClicked=this._events.define(Pa,(e=>{ft(this,((e,t)=>{const o={...e};return t?.comment&&(o.comment=t?.comment),ho({source:D.Share,action:L.Click,noun:N.SnippetEmbed},o)})(this.screenViewData,e.detail.details))})),this._onEmbedEntrypointViewed=this._events.define(Ra,(e=>{ft(this,((e,t)=>{const o={...e,action_info:{...e?.action_info,type:Uo.HighlightTextComponent}};return t?.comment&&(o.comment=t?.comment),ho({source:D.Share,action:L.View,noun:N.HighlightMenu},o)})(this.screenViewData,e.detail.details))})),this._storeCorrelationId=this._events.define(Ci,(()=>{try{this.correlationId&&window.sessionStorage.setItem(bi,this.correlationId)}catch(e){window.Sentry?.captureException?.(e)}})),this._storeFeedCorrelationId=this._events.define(Ti,(()=>{try{this.feedCorrelationId&&window.sessionStorage.setItem(yi,this.feedCorrelationId)}catch(e){window.Sentry?.captureException?.(e)}})),this._enrichErrorBannerEvents=this._events.define("faceplate-alert",(e=>{if(e.detail.level!==Ce.error||!e.target||(e=>{const t=e.detail;return"_shredditEnriched"in t&&!0===t._shredditEnriched})(e))return;e.stopImmediatePropagation();const t=fc(e);e.target.dispatchEvent(t)}),{capture:!0}),this.addEventListener("update-translation-context",this.handleUpdateTranslationContext),this.addEventListener("faceplate-request",this.onFaceplateRequest),window.addEventListener("pixelFired",this.onPixelFired),window.addEventListener("faceplate-track",this.handleFaceplateTrack),window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline),window.addEventListener("beforeRoute",Hc);const t=this.querySelector("#canonical-url-updater");this.canonicalUrl=t?.getAttribute("value")??"",this._setTimeoutForAlertBuffer()}static get styles(){return[M,w(":host {\n  display: block;\n}\n")]}render(){return e.x` <devvit-wrapper loid="${this.loid}" ?is-desktop-viewport="${this.deviceType===Xt.DESKTOP}" ?is-dark-mode-enabled="${Va()}"> <slot></slot> </devvit-wrapper> `}initScreenViewData(){const e=this.getAttribute("serverrenderid"),t=this.getAttribute("loid"),o=Ut.get("loid");if(!this.isCached()||t&&t===o||!o){if(t!==o){const e=t?.split(".")[2]||(t?"NE":"E"),i=o?.split(".")[2]||(o?"NE":"E");this._handleEvent(po({name:"shreddit_client_loid_mismatch",label_values:["v,2",`sla,${e}`,`cla,${i}`],value:1}))}}else this.loid=o;if(this.isCached()&&!e){const e=Ut.get("server_request_id")??Ht();this.serverRenderId=e,Ut.remove("server_request_id")}try{const e=this.querySelector("shreddit-screenview-data"),t=e?.getAttribute("data")||"{}";this.screenViewData=JSON.parse(t)}catch(e){console.error("invalid screenview data")}}connectedCallback(){super.connectedCallback(),new Gs(this),this.updateCorrelationIdsFromStorage(),window.addEventListener("pageshow",this.onPageShow),window.addEventListener("pagehide",this.onPageHide),rs.deviceType=this.deviceType,this.success=!this.isErrorPage(),this.initScreenViewData(),this._visibilityChange.trackScreenview(),this.styleOverrideController=new ss(this),Va()&&!document.documentElement.classList.contains("theme-dark")&&document.documentElement.classList.add("theme-dark"),this.shouldTrackAppInstalled&&(async(e=window)=>ho({source:"onboarding",action:"check",noun:"app_install"},{action_info:{type:await Ka(e)}}))().then((e=>ft(this,e))),(async(e,t=window)=>{if(Il(t)&&(vn({name:"pwa",value:"1",country:e,options:ki}),!si.getItem("pwa-pn-prompt"))){const e=await fl();[hl.Pending,hl.NoSubscription].includes(e)&&(vl(),si.setItem("pwa-pn-prompt",`${Date.now()}`))}})(this.country),this.pageType!==eo.Embed&&(async(e=navigator.serviceWorker)=>{const t=window.CLIENT_EXPERIMENTS??{},o="enabled"===t.shreddit_service_worker_registration;if("enabled"===t.shreddit_service_worker_killswitch){const t=await(e?.getRegistrations());for(const e of t)e.unregister()}else if(o){try{const t=await(e?.register("/sw.js",{type:"module",updateViaCache:"all"}));yl.resolve(t)}catch(e){return void yl.reject(e)}Cl(e),Tl(e),bl||(window.addEventListener("afterRoute",(()=>Cl(e))),bl=!0)}})().then((()=>{!async function(e=navigator.serviceWorker,t=El()){if(await fl(e,t)!==hl.Enabled)return!1;const o=Number(si.getItem(ul)??"0");!(Date.now()-o<144e5)&&_l(!0,e)}()})),this.reportTranslationMetrics&&(this._translationMetricsController=new xa(this)),mi(this.closeOfflineBannersIfOnline)}willUpdate(e){this.hasUpdated&&(e.has("correlationId")||e.has("feedCorrelationId"))&&this.updateCorrelationIdsFromStorage()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pageshow",this.onPageShow),window.removeEventListener("pagehide",this.onPageHide),window.removeEventListener("pixelFired",this.onPixelFired),window.removeEventListener("faceplate-track",this.handleFaceplateTrack),window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline),this._alertControllerElement=null}getPerformanceAttribution(e){return Object.keys(e.metrics).reduce(((t,o)=>{const i=e.meta[o]??{};if(o===Ba.LARGEST_CONTENTFUL_PAINT&&!this.lcp_sent){const{lcpEntry:e,timeToFirstByte:t}=i;i.expectedLcpElement=ge(e?.element),"number"==typeof t&&(i.expectedLcpTtfb=Math.round(t))}return Object.assign(t,{[o]:i})}),{})}addCSRFToken(e){const t=e.detail.request.body;t&&("function"!=typeof t.append?Object.getPrototypeOf(t)===Object.getPrototypeOf({})&&(t.csrf_token=this.csrfProviderToken):t.append("csrf_token",this.csrfProviderToken))}trackClickWordmark(){ft(this,Xo())}async buildPerfEvent(e,t){"true"===this.getAttribute("is-cached")?performance.getEntriesByType("navigation").forEach((e=>{if(e instanceof PerformanceNavigationTiming&&e.serverTiming){const o=e.serverTiming.find((e=>"cache"===e.name));t.cache_status=o?.description||"true"}else t.cache_status="true"})):t.cache_status="false",t.serving_cluster=this.getAttribute("cluster")||"",t.gql_served=await function(){if(null!==Jc)return Jc;if("function"==typeof window.__servedBy?.then){const e=new Promise((e=>setTimeout((()=>e("timeout")),300)));return Promise.race([window.__servedBy,e]).then((e=>(Jc=e||"unknown",Jc)))}return Promise.resolve("unknown")}();const o={source:"client",action:"record",noun:e,perf_metrics:t,request:{canonical_url:this.canonicalUrl},browser_context:{hybrid_navigation_count:Us(),release:this.release,time_origin:Math.round(performance.timeOrigin)},action_info:{page_type:this.pageType,route_name:this.routeName}};return this._visibilityChange._screenviewId&&(o.screenview_id=this._visibilityChange._screenviewId),o}batchPerfV2Event(e,{attribution:t}){const o={...this.perfMetrics,...e};if(this.perfMetrics=o,this.debug&&(window.perfMetrics=this.perfMetrics),!this.ttfb_fcp_sent&&void 0!==o["first-contentful-paint"]&&void 0!==o["time-to-first-byte"]){const e={time_to_first_byte:o["time-to-first-byte"],first_contentful_paint:o["first-contentful-paint"]};this.buildPerfEvent("ttfb_fcp",e).then((e=>{this._handleEvent(ho(e))})),this.ttfb_fcp_sent=!0}if(!this.inp_sent&&void 0!==o[Ba.INTERACTION_TO_NEXT_PAINT]){const e={interaction_to_next_paint:o[Ba.INTERACTION_TO_NEXT_PAINT]};this.buildPerfEvent("inp",e).then((e=>{this._handleEvent(ho(e))})),this.inp_sent=!0}if(!this.cls_sent&&void 0!==o[Ba.CUMULATIVE_LAYOUT_SHIFT]){const e={cumulative_layout_shift_float:o[Ba.CUMULATIVE_LAYOUT_SHIFT]};this.buildPerfEvent("cls",e).then((e=>{this._handleEvent(ho(e))})),this.cls_sent=!0}if(!this.lcp_sent&&void 0!==o[Ba.LARGEST_CONTENTFUL_PAINT]){const e={largest_contentful_paint:o[Ba.LARGEST_CONTENTFUL_PAINT]},{expectedLcpElement:i,expectedLcpTtfb:n}=t?.[Ba.LARGEST_CONTENTFUL_PAINT]??{};e.expected_lcp_element=i,null!=n&&(e.expected_lcp_ttfb=n),this.buildPerfEvent("lcp",e).then((e=>{this._handleEvent(ho(e))})),this.lcp_sent=!0}if(!this.tpl_sent&&null!=o[Ba.TOTAL_PAGE_LOAD]){const e={total_page_load:o[Ba.TOTAL_PAGE_LOAD]};this.buildPerfEvent("total_page_load",e).then((e=>{this._handleEvent(ho(e))})),this.tpl_sent=!0}}handleWebVitalW3Reporting(e,{hybrid:t,attribution:o}){Object.entries(e).forEach((([e,i])=>{if(!(isFinite(i)&&i>0))return;const n={device_type:this.deviceType,is_logged_in:this.isUserLoggedIn?"true":"false",microapp_deployment:this.microAppDeployment,microapp_name:this.microAppName,microapp_pool:this.microAppPool,page_type:this.pageType||"",route_name:this.routeName,hybrid_nav:t?"true":"false",comments_lit_ssr:this.commentsPartialSSR?this.commentsPartialSSR:"unknown",is_cached:this.isCached()?"true":"false"};switch(e){case Ba.FIRST_CONTENTFUL_PAINT:this._w3ReportWebVital({name:"shreddit_first_contentful_paint_seconds",type:Rn.Histogram,value:i/1e3,labels:n});break;case Ba.LARGEST_CONTENTFUL_PAINT:{const{expectedLcpElement:e}=o?.[Ba.LARGEST_CONTENTFUL_PAINT]??{};n.expected_lcp_element=e,this._w3ReportWebVital({name:"shreddit_largest_contentful_paint_seconds",type:Rn.Histogram,value:i/1e3,labels:n});break}case Ba.TIME_TO_FIRST_BYTE:this._w3ReportWebVital({name:"shreddit_time_to_first_byte_seconds",type:Rn.Histogram,value:i/1e3,labels:n});break;case Ba.CUMULATIVE_LAYOUT_SHIFT:this._w3ReportWebVital({name:"shreddit_cumulative_layout_shift",type:Rn.Histogram,value:i,labels:n});break;case Ba.INTERACTION_TO_NEXT_PAINT:this._w3ReportWebVital({name:"shreddit_interaction_to_next_paint_seconds",type:Rn.Histogram,value:i/1e3,labels:n})}}))}_w3ReportWebVital(...e){return Bn(...e)}shouldOmitRblGVS(e){const t=Yo(e),o=e.action_info?.page_type===eo.AdsRblSurvey;return t&&o}_augmentServerSideV2EventsData(e,t){return qo(e,t)}_addEventDetails(e){const t=e.composedPath(),o=e.detail.details;for(const e of t)if(e instanceof HTMLElement){const t=xe(e,"faceplateTrackingContext");t&&St(o,t)}return St(o,{action_info:{page_type:this._getPageType()},request:{canonical_url:this.canonicalUrl}}),o}_setTimeoutForAlertBuffer(){const e=e=>{this._isAlertBuffering&&(e.stopImmediatePropagation(),this._alertsBuffer.push(e.detail))},t=()=>{this._alertsBuffer=this._alertsBuffer.filter((e=>!this._alertReporter.report(e)))};this.addEventListener("faceplate-alert",e);const o=setInterval(t,250);setTimeout((()=>{clearInterval(o),t(),this.removeEventListener("faceplate-alert",e),this._isAlertBuffering=!1,this._alertsBuffer=[]}),this._connectBufferTimeMs)}};t([Mt({context:Ma}),d({type:Boolean,attribute:"user-logged-in"})],zc.prototype,"isUserLoggedIn",void 0),t([Mt({context:Na}),l()],zc.prototype,"translationContextValue",void 0),t([d({type:Boolean})],zc.prototype,"prefetch",void 0),t([d({type:Boolean})],zc.prototype,"debug",void 0),t([d({type:Boolean})],zc.prototype,"isBlank",void 0),t([d({type:String})],zc.prototype,"routeName",void 0),t([d({type:String})],zc.prototype,"pageType",void 0),t([d({type:String,reflect:!0})],zc.prototype,"serverRenderId",void 0),t([d({type:String,attribute:"correlation-id",reflect:!0})],zc.prototype,"correlationId",void 0),t([d({type:String,attribute:"feed-correlation-id",reflect:!0})],zc.prototype,"feedCorrelationId",void 0),t([d({type:String,reflect:!0})],zc.prototype,"loid",void 0),t([d({type:String})],zc.prototype,"canonicalUrl",void 0),t([d({type:String})],zc.prototype,"deviceType",void 0),t([d({type:String,attribute:"referrer"})],zc.prototype,"referrer",void 0),t([d({type:String,attribute:"referrer-type"})],zc.prototype,"referrerType",void 0),t([d({type:String,attribute:"country"})],zc.prototype,"country",void 0),t([d({type:String,attribute:"browser"})],zc.prototype,"browser",void 0),t([d({type:Boolean,attribute:"is-canary"})],zc.prototype,"isCanary",void 0),t([d({type:Boolean})],zc.prototype,"shouldUpdateRecaptcha",void 0),t([d({type:Boolean,attribute:"should-track-app-installed"})],zc.prototype,"shouldTrackAppInstalled",void 0),t([d({type:String,attribute:"app-name"})],zc.prototype,"appName",void 0),t([d({type:Boolean,attribute:"should-observe-performance"})],zc.prototype,"shouldObservePerformance",void 0),t([d({type:String,attribute:"release"})],zc.prototype,"release",void 0),t([d({type:String,attribute:"microapp-name"})],zc.prototype,"microAppName",void 0),t([d({type:String,attribute:"microapp-pool"})],zc.prototype,"microAppPool",void 0),t([d({type:String,attribute:"microapp-deployment"})],zc.prototype,"microAppDeployment",void 0),t([d({type:String,attribute:"clienthash"})],zc.prototype,"clientHash",void 0),t([d({type:Boolean,attribute:"seeker-session"})],zc.prototype,"seekerSession",void 0),t([d({type:String,attribute:"comments-partial-ssr"})],zc.prototype,"commentsPartialSSR",void 0),t([d({type:Boolean,attribute:"disable-pns"})],zc.prototype,"disablePNs",void 0),t([d({type:Boolean,attribute:"report-translation-metrics"})],zc.prototype,"reportTranslationMetrics",void 0),t([d({type:Boolean,attribute:"has-non-immersive-translations"})],zc.prototype,"hasNonImmersiveTranslations",void 0),t([d({type:String,attribute:"user-language"})],zc.prototype,"userLanguage",void 0),t([d({type:Boolean,attribute:"paid-ua-enabled"})],zc.prototype,"paidUaEnabled",void 0),t([d({type:Boolean,attribute:"is-bot"})],zc.prototype,"isBot",void 0),t([l()],zc.prototype,"perfMetrics",void 0),zc=t([s("shreddit-app")],zc);let Jc=null;e.m("shreddit-logo",'<svg xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 216 216"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    xml:space="preserve">\n      <defs>\n        <linearGradient id="orangeredGradient" gradientTransform="rotate(90)">\n          <stop offset="0%" stop-color="#FE7B0E"></stop>\n          <stop offset="100%" stop-color="#EF0A22"></stop>\n        </linearGradient>\n      </defs>\n      <defs>\n<style>\n  .snoo-cls-1 {\n    fill: url(#snoo-radial-gragient) white;\n  }\n\n  .snoo-cls-1, .snoo-cls-2, .snoo-cls-3, .snoo-cls-4, .snoo-cls-5, .snoo-cls-6, .snoo-cls-7, .snoo-cls-8, .snoo-cls-9, .snoo-cls-10, .snoo-cls-11 {\n    stroke-width: 0px;\n  }\n\n  .snoo-cls-2 {\n    fill: url(#snoo-radial-gragient-2) white;\n  }\n\n  .snoo-cls-3 {\n    fill: url(#snoo-radial-gragient-3) white;\n  }\n\n  .snoo-cls-4 {\n    fill: url(#snoo-radial-gragient-4) #fc4301;\n  }\n\n  .snoo-cls-5 {\n    fill: url(#snoo-radial-gragient-6) black;\n  }\n\n  .snoo-cls-6 {\n    fill: url(#snoo-radial-gragient-8) black;\n  }\n\n  .snoo-cls-7 {\n    fill: url(#snoo-radial-gragient-5) #fc4301;\n  }\n\n  .snoo-cls-8 {\n    fill: url(#snoo-radial-gragient-7) white;\n  }\n\n  .snoo-cls-9 {\n    fill: #842123;\n  }\n\n  .snoo-cls-10 {\n    fill: #ff4500;\n  }\n\n  .snoo-cls-11 {\n    fill: #ffc49c;\n  }\n</style>\n<radialGradient id="snoo-radial-gragient" cx="169.75" cy="92.19" fx="169.75" fy="92.19" r="50.98" gradientTransform="translate(0 11.64) scale(1 .87)" gradientUnits="userSpaceOnUse">\n  <stop offset="0" stop-color="#feffff"></stop>\n  <stop offset=".4" stop-color="#feffff"></stop>\n  <stop offset=".51" stop-color="#f9fcfc"></stop>\n  <stop offset=".62" stop-color="#edf3f5"></stop>\n  <stop offset=".7" stop-color="#dee9ec"></stop>\n  <stop offset=".72" stop-color="#d8e4e8"></stop>\n  <stop offset=".76" stop-color="#ccd8df"></stop>\n  <stop offset=".8" stop-color="#c8d5dd"></stop>\n  <stop offset=".83" stop-color="#ccd6de"></stop>\n  <stop offset=".85" stop-color="#d8dbe2"></stop>\n  <stop offset=".88" stop-color="#ede3e9"></stop>\n  <stop offset=".9" stop-color="#ffebef"></stop>\n</radialGradient>\n<radialGradient id="snoo-radial-gragient-2" cx="47.31" fx="47.31" r="50.98" xlink:href="#snoo-radial-gragient"></radialGradient>\n<radialGradient id="snoo-radial-gragient-3" cx="109.61" cy="85.59" fx="109.61" fy="85.59" r="153.78" gradientTransform="translate(0 25.56) scale(1 .7)" xlink:href="#snoo-radial-gragient"></radialGradient>\n<radialGradient id="snoo-radial-gragient-4" cx="-6.01" cy="64.68" fx="-6.01" fy="64.68" r="12.85" gradientTransform="translate(81.08 27.26) scale(1.07 1.55)" gradientUnits="userSpaceOnUse">\n  <stop offset="0" stop-color="#f60"></stop>\n  <stop offset=".5" stop-color="#ff4500"></stop>\n  <stop offset=".7" stop-color="#fc4301"></stop>\n  <stop offset=".82" stop-color="#f43f07"></stop>\n  <stop offset=".92" stop-color="#e53812"></stop>\n  <stop offset="1" stop-color="#d4301f"></stop>\n</radialGradient>\n<radialGradient id="snoo-radial-gragient-5" cx="-73.55" cy="64.68" fx="-73.55" fy="64.68" r="12.85" gradientTransform="translate(62.87 27.26) rotate(-180) scale(1.07 -1.55)" xlink:href="#snoo-radial-gragient-4"></radialGradient>\n<radialGradient id="snoo-radial-gragient-6" cx="107.93" cy="166.96" fx="107.93" fy="166.96" r="45.3" gradientTransform="translate(0 57.4) scale(1 .66)" gradientUnits="userSpaceOnUse">\n  <stop offset="0" stop-color="#172e35"></stop>\n  <stop offset=".29" stop-color="#0e1c21"></stop>\n  <stop offset=".73" stop-color="#030708"></stop>\n  <stop offset="1" stop-color="#000"></stop>\n</radialGradient>\n<radialGradient id="snoo-radial-gragient-7" cx="147.88" cy="32.94" fx="147.88" fy="32.94" r="39.77" gradientTransform="translate(0 .54) scale(1 .98)" xlink:href="#snoo-radial-gragient"></radialGradient>\n<radialGradient id="snoo-radial-gragient-8" cx="131.31" cy="73.08" fx="131.31" fy="73.08" r="32.6" gradientUnits="userSpaceOnUse">\n  <stop offset=".48" stop-color="#7a9299"></stop>\n  <stop offset=".67" stop-color="#172e35"></stop>\n  <stop offset=".75" stop-color="#000"></stop>\n  <stop offset=".82" stop-color="#172e35"></stop>\n</radialGradient>\n</defs>\n<path class="snoo-cls-10" d="m108,0h0C48.35,0,0,48.35,0,108h0c0,29.82,12.09,56.82,31.63,76.37l-20.57,20.57c-4.08,4.08-1.19,11.06,4.58,11.06h92.36s0,0,0,0c59.65,0,108-48.35,108-108h0C216,48.35,167.65,0,108,0Z"></path>\n<circle class="snoo-cls-1" cx="169.22" cy="106.98" r="25.22"></circle>\n<circle class="snoo-cls-2" cx="46.78" cy="106.98" r="25.22"></circle>\n<ellipse class="snoo-cls-3" cx="108.06" cy="128.64" rx="72" ry="54"></ellipse>\n<path class="snoo-cls-4" d="m86.78,123.48c-.42,9.08-6.49,12.38-13.56,12.38s-12.46-4.93-12.04-14.01c.42-9.08,6.49-15.02,13.56-15.02s12.46,7.58,12.04,16.66Z"></path>\n<path class="snoo-cls-7" d="m129.35,123.48c.42,9.08,6.49,12.38,13.56,12.38s12.46-4.93,12.04-14.01c-.42-9.08-6.49-15.02-13.56-15.02s-12.46,7.58-12.04,16.66Z"></path>\n<ellipse class="snoo-cls-11" cx="79.63" cy="116.37" rx="2.8" ry="3.05"></ellipse>\n<ellipse class="snoo-cls-11" cx="146.21" cy="116.37" rx="2.8" ry="3.05"></ellipse>\n<path class="snoo-cls-5" d="m108.06,142.92c-8.76,0-17.16.43-24.92,1.22-1.33.13-2.17,1.51-1.65,2.74,4.35,10.39,14.61,17.69,26.57,17.69s22.23-7.3,26.57-17.69c.52-1.23-.33-2.61-1.65-2.74-7.77-.79-16.16-1.22-24.92-1.22Z"></path>\n<circle class="snoo-cls-8" cx="147.49" cy="49.43" r="17.87"></circle>\n<path class="snoo-cls-6" d="m107.8,76.92c-2.14,0-3.87-.89-3.87-2.27,0-16.01,13.03-29.04,29.04-29.04,2.14,0,3.87,1.73,3.87,3.87s-1.73,3.87-3.87,3.87c-11.74,0-21.29,9.55-21.29,21.29,0,1.38-1.73,2.27-3.87,2.27Z"></path>\n<path class="snoo-cls-9" d="m62.82,122.65c.39-8.56,6.08-14.16,12.69-14.16,6.26,0,11.1,6.39,11.28,14.33.17-8.88-5.13-15.99-12.05-15.99s-13.14,6.05-13.56,15.2c-.42,9.15,4.97,13.83,12.04,13.83.17,0,.35,0,.52,0-6.44-.16-11.3-4.79-10.91-13.2Z"></path>\n<path class="snoo-cls-9" d="m153.3,122.65c-.39-8.56-6.08-14.16-12.69-14.16-6.26,0-11.1,6.39-11.28,14.33-.17-8.88,5.13-15.99,12.05-15.99,7.07,0,13.14,6.05,13.56,15.2.42,9.15-4.97,13.83-12.04,13.83-.17,0-.35,0-.52,0,6.44-.16,11.3-4.79,10.91-13.2Z"></path>\n    </svg>\n  ');let Xc=class extends e.s{static get styles(){return w(":host {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 192px;\n  isolation: isolate;\n}\n:host:before {\n  content: '';\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  background-color: var(--color-global-orangered);\n  opacity: 0.75;\n  border-radius: 100%;\n  animation: scaleout 1.5s infinite ease-in-out;\n}\n:host shreddit-logo {\n  font-size: 64px;\n  height: 64px;\n  width: 64px;\n  z-index: 1;\n}\n@keyframes scaleout {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(1.5);\n    opacity: 0;\n  }\n}\n")}render(){return e.x` <shreddit-logo></shreddit-logo> `}};Xc=t([s("shreddit-loading")],Xc);class Zc extends e.s{render(){return e.x` <slot></slot> `}}Zc.styles=e.a`:host{display:block}`;let eu=class extends Zc{constructor(){super(...arguments),this.pageTitle=""}update(e){super.update(e),this.setPageTitle(this.pageTitle)}setPageTitle(e){document.title=e,qa(this,{message:e,options:{priority:Ha.assertive}})}connectedCallback(){super.connectedCallback(),this.setPageTitle(this.pageTitle)}};t([d({type:String,attribute:"title"})],eu.prototype,"pageTitle",void 0),eu=t([s("shreddit-title")],eu);const tu="serverTimestamps",ou=(()=>{const e="test";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}})(),iu=()=>{if(window.serverTimestamp&&ou){const{serverTimestamp:e}=window;try{const t=sessionStorage.getItem(tu);if(t){return JSON.parse(t)[`${e}`]}}catch(e){}}const e=window.performance.getEntriesByType("navigation")[0];return e&&e.responseEnd-e.responseStart<8};let nu=class extends e.s{connectedCallback(){super.connectedCallback(),window.serverTimestamp=this.timestamp;const e=`${this.timestamp}`;if(ou){const t=sessionStorage.getItem(tu)||"{}";let o={};try{o=JSON.parse(t)}catch(e){sessionStorage.setItem(tu,"{}")}sessionStorage.setItem(tu,JSON.stringify(Object.assign(Object.assign({},o),{[e]:void 0!==o[e]})))}}};t([d({type:Number})],nu.prototype,"timestamp",void 0),nu=t([s("faceplate-server-session")],nu);const ru=Symbol("mixins/connect-event");let su=class extends(function(e){if(ru in e)return e;class t extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),window.queueMicrotask((()=>this.dispatchConnectEvent()))}dispatchConnectEvent(){if(!this.isConnected)return;const e=this.makeConnectEvent();return this.dispatchEvent(e),e}makeConnectEvent(){throw new Error("FaceplateEvent makeConnectEvent() method not implemented!")}}return t[ru]=!0,t}(HTMLElement)){static get styles(){return e.a`:host{display:none}`}makeConnectEvent(){const e=this.getAttribute("level");let t;if(e){const o=e.toLowerCase();if(!Object.hasOwnProperty.call(Ce,o))return v("faceplate-error",new Error(`Unknown level value "${e}" specified on <faceplate-alert> element`));const i=parseInt(o,10);t=isNaN(i)?Ce[o]:i}const o=this.getAttribute("message"),i=this.getAttribute("name"),n=this.getAttribute("meta"),r=this.getAttribute("count"),s=this.getAttribute("show-when-offline"),a=this.getAttribute("cause"),d=this.getAttribute("source-element");return v("faceplate-alert",{level:t,name:i||void 0,message:o||void 0,meta:n||void 0,count:null===r?1:parseInt(r),originalAlert:this,emitTime:window.performance.now(),showWhenOffline:null!==s||void 0,cause:a||void 0,sourceElement:d||this.tagName})}dispatchConnectEvent(){super.dispatchConnectEvent(),this.hasAttribute("auto-remove")&&"false"!==this.getAttribute("auto-remove")&&this.remove()}};su=t([s("faceplate-alert")],su);const au=Symbol("mixins/user-action");let du=class extends(function(e){if(au in e)return e;class t extends e{constructor(){super(...arguments),this._userActionEnabled=!1,this._loadingHandleClick=()=>{this._userActionEnabled&&this.userActionCallback()},this._loadingHandleKeyDown=e=>{this._userActionEnabled&&("Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),e.stopPropagation(),this.userActionCallback()))}}get isActionable(){return this._userActionEnabled}enableUserActions(){this._userActionEnabled||(this._userActionEnabled=!0,this.addEventListener("click",this._loadingHandleClick),this.addEventListener("keydown",this._loadingHandleKeyDown))}disableUserActions(){this._userActionEnabled&&(this._userActionEnabled=!1,this.removeEventListener("click",this._loadingHandleClick),this.removeEventListener("keydown",this._loadingHandleKeyDown))}userActionCallback(){}}return t[au]=!0,t}(ye(e.s))){constructor(){super(...arguments),this.src="",this.srcset="",this.sizes="",this.loading=Te.Lazy,this.width=0,this.height=0,this.perfmark="",this.isRequestInProgress=!1}static get styles(){return e.a`:host{display:inline-block}:host([loading=action]) div.placeholder{cursor:pointer}div{display:flex;align-items:center;justify-content:center;text-align:center;height:inherit;width:inherit;margin:auto;position:relative;overflow:hidden;border-radius:inherit}img{width:100%;height:100%}*{max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;object-fit:inherit}`}connectedCallback(){super.connectedCallback(),this.img||this.executeLoadingStrategy()}update(e){e.has("src")&&(this.img=void 0,this.isRequestInProgress=!1,this.executeLoadingStrategy()),super.update(e)}executeLoadingStrategy(){this.loading===Te.Lazy?this.enableObserver():this.loading===Te.Action?this.enableUserActions():this.loading===Te.Eager&&this.loadContent()}observerIsIntersectingCallback(){this.isObserved&&this.disableObserver(),this.isRequestInProgress||this.loadContent()}userActionCallback(){this.isActionable&&this.disableUserActions(),this.isRequestInProgress||this.loadContent()}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver(),this.isActionable&&this.disableUserActions()}async loadContent(){const{src:e}=this,t=new Image;t.onload=()=>{if(t.src!==new URL(this.src,location.origin).href)return;this.isRequestInProgress=!1,this.img=t,this.requestUpdate(),this.perfmark&&this.updateComplete.then((()=>{performance.mark(this.perfmark)}));const e=v("faceplate-load",{resource:t.src,src:this.src});this.dispatchEvent(e)},t.onerror=()=>{const e=v("faceplate-error",new Error("Image failed to load"));this.dispatchEvent(e)},this.isRequestInProgress=!0,t.src=e}render(){const t=this.isRequestInProgress&&this.loading===Te.Action;let o=e.x` <slot name="${e.l(t?"loading":void 0)}"></slot> `;return this.img&&(o=e.x` <img src="${this.img.src}" srcset="${e.l(this.srcset)}" sizes="${e.l(this.sizes)}" alt="${e.l(this.alt)}"> `),e.x` <div class="${this.img?"loaded":"placeholder"}" style="${e.o({width:this.width?this.width+"px":"inherit",height:this.height?this.height+"px":"inherit"})}" tabindex="${e.l(this.isActionable?0:void 0)}"> ${o} </div> `}};t([d({type:String})],du.prototype,"src",void 0),t([d({type:String})],du.prototype,"srcset",void 0),t([d({type:String})],du.prototype,"sizes",void 0),t([d({type:String})],du.prototype,"loading",void 0),t([d({type:Number})],du.prototype,"width",void 0),t([d({type:Number})],du.prototype,"height",void 0),t([d({type:String})],du.prototype,"perfmark",void 0),t([d({type:String})],du.prototype,"alt",void 0),du=t([s("faceplate-img")],du);const lu=Symbol("mixins/with-tracking");function cu(e){if(oe(e,lu))return e;class t extends e{constructor(){super(...arguments),this.trackEvent=e=>{const t=v("track-event",{details:e});this.dispatchEvent(t)}}}return t[lu]=!0,t}function uu(){let e="",t="";try{const o=un(Ut.get(Bi)??""),i=!!o?.isTranslationActive,n=document.querySelector("shreddit-app"),r=n?.getAttribute("user-language");r&&(e=i?"on":"off",t=r)}catch(e){}return{translation_setting_state:e,target_language:t}}function hu(){return document.querySelector("shreddit-app")?.getAttribute("correlation-id")}var pu;!function(e){e.All="all",e.Posts="link",e.Subreddits="sr",e.Users="user",e.Comments="comment",e.Media="media"}(pu||(pu={})),new Set([pu.Posts,pu.Subreddits,pu.Users,pu.Comments,pu.Media]);const mu={DAY:"day",HOUR:"hour",WEEK:"week",MONTH:"month",YEAR:"year",ALL:"all"};var gu;new Set(Object.values(mu)),function(e){e.Comments="comments",e.Hot="hot",e.New="new",e.Relevance="relevance",e.Top="top"}(gu||(gu={}));const _u=gu.Relevance;new Set([gu.Comments,gu.Hot,gu.New,gu.Relevance,gu.Top]),new Set([gu.Hot,gu.New]);var Eu,fu,vu,Su,bu,yu,Cu;!function(e){e.PromotedTrend="promoted_trend",e.Search="search",e.SearchBar="search_bar",e.Trending="trending",e.KeywordFollowing="keyword_following",e.Syndication="syndication"}(Eu||(Eu={})),function(e){e.Spellcheck="spellcheck"}(fu||(fu={})),function(e){e.PostCommunity="post_community",e.PostProfile="post_profile",e.PostTitle="post_title",e.PostBody="post",e.PostThumbnail="post_thumbnail"}(vu||(vu={})),function(e){e.Comment="comment",e.CommentAuthor="comment_author",e.CommentSearchBar="comment_search_bar",e.GoToThreadLink="go_to_comment_link"}(Su||(Su={})),function(e){e.All="all",e.Posts="posts",e.Communities="communities",e.People="people",e.Comments="comments",e.Media="media"}(bu||(bu={})),function(e){e.PdpCommentSearchInput="pdp-comment-search-input",e.HeaderSmall="reddit-header-small",e.HeaderLarge="reddit-header-large",e.SearchInputSmall="reddit-search-small"}(yu||(yu={})),function(e){e.commentComposerHost='shreddit-async-loader[bundleName*="comment_composer"]',e.addCommentButton="faceplate-tracker[source=shreddit_comment_count_button]",e.pdpCommentsTreeSortContainer=".pdp-comments-tree-sort-container",e.pdpCommentSearchInput="pdp-comment-search-input",e.pdpAmaCommentTabWrapper=".pdp-ama-comment-tab-wrapper",e.shredditCommentsSortDropdown="shreddit-comments-sort-dropdown"}(Cu||(Cu={})),bu.All,pu.All,bu.Posts,pu.Posts,bu.Communities,pu.Subreddits,bu.People,pu.Users,bu.Comments,pu.Comments,bu.Media,pu.Media;const Tu={[pu.All]:bu.All,[pu.Posts]:bu.Posts,[pu.Subreddits]:bu.Communities,[pu.Users]:bu.People,[pu.Comments]:bu.Comments,[pu.Media]:bu.Media};var Au,Iu,Pu,Ru;!function(e){e.Covid="covid",e.Election="election",e.NsfwSetting="nsfw_setting",e.NsfwLoginPrompt="nsfw_login_prompt"}(Au||(Au={})),function(e){e.Serp="serp",e.Qf="qf",e.PopularCarousel="popular_carousel",e.PdpCommentSearch="pdp_comment_search",e.PdpCommentSearchBar="pdp_comment_search_bar",e.PdpCommentHighlightedSearchTerm="pdp_comment_highlighted_search_term",e.QueryRecommendation="query_recommendation"}(Iu||(Iu={})),function(e){e.IsBlank="data-is-blank",e.IsPromoted="data-is-promoted"}(Pu||(Pu={})),function(e){e.GLOBAL="global",e.COMMUNITY="community",e.PDP="pdp",e.PROFILE="profile",e.CUSTOM_FEED="custom_feed"}(Ru||(Ru={}));const wu={type:Ru.GLOBAL,path:"/"},Ou=new Set([eo.Home,eo.Popular,eo.Community,eo.ArenaFeed]),Mu=new Set([eo.SearchResults,eo.SearchDropdown,eo.PostDetail,"search_results_trending","typeahead","search_dropdown","search_authors_tab","search_comments_tab","search_communities_tab","search_posts_tab"]),Nu=new Set([...Ou,...Mu]),Du=new Set([eo.PostDetail,eo.SingleCommentThread,eo.Community,eo.ProfileOverview,eo.GuidesConversation]);function Lu(){const e=si.getItem(ri.GoodVisitFS);return e?JSON.parse(e):null}const Uu="/svc/shreddit/guides-recommended-posts",ku="guides-citation-details",xu=`/svc/shreddit/${ku}`;var Fu,Vu,Bu,Gu,Wu;!function(e){e.EntryPage="entry",e.ConversationPage="conversation"}(Fu||(Fu={})),function(e){e.GqlRt="gql_rt",e.GqlRtStaging="gql_rt_staging"}(Vu||(Vu={})),function(e){e.Default="https://gql-realtime.reddit.com/query",e.GqlRt="https://gql-rt.reddit.com/query",e.GqlRtStaging="https://gql-rt-staging.reddit.com/query"}(Bu||(Bu={})),function(e){e.GuidesGenericError="GuidesGenericError",e.GuidesUnhandledError="GuidesUnhandledError",e.GuidesQuotaExceededError="GuidesQuotaExceededError"}(Gu||(Gu={})),function(e){e.Answers="ANSWERS",e.Pdp="PDP",e.Serp="SERP"}(Wu||(Wu={}));const Hu=new Set(Object.values(Wu));var qu;!function(e){e.html="HTML",e.rtjson="RTJSON"}(qu||(qu={}));var Yu;!function(e){e.post="post",e.comment="comment"}(Yu||(Yu={}));const $u=/\/comments\/(?<postId>[a-zA-Z0-9]+)\/[a-zA-Z0-9_.%]*\/*(?<commentId>[a-zA-Z0-9]*)/,ju=({isSeo:e,screenViewData:t,pageType:o})=>!Qu(o)&&!e&&!!t?.search?.conversation_id,Ku=new Set([eo.Guides,eo.GuidesConversation]),Qu=e=>Ku.has(e);function zu(e){let t=!1,o=!1,i={};const n=new URLSearchParams(window.location.search).get("source");Qu(e)&&n!==Wu.Serp&&(t=!0);const r=function(){const e=si.getItem(ri.GoodVisitGuides);if(e)return JSON.parse(e);return null}();if(r){const e=new Date(r.expires)<=new Date,t=Ku.has(r.source);!e&&t&&(o=!0,i=r.eventPayload)}return{isGuidesSession:t,isGuidesLocalStorageSession:o,eventPayload:i}}function Ju(e,t){if(!Qu(e))return;const o=JSON.stringify({source:e,expires:new Date((new Date).getTime()+5e3),eventPayload:t});si.setItem(ri.GoodVisitGuides,o)}const Xu=eo.Inbox;function Zu(e){let t=!1,o=!1;e===Xu&&(t=!0);const i=function(){const e=si.getItem(ri.GoodVisitInbox);if(e)return JSON.parse(e);return null}();if(i){const e=new Date(i.expires)<=new Date,t=i.source===Xu;!e&&t&&(o=!0)}return{isInboxSession:t,isInboxLocalStorageSession:o}}function eh(e){let t=!1,o=!1;e===eo.Klp&&(t=!0);const i=function(){const e=si.getItem(ri.GoodVisitKLP);if(e)return JSON.parse(e);return null}();if(i){const e=new Date(i.expires)<=new Date,t=i.source===eo.Klp;!e&&t&&(o=!0)}return{isKLPSession:t,isKLPLocalStorageSession:o}}function th(){const e=function(){const e=si.getItem(ri.GoodVisitPdpSeeker);if(e)return JSON.parse(e);return null}();if(e){return!(new Date(e.expires)<=new Date)}return!1}const oh=re(cu(e.s)),ih=3e4;let nh=class extends oh{constructor(){super(),this.referrerType=Zt.Reddit,this.pageType=eo.Unknown,this.localStorageAvailable=!1,this.timeoutId=null,this.count=null,this.goodVisitQueue=[],this.hasSeoSession=null,this.updatedAt=null,this.initialized=!1,this.screenViewData={},this.isFeedSearchSession=null,this.isFeedSearchLocalStorageSession=null,this.isKLPSession=null,this.isKLPLocalStorageSession=null,this.isGuidesSession=null,this.isGuidesLocalStorageSession=null,this.guidesLSEventPayload=null,this.isInboxSession=null,this.isInboxLocalStorageSession=null,this.isPdpSeekerSearchSession=null,this.leaveEventType="beforeunload",this._windowEvents=new g(this,(()=>window)),this.pageHideListener=()=>{this.clearTimeout(),this.saveState()},this.pageShowListener=()=>{this.boot()},this.setScreenViewData=e=>{this.screenViewData=e},this.storePlatformGoodVisit=()=>{!function(e,t){let o=e,i={};if(!Nu.has(e))return;if(Mu.has(e)){if(i=t,!i.search)return;i?.search?.structure_type&&[Eu.Trending,Eu.PromotedTrend].includes(i?.search?.structure_type)&&(o=eo.SearchResultsTrending)}Ou.has(e)&&(i={timer:{referrer_correlation_id:hu()}});const n=JSON.stringify({key:Ht(),source:o,expires:new Date((new Date).getTime()+5e3),eventPayload:i});si.setItem(ri.GoodVisitFS,n)}(this.pageType,this.screenViewData)},this.storePlatformKLPGoodVisit=()=>{!function(e,t){if(e!==eo.Klp)return;const o=JSON.stringify({key:Ht(),source:eo.Klp,expires:new Date((new Date).getTime()+5e3),eventPayload:t});si.setItem(ri.GoodVisitKLP,o)}(this.pageType,this.screenViewData)},this.storePlatformGuidesGoodVisit=()=>{Ju(this.pageType,this.screenViewData)},this.storeGuidesGoodVisit=e=>{Ju(this.pageType,{...this.screenViewData,search:e||void 0})},this.storePdpSeekerGoodVisit=()=>{!function(e,t=Ht){const o={key:t(),source:eo.PostDetail,expires:new Date((new Date).getTime()+5e3),eventPayload:e},i=JSON.stringify(o);si.setItem(ri.GoodVisitPdpSeeker,i)}(this.screenViewData)},this.storePlatformInboxGoodVisit=()=>{!function(e,t){if(Xu!==e)return;const o=JSON.stringify({source:e,expires:new Date((new Date).getTime()+5e3),eventPayload:t});si.setItem(ri.GoodVisitInbox,o)}(this.pageType,this.screenViewData)},this._onPageLeave=()=>{this.isKLPSession?this.storePlatformKLPGoodVisit():this.isGuidesSession?this.storePlatformGuidesGoodVisit():this.isInboxSession?this.storePlatformInboxGoodVisit():this.storePlatformGoodVisit(),this.screenViewData={}},this._onPagehide=this._windowEvents.define("pagehide",this.pageHideListener),this._onPageshow=this._windowEvents.define("pageshow",this.pageShowListener),this._onBeforeRoute=this._windowEvents.define("beforeRoute",this._onPageLeave),this.tick=()=>{null!==this.count&&(this.count+=1e3,this.updatedAt=(new Date).getTime(),this.goodVisitQueue.length>0&&this.count>=this.goodVisitQueue[0]&&this.trackGoodVisit(),this.count>=ih?this.clearState():this.timeoutId=window.setTimeout(this.tick,1e3))},this.isKLPReferredPage=()=>this.isPostPage()||this.isTopicPage()||this.isCommunityPage()||this.isReferredKLPPage(),this.isKLPGoodVisitSession=()=>this.isKLPSession||this.isKLPLocalStorageSession&&this.isKLPReferredPage(),this.isGuidesGoodVisitSession=()=>this.isGuidesSession||this.isGuidesLocalStorageSession,this.isInboxGoodVisitSession=()=>this.isInboxSession||this.isInboxLocalStorageSession,this.isPostPage=()=>this.pageType===eo.PostDetail||this.pageType===eo.SingleCommentThread,this.isTopicPage=()=>this.pageType===eo.TopicPage,this.isReferredKLPPage=()=>this.pageType===eo.Klp&&this.referrerType===Zt.Reddit,this.isCommunityPage=()=>this.pageType===eo.Community,this.isCommunityWikiPage=()=>this.pageType===eo.CommunityWiki,this.isArenaFeedPage=()=>this.pageType===eo.ArenaFeed,this.isPostStatsPage=()=>this.pageType===eo.PostStats,this.clearTimeout=()=>{null!==this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=null},this.trackGoodVisit=()=>{if(this.goodVisitQueue.length>0){let e;switch(!0){case this.isKLPGoodVisitSession():e=(({isGoodVisitFeedTimer:e,millis:t,screenViewData:o})=>({screenViewData:o,timer:{type:e?io.GoodVisitFeed:io.GoodVisit,millis:t}}))({isGoodVisitFeedTimer:this.isKLPReferredPage(),millis:this.goodVisitQueue[0],screenViewData:this.screenViewData});break;case this.isGuidesGoodVisitSession():e=(({isSeo:e,millis:t,screenViewData:o,pageType:i})=>({screenViewData:o,timer:{type:e?io.GoodVisit:io.GoodVisitGuides,millis:t,referrer:ju({isSeo:e,screenViewData:o,pageType:i})?"gen_guides_conversation":void 0}}))({pageType:this.pageType,isSeo:this.isSeoSession,millis:this.goodVisitQueue[0],screenViewData:{...this.screenViewData,...this.guidesLSEventPayload?this.guidesLSEventPayload:{}}});break;case this.isPdpSeekerSearchSession:e={screenViewData:this.screenViewData,timer:{type:io.GoodVisitSearch,millis:this.goodVisitQueue[0],referrer:"post_detail"}};break;case this.isPostStatsPage():e={screenViewData:this.screenViewData,timer:{type:io.GoodVisitPostStats,millis:this.goodVisitQueue[0],referrer:this.referrerType}};break;case this.isInboxGoodVisitSession():e=(({millis:e,screenViewData:t})=>({screenViewData:t,timer:{type:io.GoodVisitInbox,millis:e}}))({screenViewData:this.screenViewData,millis:this.goodVisitQueue[0]});break;case this.isCommunityWikiPage():e={screenViewData:this.screenViewData,timer:{type:io.GoodVisitCommunityWiki,millis:this.goodVisitQueue[0],referrer:this.referrerType}};break;default:e=function({millis:e,screenViewData:t,isFeedSearchSession:o,isFeedSearchLocalStorageSession:i}){let n,r,s=io.GoodVisit;if(o)if(i){const e=Lu();n=e?.source;const o=Ou.has(e?.source),i=Mu.has(e?.source);if(o){const{timer:t}=e?.eventPayload||{};s=io.GoodVisitFeed,r=t?.referrer_correlation_id}if(i){s=io.GoodVisitSearch;const{search:o}=e?.eventPayload||{};t.search={...t?.search||{},...o||{},conversation_id:o?.conversation_id??"",impression_id:o?.impression_id??"",origin_page_type:o?.origin_page_type??"",query:o?.query??"",query_id:o?.query_id??""}}}else s=io.GoodVisitSearch;return{screenViewData:t,timer:{type:s,millis:e,...n&&{referrer:n},...r&&{referrer_correlation_id:r}}}}({millis:this.goodVisitQueue[0],screenViewData:this.screenViewData,isFeedSearchSession:this.isFeedSearchSession,isFeedSearchLocalStorageSession:this.isFeedSearchLocalStorageSession})}const t=Do({...{...e,screenViewData:{...e.screenViewData,...Tn()}},hostPageType:this.pageType,translationMetrics:uu()});this.trackEvent(t),this.goodVisitQueue.shift()}},this.localStorageAvailable=si.isAvailable(),this.leaveEventType=Ni.eventType}getState(){return{count:this.count,updatedAt:this.updatedAt}}attributeChangedCallback(e,t,o){super.attributeChangedCallback(e,t,o);const i="pagetype"===e&&t!==o;this.isPdpSeekerSearchSession=th(),(i||this.isPdpSeekerSearchSession)&&(this.clearTimeout(),this.boot())}get isSeoSession(){return this.referrerType===Zt.Seo||!!this.hasSeoSession}connectedCallback(){if(super.connectedCallback(),!this.initialized){if(this.initialized=!0,this.boot(),window.addEventListener(this.leaveEventType,this._onPageLeave),this.subscribe(Rl.ScreenViewDataLoaded,this.setScreenViewData),window.location.search.includes(ms)){const e=new URL(window.location.href);e.searchParams.delete(ms),history.replaceState({},"",e.toString())}this.subscribe(Rl.GuidesStoreGoodVisit,this.storeGuidesGoodVisit)}}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(this.leaveEventType,this._onPageLeave),this.unsubscribe(Rl.ScreenViewDataLoaded,this.setScreenViewData),this.clearTimeout()}boot(){if(this.timeoutId)return;const{isFeedSearchSession:e,isFeedSearchLocalStorageSession:t}=function(e,t){let o=!1,i=!1;if(!Du.has(e))return{isFeedSearchSession:o,isFeedSearchLocalStorageSession:i};t===Zt.RedditSearch&&(o=!0);const n=Lu();if(n){const e=new Date(n.expires)<=new Date,t=Nu.has(n.source);!e&&t&&(o=!0,i=!0)}return{isFeedSearchSession:o,isFeedSearchLocalStorageSession:i}}(this.pageType,this.referrerType);this.isFeedSearchSession=e,this.isFeedSearchLocalStorageSession=t;const{isKLPSession:o,isKLPLocalStorageSession:i}=eh(this.pageType);this.isKLPSession=o,this.isKLPLocalStorageSession=i;const{isGuidesSession:n,isGuidesLocalStorageSession:r,eventPayload:s}=zu(this.pageType);this.isGuidesSession=n,this.isGuidesLocalStorageSession=r,this.guidesLSEventPayload=s;const{isInboxSession:a,isInboxLocalStorageSession:d}=Zu(this.pageType);this.isInboxSession=a,this.isInboxLocalStorageSession=d,this.isPdpSeekerSearchSession=th(),this.referrerType===Zt.Seo||this.isFeedSearchSession||this.isPdpSeekerSearchSession||this.isKLPGoodVisitSession()||this.isGuidesGoodVisitSession()||this.isArenaFeedPage()||this.isPostStatsPage()||this.isInboxGoodVisitSession()||this.isCommunityWikiPage()?this.initState():this.referrerType===Zt.Other?this.clearState():this.loadState(),this.tick()}initState(){if(this.count=0,this.updatedAt=(new Date).getTime(),this.referrerType===Zt.Seo||this.isGuidesSession)this.goodVisitQueue=[ih];else{const e=this.isSearchGoodVisitExpansionExperimentEnabled?[3e3,5e3,1e4]:[];this.goodVisitQueue=[...e,15e3,ih]}}clearState(){this.hasSeoSession=!1,this.count=null,this.updatedAt=null,this.localStorageAvailable&&si.removeItem(ri.GoodVisit)}loadState(){if(!this.localStorageAvailable)return;const e=si.getItem(ri.GoodVisit);var t;if(e)try{const o=JSON.parse(e),i=null!==(t=o)&&"number"==typeof t.count&&"number"==typeof t.updatedAt&&Array.isArray(t.goodVisitQueue)&&t.goodVisitQueue.every((e=>"number"==typeof e));if(!i)throw new Error("Invalid SEO session object");this.hasSeoSession=!0,this.count=o.count,this.updatedAt=o.updatedAt,this.goodVisitQueue=o.goodVisitQueue;const n=(new Date).getTime();n-this.updatedAt>5e3&&this.clearState()}catch(e){this.clearState()}}saveState(){if(!this.localStorageAvailable)return;if(null===this.count)return;const e=JSON.stringify({count:this.count,updatedAt:this.updatedAt,goodVisitQueue:this.goodVisitQueue});si.setItem(ri.GoodVisit,e)}};t([d({type:String})],nh.prototype,"referrerType",void 0),t([d({type:String})],nh.prototype,"pageType",void 0),t([d({attribute:"is-search-good-visit-expansion-experiment-enabled",type:Boolean})],nh.prototype,"isSearchGoodVisitExpansionExperimentEnabled",void 0),nh=t([s("shreddit-good-visit-tracker")],nh);const rh=re(e.s);let sh=class extends rh{constructor(){super(...arguments),this.isNsfwBlocked=!1,this.isEmbed=!1,this.isEmbedFlexible=!1}static get styles(){return e.a`:host{--default-aspect-ratio:2;--configured-aspect-ratio:var(--aspect-ratio, var(--default-aspect-ratio));--computed-aspect-ratio:calc(100% / var(--configured-aspect-ratio));--default-min-height:150px;--configured-min-height:var(--min-height, var(--default-min-height));--default-max-height:100vh;--configured-max-height:var(--max-height, var(--default-max-height));--aspect-ratio-padding:min(
          max(var(--configured-min-height), var(--computed-aspect-ratio)),
          var(--configured-max-height)
        );display:block;height:0;padding-bottom:var(--aspect-ratio-padding);position:relative}:host([is-nsfw-blocked]){--configured-min-height:300px}slot{display:block;height:100%;position:absolute;width:100%}`}connectedCallback(){super.connectedCallback(),this.isEmbed&&requestAnimationFrame((()=>{const e=document.getElementById("embed-title")?.clientHeight;e&&((this.shadowRoot?.host).style.setProperty("--max-height",(this.isEmbedFlexible?innerWidth>260?530-e+20:330-e+20:292-e+20)+"px"),this.isEmbedFlexible&&(this.shadowRoot?.host).style.setProperty("--configured-min-height","100px"))}))}render(){return e.x`<slot></slot>`}};t([d({type:Boolean,attribute:"is-nsfw-blocked"})],sh.prototype,"isNsfwBlocked",void 0),t([d({type:Boolean,attribute:"is-embed"})],sh.prototype,"isEmbed",void 0),t([d({type:Boolean,attribute:"is-embed-flexible"})],sh.prototype,"isEmbedFlexible",void 0),sh=t([s("shreddit-aspect-ratio")],sh);const ah=re(e.s);let dh=class extends ah{constructor(){super(...arguments),this.data={}}connectedCallback(){super.connectedCallback(),this.dispatchEvent(v("screenview-data-loaded",this.data)),this.publish(Rl.ScreenViewDataLoaded,this.data)}};t([d({type:Object})],dh.prototype,"data",void 0),dh=t([s("shreddit-screenview-data")],dh);var lh,ch,uh,hh,ph,mh=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},gh=function(e){if("loading"===document.readyState)return"loading";var t=mh();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},_h=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},Eh=function(e,t){var o="";try{for(;e&&9!==e.nodeType;){var i=e,n=i.id?"#"+i.id:_h(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(o.length+n.length>(t||100)-1)return o||n;if(o=o?n+">"+o:n,i.id)break;e=i.parentNode}}catch(e){}return o},fh=-1,vh=function(e){addEventListener("pageshow",(function(t){t.persisted&&(fh=t.timeStamp,e(t))}),!0)},Sh=function(){var e=mh();return e&&e.activationStart||0},bh=function(e,t){var o=mh(),i="navigate";return fh>=0?i="back-forward-cache":o&&(document.prerendering||Sh()>0?i="prerender":document.wasDiscarded?i="restore":o.type&&(i=o.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},yh=function(e,t,o){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},o||{})),i}}catch(e){}},Ch=function(e,t,o,i){var n,r;return function(s){t.value>=0&&(s||i)&&((r=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=r,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,o),e(t))}},Th=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Ah=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Ih=function(e){var t=!1;return function(o){t||(e(o),t=!0)}},Ph=-1,Rh=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},wh=function(e){"hidden"===document.visibilityState&&Ph>-1&&(Ph="visibilitychange"===e.type?e.timeStamp:0,Mh())},Oh=function(){addEventListener("visibilitychange",wh,!0),addEventListener("prerenderingchange",wh,!0)},Mh=function(){removeEventListener("visibilitychange",wh,!0),removeEventListener("prerenderingchange",wh,!0)},Nh=function(){return Ph<0&&(Ph=Rh(),Oh(),vh((function(){setTimeout((function(){Ph=Rh(),Oh()}),0)}))),{get firstHiddenTime(){return Ph}}},Dh=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Lh=[1800,3e3],Uh=[.1,.25],kh=function(e,t){!function(e,t){t=t||{},function(e,t){t=t||{},Dh((function(){var o,i=Nh(),n=bh("FCP"),r=yh("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(r.disconnect(),e.startTime<i.firstHiddenTime&&(n.value=Math.max(e.startTime-Sh(),0),n.entries.push(e),o(!0)))}))}));r&&(o=Ch(e,n,Lh,t.reportAllChanges),vh((function(i){n=bh("FCP"),o=Ch(e,n,Lh,t.reportAllChanges),Th((function(){n.value=performance.now()-i.timeStamp,o(!0)}))})))}))}(Ih((function(){var o,i=bh("CLS",0),n=0,r=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=r[0],o=r[r.length-1];n&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(n+=e.value,r.push(e)):(n=e.value,r=[e])}})),n>i.value&&(i.value=n,i.entries=r,o())},a=yh("layout-shift",s);a&&(o=Ch(e,i,Uh,t.reportAllChanges),Ah((function(){s(a.takeRecords()),o(!0)})),vh((function(){n=0,i=bh("CLS",0),o=Ch(e,i,Uh,t.reportAllChanges),Th((function(){return o()}))})),setTimeout(o,0))})))}((function(t){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var o=(i=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||i[0];if(o)return void(e.attribution={largestShiftTarget:Eh(o.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:o,largestShiftEntry:t,loadState:gh(t.startTime)})}}var i;e.attribution={}}(t),e(t)}),t)},xh={passive:!0,capture:!0},Fh=new Date,Vh=function(e,t){lh||(lh=t,ch=e,uh=new Date,Wh(removeEventListener),Bh())},Bh=function(){if(ch>=0&&ch<uh-Fh){var e={entryType:"first-input",name:lh.type,target:lh.target,cancelable:lh.cancelable,startTime:lh.timeStamp,processingStart:lh.timeStamp+ch};hh.forEach((function(t){t(e)})),hh=[]}},Gh=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var o=function(){Vh(e,t),n()},i=function(){n()},n=function(){removeEventListener("pointerup",o,xh),removeEventListener("pointercancel",i,xh)};addEventListener("pointerup",o,xh),addEventListener("pointercancel",i,xh)}(t,e):Vh(t,e)}},Wh=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Gh,xh)}))},Hh=[100,300],qh=function(e,t){t=t||{},Dh((function(){var o,i=Nh(),n=bh("FID"),r=function(e){e.startTime<i.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),o(!0))},s=function(e){e.forEach(r)},a=yh("first-input",s);o=Ch(e,n,Hh,t.reportAllChanges),a&&Ah(Ih((function(){s(a.takeRecords()),a.disconnect()}))),a&&vh((function(){var i;n=bh("FID"),o=Ch(e,n,Hh,t.reportAllChanges),hh=[],ch=-1,lh=null,Wh(addEventListener),i=r,hh.push(i),Bh()}))}))},Yh=0,$h=1/0,jh=0,Kh=function(e){e.forEach((function(e){e.interactionId&&($h=Math.min($h,e.interactionId),jh=Math.max(jh,e.interactionId),Yh=jh?(jh-$h)/7+1:0)}))},Qh=function(){return ph?Yh:performance.interactionCount||0},zh=function(){"interactionCount"in performance||ph||(ph=yh("event",Kh,{type:"event",buffered:!0,durationThreshold:0}))},Jh=[200,500],Xh=0,Zh=function(){return Qh()-Xh},ep=[],tp={},op=function(e){var t=ep[ep.length-1],o=tp[e.interactionId];if(o||ep.length<10||e.duration>t.latency){if(o)o.entries.push(e),o.latency=Math.max(o.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};tp[i.id]=i,ep.push(i)}ep.sort((function(e,t){return t.latency-e.latency})),ep.splice(10).forEach((function(e){delete tp[e.id]}))}},ip=function(e,t){!function(e,t){t=t||{},Dh((function(){var o;zh();var i,n=bh("INP"),r=function(e){e.forEach((function(e){e.interactionId&&op(e),"first-input"===e.entryType&&!ep.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&op(e)}));var t,o=(t=Math.min(ep.length-1,Math.floor(Zh()/50)),ep[t]);o&&o.latency!==n.value&&(n.value=o.latency,n.entries=o.entries,i())},s=yh("event",r,{durationThreshold:null!==(o=t.durationThreshold)&&void 0!==o?o:40});i=Ch(e,n,Jh,t.reportAllChanges),s&&("interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Ah((function(){r(s.takeRecords()),n.value<0&&Zh()>0&&(n.value=0,n.entries=[]),i(!0)})),vh((function(){ep=[],Xh=Qh(),n=bh("INP"),i=Ch(e,n,Jh,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:Eh(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:gh(t.startTime)}}else e.attribution={}}(t),e(t)}),t)},np=[2500,4e3],rp={},sp=[800,1800],ap=function e(t){document.prerendering?Dh((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},dp=function(e,t){t=t||{};var o=bh("TTFB"),i=Ch(e,o,sp,t.reportAllChanges);ap((function(){var n=mh();if(n){var r=n.responseStart;if(r<=0||r>performance.now())return;o.value=Math.max(r-Sh(),0),o.entries=[n],i(!0),vh((function(){o=bh("TTFB",0),(i=Ch(e,o,sp,t.reportAllChanges))(!0)}))}}))};const lp="iphone",cp=[{dpi:3,height:926,width:428,version:`${lp} 12 Pro Max`,yearClass:2020},{dpi:3,height:896,width:414,version:`${lp} 11 Pro Max`,yearClass:2019},{dpi:3,height:844,width:390,version:`${lp} 12`,yearClass:2020},{dpi:3,height:812,width:375,version:`${lp} 7`,yearClass:2016},{dpi:3,height:736,width:414,version:`${lp} 8 Plus`,yearClass:2017},{dpi:2,height:896,width:414,version:`${lp} 11`,yearClass:2019},{dpi:2,height:667,width:375,version:`${lp} SE 2nd Gen`,yearClass:2020},{dpi:2,height:568,width:320,version:`${lp} 5S`,yearClass:2013},{dpi:2,height:480,width:320,version:`${lp} 4S`,yearClass:2011}];function up(){const e=function(e){if(!window.screen||!window.devicePixelRatio)return;const{height:t,width:o}=window.screen,i=window.devicePixelRatio;return o&&t&&i?e.find((e=>i===e.dpi&&t===e.height&&o===e.width)):void 0}(cp);if(e)return{deviceName:e.version.toLowerCase().replace(" ","-"),yearClass:e.yearClass}}class hp{constructor(e){this._custom={},this._metrics={},this._isCached=!1,this.remeasureForBFCacheRestore=e=>{const t={metrics:{},meta:{},cache_restore:!0};Object.keys(this._metrics).forEach((e=>{this.isKeyCustomMetric(e)||this._metrics[e]&&(t.metrics[e]=0)})),Object.keys(t.metrics).length&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{const o=performance.now()-e.timeStamp;Object.keys(t.metrics).forEach((e=>{t.metrics[e]=o})),this.notifyAndSendMetrics(t)}))}))},this._callback=e}async connect(){const{isCached:e,unsubscribe:t}=await(e=>{const t=t=>{t.persisted&&e(t)};window.addEventListener("pageshow",t,!0);const o=new Be;return o.resolve({isCached:iu(),unsubscribe:()=>{window.removeEventListener("pageshow",t)}}),o.promise})(this.remeasureForBFCacheRestore);this._unsubscribeFromCacheRestore=t,this._isCached=e,this.gatherThenSendMetrics();Object.keys(this._metrics).some((e=>!this.isKeyCustomMetric(e)&&!this._metrics[e]))&&this.registerPerfObserver()}disconnect(){var e,t;null===(e=this._observer)||void 0===e||e.disconnect(),null===(t=this._unsubscribeFromCacheRestore)||void 0===t||t.call(this)}gatherThenSendMetrics(){const e=this.gatherMetrics();this.notifyAndSendMetrics(e)}notifyAndSendMetrics(e){Object.keys(e.metrics).length&&this._callback(e)}isKeyCustomMetric(e){return Object.prototype.hasOwnProperty.call(this._custom,e)}gatherMetrics(){const e={metrics:{},meta:{}};return this._isCached&&(e.cache_restore=!0),Object.keys(this._metrics).forEach((t=>{var o;if(this._metrics[t])return;if(this.isKeyCustomMetric(t)){const{value:i,meta:n}=null!==(o=this._custom[t])&&void 0!==o?o:{};i>-1&&(e.metrics[t]=i,e.meta[t]=Object.assign({},n),this._metrics[t]=!0)}performance.getEntriesByName(t,"mark").length&&performance.measure(t,"fetchStart",t);const i=performance.getEntriesByName(t,"measure");if(i.length){const{duration:o}=i[0];e.metrics[t]=Math.ceil(o),this._metrics[t]=!0}})),e}registerPerfObserver(){this._observer=new PerformanceObserver((e=>{e.getEntries().some((e=>!!e.name&&!this._metrics[e.name]))&&this.gatherThenSendMetrics()})),this._observer.observe({entryTypes:["mark"]})}registerPerfMetric(e){this._metrics[e]=!1}registerCustomMetric(e){return this._custom[e]={value:-1,meta:{}},this.registerPerfMetric(e),(t,o)=>{this._custom[e]={value:t,meta:o},this.gatherThenSendMetrics()}}getCustomMetricValue(e){return this._custom[e]}}var pp;!function(e){e.CLS="cumulative-layout-shift",e.FID="first-input-delay",e.LCP="largest-contentful-paint",e.TTFB="time-to-first-byte",e.INP="interaction-to-next-paint"}(pp||(pp={}));let mp=class extends e.s{constructor(){super(...arguments),this._perfMetrics=new hp((e=>{var t;const o=null===(t=up())||void 0===t?void 0:t.yearClass,i=Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),o&&{yearClass:o})}),n=v("faceplate-request",{resource:this.endpoint,request:{body:i}});if(this.dispatchEvent(n),n.defaultPrevented)return;const r=JSON.stringify(n.detail.request.body);Vn(this.endpoint,r)})),this.endpoint=""}render(){return e.x` <slot hidden></slot> `}firstUpdated(){if(this.endpoint){if(this._slottedContent)for(const e of this._slottedContent)e instanceof HTMLDataElement&&this.parseDataElement(e);kh(this.onWebVitalMeasured(pp.CLS,(e=>e))),function(e,t){qh((function(t){!function(e){var t=e.entries[0];e.attribution={eventTarget:Eh(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:gh(t.startTime)}}(t),e(t)}),t)}(this.onWebVitalMeasured(pp.FID,Math.ceil)),function(e,t){dp((function(t){!function(e){if(e.entries.length){var t=e.entries[0],o=t.activationStart||0,i=Math.max(t.domainLookupStart-o,0),n=Math.max(t.connectStart-o,0),r=Math.max(t.requestStart-o,0);e.attribution={waitingTime:i,dnsTime:n-i,connectionTime:r-n,requestTime:e.value-r,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(t),e(t)}),t)}(this.onWebVitalMeasured(pp.TTFB,Math.ceil)),this.onLCP(this.onWebVitalMeasured(pp.LCP,Math.ceil)),this.onLCP(this.onWebVitalMeasured("longest-contentful-paint",Math.ceil)),this.onINP(this.onWebVitalMeasured(pp.INP,Math.ceil)),this._perfMetrics.connect()}else console.error("faceplate-perfmetric-collector: no endpoint specified")}onINP(...e){return ip(...e)}onLCP(...e){return function(e,t){!function(e,t){t=t||{},Dh((function(){var o,i=Nh(),n=bh("LCP"),r=function(e){var t=e[e.length-1];t&&t.startTime<i.firstHiddenTime&&(n.value=Math.max(t.startTime-Sh(),0),n.entries=[t],o())},s=yh("largest-contentful-paint",r);if(s){o=Ch(e,n,np,t.reportAllChanges);var a=Ih((function(){rp[n.id]||(r(s.takeRecords()),s.disconnect(),rp[n.id]=!0,o(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(a,0)}),!0)})),Ah(a),vh((function(i){n=bh("LCP"),o=Ch(e,n,np,t.reportAllChanges),Th((function(){n.value=performance.now()-i.timeStamp,rp[n.id]=!0,o(!0)}))}))}}))}((function(t){!function(e){if(e.entries.length){var t=mh();if(t){var o=t.activationStart||0,i=e.entries[e.entries.length-1],n=i.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===i.url}))[0],r=Math.max(0,t.responseStart-o),s=Math.max(r,n?(n.requestStart||n.startTime)-o:0),a=Math.max(s,n?n.responseEnd-o:0),d=Math.max(a,i?i.startTime-o:0),l={element:Eh(i.element),timeToFirstByte:r,resourceLoadDelay:s-r,resourceLoadTime:a-s,elementRenderDelay:d-a,navigationEntry:t,lcpEntry:i};return i.url&&(l.url=i.url),n&&(l.lcpResourceEntry=n),void(e.attribution=l)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(t),e(t)}),t)}(...e)}onWebVitalMeasured(e,t){const o=this._perfMetrics.registerCustomMetric(e);return i=>{var n;-1===i.value||(null===(n=this._perfMetrics.getCustomMetricValue(e))||void 0===n?void 0:n.value)>-1||o(t(i.value),i.attribution)}}disconnectedCallback(){super.disconnectedCallback(),this._perfMetrics.disconnect()}parseDataElement(e){const t=e.value;this._perfMetrics.registerPerfMetric(t)}};t([m()],mp.prototype,"_slottedContent",void 0),t([d({type:String})],mp.prototype,"endpoint",void 0),mp=t([s("faceplate-perfmetric-collector")],mp);let gp=Ul,_p=class extends e.s{constructor(){super(...arguments),this.name="",this.activation=Te.Action,this.queryParams={},this.routeParams={},this.isReactivatable=!1,this.isScoped=!1,this._reactiveControllers=[],this.handleActivate=async e=>{e._featureActivationHandled||this._hasBeenActivated()&&!this.isReactivatable||(e.stopPropagation(),await this._activateFeature(),this.isReactivatable||this._cleanupControllers(),e._featureActivationHandled=!0,e.target?.dispatchEvent(e))}}async _activateFeature(){await gp({name:this.name,renderMode:this.renderMode,queryParams:this.queryParams,routeParams:this.routeParams,root:this.isScoped?this:void 0})}_hasBeenActivated(){return Dl(this.name)}_cleanupControllers(){this._reactiveControllers.forEach((e=>Ne(this,e))),this._reactiveControllers=[]}connectedCallback(){super.connectedCallback(),this.activation===Te.Action?this._reactiveControllers.push(De(this,this,this.handleActivate,{capture:!0})):this.activation===Te.Intent&&(this._reactiveControllers.push(Le(this,this,this.handleActivate,{capture:!0})),this._reactiveControllers.push(De(this,this,this.handleActivate,{capture:!0})))}disconnectedCallback(){super.disconnectedCallback(),this._cleanupControllers()}createRenderRoot(){return this}};t([d({type:String})],_p.prototype,"name",void 0),t([d({type:String,attribute:"activation"})],_p.prototype,"activation",void 0),t([d({type:String,attribute:"render-mode"})],_p.prototype,"renderMode",void 0),t([d({type:Object,attribute:"query-params"})],_p.prototype,"queryParams",void 0),t([d({type:Object,attribute:"route-params"})],_p.prototype,"routeParams",void 0),t([d({type:Boolean,attribute:"reactivatable"})],_p.prototype,"isReactivatable",void 0),t([d({type:Boolean,attribute:"scoped"})],_p.prototype,"isScoped",void 0),_p=t([s("activate-feature")],_p);var Ep;!function(e){e.VIDEO_PLAYER="video-player",e.SUBREDDIT_LINK="subreddit-link",e.COMMENTS_BUTTON="comments-button",e.OVERFLOW_BUTTON="overflow-button",e.VOTE="vote",e.JOIN="join",e.SHARE="share",e.PROMOTE_POST_BUTTON="promote-post-button",e.TEXT_BODY="text-body",e.SUMMARY_DROPDOWN_MENU="summary-dropdown-menu",e.SUMMARY_MENU="summary-menu"}(Ep||(Ep={}));let fp=Ul,vp=Qa;const Sp=e=>{const t=vp();return fp({name:"CommunityJoinActions_qKl0Y8",routeParams:{subredditName:e},queryParams:t?{pageType:t}:void 0,renderMode:Pe.Contents})},bp=cu(re(e.s));var yp,Cp;!function(e){e.Small="small",e.XSmall="x-small",e.Medium="medium"}(yp||(yp={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Plain="plain",e.Bordered="bordered"}(Cp||(Cp={}));let Tp=class extends bp{constructor(){super(...arguments),this.isUserLoggedIn=!1,this.name="",this.prefixedName="",this.subredditId="",this.subscribed=!1,this.subscribeLabel="Join",this.unsubscribeLabel="Joined",this.buttonsize=yp.Small,this.buttonClasses="",this.withTracking=!1,this.trackingSource="",this.trackingAction="click",this.trackingSubscribeNoun="subscribe",this.trackingUnsubscribeNoun="unsubscribe",this.trackingOptions={},this.isDisabled=!1,this.onSubscriptionChange=e=>{this.name===e.name&&(this.subscribed=e.subscribed)}}static get styles(){return M}firstUpdated(){this.subscribe(Rl.SubredditSubscriptionChange,this.onSubscriptionChange)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(Rl.SubredditSubscriptionChange,this.onSubscriptionChange)}async handleClick(e,t){if(e.preventDefault(),this.withTracking){const e=ho({source:this.trackingSource,action:this.trackingAction,noun:this.subscribed?this.trackingUnsubscribeNoun:this.trackingSubscribeNoun,...this.trackingOptions});this.trackEvent(e)}var o;if(this.dispatchEvent((o={subreddit_name:this.name,subreddit_id:this.subredditId},v(Pl,o))),this.isUserLoggedIn){this.isDisabled=!0,t&&Sp(this.name).catch((()=>{}));try{const e=await this.makeSubscriptionRequest(t?Nr.Subscribed:Nr.None);if(e?.data?.updateSubredditSubscriptions?.ok){this.subscribed=t;const e={name:this.name,subscribed:t};this.publish(Rl.SubredditSubscriptionChange,e)}else this.handleSubscriptionChangeError(bc.QueryBadResponse)}catch(e){this.handleSubscriptionChangeError(yc(e))}this.isDisabled=!1}}async makeSubscriptionRequest(e){return Mr({operation:Cr.UpdateSubredditSubscriptions,variables:{input:{inputs:[{subredditId:this.subredditId,subscribeState:e}]}}})}handleSubscriptionChangeError(e){this.dispatchEvent(v("faceplate-alert",{level:Ce.error,message:"Something went wrong",cause:e}))}render(){const{subscribed:t}=this,o=e=>({"button-primary":e?e===Cp.Primary:!this.subscribed,"button-secondary":this.buttonType===Cp.Secondary,"button-plain":e===Cp.Plain,"button-bordered":e?e===Cp.Bordered:this.subscribed,"button-x-small":this.buttonsize===yp.XSmall,"button-small":this.buttonsize===yp.Small,"button-medium":this.buttonsize===yp.Medium,button:!0,"join-btn":!0,"leading-none":!0,[this.buttonClasses]:!0});return t?e.x` <button class="${S(o(this.unsubscribeButtonTypeOverride||this.buttonType))}" @click="${e=>this.handleClick(e,!1)}" data-post-click-location="${Ep.JOIN}" ?disabled="${this.isDisabled}"> ${this.unsubscribeLabel} </button> `:e.x` <button class="${S(o(this.subscribeButtonTypeOverride||this.buttonType))}" @click="${e=>this.handleClick(e,!0)}" data-post-click-location="${Ep.JOIN}" ?disabled="${this.isDisabled}"> ${this.subscribeLabel} </button> `}};t([Nt({context:Ma}),d({attribute:!1})],Tp.prototype,"isUserLoggedIn",void 0),t([d({type:String})],Tp.prototype,"name",void 0),t([d({type:String,attribute:"prefixed-name"})],Tp.prototype,"prefixedName",void 0),t([d({type:String,attribute:"subreddit-id"})],Tp.prototype,"subredditId",void 0),t([d({type:Boolean})],Tp.prototype,"subscribed",void 0),t([d({type:String,attribute:"subscribe-label"})],Tp.prototype,"subscribeLabel",void 0),t([d({type:String,attribute:"unsubscribe-label"})],Tp.prototype,"unsubscribeLabel",void 0),t([d({type:String})],Tp.prototype,"buttonsize",void 0),t([d({type:String,attribute:"button-type"})],Tp.prototype,"buttonType",void 0),t([d({type:String,attribute:"subscribe-button-type-override"})],Tp.prototype,"subscribeButtonTypeOverride",void 0),t([d({type:String,attribute:"unsubscribe-button-type-override"})],Tp.prototype,"unsubscribeButtonTypeOverride",void 0),t([d({type:String,attribute:"button-classes"})],Tp.prototype,"buttonClasses",void 0),t([d({type:Boolean,attribute:"with-tracking"})],Tp.prototype,"withTracking",void 0),t([d({type:String,attribute:"tracking-source"})],Tp.prototype,"trackingSource",void 0),t([d({type:String,attribute:"tracking-action"})],Tp.prototype,"trackingAction",void 0),t([d({type:String,attribute:"tracking-subscribe-noun"})],Tp.prototype,"trackingSubscribeNoun",void 0),t([d({type:String,attribute:"tracking-unsubscribe-noun"})],Tp.prototype,"trackingUnsubscribeNoun",void 0),t([d({type:Object,attribute:!1})],Tp.prototype,"trackingOptions",void 0),t([l()],Tp.prototype,"isDisabled",void 0),Tp=t([s("shreddit-join-button")],Tp);let Ap=class extends e.s{connectedCallback(){super.connectedCallback();const e=this.firstElementChild;if("TEMPLATE"!==e?.nodeName)return;document.createRange().createContextualFragment(e.innerHTML).childNodes.forEach((e=>{if(function(e){return!!e.attributes}(e)){if("SHREDDIT-APP-ATTRS"===e.nodeName){Ip(e,document.querySelector("shreddit-app"))}if("SHREDDIT-FEED-ATTRS"===e.nodeName){Ip(e,this.closest("shreddit-feed"))}if("SHREDDIT-GOOD-VISIT-TRACKER-ATTRS"===e.nodeName){Ip(e,document.querySelector("shreddit-good-visit-tracker"))}}}))}render(){return e.x`<slot></slot>`}};function Ip(e,t){for(let o=0;o<e.attributes.length;o++){const i=e.attributes[o];t?.setAttribute(i.name,i.value)}}var Pp;Ap=t([s("shreddit-page-meta")],Ap),function(e){e[e.hidden=0]="hidden",e[e.animating=1]="animating",e[e.stalled=2]="stalled",e[e.hiding=3]="hiding"}(Pp||(Pp={}));let Rp=class extends e.s{constructor(){super(...arguments),this.state=Pp.hidden,this.currentStartTime=null}render(){const t="bar bg-global-orangered transition-transform";switch(this.state){case Pp.animating:return e.x`<div class="${t} animating-in" @animationend="${()=>{this.state=Pp.stalled}}"></div>`;case Pp.hiding:return e.x`<div class="${t} hiding" @animationend="${()=>{this.state=Pp.hidden}}"></div>`;case Pp.stalled:return e.x`<div class="${t} stalled"></div>`;case Pp.hidden:default:return e.A}}show(){this.currentStartTime=Date.now(),this.state=Pp.animating}hide(){null===this.currentStartTime||Date.now()-this.currentStartTime<150||this.state===Pp.hidden?this.state=Pp.hidden:this.state=Pp.hiding}};var wp;Rp.styles=[e.a`.bar{height:2px}.animating-in{transform:scaleX(0);transform-origin:0 50%;animation-duration:15s;animation-iteration-count:1;animation-name:expand;animation-timing-function:cubic-bezier(.21,.62,.15,.99);animation-delay:150ms}.hiding{animation-duration:250ms;animation-iteration-count:1;animation-name:hide;animation-timing-function:ease-out;transform:scaleX(100%)}.stalled{transform:scaleX(99%)}@keyframes expand{from{transform:scaleX(0)}to{transform:scaleX(99%)}}@keyframes hide{from{transform:translateY(0)}to{transform:translateY(-100%)}}`,M],t([l()],Rp.prototype,"state",void 0),Rp=t([s("navigation-indicator")],Rp),function(e){e.ACTION="Action",e.NAVIGATION="Navigation",e.MEDIA="Media"}(wp||(wp={}));const Op={[wp.ACTION]:()=>"Action",[wp.NAVIGATION]:()=>"Navigation",[wp.MEDIA]:()=>"Media"};var Mp;!function(e){e.AUTO="auto",e.METADATA="metadata",e.NONE="none"}(Mp||(Mp={}));const Np="ad-media",Dp=`${Np}-fullscreenchange`,Lp=`${Np}-pause`,Up=`${Np}-play`,kp=`${Np}-timeupdate`,xp=`${Np}-volumechange`,Fp=`${Np}-seeking`,Vp=`${Np}-seeked`;var Bp;!function(e){e.TOGGLE_PLAY="TOGGLE_PLAY",e.TOGGLE_FULLSCREEN="TOGGLE_FULLSCREEN",e.REWIND_5="REWIND_5",e.FAST_FORWARD_5="FAST_FORWARD",e.INCREASE_VOLUME="INCREASE_VOLUME",e.DECREASE_VOLUME="DECREASE_VOLUME",e.REWIND_10="REWIND_10",e.FAST_FORWARD_10="FAST_FORWARD_10",e.RESTART="RESTART",e.TOGGLE_MUTE="TOGGLE_MUTE",e.TOGGLE_CAPTIONS="TOGGLE_CAPTIONS"}(Bp||(Bp={}));const Gp={[Bp.TOGGLE_PLAY]:{label:()=>"Play/Pause",keys:[" ","k"],type:wp.MEDIA},[Bp.TOGGLE_FULLSCREEN]:{label:()=>"Toggle fullscreen mode",keys:["f"],type:wp.MEDIA},[Bp.REWIND_5]:{label:()=>"Rewind 5 seconds",keys:["ArrowLeft"],type:wp.MEDIA},[Bp.FAST_FORWARD_5]:{label:()=>"Fast-forward 5 seconds",keys:["ArrowRight"],type:wp.MEDIA},[Bp.INCREASE_VOLUME]:{label:()=>"Increase volume",keys:["ArrowUp"],type:wp.MEDIA},[Bp.DECREASE_VOLUME]:{label:()=>"Decrease volume",keys:["ArrowDown"],type:wp.MEDIA},[Bp.REWIND_10]:{label:()=>"Rewind 10 seconds",keys:["j"],type:wp.MEDIA},[Bp.FAST_FORWARD_10]:{label:()=>"Fast-forward 10 seconds",keys:["l"],type:wp.MEDIA},[Bp.RESTART]:{label:()=>"Restart",keys:["0"],type:wp.MEDIA},[Bp.TOGGLE_MUTE]:{label:()=>"Mute/Unmute",keys:["m"],type:wp.MEDIA},[Bp.TOGGLE_CAPTIONS]:{label:()=>"Captions",keys:["c"],type:wp.MEDIA}};var Wp;!function(e){e.SHOW_SHORTCUTS="show_shortcuts",e.NEXT_POST_COMMENT="next_post_comment",e.PREVIOUS_POST_COMMENT="previous_post_comment",e.TOGGLE_EXPANDO="toggle_expando",e.COPY_POST_OR_COMMENT_LINK="copy_post_or_comment_link",e.UPVOTE="upvote",e.DOWNVOTE="downvote",e.CREATE_POST="create_post",e.REPLY_TO_COMMENT="reply_to_comment",e.TOGGLE_SAVE="toggle_save",e.HIDE_POST="hide",e.OPEN_NAVIGATION="open_navigation",e.TOGGLE_COLLAPSE_COMMENT="toggle_collapse_comment",e.SUBMIT="submit"}(Wp||(Wp={}));const Hp={[Wp.SHOW_SHORTCUTS]:{label:()=>"Show shortcuts",keys:[{key:"?",shift:!0}],type:wp.NAVIGATION},[Wp.NEXT_POST_COMMENT]:{label:()=>"Next post or comment",keys:["j"],type:wp.NAVIGATION},[Wp.PREVIOUS_POST_COMMENT]:{label:()=>"Previous post or comment",keys:["k"],type:wp.NAVIGATION},[Wp.TOGGLE_EXPANDO]:{label:()=>"Expand/Collapse content",keys:["x"],type:wp.NAVIGATION},[Wp.COPY_POST_OR_COMMENT_LINK]:{label:()=>"Copy post or comment link",keys:["l"],type:wp.NAVIGATION},[Wp.UPVOTE]:{label:()=>"Upvote",keys:["a"],type:wp.ACTION},[Wp.DOWNVOTE]:{label:()=>"Downvote",keys:["z"],type:wp.ACTION},[Wp.REPLY_TO_COMMENT]:{label:()=>"Reply to comment",keys:["r"],type:wp.ACTION},[Wp.TOGGLE_SAVE]:{label:()=>"Save/Unsave",keys:["s"],type:wp.ACTION},[Wp.HIDE_POST]:{label:()=>"Hide post",keys:["h"],type:wp.ACTION},[Wp.OPEN_NAVIGATION]:{label:()=>"Open/Close navigation",keys:["q"],type:wp.ACTION},[Wp.TOGGLE_COLLAPSE_COMMENT]:{label:()=>"Collapse/Expand comment",keys:["f"],type:wp.ACTION},[Wp.CREATE_POST]:{label:()=>"Create post",keys:["c"],type:wp.ACTION},[Wp.SUBMIT]:{label:()=>"Submit comment/post",keys:[{key:"enter",meta:!0,allowFromInput:!0}],type:wp.ACTION}},qp={...Gp,...Hp},Yp={ids:new Set,keys:{}},$p=new Set,jp=new Set,Kp=new Set;class Qp{constructor(e){this.callbacks=new WeakMap,this.addCallbackGuard=(e,t)=>({id:o})=>{e===o&&Yp.ids.has(o)&&t()},this.host=e,this.host.addController(this)}hostConnected(){this.pubsub=new ee(this.host),window._pubsubControllerInstances.has(this.pubsub)||this.pubsub.hostConnected()}unsubscribe(e,t){const o=this.callbacks.get(t);o&&(this.pubsub?.unsubscribe(Rl.Hotkeys,o),this.callbacks.delete(t),Kp.delete(e))}subscribe(e,t){Kp.add(e),this.callbacks.set(t,this.addCallbackGuard(e,t));const o=this.callbacks.get(t);o&&this.pubsub?.subscribe(Rl.Hotkeys,o,!1)}contextualSubscribe(e,t,o=this.host){$p.add(o),jp.add(e),this.pubsub?.subscribe(Rl.Hotkeys,(({id:o})=>{e===o&&Yp.ids.has(o)&&t()}),!1)}}const zp=function(){const e=new WeakMap,t=new MutationObserver((t=>{for(const o of t){for(const t of o.addedNodes)for(const o of Pm(t))for(const t of e.get(o)||Im)t?.added();for(const t of o.removedNodes)for(const o of Pm(t))for(const t of e.get(o)||Im)t?.removed()}}));return async function(){return new Promise((e=>{"loading"===document.readyState?document.addEventListener("readystatechange",(()=>{e(!0)}),{once:!0}):e(!0)}))}().then((()=>{t.observe(document.body,{childList:!0,subtree:!0})})),{add(t,o){e.has(t)||e.set(t,[]),e.get(t).push(o)},remove(t,o){const i=e.get(t)||Im;e.set(t,i.filter((e=>e!==o)))}}}(),Jp=new ee({addController(){}});Jp.hostConnected();const Xp=new Qp({addController(){}});Xp.hostConnected();const Zp="$result",em=/\((.+)\)$/,tm="actioned",om=`[${tm}]`;const im={"ac-track":{mapAttributes:e=>({san:e.getAttribute("san"),dataset:e.dataset}),action:async(e,t,o)=>{const i=function(e,t){let o={};t?.startsWith("{")&&(o=JSON.parse(t));const i=e||t;if(!i)throw new Error("Invalid SAN");if(i.startsWith("{")){const e=JSON.parse(i);return ho(e,o)}{const[e,t,n]=i.split(/(?:\/|\||__)/g);if(e&&t&&n)return ho({source:e,action:t,noun:n},o)}throw new Error("Invalid SAN")}(Am(e,t,"san"),t.dataset.faceplateTrackingContext);ft(o,i)}},"ac-activate":{mapAttributes:e=>({name:e.getAttribute("name"),args:e.getAttribute("args"),renderMode:e.getAttribute("render-mode")??void 0,queryParams:e.getAttribute("query-params"),routeParams:e.getAttribute("route-params"),scoped:vm(e,"scoped")}),action:async(e,t,o)=>{const i=Am(e,t,"name"),n=JSON.parse(Am(e,t,"args")??"{}"),r=JSON.parse(Am(e,t,"queryParams")??"null"),s=JSON.parse(Am(e,t,"routeParams")??"null");await Ul({...n,renderMode:t.renderMode??n.renderMode,queryParams:r??n.queryParams,routeParams:s??n.routeParams,root:t.scoped?o:void 0,name:i??n.name})}},"ac-publish":{mapAttributes:e=>({topic:e.getAttribute("topic"),payload:e.getAttribute("payload")}),action:(e,t)=>{let o=Am(e,t,"payload");try{o=JSON.parse(o||"undefined")}catch{}te(t.topic,o)}},"ac-contents":{mapAttributes:e=>({value:e.getAttribute("value")}),action:(e,t,o)=>{o.textContent=Am(e,t,"value")}},"ac-toggle":{mapAttributes:e=>({targetClass:e.getAttribute("target-class"),force:e.getAttribute("force")}),action:(e,t,o)=>{const i=Am(e,t,"targetClass");if(i)return"add"===t.force?o.classList.add(i):"remove"===t.force?o.classList.remove(i):void o.classList.toggle(i)}},"ac-toggle-attribute":{mapAttributes:e=>({targetAttribute:e.getAttribute("target-attribute")}),action:(e,t,o)=>{const i=Am(e,t,"targetAttribute");i&&o.toggleAttribute(i)}},"ac-render-template":{mapAttributes:e=>{const t=e.getAttribute("template");if(t)return{template:bm(e,t)};{const t=e.querySelector("template");return t?.remove(),{template:()=>t}}},action:(e,t,o)=>{const i=t.template?.();if(!i)throw new Error("template not found");if(!("content"in i))throw new Error("target not a <template> element");o.append(i.content.cloneNode(!0))}},"ac-call":{mapAttributes:e=>({method:e.getAttribute("method")}),action:async(e,t,o)=>{let i="event"===e.triggerType?Am(e,t,"method"):t.method;if(!i)throw new Error("<ac-call> method not found");let n=i.match(em)?.[1];try{null!=n&&(n=JSON.parse(n))}catch{}i=i.split("(")[0],Rm(o)&&await wm(o),"location.reload"===i?Om.reload():"location.replace"===i&&null!=n&&n!==Om.href?Om.replace(n):"location.assign"===i&&null!=n&&n!==Om.pathname?Om.assign(n):"function"==typeof o[i]&&(null!=n?o[i](n):e.result?o[i](e.result):o[i]())}},"ac-set":{mapAttributes:e=>({value:e.getAttribute("value"),attribute:e.getAttribute("attribute"),property:e.getAttribute("property")}),action:async(e,t,o)=>{const i=Am(e,t,"value");if(!i)throw new Error("<ac-set>: invalid value");const n=Am(e,t,"attribute"),r=Am(e,t,"property");if(n)o.setAttribute(n,i);else{if(!r)throw new Error("<ac-set>: invalid attribute or property name");Rm(o)&&await wm(o),o[r]=i}}},"ac-dispatch":{mapAttributes:e=>({eventName:e.getAttribute("event-name"),detail:e.getAttribute("detail")}),action:(e,t,o)=>{const i=JSON.parse(Am(e,t,"detail")??"{}"),n=v(t.eventName,i);o.dispatchEvent(n)}},"ac-gql-mutate":{mapAttributes:e=>({operation:e.getAttribute("operation"),variables:JSON.parse(e.getAttribute("variables")??"{}"),id:e.getAttribute("id")??""}),action:async(e,t,o)=>{try{const e=await Mr({operation:t.operation,variables:t.variables}),[i]=Object.values(e.data);if(!i?.ok||i?.errors&&i.errors.length>0)throw new Error(`GraphQL error: ${i?.errors}`);const n=v("ac-load",{operation:t.operation,id:t.id});o.dispatchEvent(n)}catch(e){const i=v("ac-error",{error:e,operation:t.operation,id:t.id});o.dispatchEvent(i)}}},"ac-set-cookie":{mapAttributes:e=>({name:e.getAttribute("name"),value:e.getAttribute("value"),country:e.getAttribute("country"),options:e.getAttribute("options")}),action:(e,t)=>{const o=Am(e,t,"name");if(!o)throw new Error('<ac-set-cookie>: invalid "name" attribute');const i=Am(e,t,"value")??"",n=Am(e,t,"country")??document.querySelector("shreddit-app")?.getAttribute("country");if(!n)throw new Error('<ac-set-cookie>: invalid "country" attribute');const r=JSON.parse(Am(e,t,"options")??"null")??void 0;Mm({name:o,value:i,country:n,options:r})}},"ac-manipulate-href":{mapAttributes:e=>({payload:e.getAttribute("payload")}),action:(e,t,o)=>{const i=o.getAttribute("href");if(!i)return;const n=Am(e,t,"payload");if(!n)throw new Error('<ac-manipulate-href>: invalid "payload" attribute');let r;if(n.startsWith("{")){const e=JSON.parse(n);r={...e,searchParams:new URLSearchParams(e.searchParams)}}else r=new URL(n,i);const{hash:s,hostname:a,pathname:d,port:l,protocol:c,searchParams:u}=r,h=new URL(i,Om.href);h.hash=s??h.hash,h.hostname=a??h.hostname,h.pathname=d??h.pathname,h.port=l??h.port,h.protocol=c??h.protocol;for(const[e,t]of u.entries())if("$referrer"===e){const e=new URL(document.querySelector("shreddit-app")?.getAttribute("referrer")||document.referrer||CLIENT_CONFIG.ORIGIN);h.searchParams.set("referrer_domain",e.hostname),h.searchParams.set("referrer_url",e.pathname)}else h.searchParams.set(e,t);o.setAttribute("href",h.toString())}},"ac-set-local-storage":{mapAttributes:e=>({name:e.getAttribute("name"),value:e.getAttribute("value"),byUser:vm(e,"by-user")}),action:(e,t)=>{const o=Am(e,t,"name");if(!o)throw new Error('<ac-set-local-storage>: invalid "name" attribute');const i=t.byUser?`${Ho(Ut.get("loid")).id}-${o}`:o,n=Am(e,t,"value")??"";localStorage.setItem(i,n)}}};class nm extends HTMLElement{constructor(){super(...arguments),this._applied=!1}connectedCallback(){if(this._applied)return;const e=bm(this,this.getAttribute("trigger-elem"))();if(!e)return;const{mapAttributes:t,action:o}=im[this.actionName],i=function(e,t){let o=e.getAttribute("trigger")??"click",i=o.match(em)?.[1];const n=i?.match(em)?.[1];let r;if(n){i=i?.slice(0,i.indexOf(n)-1);try{r=JSON.parse(n)}catch{}}o.startsWith("subscribe")&&(o="subscribe");o.startsWith("view")&&(o="view");o.startsWith("event")&&(o="event");o.startsWith("activate")&&(o="activate");o.startsWith("visibilitychange")&&(o="visibilitychange");o.startsWith("scroll")&&(o="scroll");o.startsWith("leave")&&(i=o.match(/^leave\((.+)\)$/)?.[1],o="leave");o.startsWith("hotkeys")&&(o="hotkeys");const s=Sm(e,"delay"),a=Sm(e,"debounce"),d=Sm(e,"throttle"),l=vm(e,"once");return{triggerElement:t,target:bm(e,e.getAttribute("target")),triggerType:o,triggerArg:i,triggerFilter:r,readCache:vm(e,"read-cache"),once:l,delay:s,debounce:a,throttle:d,_triggered:!1,_applied:!1,result:void 0}}(this,e);!function(e,t,o){if(e._applied)return;const i=e.triggerElement;if(!i)return;let n;function r(){!function(e,t,o){const i=o.target();if(o.once&&o._triggered||!i)return;if("number"==typeof o.debounce)return clearTimeout(o._triggerTimer),void(o._triggerTimer=setTimeout((()=>{e(o,t,i),o._triggered=!0}),o.debounce));if("number"==typeof o.throttle){const n=Date.now();return void((!o._lastThrottleTime||n-o._lastThrottleTime>=o.throttle)&&(o._lastThrottleTime=n,e(o,t,i),o._triggered=!0))}"number"==typeof o.delay?(clearTimeout(o._triggerTimer),o._triggerTimer=setTimeout((()=>{e(o,t,i)}),o.delay)):e(o,t,i);o._triggered=!0}(o,t,e),e.once&&n&&(n.removed(),zp.remove(i,n))}switch(e.triggerType){case"click":case"event":n=function(e,t){const{triggerElement:o}=t,i=t.triggerArg||"click",n="click"===i,r={added:()=>{o.addEventListener(i,s),n&&o.addEventListener("keydown",a)},removed:()=>{o.removeEventListener(i,s),n&&o.removeEventListener("keydown",a)}},s=o=>{o instanceof CustomEvent&&!ym(t,o.detail)||(t.result=o,e())},a=t=>{"Enter"!==t.code&&"Space"!==t.code||e()};return r}(r,e);break;case"init":requestAnimationFrame(r);break;case"activate":e.triggerArg=`activate-${e.triggerArg}`;case"subscribe":n=function(e,t){const o=t.triggerArg;if(!o)throw new Error("Invalid pubsub topic");const i={added:()=>Jp.subscribe(o,n,t.readCache),removed:()=>Jp.unsubscribe(o,n)},n=o=>{ym(t,o)&&(t.result=o,e())};return i}(r,e);break;case"hotkeys":n=function(e,t){if(!t)throw new Error("Invalid hotkeys event name");return{added:()=>Xp.subscribe(t,e),removed:()=>Xp.unsubscribe(t,e)}}(r,e.triggerArg);break;case"view":n=function(e,t){const{triggerElement:o}=t,i=new Se({rootMargin:t.triggerArg??void 0}),n={added:()=>{o.addEventListener("faceplate-enter",e),o.addEventListener("faceplate-leave",r),i.observe(o)},removed:()=>{o.removeEventListener("faceplate-enter",e),o.removeEventListener("faceplate-leave",r),i.unobserve(o)}},r=()=>clearTimeout(t._triggerTimer);return n}(r,e);break;case"visibilitychange":n=function(e,t){const{triggerElement:o}=t,i="hidden"===t.triggerArg,n={added:()=>{o.addEventListener("visibilitychange",r)},removed:()=>{o.removeEventListener("visibilitychange",r)}},r=()=>{Cm.hidden===i&&e()};return n}(r,e);break;case"scroll":n=function(e,t){const{triggerElement:o}=t;let i=Number.parseInt(t.triggerArg??"");isNaN(i)&&(i=1);const n={x:0,y:0},r={x:0,y:0};function s(t,o){(Math.abs(t)>=i||Math.abs(o)>=i)&&e()}const a={added:()=>{o.addEventListener("wheel",d),o.addEventListener("touchstart",l),o.addEventListener("touchmove",c)},removed:()=>{o.removeEventListener("wheel",d),o.removeEventListener("touchstart",l),o.removeEventListener("touchmove",c)}},d=e=>{r.x+=e.deltaX??0,r.y+=e.deltaY??0,s(r.x,r.y)},l=e=>{const t=e.touches[0]??e.changedTouches[0]??e.targetTouches[0];n.x=t.clientX,n.y=t.clientY},c=e=>{const t=e.touches[0]??e.changedTouches[0]??e.targetTouches[0];s(t.clientX-n.x,t.clientY-n.y)};return a}(r,e);break;case"leave":n=function(e,t){const{triggerElement:o}=t,i=t.triggerArg??"",n=i.match(/(top|bottom|left|right)/),r=n?n[1]:null;let s=r?Number.parseInt(i.match(/\((\d+)px\)/)?.[1]??""):Number.parseInt(i.match(/(\d+)px/)?.[1]??"");isNaN(s)&&(s=0);const a=new IntersectionObserver((t=>{const o=t[0];o.isIntersecting||null!==r&&r!==function(e){if(e.boundingClientRect.bottom<=(e.rootBounds?.top??0))return"top";if(e.boundingClientRect.top>=(e.rootBounds?.bottom??0))return"bottom";if(e.boundingClientRect.right<=(e.rootBounds?.left??0))return"left";if(e.boundingClientRect.left>=(e.rootBounds?.right??0))return"right";return"unknown"}(o)||e()}),{rootMargin:`${s}px`});return{added:()=>{a.observe(o)},removed:()=>{a.disconnect()}}}(r,e);break;default:throw new Error(`${e.triggerType} unimplemented`)}n&&(n.added(),zp.add(i,n));e._applied=!0,i.setAttribute?.(tm,"")}(i,t(this),o),this.remove()}}let rm=class extends nm{constructor(){super(...arguments),this.actionName="ac-track"}};rm=t([s("ac-track")],rm);let sm=class extends nm{constructor(){super(...arguments),this.actionName="ac-activate"}};sm=t([s("ac-activate")],sm);let am=class extends nm{constructor(){super(...arguments),this.actionName="ac-publish"}};am=t([s("ac-publish")],am);let dm=class extends nm{constructor(){super(...arguments),this.actionName="ac-contents"}};dm=t([s("ac-contents")],dm);let lm=class extends nm{constructor(){super(...arguments),this.actionName="ac-toggle"}};lm=t([s("ac-toggle")],lm);let cm=class extends nm{constructor(){super(...arguments),this.actionName="ac-toggle-attribute"}};cm=t([s("ac-toggle-attribute")],cm);let um=class extends nm{constructor(){super(...arguments),this.actionName="ac-render-template"}};um=t([s("ac-render-template")],um);let hm=class extends nm{constructor(){super(...arguments),this.actionName="ac-call"}};hm=t([s("ac-call")],hm);let pm=class extends nm{constructor(){super(...arguments),this.actionName="ac-set"}};pm=t([s("ac-set")],pm);let mm=class extends nm{constructor(){super(...arguments),this.actionName="ac-dispatch"}};mm=t([s("ac-dispatch")],mm);let gm=class extends nm{constructor(){super(...arguments),this.actionName="ac-gql-mutate"}};gm=t([s("ac-gql-mutate")],gm);let _m=class extends nm{constructor(){super(...arguments),this.actionName="ac-set-cookie"}};_m=t([s("ac-set-cookie")],_m);let Em=class extends nm{constructor(){super(...arguments),this.actionName="ac-manipulate-href"}};Em=t([s("ac-manipulate-href")],Em);let fm=class extends nm{constructor(){super(...arguments),this.actionName="ac-set-local-storage"}};function vm(e,t){return e.hasAttribute(t)&&"false"!==e.getAttribute(t)}function Sm(e,t){const o=e.getAttribute(t);if(o){const e=Number.parseInt(o);if(!isNaN(e))return e}}function bm(e,t){const{parentElement:o}=e;if(!t||"parent"===t)return()=>o;if("previous"===t||"prev"===t){const t=function(e){let t=e;for(;t=t.previousElementSibling;)if(!t.nodeName.startsWith("AC-"))return t;return e.parentElement}(e);return()=>t}if("window"===t)return()=>window;if("document"===t)return()=>window.document;if(t.startsWith("closest")){const e=t.match(em)?.[1];if(e)return()=>o?.matches(e)?o:se(o,e)}return()=>document.querySelector(t)}function ym(e,t){return!e.triggerFilter||Object.keys(e.triggerFilter).every((o=>t[o]===e.triggerFilter?.[o]))}fm=t([s("ac-set-local-storage")],fm);let Cm=document;const Tm=/\$\{(result[^}]+)\}/g;function Am(e,t,o){const i=t[o];if(i===Zp)return e.result;if(i?.includes(Zp))return i.replaceAll(Zp,e.result);if(i?.match(Tm)){const t=(t,o)=>function(e,t){const o=e.split(".").slice(1);for(const e of o)t=t[e];return t}(o,e.result);return i.replace(Tm,t)}return i}const Im=[];function Pm(e){return function(e){return!!e.querySelectorAll}(e)?[...e.matches(om)?[e]:Im,...e.querySelectorAll(om)]:Im}function Rm(e){if(e===window||e===document)return!1;const t=e.nodeName;return t.includes("-")&&!window.customElements.get(t.toLowerCase())}async function wm(e){await window.customElements.whenDefined(e.nodeName.toLowerCase())}let Om=window.location,Mm=vn;var Nm;!function(e){e.Normal="normal",e.Slow="slow"}(Nm||(Nm={}));const Dm=Nm.Slow,Lm="experience-tier";let Um=!1,km=Dm;const xm=new Be;class Fm extends je{constructor(){super(...arguments),this.src="",this.loading=Te.Lazy}static configureLoader(e){xm.resolve(e)}createRenderRoot(){return this}}t([d({type:String})],Fm.prototype,"src",void 0),t([d({type:String})],Fm.prototype,"loading",void 0),$e(Fm,xm.promise),window.customElements.define("faceplate-loader",Fm);const Vm=(e,t)=>{const o=e;if(!t)return void(o.loadingPromises=[Promise.resolve()]);let i=o.getRootNode();i instanceof Document&&(i=i.body);const n=t.split(",").map((e=>e.trim())).filter(Boolean);o.loadingPromises=n.map((e=>new Promise(((t,o)=>{if(e.endsWith(".js")||e.endsWith(".ts")){const n=document.createElement("script");i.appendChild(n),n.type="module",n.async=!0,n.src=e,n.onload=()=>t(),n.onerror=()=>o()}else{if(!e.endsWith(".css")&&!e.endsWith(".less"))throw new Error("Only JS and CSS files can be loaded with faceplate-loader");{const n=document.createElement("link");i.appendChild(n),n.rel="stylesheet",n.href=e,n.onload=()=>t(),n.onerror=()=>o()}}}))))},Bm=async e=>{const t=e;await Promise.allSettled(t.loadingPromises);const o=t.nextElementSibling;if(!o||"TEMPLATE"!==o.tagName||o.getAttribute("name")!==t.getAttribute("name"))return;const i=o.content.cloneNode(!0);t.after(i)};var Gm,Wm;return!!document.querySelector("reddit-debug-panel")&&(le(),window.getUnusedElements=ue),Me.addLoaders({faceplate_hovercard:()=>SML.di("./faceplate-hovercard-98735488.js",import.meta.url,"faceplatehovercard98735488").then((function(e){return e.f})),shreddit_player_2_loader:()=>SML.di("./shreddit-player-2-58778bf6.js",import.meta.url,"shredditplayer258778bf6"),devvit_context_actions:()=>SML.di("./devvit-context-actions-a22bb49b.js",import.meta.url,"devvitcontextactionsa22bb49b"),debug:()=>SML.di("./debug-3727ab55.js",import.meta.url,"debug3727ab55"),reddit_cookie_banner:()=>SML.di("./reddit-cookie-banner-b3dfed77.js",import.meta.url,"redditcookiebannerb3dfed77"),data_protection_consent:()=>SML.di("./data-protection-consent-24bc2a42.js",import.meta.url,"dataprotectionconsent24bc2a42"),shreddit_post_overflow_menu:()=>Promise.all([SML.di("./shreddit-post-overflow-menu-f5bd2221.js",import.meta.url,"shredditpostoverflowmenuf5bd2221"),SML.di("./recommendation-context-overflow-menu-535f84e1.js",import.meta.url,"recommendationcontextoverflowmenu535f84e1"),SML.di("./unpacking-overflow-menu-14931f83.js",import.meta.url,"unpackingoverflowmenu14931f83")]),shreddit_post_poll:()=>SML.di("./shreddit-post-poll-67052d08.js",import.meta.url,"shredditpostpoll67052d08"),shreddit_sort_dropdown:()=>SML.di("./reddit-pro-related-keywords-client-js-a319dd8d.js",import.meta.url,"redditprorelatedkeywordsclientjsa319dd8d").then((function(e){return e.i})),embed:()=>SML.di("./shreddit-embed-55b5ab06.js",import.meta.url,"shredditembed55b5ab06"),faceplate_expandable_section:()=>Promise.all([SML.di("./faceplate-expandable-section-helper-4260ec3a.js",import.meta.url,"faceplateexpandablesectionhelper4260ec3a"),SML.di("./faceplate-auto-height-animator-fe421cec.js",import.meta.url,"faceplateautoheightanimatorfe421cec")]),ads_rbl_survey:()=>SML.di("./ads-rbl-survey-client-js-10c1c0d7.js",import.meta.url,"adsrblsurveyclientjs10c1c0d7").then((function(e){return e.i})),recap_blocking_modal:()=>SML.di("./xpromo-recap-blocking-modal-79eb7d83.js",import.meta.url,"xpromorecapblockingmodal79eb7d83"),gallery_carousel:()=>Promise.all([SML.di("./gallery-carousel-e270b394.js",import.meta.url,"gallerycarousele270b394"),SML.di("./gallery-caption-27b0783d.js",import.meta.url,"gallerycaption27b0783d")]),faceplate_iframe:()=>SML.di("./faceplate-iframe-12ae8526.js",import.meta.url,"faceplateiframe12ae8526"),comment_body_header:()=>SML.di("./comment-body-header-83104bb3.js",import.meta.url,"commentbodyheader83104bb3"),translation_feedback:()=>SML.di("./translation-feedback-c64696ef.js",import.meta.url,"translationfeedbackc64696ef"),translation_row:()=>SML.di("./translation-row-a57dbe36.js",import.meta.url,"translationrowa57dbe36"),sidebar_ad:()=>SML.di("./sidebar-ad-client-js-6cd068f2.js",import.meta.url,"sidebaradclientjs6cd068f2").then((function(e){return e.i})),hui_left_nav_see_more:()=>SML.di("./hui-left-nav-see-more-32eeb9b5.js",import.meta.url,"huileftnavseemore32eeb9b5"),feed_announcement:()=>SML.di("./feed-announcement-client-js-34c09151.js",import.meta.url,"feedannouncementclientjs34c09151").then((function(e){return e.i})),recent_posts_tracker:()=>SML.di("./recent-posts-tracker-479c93f5.js",import.meta.url,"recentpoststracker479c93f5"),reddit_header_action_items:()=>SML.di("./reddit-header-action-items-53b123e2.js",import.meta.url,"redditheaderactionitems53b123e2"),faceplate_tooltip:()=>SML.di("./faceplate-tooltip-f30979fb.js",import.meta.url,"faceplatetooltipf30979fb"),comment_composer:()=>Promise.all([SML.di("./comment-composer-host-d92258c6.js",import.meta.url,"commentcomposerhostd92258c6"),SML.di("./shreddit-composer-39aa399e.js",import.meta.url,"shredditcomposer39aa399e")]),distinguished_post_tags:()=>SML.di("./shreddit-distinguished-post-tags-58f3e1f9.js",import.meta.url,"shredditdistinguishedposttags58f3e1f9"),status_icons:()=>SML.di("./shreddit-status-icons-6745c9b7.js",import.meta.url,"shredditstatusicons6745c9b7"),shreddit_overflow_bottom_sheet:()=>SML.di("./shreddit-overflow-bottom-sheet-caa5b32c.js",import.meta.url,"shredditoverflowbottomsheetcaa5b32c"),user_blocking:()=>Promise.all([SML.di("./index-eb1de04e.js",import.meta.url,"indexeb1de04e").then((function(e){return e.i})),SML.di("./user-block-wrapper-b1ec9e7a.js",import.meta.url,"userblockwrapperb1ec9e7a")]),navigation_links:()=>SML.di("./reddit-skip-to-sidebar-8ab0ab9c.js",import.meta.url,"redditskiptosidebar8ab0ab9c"),simple_comment_composer:()=>Promise.all([SML.di("./comment-composer-host-d92258c6.js",import.meta.url,"commentcomposerhostd92258c6"),SML.di("./shreddit-simple-composer-1d4eab72.js",import.meta.url,"shredditsimplecomposer1d4eab72")]),edit_post:()=>SML.di("./edit-post-client-js-f9ad380b.js",import.meta.url,"editpostclientjsf9ad380b"),pdp_rules_handler:()=>SML.di("./shreddit-pdp-rules-handler-0dcbd907.js",import.meta.url,"shredditpdpruleshandler0dcbd907"),user_mod_actions:()=>SML.di("./user-mod-actions-8edc4734.js",import.meta.url,"usermodactions8edc4734"),mod_ban_modal_form:()=>Promise.all([SML.di("./mod-ban-modal-form-86a1d0c3.js",import.meta.url,"modbanmodalform86a1d0c3"),SML.di("./mod-ban-modal-rpl-form-bfd35b2e.js",import.meta.url,"modbanmodalrplformbfd35b2e")]),mod_mute_modal_form:()=>SML.di("./mod-mute-modal-client-js-ab166c8f.js",import.meta.url,"modmutemodalclientjsab166c8f").then((function(e){return e.i})),onboarding_flow:()=>SML.di("./onboarding-flow-f1973f06.js",import.meta.url,"onboardingflowf1973f06"),ob_gender_selection:()=>SML.di("./ob-gender-selection-c1d0e479.js",import.meta.url,"obgenderselectionc1d0e479"),ob_interest_picker:()=>SML.di("./ob-interest-picker-4550b6de.js",import.meta.url,"obinterestpicker4550b6de"),user_details_reporting:()=>SML.di("./user-details-reporting-8edf6410.js",import.meta.url,"userdetailsreporting8edf6410"),screen_reader_alerts:()=>SML.di("./screen-reader-alert-outlet-a9e83207.js",import.meta.url,"screenreaderalertoutleta9e83207"),reputation_recaptcha:()=>SML.di("./reputation-recaptcha-e17a16c3.js",import.meta.url,"reputationrecaptchae17a16c3"),mod_log_note:()=>SML.di("./mod-notes-log-b07b95b2.js",import.meta.url,"modnoteslogb07b95b2"),mod_notes_rail:()=>SML.di("./mod-notes-rail-client-js-44e7d848.js",import.meta.url,"modnotesrailclientjs44e7d848"),shreddit_meta_pixel:()=>SML.di("./shreddit-meta-pixel-13f11b21.js",import.meta.url,"shredditmetapixel13f11b21")}),function(){const e=customElements.define;"_patched"in e||(customElements.define=(t,o)=>{customElements.get(t)||(window.ALL_ELEMENTS.set(t,o),e.call(customElements,t,o))},Object.defineProperty(customElements.define,"_patched",{configurable:!1,writable:!1,value:!0}))}(),$e(Fm,{loader:Vm,runner:Bm}),$e(Et,{loader:e=>e._loadContent(),runner:(e,t)=>{const o=e.parentElement;if(e._renderContent(t),e.hasAttribute("debug")&&o){const t={featureName:e.getAttribute("name")||"Unknown",loadingStrategy:e.getAttribute("loading")||"Unknown",htmlMode:"partial"};pt(`<faceplate-alert\n          name="feature-render"\n          level="${Ce.debug}"\n          meta="${JSON.stringify(t).replaceAll('"',"&quot;")}"\n        ></faceplate-alert>`,o,Pe.Append)}}}),at={backoff:1e3,attempts:2},Gm=({res:e,retry:t,event:o})=>{const{meta:i}=o.detail,n="string"==typeof i&&i.startsWith("TypeError");(401===e?.status||n)&&t&&(o.preventDefault(),t())},st=Gm,Kr("shreddit_await_network_connection")||(Ze=null),(()=>{if(Um||"function"!=typeof window.performance?.measure||"function"!=typeof window.performance?.getEntriesByName)return;window.performance.measure(Lm);const e=window.performance.getEntriesByName(Lm)?.[0]?.duration;e<2e3&&(km=Nm.Normal),Um=!0})(),Wm=document.querySelector("shreddit-app"),Fd.portalRoot=Wm,Xd.updateTerms({scrollToStart:"scroll to start",scrollToEnd:"scroll to end",closeDialog:"close dialog"}),{$:vn,get A(){return hr},B:Mr,C:re,get D(){return Xt},E:g,F:{Card:"CARD",Classic:"CLASSIC",Compact:"COMPACT"},G:$e,H:je,get I(){return Te},J:De,K:Ne,get L(){return ri},M:{AddToCollection:"ADD_TO_COLLECTION",AdminAnnouncementEmail:"ADMIN_ANNOUNCEMENT_EMAIL",AdsAutomatedReport:"ADS_AUTOMATED_REPORT",AdsCampaignApproved:"ADS_CAMPAIGN_APPROVED",AdsCampaignRejected:"ADS_CAMPAIGN_REJECTED",AdsEventReminder:"ADS_EVENT_REMINDER",AdsRoleInvitation:"ADS_ROLE_INVITATION",AeDmcaNotifySubmitter:"AE_DMCA_NOTIFY_SUBMITTER",AmaReminder:"AMA_REMINDER",Ato:"ATO",AwardReceived:"AWARD_RECEIVED",BreakingNews:"BREAKING_NEWS",BroadcastFollower:"BROADCAST_FOLLOWER",BroadcastRecommendation:"BROADCAST_RECOMMENDATION",CakeDay:"CAKE_DAY",ChatAcceptInvite:"CHAT_ACCEPT_INVITE",ChatMessage:"CHAT_MESSAGE",ChatMessageReaction:"CHAT_MESSAGE_REACTION",ChatRequest:"CHAT_REQUEST",CommentFollow:"COMMENT_FOLLOW",CommentInsightsRecap:"COMMENT_INSIGHTS_RECAP",CommentReply:"COMMENT_REPLY",CommentSubsequentReply:"COMMENT_SUBSEQUENT_REPLY",CryptoTransactionApproval:"CRYPTO_TRANSACTION_APPROVAL",CuratedOneOff:"CURATED_ONE_OFF",EconPromotion:"ECON_PROMOTION",EmailChangeEmail:"EMAIL_CHANGE_EMAIL",EmailChatRequest:"EMAIL_CHAT_REQUEST",EmailCommentReply:"EMAIL_COMMENT_REPLY",EmailCommunityDiscovery:"EMAIL_COMMUNITY_DISCOVERY",EmailDigest:"EMAIL_DIGEST",EmailExternalVerification:"EMAIL_EXTERNAL_VERIFICATION",EmailMagicLinkLogin:"EMAIL_MAGIC_LINK_LOGIN",EmailMagicLinkRegister:"EMAIL_MAGIC_LINK_REGISTER",EmailNewUserEducation:"EMAIL_NEW_USER_EDUCATION",EmailPostReply:"EMAIL_POST_REPLY",EmailPrivateMessage:"EMAIL_PRIVATE_MESSAGE",EmailRedditProMarketing:"EMAIL_REDDIT_PRO_MARKETING",EmailRedditProUserEngagement:"EMAIL_REDDIT_PRO_USER_ENGAGEMENT",EmailRedditProUserTrends:"EMAIL_REDDIT_PRO_USER_TRENDS",EmailUpvoteComment:"EMAIL_UPVOTE_COMMENT",EmailUpvotePost:"EMAIL_UPVOTE_POST",EmailUsernameMention:"EMAIL_USERNAME_MENTION",EmailUserNewFollower:"EMAIL_USER_NEW_FOLLOWER",EmailWeeklyRecap:"EMAIL_WEEKLY_RECAP",Escalation:"ESCALATION",ExportCompleteNotifyUserEmail:"EXPORT_COMPLETE_NOTIFY_USER_EMAIL",ForgotUsername:"FORGOT_USERNAME",GamificationAchievementUnlocked:"GAMIFICATION_ACHIEVEMENT_UNLOCKED",GamificationReminder:"GAMIFICATION_REMINDER",HotPotatoOverwritten:"HOT_POTATO_OVERWRITTEN",InboxAggregation:"INBOX_AGGREGATION",InboxNotificationClubSubscriptionUpdate:"INBOX_NOTIFICATION_CLUB_SUBSCRIPTION_UPDATE",IncentivizedPromotion:"INCENTIVIZED_PROMOTION",KeywordFollow:"KEYWORD_FOLLOW",LifecyclePostSuggestions:"LIFECYCLE_POST_SUGGESTIONS",LiveEvent:"LIVE_EVENT",ModeratedOneOff:"MODERATED_ONE_OFF",ModeratedSrContentFoundation:"MODERATED_SR_CONTENT_FOUNDATION",ModeratedSrEngagement:"MODERATED_SR_ENGAGEMENT",ModeratedSrMilestone:"MODERATED_SR_MILESTONE",ModeratedSrNewModmail:"MODERATED_SR_NEW_MODMAIL",ModeratedSrNewPost:"MODERATED_SR_NEW_POST",ModeratedSrReportedComment:"MODERATED_SR_REPORTED_COMMENT",ModeratedSrReportedPost:"MODERATED_SR_REPORTED_POST",ModeratedSrViralCommentPost:"MODERATED_SR_VIRAL_COMMENT_POST",ModeratedSrViralUpvotePost:"MODERATED_SR_VIRAL_UPVOTE_POST",MorePostActivity:"MORE_POST_ACTIVITY",News:"NEWS",NewPinnedPost:"NEW_PINNED_POST",NewPostActivity:"NEW_POST_ACTIVITY",Oauth2AppAdd:"OAUTH2_APP_ADD",Oauth2AppApprove:"OAUTH2_APP_APPROVE",OneOff:"ONE_OFF",PasswordReset:"PASSWORD_RESET",PnCommentGivenRedditGold:"PN_COMMENT_GIVEN_REDDIT_GOLD",PnPostGivenRedditGold:"PN_POST_GIVEN_REDDIT_GOLD",PostFlairAdded:"POST_FLAIR_ADDED",PostFollow:"POST_FOLLOW",PostInsightsRecap:"POST_INSIGHTS_RECAP",PostReply:"POST_REPLY",PrivateMessage:"PRIVATE_MESSAGE",PushTokenHealthCheck:"PUSH_TOKEN_HEALTH_CHECK",RedditLore:"REDDIT_LORE",RedditMomentUpdate:"REDDIT_MOMENT_UPDATE",Rereddit:"REREDDIT",ScheduledEvent:"SCHEDULED_EVENT",Security:"SECURITY",Subreddit:"SUBREDDIT",SubredditRecommendation:"SUBREDDIT_RECOMMENDATION",SubredditUpdatesInterestingPost:"SUBREDDIT_UPDATES_INTERESTING_POST",TalkLive:"TALK_LIVE",ThreadReplies:"THREAD_REPLIES",TopLevelComment:"TOP_LEVEL_COMMENT",TrendingGeo:"TRENDING_GEO",UnmoderatedChannel:"UNMODERATED_CHANNEL",UpvoteComment:"UPVOTE_COMMENT",UpvotePost:"UPVOTE_POST",UsernameMention:"USERNAME_MENTION",UsernameTakeoverCompleted:"USERNAME_TAKEOVER_COMPLETED",UserFlairAdded:"USER_FLAIR_ADDED",UserNewFollower:"USER_NEW_FOLLOWER",VerifyEmail:"VERIFY_EMAIL",WeeklyRecapEmail:"WEEKLY_RECAP_EMAIL"},N:function(){const e=document.querySelector("shreddit-app");e?.dispatchEvent(new CustomEvent(Ci))},get O(){return Cr},P:ee,Q:Rd,R:{Ads:"ADS",InlineContent:"INLINE_CONTENT",Modmail:"MODMAIL",UserDetails:"USER_DETAILS"},get S(){return Ha},get T(){return Rl},U:S,V:Od,W:ye,X:Qa,Y:"CommunityWidgetEditModal_GxQLgk",Z:e=>`${e}_recentclicks3`,_:t,a:ft,get a$(){return io},a0:ki,a1:"show-btf-sidebar-ad",a2:ms,a3:Di,a4:yt,a5:_e,a6:async function(e,t,o,i){const n={input:{action:e,eligibleExperience:{experience:Dr.StringIdExperience,experienceName:t,uxVariant:o},source:i}},{data:r}=await Mr({operation:Cr.StoreUxtargetingAction,variables:n});return r.storeUxTargetingAction?.ok||window.Sentry?.captureMessage?.("Uxtargeting action could not be stored"),r.storeUxTargetingAction?.ok},a7:Dr,a8:{Click:"CLICK",Dismiss:"DISMISS",Undo:"UNDO",View:"VIEW"},a9:{Award:"AWARD",ChatComment:"CHAT_COMMENT",Comment:"COMMENT",MatrixChatEvent:"MATRIX_CHAT_EVENT",Post:"POST"},get aA(){return L},aB:wa,aC:{Banana:"BANANA",Comment:"COMMENT",Community:"COMMUNITY",Day:"DAY",Post:"POST",SearchResult:"SEARCH_RESULT",Share:"SHARE",Unknown:"UNKNOWN",Upvote:"UPVOTE",Year:"YEAR"},aD:z,aE:{Accessory:"ACCESSORY",AccessoryBack:"ACCESSORY_BACK",Background:"BACKGROUND",Body:"BODY",BodyBottom:"BODY_BOTTOM",FaceLower:"FACE_LOWER",FaceUpper:"FACE_UPPER",Hair:"HAIR",HairBack:"HAIR_BACK",HeadAccessory:"HEAD_ACCESSORY",Shadow:"SHADOW"},aF:ca,aG:Ls,aH:lt,aI:yc,aJ:{AddModerator:"ADD_MODERATOR",InviteModerator:"INVITE_MODERATOR",RemoveModerator:"REMOVE_MODERATOR",SetInvitePermissions:"SET_INVITE_PERMISSIONS",SetPermissions:"SET_PERMISSIONS",UninviteModerator:"UNINVITE_MODERATOR"},aK:"LeadGenDialog_4ym4rB",aL:"lead-gen-dialog",aM:"guides_entry_points_seen",aN:Ma,aO:{All:"ALL",Approval:"APPROVAL",Ban:"BAN",ContentChange:"CONTENT_CHANGE",Invite:"INVITE",ModAction:"MOD_ACTION",Mute:"MUTE",Note:"NOTE",Removal:"REMOVAL",Spam:"SPAM"},aP:m,aQ:pt,aR:Gl,aS:Ni,get aT(){return mi},aU:e=>{const t=ui.visibilityCallbacks.length,o=ui.visibilityCallbacks.indexOf(e);return-1!==o&&ui.visibilityCallbacks.splice(o,1),t>ui.visibilityCallbacks.length},aV:"ShareMenu_tv6gfD",aW:Zc,aX:Jt,get aY(){return dc},aZ:vt,get a_(){return tc},aa:e=>{Ut.set(xi,JSON.stringify(e),Fi)},ab:"CommunityAppearanceMenuContent_cX3DcT",ac:Li,ad:"AwardGoldPurchase_2vyXH0",ae:function(e){return vd(bd,e,{maximumMatches:1})[0]??null},af:"PdpSeekerPostQueueRecentTab_BmF3tq",ag:bc,ah:{High:"HIGH",Highest:"HIGHEST",Low:"LOW",Lowest:"LOWEST",Medium:"MEDIUM",NoLevel:"NO_LEVEL"},get ai(){return Ru},aj:Ht,ak:e=>Jo("recent_page_name_menu",e)(),get al(){return ao},am:{AdminApproved:"ADMIN_APPROVED",AdminRemoved:"ADMIN_REMOVED",AdminSpammed:"ADMIN_SPAMMED",ModApproved:"MOD_APPROVED",ModRemoved:"MOD_REMOVED",ModSpammed:"MOD_SPAMMED"},an:Jo,ao:class extends Be{constructor(){super();const e=this.resolve;this.resolve=t=>e(this.value=t)}},ap:Qe,aq:pd,ar:Fe,as:_d,at:{Admin:"ADMIN",Gold:"GOLD",GoldAuto:"GOLD_AUTO",Moderator:"MODERATOR",Special:"SPECIAL"},au:{Followed:"FOLLOWED",None:"NONE"},av:Nt,aw:Hi,ax:Na,ay:{xs:"text-12",sm:"text-16",md:"text-20",lg:"text-20"},az:"reddit_chat_right_rail_upsell",b:ho,b$:{Enrolled:"ENROLLED",OptOut:"OPT_OUT",Unknown:"UNKNOWN"},get b0(){return sr},get b1(){return oo},b2:Xn,b3:"cookie_consent",b4:"banner",b5:"KlpShareMenu_L4BQCJ",b6:{BanEvasion:"BAN_EVASION",CommittingSelfHarm:"COMMITTING_SELF_HARM",CommunityInterference:"COMMUNITY_INTERFERENCE",ContemplatingSelfHarm:"CONTEMPLATING_SELF_HARM",ContributorProgramDeceptiveMoneyMaking:"CONTRIBUTOR_PROGRAM_DECEPTIVE_MONEY_MAKING",ContributorProgramDrugsGamblingFirearms:"CONTRIBUTOR_PROGRAM_DRUGS_GAMBLING_FIREARMS",ContributorProgramEncouragingDonations:"CONTRIBUTOR_PROGRAM_ENCOURAGING_DONATIONS",ContributorProgramGraphicViolent:"CONTRIBUTOR_PROGRAM_GRAPHIC_VIOLENT",ContributorProgramIllegalHarmfulBehavior:"CONTRIBUTOR_PROGRAM_ILLEGAL_HARMFUL_BEHAVIOR",ContributorProgramSexualSuggestive:"CONTRIBUTOR_PROGRAM_SEXUAL_SUGGESTIVE",CopyrightOther:"COPYRIGHT_OTHER",CopyrightSelf:"COPYRIGHT_SELF",Custom:"CUSTOM",HarassmentAtMe:"HARASSMENT_AT_ME",HarassmentAtSomeoneElse:"HARASSMENT_AT_SOMEONE_ELSE",HateContent:"HATE_CONTENT",IllegalOrDangerousBehavior:"ILLEGAL_OR_DANGEROUS_BEHAVIOR",ImpersonationOther:"IMPERSONATION_OTHER",ImpersonationSelf:"IMPERSONATION_SELF",InfringesMyIpRights:"INFRINGES_MY_IP_RIGHTS",InvoluntaryPornOther:"INVOLUNTARY_PORN_OTHER",InvoluntaryPornSelf:"INVOLUNTARY_PORN_SELF",LowQuality:"LOW_QUALITY",MinorAbuseOrSexualizationAbuse:"MINOR_ABUSE_OR_SEXUALIZATION_ABUSE",MinorAbuseOrSexualizationPredatory:"MINOR_ABUSE_OR_SEXUALIZATION_PREDATORY",MinorAbuseOrSexualizationSexual:"MINOR_ABUSE_OR_SEXUALIZATION_SEXUAL",MinorSexualization:"MINOR_SEXUALIZATION",Misinformation:"MISINFORMATION",Misleading:"MISLEADING",Netzdg:"NETZDG",NotAppropriate:"NOT_APPROPRIATE",NsfwContent:"NSFW_CONTENT",Offensive:"OFFENSIVE",OffensiveOrHoaxContent:"OFFENSIVE_OR_HOAX_CONTENT",Other:"OTHER",PiiAboutMe:"PII_ABOUT_ME",PiiAboutSomeoneElse:"PII_ABOUT_SOMEONE_ELSE",Political:"POLITICAL",ProhibitedSales:"PROHIBITED_SALES",ReportButtonAbuse:"REPORT_BUTTON_ABUSE",SelfHarm:"SELF_HARM",SexuallyExplicit:"SEXUALLY_EXPLICIT",Spam:"SPAM",SpamBots:"SPAM_BOTS",SpamCommentFlooding:"SPAM_COMMENT_FLOODING",SpamLinkFarming:"SPAM_LINK_FARMING",SpamMalware:"SPAM_MALWARE",SpamOther:"SPAM_OTHER",SpamRepostedContent:"SPAM_REPOSTED_CONTENT",SpamUnsolicitedPms:"SPAM_UNSOLICITED_PMS",Subreddit:"SUBREDDIT",TrademarkOther:"TRADEMARK_OTHER",TrademarkSelf:"TRADEMARK_SELF",UnderAge:"UNDER_AGE",ViolenceAtMe:"VIOLENCE_AT_ME",ViolenceAtSomeoneElse:"VIOLENCE_AT_SOMEONE_ELSE",Violent:"VIOLENT",VoteManipulation:"VOTE_MANIPULATION",Vulgarity:"VULGARITY"},b7:"ExplainerDialog_Psng26",b8:{EducationalBanner:"EDUCATIONAL_BANNER",EducationalModule:"EDUCATIONAL_MODULE",Tooltip:"TOOLTIP",Unknown:"UNKNOWN"},b9:"AwardDialog_GzBkf2",get bA(){return ro},bB:"PurchaseGold_tMQ0Qf",bC:Ue,bD:{AbuseWarning:"ABUSE_WARNING",Ban:"BAN",BotBan:"BOT_BAN",HelpfulUser:"HELPFUL_USER",PermaBan:"PERMA_BAN",SolidContributor:"SOLID_CONTRIBUTOR",SpamWarning:"SPAM_WARNING",SpamWatch:"SPAM_WATCH",UserSummary:"USER_SUMMARY"},get bE(){return Xe},bF:function(e){if(Ss)return Ss.navigateTo(e);bs.push(["navigateTo",e])},get bG(){return Cu},bH:qa,get bI(){return sn},bJ:e=>{const{error:t,metadata:o,element:i,componentName:n}=e,r=i.translationContextValue?.isTranslationActive;let s;try{o&&(s=JSON.stringify({isTranslationActive:r,...o}))}catch(e){}const a="string"==typeof t?t:void 0;let d=`[${n}] ${t.message??t?.msg??a??"unknown error"}`;s&&(d+=` ${s}`),function(e,t){const o=ho({source:"translate_button",action:"error",noun:"app"},{action_info:{reason:t}});ft(e,o)}(i,d),function(e){try{const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&t.captureException(e)}catch(e){}}(d)},bK:"i18n-translation-empty",bL:{DATA_MT_TYPE:"data-mt-type",IMG:"img",INNER_HTML:"innerHTML",TEXT_CONTENT:"textContent"},bM:"PostLevelCrowdControlFormContent_Vy24nw",bN:{NoReminder:"NO_REMINDER",Reminder:"REMINDER"},bO:ln,bP:dn,bQ:Tu,bR:"resize.embed",bS:Aa,bT:"-embed-wrapper",bU:"embed-feed-post-",bV:Ia,bW:"embed-read-mode-overlay",bX:"embed-read-mode-overlay-hover",bY:j,bZ:{Author:"AUTHOR",Post:"POST"},b_:"AchievementsProgressToast_6M6xx1",ba:"guides_skip_confirmation_modal",bb:fn,bc:bn,bd:Wn,get be(){return Rn},bf:lc,get bg(){return ec},get bh(){return nc},get bi(){return Yl},bj:function(e){return c({descriptor:t=>({get(){var t,o;return null!==(o=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})},bk:{Favorited:"FAVORITED",None:"NONE"},get bl(){return F},bm:"input-focus",bn:hc,bo:"CommentShareMenu_G1sJ5P",get bp(){return ac},bq:{ClosetOnly:"CLOSET_ONLY",Deleted:"DELETED",Disabled:"DISABLED",Enabled:"ENABLED",InternalOnly:"INTERNAL_ONLY",PendingDelete:"PENDING_DELETE",Restricted:"RESTRICTED"},br:"shreddit-composer-mode-toggle",bs:Et,bt:"i18n-component-ready",get bu(){return Ie},bv:"i18n-translation-error",bw:mt,bx:class{constructor(e){this.unsubscribeFn=null,this.lastSubscribeParams=null,this.unsubscribe=()=>{this.unsubscribeFn?.(),this.unsubscribeFn=null,this.lastSubscribeParams=null,window.removeEventListener("pageshow",this.onPageShow),window.removeEventListener("pagehide",this.onPageHide)},this.subscribe=e=>{this.unsubscribe(),this.unsubscribeFn=qr(e),this.lastSubscribeParams=e,window.addEventListener("pageshow",this.onPageShow),window.addEventListener("pagehide",this.onPageHide)},this.onPageShow=e=>{e.persisted&&this.lastSubscribeParams&&this.subscribe(this.lastSubscribeParams)},this.onPageHide=e=>{e.persisted&&this.suspend()},e.addController(this)}suspend(){this.unsubscribeFn?.(),this.unsubscribeFn=null}hostDisconnected(){this.unsubscribe()}},by:()=>{if(void 0!==Cc)return Cc;const e=document.querySelector("shreddit-app");var t;return void 0!==(t=e?.getAttribute("app-name")??void 0)&&Ta.includes(t)?Cc=t:(Cc=Ca,window.Sentry?.captureMessage?.("`app-name`: Default app_name value was used")),Cc},get bz(){return ya},c:v,c$:Sn,c0:Nr,get c1(){return Ql},get c2(){return H},c3:{All:"ALL",ManageChannels:"MANAGE_CHANNELS",ManageChat:"MANAGE_CHAT",ManageCommunityChat:"MANAGE_COMMUNITY_CHAT",ManageFlair:"MANAGE_FLAIR",ManageModmail:"MANAGE_MODMAIL",ManagePosts:"MANAGE_POSTS",ManageSettings:"MANAGE_SETTINGS",ManageUsers:"MANAGE_USERS",ManageWiki:"MANAGE_WIKI",MonitorChat:"MONITOR_CHAT"},c4:{Add:"ADD",Set:"SET"},c5:qt,c6:Se,c7:{Auto:"AUTO",Disabled:"DISABLED",Enabled:"ENABLED"},c8:{AppleInapp:"APPLE_INAPP",Braintree:"BRAINTREE",GoogleInapp:"GOOGLE_INAPP",Internal:"INTERNAL",Ledger:"LEDGER",Meta:"META",Paypal:"PAYPAL",RedditCoins:"REDDIT_COINS",RedditGold:"REDDIT_GOLD",Stripe:"STRIPE"},c9:{ClientSide:"CLIENT_SIDE",ServerSide:"SERVER_SIDE"},cA:Qd,cB:ai,cC:td,cD:e=>{const t=e.toString().toLowerCase();return t.indexOf("ms")>-1?parseFloat(t):t.indexOf("s")>-1?1e3*parseFloat(t):parseFloat(t)},cE:nd,cF:od,cG:id,cH:fd,cI:fa,cJ:{SubmitComment:"SUBMIT_COMMENT",SubmitPost:"SUBMIT_POST",SubscribeToSubreddit:"SUBSCRIBE_TO_SUBREDDIT"},cK:{Followed:"FOLLOWED",Unfollowed:"UNFOLLOWED"},cL:{Eligible:"ELIGIBLE",ExistingAppeal:"EXISTING_APPEAL",NoMatchingDecision:"NO_MATCHING_DECISION",PrescriptivePeriodExpired:"PRESCRIPTIVE_PERIOD_EXPIRED"},cM:Hr,cN:()=>ho({source:Qo,action:"close",noun:oi}),cO:()=>ho({source:Qo,action:"open",noun:oi}),cP:Zo,cQ:ti,cR:ei,cS:()=>ho({source:Qo,action:"open",noun:ii}),cT:()=>ho({source:Qo,action:"close",noun:ii}),cU:He,get cV(){return Ks},cW:Qs,cX:()=>document.querySelector("shreddit-app")?.serverRenderId,cY:"CommunityHighlightEditModal_mWj1xn",cZ:"mod_mode_enabled",c_:({name:e,options:t})=>{Ut.remove(e,t)},ca:{Announcement:"ANNOUNCEMENT",Event:"EVENT",Megathread:"MEGATHREAD",ShowPostFlair:"SHOW_POST_FLAIR"},cb:{Affinity:"AFFINITY",Mentions:"MENTIONS",SentimentScore:"SENTIMENT_SCORE"},cc:"PdpSeekerPostQueueRelatedTab_MKXWZ4",cd:Wi,ce:{AllowAll:"ALLOW_ALL",AllowSome:"ALLOW_SOME",BlockAll:"BLOCK_ALL",BlockSome:"BLOCK_SOME"},cf:{Ccpa:"CCPA",Gdpr:"GDPR",Other:"OTHER"},cg:{Bounded:"BOUNDED",FromBeginning:"FROM_BEGINNING"},ch:{EmployeeWhitelist:"EMPLOYEE_WHITELIST",ExistingPendingRequest:"EXISTING_PENDING_REQUEST",NoPriorRequest:"NO_PRIOR_REQUEST",PriorRequestExpired:"PRIOR_REQUEST_EXPIRED",RecentlyCompletedRequest:"RECENTLY_COMPLETED_REQUEST"},ci:Kr,cj:wd,ck:function(e,t={}){if(Ss)return Ss.push(e,t);bs.push(["push",e,t])},cl:function(e,t,o){Za.set(e,{...Za.get(e),[t]:ed(o)})},cm:"ReportForm_N0yZlW",cn:"ReportFlow_sBPX0C",co:"CtlReporting_Nn03Ds",cp:Qt,cq:"Validation error on hidden input",cr:"p",cs:$n,ct:Sr,get cu(){return zn},cv:e=>e.startsWith("https://alb.reddit.com/cr"),cw:function(e){window[gn]=e},cx:"shreddit_programmatic_click_redirect",cy:{Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Home:"Home",End:"End"},cz:Hd,d:l,d$:{AcceptedAndInvitedToAcceptRole:"ACCEPTED_AND_INVITED_TO_ACCEPT_ROLE",InvitedToApply:"INVITED_TO_APPLY",PendingReview:"PENDING_REVIEW",RejectedNoMessage:"REJECTED_NO_MESSAGE",RejectedWithMessage:"REJECTED_WITH_MESSAGE",Replied:"REPLIED"},d0:{Aed:"AED",All:"ALL",Amd:"AMD",Aud:"AUD",Awg:"AWG",Bgn:"BGN",Bhd:"BHD",Bnd:"BND",Bob:"BOB",Brl:"BRL",Bwp:"BWP",Cad:"CAD",Chf:"CHF",Clp:"CLP",Cny:"CNY",Coins:"COINS",Cop:"COP",Crc:"CRC",Czk:"CZK",Dkk:"DKK",Dzd:"DZD",Egp:"EGP",Ethereum:"ETHEREUM",Eur:"EUR",Fjd:"FJD",Gbp:"GBP",Gel:"GEL",Ghs:"GHS",Gold:"GOLD",Hkd:"HKD",Hrk:"HRK",Huf:"HUF",Idr:"IDR",Ils:"ILS",Inr:"INR",Iqd:"IQD",Isk:"ISK",Jod:"JOD",Jpy:"JPY",Kes:"KES",Krw:"KRW",Kzt:"KZT",Mad:"MAD",Mdl:"MDL",Mkd:"MKD",Mur:"MUR",Mxn:"MXN",Myr:"MYR",Ngn:"NGN",Nok:"NOK",Nzd:"NZD",Pen:"PEN",Php:"PHP",Pkr:"PKR",Pln:"PLN",Pyg:"PYG",Qar:"QAR",RedditGold:"REDDIT_GOLD",Ron:"RON",Rsd:"RSD",Rub:"RUB",Sar:"SAR",Sek:"SEK",Sgd:"SGD",SubredditPoints:"SUBREDDIT_POINTS",Thb:"THB",Tnd:"TND",Try:"TRY",Ttd:"TTD",Twd:"TWD",Tzs:"TZS",Uah:"UAH",Usd:"USD",Uyu:"UYU",Vnd:"VND",Wst:"WST",Xcd:"XCD",Zar:"ZAR"},d1:{PaymentFailure:"PAYMENT_FAILURE",PaymentSuccess:"PAYMENT_SUCCESS"},d2:{Production:"PRODUCTION",Sandbox:"SANDBOX"},d3:()=>km===Nm.Slow,d4:"pref_gated_sr_optin",d5:{OptedIn:"OPTED_IN",OptedOut:"OPTED_OUT"},d6:"pref_quarantine_optin",get d7(){return jl},d8:()=>"Something went wrong",d9:31,get dA(){return ql},dB:"ModUserNotes_V4JnwL",dC:"ModUserSingleNote_V4JnwO",dD:"ModUserOverview_qJnHZL",dE:"ModUserPosts_hP2nPl",dF:"ModUserProfileComments_QC2gD0",dG:{Bans:"BANS",Chat:"CHAT",Comments:"COMMENTS",General:"GENERAL",Modmail:"MODMAIL",Removals:"REMOVALS",Reports:"REPORTS",SitewideBans:"SITEWIDE_BANS",SitewideRemovals:"SITEWIDE_REMOVALS"},dH:{Anyone:"ANYONE",ApprovedContributor:"APPROVED_CONTRIBUTOR",KarmaMinAge:"KARMA_MIN_AGE",Mod:"MOD",OpenEditing:"OPEN_EDITING",Top_1Commenters:"TOP_1_COMMENTERS",Top_1Posters:"TOP_1_POSTERS",Top_10Commenters:"TOP_10_COMMENTERS",Top_10Posters:"TOP_10_POSTERS",Unspecified:"UNSPECIFIED"},dI:{Anyone:"ANYONE",Disabled:"DISABLED",Modonly:"MODONLY"},dJ:"UpdatePostFlairModal_0lB6xr",get dK(){return ut},dL:"CommunityHighlightManageModal_X8NVJB",dM:"reddit_chat_subreddit_feed_upsell",dN:"",get dO(){return Ai},dP:"impressionid",get dQ(){return to},dR:"lead-gen-submission",get dS(){return Ep},dT:"campaignId",dU:"videoAdLooping",dV:"pid",dW:{Company:"COMPANY",CompanyEmail:"COMPANY_EMAIL",Email:"EMAIL",FirstName:"FIRST_NAME",JobTitle:"JOB_TITLE",LastName:"LAST_NAME",PhoneNumber:"PHONE_NUMBER",PostalCode:"POSTAL_CODE"},dX:{Permanent:"PERMANENT",Temporary:"TEMPORARY"},dY:{Archived:"ARCHIVED",CampaignPaused:"CAMPAIGN_PAUSED",Completed:"COMPLETED",Deleted:"DELETED",FlightPaused:"FLIGHT_PAUSED",Paused:"PAUSED",Pending:"PENDING",PendingIdVerification:"PENDING_ID_VERIFICATION",Processing:"PROCESSING",Rejected:"REJECTED",Running:"RUNNING"},dZ:{All:"ALL",Emoji:"EMOJI",Text:"TEXT"},get d_(){return so},da:200,db:"TemporaryEventsPresets_BVPM81",dc:{NonGated:"NON_GATED",Unavailable:"UNAVAILABLE",UnavailableUnverified:"UNAVAILABLE_UNVERIFIED",Underage:"UNDERAGE",UnderVerified:"UNDER_VERIFIED",Unverified:"UNVERIFIED",Verified:"VERIFIED"},dd:"SavedResponsesReorderModal_TkNsVJ",de:na,df:Xd,dg:Xl,get dh(){return oc},di:"i18n-give-comment-feedback",dj:function(e){const t=document.querySelectorAll('faceplate-partial[src*="edit-comment"]');t?.forEach((t=>{let o=t.getAttribute("src");o&&(o=e?Wi(o,"isTranslated","true"):Gi(o,"isTranslated"),t.setAttribute("src",o))}))},dk:function(e,t){const o=document.querySelector("faceplate-partial#top-level-more-comments-partial"),i=o?.getAttribute("src");if(o&&i){const n=cn(i,e,t);o.setAttribute("src",n)}const n=document.querySelectorAll('faceplate-partial[src*="more-comments"]');n?.forEach((o=>{const i=o.getAttribute("src");if(i){const n=cn(i,e,t);o.setAttribute("src",n)}}))},dl:{ID:{FEEDBACK_MODAL:"feedback-modal",FEED_POST_FEEDBACK_MODAL:"feed-post-translator-feedback-modal",PDP_POST_FEEDBACK_MODAL:"pdp-post-translator-feedback-modal",PDP_COMMENT_FEEDBACK_MODAL:"pdp-comment-feedback-modal"},CLASS:{}},dm:(e,t)=>{let o=0,i=0,n=0;const r=[],s=[],a=[];return t.length&&Array.from(t).filter((t=>{const{id:d,originalBody:l,translatedBody:c,isTranslated:u,isTranslatable:h}=t,p=hn(e,l,c,u);p===rn.Untranslated&&(o++,a.push(d)),p===rn.Translated&&(i++,s.push(d)),h&&(n++,r.push(d))})),{totalCommentsInPage:t.length,translatedComments:i,untranslatedComments:o,translatableComments:n,translatedIds:s,untranslatedIds:a,translatableIds:r,allCommentsTranslated:i===t.length,allCommentsUntranslated:o===t.length&&t.length>0}},dn:on,dp:/^\/(login|register|username|password|passwordrecovery|onboarding)\/$/,dq:Ke,dr:Ra,ds:Pa,dt:vd,du:yd,dv:Po,dw:jr,dx:Qp,get dy(){return Wp},dz:"RedditChat_0nn1mJ",e:s,e$:ot,e0:"UserManagementRightPanel_CKVp5T",e1:{CreationTime:"CREATION_TIME",CreationTimeReverse:"CREATION_TIME_REVERSE",Price:"PRICE",PriceReverse:"PRICE_REVERSE",ReleaseTime:"RELEASE_TIME",ReleaseTimeReverse:"RELEASE_TIME_REVERSE",TotalInventory:"TOTAL_INVENTORY",TotalInventoryReverse:"TOTAL_INVENTORY_REVERSE"},e2:{Available:"AVAILABLE",Expired:"EXPIRED",Pending:"PENDING",SoldOut:"SOLD_OUT"},e3:jd,e4:Kd,e5:"AchievementsModal_W1BJpN",e6:{Aci:"ACI",Search:"SEARCH",TaxonomyEntity:"TAXONOMY_ENTITY",TaxonomyTopic:"TAXONOMY_TOPIC"},e7:co,e8:uu,e9:{AddOptOut:"ADD_OPT_OUT",RemoveOptOut:"REMOVE_OPT_OUT"},eA:"BoostPostTargetingModal_Zr5cTB",eB:{Internal:"INTERNAL",SrSr:"SR_SR",SrUser:"SR_USER"},eC:{Moderator:"MODERATOR",ParticipantSubreddit:"PARTICIPANT_SUBREDDIT",ParticipantUser:"PARTICIPANT_USER",Unknown:"UNKNOWN"},eD:{First:"FIRST",None:"NONE",Second:"SECOND"},eE:{Friday:"FRIDAY",Monday:"MONDAY",Saturday:"SATURDAY",Sunday:"SUNDAY",Thursday:"THURSDAY",Tuesday:"TUESDAY",Wednesday:"WEDNESDAY"},eF:{Daily:"DAILY",Hourly:"HOURLY",Monthly:"MONTHLY",Weekly:"WEEKLY"},get eG(){return pu},eH:{searchSduiPost:"search-sdui-post"},eI:function(e){if(Ls(e),Ss)return Ss.replaceAndNavigate(e);bs.push(["replaceAndNavigate",e])},eJ:{Gif:"GIF",Image:"IMAGE",Sticker:"STICKER"},eK:{All:"ALL",LinkFlair:"LINK_FLAIR",None:"NONE",UserFlair:"USER_FLAIR"},eL:"ShredditPostTranslator_TG242Q",eM:"CommentTranslator_6MLDQW",eN:"SubredditRightRailTranslator_Sq1rLd",eO:"PdpRightRailPostTranslator_D9xnPd",eP:Dl,eQ:Bi,eR:un,eS:{Disabled:"DISABLED",Enabled:"ENABLED",Unset:"UNSET"},eT:{Archived:"ARCHIVED",EmployeesOnly:"EMPLOYEES_ONLY",GoldOnly:"GOLD_ONLY",GoldRestricted:"GOLD_RESTRICTED",Private:"PRIVATE",Public:"PUBLIC",Restricted:"RESTRICTED",User:"USER"},eU:{AdminDistinguished:"ADMIN_DISTINGUISHED",AlumniDistinguished:"ALUMNI_DISTINGUISHED",ModDistinguished:"MOD_DISTINGUISHED",None:"NONE"},eV:{Locked:"LOCKED",None:"NONE"},eW:{Distinguished:"DISTINGUISHED",None:"NONE"},eX:{Distinguished:"DISTINGUISHED",DistinguishedAndStickied:"DISTINGUISHED_AND_STICKIED",None:"NONE"},eY:{ActionRequired:"ACTION_REQUIRED",Canceled:"CANCELED",Failed:"FAILED",New:"NEW",Paid:"PAID",Pending:"PENDING",Refunded:"REFUNDED",Rejected:"REJECTED"},eZ:tt,e_:oa,ea:oe,get eb(){return Vl},ec:"TWO_FA_REQUIRED",get ed(){return Fl},get ee(){return G},ef:{Frequent:"FREQUENT",Low:"LOW",Off:"OFF"},eg:Sp,eh:"SubredditMuteModal_VT4PHZ",ei:"CustomFeedAddModal_GPgCvP",ej:Ve,ek:{Down:"DOWN",None:"NONE",Up:"UP"},el:function(e){if(Ss)return Ss.fullNavigateTo(e);bs.push(["fullNavigateTo",e])},em:"CustomFeedEditDetailsModal_1tH02m",en:"CommunityListModal_cWH9Dd",eo:{Comment:"COMMENT",Post:"POST"},ep:{CommentBody:"COMMENT_BODY",PostBody:"POST_BODY",PostFlair:"POST_FLAIR",PostTitle:"POST_TITLE",PostType:"POST_TYPE",PostUrl:"POST_URL",UserFlair:"USER_FLAIR",UserFlairTemplateId:"USER_FLAIR_TEMPLATE_ID"},eq:{HasUserFlair:"HAS_USER_FLAIR"},er:{Agency:"AGENCY",Business:"BUSINESS",Consultant:"CONSULTANT",Creator:"CREATOR",Individual:"INDIVIDUAL",Organization:"ORGANIZATION",PublicFigure:"PUBLIC_FIGURE"},es:"comment_composer",et:B,eu:Wl,ev:Hl,ew:Bl,ex:"BoostPostEstimatedViews_zvRsY0",ey:"/svc/shreddit/promote-post-modal-estimated-views",ez:"BoostPostPaymentInfo_BnDvTb",f:function(e){return e instanceof PointerEvent||e instanceof MouseEvent||"Enter"===e.key||"Space"===e.key},get f$(){return Ae},f0:et,f1:(e,t)=>new CustomEvent(e,t),get f2(){return _},f3:r,f4:gt,f5:{Blocked:"BLOCKED",None:"NONE"},f6:{AccountAge_30Days:"ACCOUNT_AGE_30_DAYS",Anybody:"ANYBODY",Nobody:"NOBODY"},f7:{Everyone:"EVERYONE",Whitelisted:"WHITELISTED"},f8:{Allowlisted:"ALLOWLISTED",None:"NONE"},f9:{Comment:"COMMENT",Link:"LINK",LinkAndComment:"LINK_AND_COMMENT"},get fA(){return hl},fB:vl,fC:async function(e=navigator.serviceWorker){const t=await e.getRegistration(),o=await(t?.pushManager.getSubscription()),i=o?.unsubscribe();return i&&gl(pl("disable")),i},fD:le,fE:"debugAdPixels",get fF(){return dr},get fG(){return pr},fH:"dev_auto_refresh",fI:async e=>{const t=await fetch("/svc/shreddit/events/validate-schema",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({event:e})});if(t.ok)return t.json()},fJ:{DoNotSend:"DO_NOT_SEND",Send:"SEND"},get fK(){return Tt},fL:"ModLogTakedownPreview_sL20RW",fM:"ModActionsSummary_clnskQ",fN:{Awarded:"AWARDED",Best:"BEST",Controversial:"CONTROVERSIAL",Hot:"HOT",New:"NEW",Rising:"RISING",Top:"TOP"},fO:{All:"ALL",Day:"DAY",Hour:"HOUR",Month:"MONTH",Week:"WEEK",Year:"YEAR"},fP:Vi,fQ:{"bn-IN":"","cs-CZ":"etina","da-DK":"Dansk","de-DE":"Deutsch","el-GR":"","en-US":"English (US)","es-ES":"Espaol (ES)","es-MX":"Espaol (MX)","fi-FI":"Suomi","fil-PH":"Filipino","fr-FR":"Franais","hi-IN":"","hu-HU":"Magyar","it-IT":"Italiano","ja-JP":"","ko-KR":"","ms-MY":"Bahasa Melayu","nb-NO":"Norsk","nl-NL":"Nederlands","pl-PL":"Polski","pt-BR":"Portugus (BR)","pt-PT":"Portugus (PT)","ro-RO":"Romn","ru-RU":"P ","sr-RS":"Srpski","sv-SE":"Svenska","tr-TR":"Trke","th-TH":"","uk-UA":" ","vi-VN":"Ting Vit","zh-CN":"","zh-TW":""},fR:"HotkeysModal_m4ZJBc",fS:wu,fT:function({experimentName:e,variant:t,experimentVersion:o}){if("true"===document.querySelector("shreddit-app")?.getAttribute("is-cached"))return Promise.resolve();const i={operation:Cr.ExposeVariant,variables:{input:{experimentName:e,variant:t,experimentVersion:o}}};return Qr(i)},fU:5,fV:$r,get fW(){return Pu},fX:mu,fY:_u,fZ:{source:"search",action:"click",noun:"full_search_button"},f_:"collapsed-filters-sheet",fa:{Comment:"COMMENT",Post:"POST"},fb:"ModRulesItems_pvKs2G",get fc(){return wl},fd:{Approved:"APPROVED",Archived:"ARCHIVED",Banned:"BANNED",Disapproved:"DISAPPROVED",Filtered:"FILTERED",Highlighted:"HIGHLIGHTED",Muted:"MUTED",ReportedToAdmins:"REPORTED_TO_ADMINS",Unarchived:"UNARCHIVED",Unbanned:"UNBANNED",Unfiltered:"UNFILTERED",Unhighlighted:"UNHIGHLIGHTED",Unmuted:"UNMUTED"},fe:{All:"ALL",Appeals:"APPEALS",Archived:"ARCHIVED",Filtered:"FILTERED",Highlighted:"HIGHLIGHTED",Inbox:"INBOX",InProgress:"IN_PROGRESS",JoinRequests:"JOIN_REQUESTS",ModDiscussions:"MOD_DISCUSSIONS",New:"NEW",Notifications:"NOTIFICATIONS",Recruiting:"RECRUITING"},ff:"ModmailSavedResponsesDropdown_krYJk1",fg:{Blank:"BLANK",Confidence:"CONFIDENCE",Controversial:"CONTROVERSIAL",Live:"LIVE",New:"NEW",Old:"OLD",Qa:"QA",Random:"RANDOM",Top:"TOP"},fh:{Lenient:"LENIENT",Off:"OFF",Strict:"STRICT"},fi:{MediaOnly:"MEDIA_ONLY",Off:"OFF"},fj:{High:"HIGH",Low:"LOW"},fk:{Lenient:"LENIENT",Medium:"MEDIUM",Off:"OFF",Strict:"STRICT"},fl:{High:"HIGH",Low:"LOW"},fm:{Filter:"FILTER",Remove:"REMOVE"},fn:{Lenient:"LENIENT",Moderate:"MODERATE",Off:"OFF",Strict:"STRICT"},fo:{Disabled:"DISABLED",Enabled:"ENABLED"},fp:{Disabled:"DISABLED",Enabled:"ENABLED"},get fq(){return Iu},get fr(){return bu},get fs(){return Su},ft:function(){const e=window.location?.search??"";return new URLSearchParams(e).has("tl")},fu:{Dark:"DARK",Light:"LIGHT"},fv:{InboxOnly:"INBOX_ONLY",None:"NONE",PushAndInbox:"PUSH_AND_INBOX"},fw:{ModPnsStatus:"MOD_PNS_STATUS",ModPnContentFoundationStatus:"MOD_PN_CONTENT_FOUNDATION_STATUS",ModPnMilestoneStatus:"MOD_PN_MILESTONE_STATUS",ModPnNewCrosspostStatus:"MOD_PN_NEW_CROSSPOST_STATUS",ModPnNewModmailStatus:"MOD_PN_NEW_MODMAIL_STATUS",ModPnNewPostStatus:"MOD_PN_NEW_POST_STATUS",ModPnNewSrMentionStatus:"MOD_PN_NEW_SR_MENTION_STATUS",ModPnPostInPopularFeedStatus:"MOD_PN_POST_IN_POPULAR_FEED_STATUS",ModPnReportedCommentStatus:"MOD_PN_REPORTED_COMMENT_STATUS",ModPnReportedPostStatus:"MOD_PN_REPORTED_POST_STATUS",ModPnViralCommentPostStatus:"MOD_PN_VIRAL_COMMENT_POST_STATUS",ModPnViralUpvotePostStatus:"MOD_PN_VIRAL_UPVOTE_POST_STATUS"},fx:{ModPnPostInPopularFeedThreshold:"MOD_PN_POST_IN_POPULAR_FEED_THRESHOLD",ModPnReportedCommentThreshold:"MOD_PN_REPORTED_COMMENT_THRESHOLD",ModPnReportedPostThreshold:"MOD_PN_REPORTED_POST_THRESHOLD",ModPnViralCommentPostThreshold:"MOD_PN_VIRAL_COMMENT_POST_THRESHOLD",ModPnViralUpvotePostThreshold:"MOD_PN_VIRAL_UPVOTE_POST_THRESHOLD"},fy:El,fz:fl,g:cu,g$:3e3,g0:function(e){return c({descriptor:t=>({async get(){var t;return await this.updateComplete,null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e)},enumerable:!0,configurable:!0})})},g1:{CustomUploadedMedia:"CUSTOM_UPLOADED_MEDIA",SubredditBanner:"SUBREDDIT_BANNER"},g2:{BlankOnly:"BLANK_ONLY",CommentsPage:"COMMENTS_PAGE",CommentTrees:"COMMENT_TREES",Feed:"FEED",FullBleedVideoFeed:"FULL_BLEED_VIDEO_FEED",LightboxSidebar:"LIGHTBOX_SIDEBAR",ListingBelow:"LISTING_BELOW",MainSidebar:"MAIN_SIDEBAR",PromotedPost:"PROMOTED_POST",Sidebars:"SIDEBARS",TrendingDiscovery:"TRENDING_DISCOVERY",TrendingSearchResult:"TRENDING_SEARCH_RESULT"},g3:"AddAmaCollaboratorsModal_BvmjY3",g4:"i18n-give-post-feedback",g5:"PostDeletionModal_dTjGQh",g6:{RecencyPastFewMonths:"RECENCY_PAST_FEW_MONTHS",RecencyPastFewWeeks:"RECENCY_PAST_FEW_WEEKS",RecencyUnspecified:"RECENCY_UNSPECIFIED",RecencyWithinThisYear:"RECENCY_WITHIN_THIS_YEAR"},g7:{False:"FALSE",True:"TRUE"},g8:{Lenient:"LENIENT",Off:"OFF",Strict:"STRICT",Unspecified:"UNSPECIFIED"},g9:{MediaOnly:"MEDIA_ONLY",Unspecified:"UNSPECIFIED"},gA:Op,gB:{CONTROL:"control",NO_INDICATORS:"no_indicators",ALL_AUTOMATIC_BANNER:"all_automatic_banner",ALL_MANUAL_BANNER:"all_manual_banner",ALL_MANUAL_BANNER_INTERVENTION:"all_manual_banner_intervention",DEFAULT:"enabled"},get gC(){return Xi},gD:"i18n-post-media-img",gE:e=>{const t=hn(e.translationSetting,e.originalTitle,e.translatedTitle,e.isTitleTranslated),o=hn(e.translationSetting,e.originalBody,e.translatedBody,e.isBodyTranslated);return{id:e.postId,hasBody:""!==e.originalBody||""!==e.translatedBody,postType:e.postType,titleState:t,bodyState:o,isTranslatable:e.isTranslatable,translatedImages:0,untranslatedImages:0}},gF:tn,gG:e=>{const t={totalPostsInPage:e.length,postsWithTranslatedTitle:0,postsWithUntranslatedTitle:0,postsWithTranslatedBody:0,postsWithUntranslatedBody:0,translatablePosts:0,allPostTitlesUntranslated:!1,allPostTitlesTranslated:!1,allPostBodiesUntranslated:!1,allPostBodiesTranslated:!1,translatableIds:[],translatedIds:[],untranslatedIds:[],translatedImages:0,untranslatedImages:0};return e.forEach((e=>{if(!e||!e.id)return;const o=e?.titleState===rn.Translated,i=e?.bodyState===rn.Translated,n=e?.titleState===rn.Untranslated,r=e?.bodyState===rn.Untranslated,s=!e?.hasBody||i;e.isTranslatable&&(void 0!==t.translatablePosts&&t.translatablePosts++,t.translatableIds&&t.translatableIds.push(e.id)),o&&void 0!==t.postsWithTranslatedTitle&&t.postsWithTranslatedTitle++,n&&void 0!==t.postsWithUntranslatedTitle&&t.postsWithUntranslatedTitle++,i&&void 0!==t.postsWithTranslatedBody&&t.postsWithTranslatedBody++,r&&void 0!==t.postsWithUntranslatedBody&&t.postsWithUntranslatedBody++,o&&s?t.translatedIds&&t.translatedIds.push(e.id):t.untranslatedIds&&t.untranslatedIds.push(e.id)})),t.allPostTitlesTranslated=!!t.translatablePosts&&t.postsWithTranslatedTitle===t.translatablePosts,t.allPostBodiesTranslated=!!t.translatablePosts&&t.postsWithTranslatedBody===t.translatablePosts,t.allPostTitlesUntranslated=t.postsWithUntranslatedTitle===e.length,t.allPostBodiesUntranslated=t.postsWithUntranslatedBody===e.length,t},gH:nn,gI:function(e){return`${e}-post-rtjson-content`},gJ:{AvailableToClaim:"AVAILABLE_TO_CLAIM",ClaimedSuccessfully:"CLAIMED_SUCCESSFULLY",ClaimFailed:"CLAIM_FAILED",CompletelyClaimed:"COMPLETELY_CLAIMED",InProgress:"IN_PROGRESS",NotEligibleToClaim:"NOT_ELIGIBLE_TO_CLAIM",NoNftLeft:"NO_NFT_LEFT",Undefined:"UNDEFINED"},gK:{Id:"ID",IdReverse:"ID_REVERSE",Name:"NAME",NameReverse:"NAME_REVERSE"},gL:{AcceptModeratorInvite:"ACCEPT_MODERATOR_INVITE",AddCommunityTopics:"ADD_COMMUNITY_TOPICS",AddContributor:"ADD_CONTRIBUTOR",AddModerator:"ADD_MODERATOR",AddNote:"ADD_NOTE",AddRemovalReason:"ADD_REMOVAL_REASON",AdjustPostCrowdControlLevel:"ADJUST_POST_CROWD_CONTROL_LEVEL",ApproveAward:"APPROVE_AWARD",ApproveComment:"APPROVE_COMMENT",ApproveLink:"APPROVE_LINK",BanUser:"BAN_USER",ChatApproveMessage:"CHAT_APPROVE_MESSAGE",ChatBanUser:"CHAT_BAN_USER",ChatInviteHost:"CHAT_INVITE_HOST",ChatRemoveHost:"CHAT_REMOVE_HOST",ChatRemoveMessage:"CHAT_REMOVE_MESSAGE",ChatUnbanUser:"CHAT_UNBAN_USER",Collections:"COLLECTIONS",CommunityStatus:"COMMUNITY_STATUS",CommunityStyling:"COMMUNITY_STYLING",CommunityWelcomePage:"COMMUNITY_WELCOME_PAGE",CommunityWidgets:"COMMUNITY_WIDGETS",CreateAward:"CREATE_AWARD",CreateRemovalReason:"CREATE_REMOVAL_REASON",CreateRule:"CREATE_RULE",CreateScheduledPost:"CREATE_SCHEDULED_POST",DeleteAward:"DELETE_AWARD",DeleteNote:"DELETE_NOTE",DeleteOverriddenClassification:"DELETE_OVERRIDDEN_CLASSIFICATION",DeleteRemovalReason:"DELETE_REMOVAL_REASON",DeleteRule:"DELETE_RULE",DeleteScheduledPost:"DELETE_SCHEDULED_POST",DevPlatformAppChanged:"DEV_PLATFORM_APP_CHANGED",DevPlatformAppDisabled:"DEV_PLATFORM_APP_DISABLED",DevPlatformAppEnabled:"DEV_PLATFORM_APP_ENABLED",DevPlatformAppInstalled:"DEV_PLATFORM_APP_INSTALLED",DevPlatformAppUninstalled:"DEV_PLATFORM_APP_UNINSTALLED",DisableAward:"DISABLE_AWARD",DisablePostCrowdControlFilter:"DISABLE_POST_CROWD_CONTROL_FILTER",Distinguish:"DISTINGUISH",EditCommentRequirements:"EDIT_COMMENT_REQUIREMENTS",EditFlair:"EDIT_FLAIR",EditPostRequirements:"EDIT_POST_REQUIREMENTS",EditRule:"EDIT_RULE",EditSavedResponse:"EDIT_SAVED_RESPONSE",EditScheduledPost:"EDIT_SCHEDULED_POST",EditSettings:"EDIT_SETTINGS",EnableAward:"ENABLE_AWARD",EnablePostCrowdControlFilter:"ENABLE_POST_CROWD_CONTROL_FILTER",Events:"EVENTS",HiddenAward:"HIDDEN_AWARD",IgnoreReports:"IGNORE_REPORTS",InviteModerator:"INVITE_MODERATOR",InviteSubscriber:"INVITE_SUBSCRIBER",Lock:"LOCK",MarkNsfw:"MARK_NSFW",MarkOriginalContent:"MARK_ORIGINAL_CONTENT",ModmailEnrollment:"MODMAIL_ENROLLMENT",ModAwardGiven:"MOD_AWARD_GIVEN",ModRecruitmentApplicationRemove:"MOD_RECRUITMENT_APPLICATION_REMOVE",ModRecruitmentApplicationRespond:"MOD_RECRUITMENT_APPLICATION_RESPOND",ModRecruitmentDisable:"MOD_RECRUITMENT_DISABLE",ModRecruitmentEnable:"MOD_RECRUITMENT_ENABLE",ModRecruitmentUpdateTemplate:"MOD_RECRUITMENT_UPDATE_TEMPLATE",MuteUser:"MUTE_USER",OverrideClassification:"OVERRIDE_CLASSIFICATION",RemoveComment:"REMOVE_COMMENT",RemoveCommunityTopics:"REMOVE_COMMUNITY_TOPICS",RemoveContributor:"REMOVE_CONTRIBUTOR",RemoveLink:"REMOVE_LINK",RemoveModerator:"REMOVE_MODERATOR",RemoveWikiContributor:"REMOVE_WIKI_CONTRIBUTOR",ReorderModerators:"REORDER_MODERATORS",ReorderRemovalReason:"REORDER_REMOVAL_REASON",ReorderRules:"REORDER_RULES",RequestAssistance:"REQUEST_ASSISTANCE",SetContestMode:"SET_CONTEST_MODE",SetPermissions:"SET_PERMISSIONS",SetSuggestedsort:"SET_SUGGESTEDSORT",ShowComment:"SHOW_COMMENT",SnoozeReports:"SNOOZE_REPORTS",SpamComment:"SPAM_COMMENT",SpamLink:"SPAM_LINK",Spoiler:"SPOILER",Sticky:"STICKY",SubmitContentRatingSurvey:"SUBMIT_CONTENT_RATING_SURVEY",SubmitScheduledPost:"SUBMIT_SCHEDULED_POST",UnbanUser:"UNBAN_USER",UnignoreReports:"UNIGNORE_REPORTS",UninviteModerator:"UNINVITE_MODERATOR",Unlock:"UNLOCK",UnmuteUser:"UNMUTE_USER",UnsetContestMode:"UNSET_CONTEST_MODE",UnsnoozeReports:"UNSNOOZE_REPORTS",Unspoiler:"UNSPOILER",Unsticky:"UNSTICKY",UpdateRemovalReason:"UPDATE_REMOVAL_REASON",WikiBanned:"WIKI_BANNED",WikiContributor:"WIKI_CONTRIBUTOR",WikiPageListed:"WIKI_PAGE_LISTED",WikiPermLevel:"WIKI_PERM_LEVEL",WikiRevise:"WIKI_REVISE",WikiUnbanned:"WIKI_UNBANNED"},gM:{CommentAsMod:"COMMENT_AS_MOD",CommentAsSubreddit:"COMMENT_AS_SUBREDDIT",MessageAsMod:"MESSAGE_AS_MOD",MessageAsSubreddit:"MESSAGE_AS_SUBREDDIT"},gN:"ModSmartEscalations_zlhxrB",gO:{Contributors:"CONTRIBUTORS",InheritSubredditPerms:"INHERIT_SUBREDDIT_PERMS",Mods:"MODS"},gP:se,gQ:"hide-btf-sidebar-ad",gR:"search-typeahead-expandable-section-",gS:"RelatedCommunityRecommendations_qmZmnB",gT:"CommunityGuide_0CWwQB",gU:ba,gV:function(e,t){return vi(e,t)||Si(e)},gW:Ii,gX:Gi,gY:"shreddit_recaptcha_comment_create",get gZ(){return V},g_:"mod-overlay-display",ga:{Onboarding:"ONBOARDING",Unknown:"UNKNOWN"},gb:{Active:"ACTIVE",Canceled:"CANCELED",Completed:"COMPLETED",EndFailed:"END_FAILED",Scheduled:"SCHEDULED",StartFailed:"START_FAILED"},gc:function(e,t,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(e):i?i.value:t.get(e)},gd:function(e,t,o,i,n){if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n?n.value=o:t.set(e,o),o},ge:Bd,gf:"reddit_chat_view",gg:"reddit_chat_path",gh:"reddit_chat_dimension",gi:{Common:"COMMON",Epic:"EPIC",Legendary:"LEGENDARY",Rare:"RARE",Unknown:"UNKNOWN"},gj:$d,gk:e=>new Date(e).getTime()||void 0,gl:ht,gm:function(e,t){const o=document.createElement(e);for(const e in t)o.setAttribute(e,t[e]);return o},gn:"blurred-overlay",go:"embed-container",gp:{Hidden:"HIDDEN",Private:"PRIVATE",Public:"PUBLIC"},gq:kd,gr:qp,gs:Yp,gt:Hp,gu:$p,gv:jp,gw:Kp,gx:function(e=qp){for(const[t,o]of Object.entries(e))o.keys.forEach((e=>{const o="string"==typeof e,i=(o?e:e.key).toLowerCase(),n=o?{key:i}:{...e};Yp.ids.add(t),i in Yp.keys?Yp.keys[i][t]=n:Yp.keys[i]={[t]:n}}))},gy:function(){Yp.keys={},Yp.ids=new Set},get gz(){return wp},get h(){return Tr},h$:function({pixelEvent:e,pixelRequestBody:t,metadata:o,target:i}){if(!e.encryptedTrackingId)return;if(ts(e.type))return Zr(e,t);const n=o?function(e){return Object.entries(e).reduce(((e,[t,o])=>(e[t]=o.toString(),e)),{})}(o):{};return fetch("https://alb.reddit.com/track",{method:"POST",mode:"no-cors",body:JSON.stringify({encryptedTrackingId:e.encryptedTrackingId,encryptedTrackingPayload:t.encryptedTrackingPayload,additionalEventMetadata:t.additionalEventMetadata,clientImpressionID:t.impressionId,...n})}).then((()=>{is(i,"succeeded",e)})).catch((t=>{const o="Sentry"in window?window.Sentry:void 0;o?.captureException&&o.captureException(new Error(`Error in POST response from pixel server for pixel of type ${e.type}: ${t}`)),is(i,"failed",e)})),Zr(e,t)},h0:hs,h1:e=>as()?cs({timer:{millis:Math.floor(e-ds()),type:io.TTCHybrid}}):cs({timer:{millis:Math.floor(e),type:io.TTCDeeplink}}),h2:"CommentDeletionModal_NHxzSQ",h3:{Followed:"FOLLOWED",Unfollowed:"UNFOLLOWED"},h4:{DoNotSend:"DO_NOT_SEND",Send:"SEND"},h5:{None:"NONE",Saved:"SAVED"},h6:{Approval:"APPROVAL",Ban:"BAN",ContentChange:"CONTENT_CHANGE",Invite:"INVITE",Mute:"MUTE",Note:"NOTE",Removal:"REMOVAL",Spam:"SPAM"},h7:"theme",h8:{Epic:"EPIC",Legendary:"LEGENDARY",Rare:"RARE",Test:"TEST"},h9:f,hA:Ud,hB:function(e){return Math.ceil(e.scrollTop)>=e.scrollHeight-e.offsetHeight},hC:function(e){return 0===Math.floor(e.scrollTop)},hD:Zd,hE:il,hF:ol,hG:qd,hH:rs,hI:"unloadPixelTimeout",hJ:"ti",hK:es,get hL(){return Jn},get hM(){return ar},hN:e=>e.reduce(((e,t)=>(e[t]={maxContinuousTime:0,currentContinuousTime:0,totalTime:0},e)),{}),hO:or,hP:nr,hQ:rr,get hR(){return ir},hS:function(e){return void 0!==e.pixelEvent},hT:vr,get hU(){return Zn},hV:br,hW:()=>({}),hX:function(e){if(e)switch(e){case ao.CompactView:return"classic";case ao.CardView:return"card";default:return}},hY:{source:"post",action:"view",noun:"ad"},hZ:is,h_:Xr,ha:E,hb:"promote-post-modal",hc:"PromotePostModal_kKSj67",hd:"PromotePostInsightsPanel_MnMmHF",he:P,hf:{Month:"MONTH",Months_3:"MONTHS_3",Months_6:"MONTHS_6",Week:"WEEK"},hg:{All:"ALL",Day:"DAY",Hour:"HOUR",Month:"MONTH",Months_3:"MONTHS_3",Week:"WEEK",Year:"YEAR"},hh:Tn,hi:"token_v2",hj:"reddit_session",get hk(){return va},hl:pa,hm:{BackgroundImage:"BACKGROUND_IMAGE",BannerBackgroundImage:"BANNER_BACKGROUND_IMAGE",BannerPositionedImage:"BANNER_POSITIONED_IMAGE",CommunityIcon:"COMMUNITY_ICON",MenuBackgroundImage:"MENU_BACKGROUND_IMAGE",MobileBannerImage:"MOBILE_BANNER_IMAGE",SecondaryBannerPositionedImage:"SECONDARY_BANNER_POSITIONED_IMAGE",WidgetImage:"WIDGET_IMAGE"},hn:{Hidden:"HIDDEN",None:"NONE"},ho:{None:"NONE",Spoiler:"SPOILER"},hp:{None:"NONE",Nsfw:"NSFW"},hq:{None:"NONE",Saved:"SAVED"},hr:{Followed:"FOLLOWED",Unfollowed:"UNFOLLOWED"},hs:"FlairReorderModal_BhtyTj",ht:function(){return ta},hu:ma,hv:"ModActivityPreviewHovercard_QsHM7h",hw:"brand-unsafe-post-view",hx:{Female:"FEMALE",Male:"MALE",NonBinary:"NON_BINARY",OptOut:"OPT_OUT",UserDefined:"USER_DEFINED"},hy:{BehavioralDynamicProduct:"BEHAVIORAL_DYNAMIC_PRODUCT",BehavioralKeyword:"BEHAVIORAL_KEYWORD",ContextualDynamicProduct:"CONTEXTUAL_DYNAMIC_PRODUCT",ContextualKeyword:"CONTEXTUAL_KEYWORD",CustomAudience:"CUSTOM_AUDIENCE",Device:"DEVICE",DynamicProduct:"DYNAMIC_PRODUCT",DynamicProductRetargeting:"DYNAMIC_PRODUCT_RETARGETING",EngagementRetargeting:"ENGAGEMENT_RETARGETING",LookalikeAudience:"LOOKALIKE_AUDIENCE",MobileCarrier:"MOBILE_CARRIER",PixelRetargeting:"PIXEL_RETARGETING",PixelRetargetingCohort:"PIXEL_RETARGETING_COHORT",RunOfSite:"RUN_OF_SITE",Takeover:"TAKEOVER",ThirdPartyAudience:"THIRD_PARTY_AUDIENCE"},hz:e=>e.startsWith("a2_")?e.replace("a2_",""):e.startsWith("t2_")?e.replace("t2_",""):e,i:Va,get i$(){return Wu},i0:function(e,t,o){const i=!$n(e.url);if(ts(e.type)&&!i)return e.url;const n=new Image;n.onload=()=>{is(o,"succeeded",e)},n.onerror=t=>{const i="Sentry"in window?window.Sentry:void 0;i?.captureException&&i.captureException(new Error(`Error in GET response from pixel server for pixel of type ${e.type}: ${t}`)),is(o,"failed",e)};let r=e.url;return t&&!i&&(r=Sr(r,t)),n.src=r,e.url},i1:function(e){const t=e===Xt.DESKTOP?"shreddit_desktop":"shreddit_mobile";Wn({type:Rn.Counter,name:"ads_third_party_impression_tracker_total",value:1,labels:{client_platform:t}})},i2:os,i3:Zr,i4:function(e){const t=new Map;return e.forEach((e=>{const o=t.get(e.type)||[];o.push(e),t.set(e.type,o)})),t},get i5(){return Ws},get i6(){return Hs},i7:Dp,i8:Lp,i9:Up,iA:{Button:"BUTTON",Calendar:"CALENDAR",CommunityList:"COMMUNITY_LIST",Custom:"CUSTOM",IdCard:"ID_CARD",Image:"IMAGE",Menu:"MENU",PostFlair:"POST_FLAIR",SubredditRules:"SUBREDDIT_RULES",TextArea:"TEXT_AREA"},iB:{Compact:"COMPACT",Full:"FULL"},iC:{Image:"IMAGE",Text:"TEXT"},iD:It,iE:Mt,iF:{Cloud:"CLOUD",List:"LIST"},iG:{Community:"COMMUNITY",Premium:"PREMIUM",Unspecified:"UNSPECIFIED"},iH:{Aborted:"ABORTED",Activating:"ACTIVATING",Active:"ACTIVE",Canceled:"CANCELED",Failed:"FAILED",Pending:"PENDING",Terminated:"TERMINATED",Unspecified:"UNSPECIFIED"},iI:"https://accounts.google.com",iJ:"https://appleid.apple.com",get iK(){return Kl},iL:{Granted:"GRANTED",Revoked:"REVOKED"},iM:{Apple:"APPLE",Google:"GOOGLE"},iN:fi,iO:vi,get iP(){return Fu},iQ:"/answers/",iR:"guides-search-input",iS:e=>{const{errorData:t,userQuota:o}=e;if(t){const e=t.type===Gu.GuidesQuotaExceededError;return{isLoading:!1,timeUntilResetSeconds:t.retryAfterSeconds??-1,isUserReachedQueryLimit:e,queriesRemaining:e?0:-1}}return{isLoading:!e.isResponseFinished,timeUntilResetSeconds:-1,isUserReachedQueryLimit:0===o.queriesRemaining,queriesRemaining:o.queriesRemaining}},iT:"PremiumModal_r1FXhv",iU:"guides-related-post-list",iV:"tl",iW:Uu,iX:"sources-container-loading-template",iY:"guides-sources-container",iZ:"isSourcesContainer",i_:100,ia:xp,ib:Fp,ic:Vp,id:kp,ie:po,ig:{CAPTIONS_ENABLED:"captions-enabled",CURRENT_TIME:"current-time",DURATION:"duration",ENDED:"ended",ERROR:"error",FULLSCREEN:"fullscreen",LOADING:"loading",MUTED:"muted",PLAYING:"playing",PAUSED:"paused",SHOW_POSTER:"show-poster",SHOW_RECOMMENDATION_OVERLAY:"show-rec-overlay",USER_IDLE:"user-idle"},ih:3e4,get ii(){return xl},get ij(){return kl},get ik(){return tl},il:e=>e.match($u),im:hu,io:{Beacons:"BEACONS",BuyMeACoffee:"BUY_ME_A_COFFEE",Cameo:"CAMEO",CashApp:"CASH_APP",Custom:"CUSTOM",Discord:"DISCORD",Facebook:"FACEBOOK",Indiegogo:"INDIEGOGO",Instagram:"INSTAGRAM",Kickstarter:"KICKSTARTER",Kofi:"KOFI",Linktree:"LINKTREE",Onlyfans:"ONLYFANS",Patreon:"PATREON",Paypal:"PAYPAL",Reddit:"REDDIT",Shopify:"SHOPIFY",Soundcloud:"SOUNDCLOUD",Spotify:"SPOTIFY",Substack:"SUBSTACK",Tiktok:"TIKTOK",Tumblr:"TUMBLR",Twitch:"TWITCH",Twitter:"TWITTER",Venmo:"VENMO",Youtube:"YOUTUBE"},ip:{DisplayText:"DISPLAY_TEXT",Url:"URL",Username:"USERNAME"},iq:{None:"NONE",NotAllowed:"NOT_ALLOWED",Required:"REQUIRED"},ir:{Animated:"ANIMATED",Expression:"EXPRESSION",Giphy:"GIPHY",Static:"STATIC",Video:"VIDEO"},is:{Any:"ANY",Link:"LINK",Self:"SELF"},it:{All:"ALL",Mods:"MODS",ModsAndContributors:"MODS_AND_CONTRIBUTORS",Off:"OFF",Unknown:"UNKNOWN"},iu:{Blacklist:"BLACKLIST",None:"NONE",Whitelist:"WHITELIST"},iv:{CommunityChat:"COMMUNITY_CHAT",Edited:"EDITED",HiddenReported:"HIDDEN_REPORTED",Mod:"MOD",Removed:"REMOVED",Reported:"REPORTED",Unmoderated:"UNMODERATED"},iw:{SortDate:"SORT_DATE",SortDateReverse:"SORT_DATE_REVERSE",SortReports:"SORT_REPORTS",SortReportsReverse:"SORT_REPORTS_REVERSE"},ix:"ModQueueActivityPanel_wWhGwy",iy:"ModQueuePdp_JyX3BC",iz:Ui,j:p,j$:"report",j0:"guides_reaction_panel_id",j1:"guides-upvote-btn",j2:"guides-downvote-btn",j3:"fade-in-text",j4:"answers-translation-icon-template",get j5(){return Gu},j6:"GCCA",j7:"true",j8:"https://support.reddithelp.com/hc/articles/32026729424916-Reddit-Answers-Currently-in-Beta",j9:Hu,jA:"scroll-container",jB:{minHeight:"5rem",display:"none"},jC:"post-submit-form",jD:"submit-post-button",jE:"save-draft-button",jF:"date-picker-button",jG:{Crosspost:"CROSSPOST",Gallery:"GALLERY",Image:"IMAGE",Link:"LINK",Poll:"POLL",Prediction:"PREDICTION",Spoiler:"SPOILER",Streaming:"STREAMING",Talk:"TALK",Text:"TEXT",Video:"VIDEO",Videogif:"VIDEOGIF"},get jH(){return W},jI:"submit-operation-errors",jJ:"save-draft-failed-modal",jK:e=>e?"Body text":"Body text (optional)",jL:{Link:"LINK",Markdown:"MARKDOWN",Richtext:"RICHTEXT"},jM:"media-loss-draft-save-modal",jN:"SubredditPostingEligibilityModalActivatable_v3LpNz",jO:"draft-load-failure-modal",jP:"WhereToPost_rYDLdr",jQ:"PurchaseDialog_Ytnr5G",jR:Ho,jS:Q,jT:"DevvitAppPermissionsConsentDialog_8jqQGV",jU:Do,jV:Lu,jW:Nu,get jX(){return hd},jY:Be,jZ:"/svc/shreddit/promote-post-modal-preview",j_:"/svc/shreddit/promote-post-payment-authorization",ja:"done",jb:{queriesRemaining:-1,timeUntilResetSeconds:-1},jc:"answers-product",jd:"answers-quote",je:"ra:quote",jf:"ra:carousel",get jg(){return qu},jh:"guides-response-container-ssr",ji:"guides-response-container-online-template",jj:"guides-response-container-streaming",jk:function(e){switch(e){case Vu.GqlRt:return Bu.GqlRt;case Vu.GqlRtStaging:return Bu.GqlRtStaging;default:return Bu.Default}},jl:"interestRegistered",jm:ku,jn:xu,jo:"guides-citation-highlight-zone",jp:"guides-citation-close-btn",jq:"guides-citation-template",jr:"guides-split-screen-view-header",js:"guides-recommended-posts-template",jt:"h-[calc(100dvh-var(--shreddit-header-height))]",ju:800,jv:({postIds:e,isSources:t,translationLanguage:o=""})=>{const i=o?`&tl=${o}`:"";return t?`${Uu}/${e}?isSources=true${i}`:`${Uu}/${e}?aside=true${i}`},jw:3,jx:"GuidesConfirmationModal_6mWYhL",jy:"guides-confirmation-modal",jz:"invisible",k:Ul,k0:"DevvitPrivacyModal_n98hrb",k1:"original",k2:"show",k3:{And:"AND"},k4:"forceAutoplay",k5:"X-Auth-Token",k6:"x-auth-token",get k7(){return Mp},get k8(){return Bp},k9:{PROGRESS_FILL_RATE:"--progress-fill-rate",PREVIEW_VIDEO_LEFT_PX:"--preview-video-left-px",SLIDER_BALL_LEFT_PX:"--slider-ball-left-px",VOLUME_FILL_RATE:"--volume-fill-rate"},ka:"RecommendedMediaOverlay_tt3d9y",kb:function(e){e.preventDefault(),e.stopPropagation()},kc:"prefers_reduced_motion",kd:"is_video_autoplay_disabled",ke:"prefers_reduced_motion_sync",kf:{source:"post",action:"click",noun:"ad"},kg:"SHREDDIT-SIDEBAR-AD",kh:"SHREDDIT-COMMENTS-PAGE-AD",ki:"shreddit_rpl_action_bar_update",kj:function(e,t=zt){const o=[];if(!e.length)return o;e.sort(((e,t)=>(void 0===e.level?Ce.none:e.level)-(void 0===t.level?Ce.none:t.level)));let i={},n=e[0].level,r=0;function s(){for(const e in i){const r=i[e];if(1===r.length)o.push(r[0]);else{const i=[];let s=0;for(const e of r)e.meta&&i.push(e.meta),s+=void 0===e.count?1:e.count;o.push(t(n,e,i,s))}}}for(const t of e){t.level!==n&&(s(),i={},n=t.level,r=0);const e=t.message||"";Object.prototype.hasOwnProperty.call(i,e)?i[e].push(t):i[e]=[t],r+=t.count||1}return r>0&&s(),o},kk:Kt,kl:Yt,km:{Gif:"GIF",Jpeg:"JPEG",Mp4:"MP4",Png:"PNG",Quicktime:"QUICKTIME",Webp:"WEBP"},l:si,m:"UserFlairAssignModal_bRnWkC",n:d,get o(){return Pe},p:te,get q(){return yu},r:R,get s(){return b},t:M,u:"CommunityCreationFlow_qKTVdG",get v(){return Ut},get w(){return eo},get x(){return Ce},y:function(e,t){return c({descriptor:o=>{const i={get(){var t,o;return null!==(o=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==o?o:null},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof o?Symbol():"__"+o;i.get=function(){var o,i;return void 0===this[t]&&(this[t]=null!==(i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(e))&&void 0!==i?i:null),this[t]}}return i}})},z:w}}));