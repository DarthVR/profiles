SML.di("./shell-e48e5956.js",import.meta.url,"shelle48e5956");SML.di("./icon-c33661e6.js",import.meta.url,"iconc33661e6");
SML.dm("shredditfeedpageloadingf5f13520",["shelle48e5956","iconc33661e6"],(async(e,a)=>{let t=class extends(e.g(a.s)){constructor(){super(...arguments),this.showErrorMessage=!1,this.handleFaceplateError=a=>{const t=function(e){return"faceplate-error"===e.type}(a)?a.detail.message:"page load returned no data";this.trackEvent(e.b({source:"feed",action:"failed",noun:"page_load"},{action_info:{reason:t,page_type:this.pageType}})),this.showErrorMessage=!0},this.handleFaceplateLoadStart=e=>{this.showErrorMessage=!1},this.handleRetry=()=>{this.showErrorMessage=!1,this.faceplatePartial?.load()}}get faceplatePartial(){return this.closest("faceplate-partial")}connectedCallback(){super.connectedCallback(),this.faceplatePartial?.addEventListener("faceplate-error",this.handleFaceplateError),this.faceplatePartial?.addEventListener("faceplate-load",this.handleFaceplateError),this.faceplatePartial?.addEventListener("faceplate-load-start",this.handleFaceplateLoadStart)}disconnectedCallback(){super.disconnectedCallback(),this.faceplatePartial?.removeEventListener("faceplate-error",this.handleFaceplateError),this.faceplatePartial?.removeEventListener("faceplate-load",this.handleFaceplateError),this.faceplatePartial?.removeEventListener("faceplate-load-start",this.handleFaceplateLoadStart)}render(){return a.x` ${this.showErrorMessage?this.renderErrorState():this.renderLoadingState()} `}renderLoadingState(){return a.x`<shreddit-loading></shreddit-loading>`}renderErrorState(){return a.x` <div class="flex flex-col items-center justify-center h-[192px] text-center m-md"> <div class="mb-md text-14 font-semibold"> There was an error loading the next page, please try again. </div> ${e.r({appearance:"primary",size:e.s.Large,children:"Retry",attributes:{onclick:this.handleRetry}})} </div> `}};t.styles=[e.t],e._([e.n({type:String,attribute:"page-type"})],t.prototype,"pageType",void 0),e._([e.d()],t.prototype,"showErrorMessage",void 0),t=e._([e.e("shreddit-feed-page-loading")],t)}));
SML.dm("agegatestandaloneclientjsb13e879d",["shelle48e5956","iconc33661e6"],(async(e,t)=>{const n=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>n(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&n(e.shadowRoot,t))return!0;for(const o of e.querySelectorAll("slot"))if(o.assignedElements().some((e=>n(e,t))))return!0;return!1};const o=new WeakMap;function r(e,t=document){let n=o.get(t);n||(n=new Map,o.set(t,n));let r=n.get(e);return r||(r={key:e},n.set(e,r)),r}const i=Symbol("mixins/pagination"),a=function(t){const n=new WeakMap,o=e.ha();return{getContextKey:(e,t)=>r(e,t),appointLeader(e,r){if(n.has(r)){if(n.get(r).isConnected)throw new Error(`Cannot appoint leader for key "${r.key}" in the same context twice.`)}n.set(r,e);const i=o.getRegisteredElements(r);if(i)for(const n of i)t(e,n)},dismissLeader(e,t){const o=n.get(t);o&&o===e&&n.delete(t)},getLeader:e=>n.get(e),registerFollower(e,r){o.register(r,e);const i=n.get(r);i&&t(i,e)},unregisterFollower(e,t){o.unregister(t,e)},getFollowers:e=>o.getRegisteredElements(e)}}(((e,t)=>{t.syncPagination(e)}));const s=new WeakMap;const l=({selected:n,selectedIcon:o,size:r=e.s.Medium,unselectedIcon:i,...a})=>{const{html:s}=t.g();return e.he({...a,attributes:{...a.attributes},size:r,selected:n,leadingIcon:n?o:i,trailingIcon:s`<span class="inline-flex dropdown-icon ${a.children&&"ml-2xs"}"> ${t.Y({size:r===e.s.Small?t.I.Small:t.I.Medium})} </span>`,dropdown:!0})};function c(e){const t={};return(n,o)=>{const r=((e,t)=>t?e+JSON.stringify(t):e)(n,o);return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=new e(n,o)}}const d=c(Intl.NumberFormat),u=c(Intl.RelativeTimeFormat),h=c(Intl.DateTimeFormat);let m="RelativeTimeFormat"in Intl;const p=6e4;function f(e){const t=Math.abs(e.diff);switch(e.unit){case"minutes":return`${t} min. ago`;case"hours":return`${t} hr. ago`;case"days":return t>1?`${t} days ago`:`${t} day ago`;case"months":return`${t} mo. ago`;case"years":return`${t} yr. ago`;default:!function(e){throw new Error("Unexpected object: "+e)}(e.unit)}}const g=()=>e.v.get(e.kc),b=()=>e.v.get(e.ke),v=t=>t.placement===e.b1.FEED,w=t=>t.placement===e.b1.COMMENTS_PAGE||t.placement===e.b1.COMMENT_TREES,_=({post:t,placement:n})=>t&&w(t)&&t.isPdpCombined?e.b1.COMMENTS_PAGE:n||t?.placement,x=({postId:t,adMedia:n,impressionId:o,post:r,clickLocation:i=e.A.UNKNOWN,galleryIndex:a,page_request_id:s,placement:l})=>{const c={post:{id:t,subreddit_id:r?.subredditId,author_id:r?.authorId,promoted:!0},ad_click:{location:i},ad_metadata:{impression_id:o,placement:_({post:r,placement:l})},feed:e.hW(),action_info:{page_request_id:s}};return r&&v(r)&&(c.action_info||(c.action_info={}),c.action_info.position=r.feedIndex,c.screen||(c.screen={}),c.screen={},c.screen.view_type=e.hX(r.viewType)),r?.galleryItems&&(c.gallery={position:a,num_items:r.galleryItems.length}),r?.countryCode&&(c.geo={country_code:r.countryCode}),n&&(c.media={height:Math.round(n?.height),width:Math.round(n?.width)}),e.b(e.kf,c)},C=t=>{const n=t.closest("shreddit-ad-post")||t.closest("shreddit-comments-page-ad")||t.closest("ad-event-tracker")||t.closest("shreddit-sidebar-ad");if(n)return n;{const n=t.getRootNode(),o=n instanceof ShadowRoot?n.host:null;return o?.tagName===e.kg||o?.tagName===e.kh?o:null}};const y="combined";function E(e){return e.assignedNodes({flatten:!0}).filter((e=>!!(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)))).length>0}function $(e){return void 0===e?e:e.startsWith("selector(")?e.replace(/^selector\(/,"").replace(/\)$/,""):e}function I(e){return{...e,trigger:"object"==typeof e.trigger?S(e.trigger):e.trigger,target:$(e.target),template:$(e.template),triggerElem:$(e.triggerElem)}}function S(e){return"event"in e?e.filters?`event(${e.event}(${JSON.stringify(e.filters)}))`:`event(${e.event})`:"topic"in e?e.filters?`subscribe(${e.topic}(${JSON.stringify(e.filters)}))`:`subscribe(${e.topic})`:""}function M(e){return n=>e(t.x,t.l,n)}const k=M((function(e,t,n){return e`<ac-activate ?once="${(n=I(n)).once}" ?scoped="${n.scoped}" args="${t(n.args?JSON.stringify(n.args):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" name="${n.name.toString()}" query-params="${t(n.queryParams?JSON.stringify(n.queryParams):void 0)}" render-mode="${t(n.renderMode)}" route-params="${t(n.routeParams?JSON.stringify(n.routeParams):void 0)}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-activate>`})),T=M((function(e,t,n){return e`<ac-dispatch ?once="${(n=I(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" detail="${t(n.detail?JSON.stringify(n.detail):void 0)}" event-name="${n.eventName}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-dispatch>`})),N=M((function(e,t,n){return e`<ac-gql-mutate ?once="${(n=I(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" id="${t(n.id)}" operation="${n.operation}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}" variables="${t(n.variables?JSON.stringify(n.variables):void 0)}"></ac-gql-mutate>`}));function L(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var o=e[n];if("*"!==o&&"+"!==o&&"?"!==o)if("\\"!==o)if("{"!==o)if("}"!==o)if(":"!==o)if("("!==o)t.push({type:"CHAR",index:n,value:e[n++]});else{var r=1,i="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--r){s++;break}}else if("("===e[s]&&(r++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=e[s++]}else i+=e[s++]+e[s++];if(r)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=s}else{for(var a="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;a+=e[s++]}if(!a)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:a}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),o=t.prefixes,r=void 0===o?"./":o,i="[^".concat(function(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}(t.delimiter||"/#?"),"]+?"),a=[],s=0,l=0,c="",d=function(e){if(l<n.length&&n[l].type===e)return n[l++].value},u=function(e){var t=d(e);if(void 0!==t)return t;var o=n[l],r=o.type,i=o.index;throw new TypeError("Unexpected ".concat(r," at ").concat(i,", expected ").concat(e))},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};l<n.length;){var m=d("CHAR"),p=d("NAME"),f=d("PATTERN");if(p||f){var g=m||"";-1===r.indexOf(g)&&(c+=g,g=""),c&&(a.push(c),c=""),a.push({name:p||s++,prefix:g,suffix:"",pattern:f||i,modifier:d("MODIFIER")||""})}else{var b=m||d("ESCAPED_CHAR");if(b)c+=b;else if(c&&(a.push(c),c=""),d("OPEN")){g=h();var v=d("NAME")||"",w=d("PATTERN")||"",_=h();u("CLOSE"),a.push({name:v||(w?s++:""),pattern:v&&!w?i:w,prefix:g,suffix:_,modifier:d("MODIFIER")||""})}else u("END")}}return a}function D(e,t){return function(e,t){void 0===t&&(t={});var n=function(e){return e&&e.sensitive?"":"i"}(t),o=t.encode,r=void 0===o?function(e){return e}:o,i=t.validate,a=void 0===i||i,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",o=0;o<e.length;o++){var i=e[o];if("string"!=typeof i){var l=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,d="*"===i.modifier||"+"===i.modifier;if(Array.isArray(l)){if(!d)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(0===l.length){if(c)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var u=0;u<l.length;u++){var h=r(l[u],i);if(a&&!s[o].test(h))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));n+=i.prefix+h+i.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var m=d?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(m))}}else{h=r(String(l),i);if(a&&!s[o].test(h))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));n+=i.prefix+h+i.suffix}}else n+=i}return n}}(L(e,t),t)}const F="subredditName",A=["r","x"],P=A.join("|");const O=t.e(class extends t.i{constructor(){super(...arguments),this.key=t.A}render(e,t){return this.key=e,t}update(e,[n,o]){return n!==this.key&&(t.bN(e),this.key=n),o}});const R={plain:"plain",plainInverted:"plainInverted",error:"destructive",brand:"brand",caution:"plain",success:"success"};const U=e=>!e.hasAttribute("disabled"),z=e=>e.tabIndex=0,B=e=>e.tabIndex=-1,V=e=>0===e.tabIndex&&U(e),H=e=>(z(e),e.focus(),e),j=e=>(B(e),e),q=e=>{for(let t=0;t<e.length;t++){const n=e[t];if(V(n))return[n,t]}return null},G=e=>{for(const t of e)if(U(t))return t;return null},Z=e=>{const t=G(e);return t?H(t):null},W=e=>{const t=(e=>{for(let t=0;t<e.length;t++){const n=e[e.length-1-t];if(U(n))return n}return null})(e);return t?H(t):null},J=Symbol.for("rpl-menu-item");const K={xs:12,sm:16,md:20,lg:24,xl:32,"2xl":48},Q=({path:e,iconName:n,defaultSvgFill:o="currentColor",defaultPathFill:r})=>({className:i,size:a="md",svgFill:s=o,pathFill:l=r}={size:"md",pathFill:r})=>t.x`<svg rpl class="${t.l(i)}" fill="${s}" height="${K[a]}" width="${K[a]}" icon-name="${n}" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> ${e({pathFill:l})} </svg>`,X=Q({iconName:"caret-right-outline",defaultSvgFill:"currentColor",defaultPathFill:void 0,path:({pathFill:e})=>t.e5`<path d="m7.942 15.442-.884-.884L11.616 10 7.058 5.442l.884-.884 5 5a.624.624 0 0 1 0 .884l-5 5Z" fill="${t.l(e)}"></path>`}),Y=Q({iconName:"caret-left-outline",defaultSvgFill:"currentColor",defaultPathFill:void 0,path:e=>t.e5`<path d="m12.058 15.442-5-5a.624.624 0 0 1 0-.884l5-5 .884.884L8.384 10l4.558 4.558-.884.884Z" fill="${t.l(e.pathFill)}"></path>`}),ee=Q({iconName:"checkmark-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M7.5 15.958a1.102 1.102 0 0 1-.778-.322l-5.429-5.429 1.414-1.414L7.5 13.586 17.793 3.293l1.414 1.414L8.278 15.636a1.101 1.101 0 0 1-.778.322Z" fill="${t.l(e.pathFill)}"></path>`}),te=Q({iconName:"checkbox-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M16.375 2H3.625C3.19419 2.00053 2.78117 2.1719 2.47654 2.47654C2.1719 2.78117 2.00053 3.19419 2 3.625V16.375C2.00053 16.8058 2.1719 17.2188 2.47654 17.5235C2.78117 17.8281 3.19419 17.9995 3.625 18H16.375C16.8058 17.9995 17.2188 17.8281 17.5235 17.5235C17.8281 17.2188 17.9995 16.8058 18 16.375V3.625C17.9995 3.19419 17.8281 2.78117 17.5235 2.47654C17.2188 2.1719 16.8058 2.00053 16.375 2ZM9.03 13.03C8.9605 13.0998 8.87791 13.1552 8.78696 13.1929C8.696 13.2307 8.59849 13.2502 8.5 13.2502C8.40151 13.2502 8.304 13.2307 8.21304 13.1929C8.12209 13.1552 8.0395 13.0998 7.97 13.03L5.97 11.03L7.03 9.97L8.5 11.439L12.97 6.97L14.03 8.03L9.03 13.03Z" fill="${t.l(e.pathFill)}"></path>`}),ne=Q({iconName:"checkbox-outline",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M16.375 18H3.625C3.19419 17.9995 2.78117 17.8281 2.47654 17.5235C2.1719 17.2188 2.00053 16.8058 2 16.375V3.625C2.00053 3.19419 2.1719 2.78117 2.47654 2.47654C2.78117 2.1719 3.19419 2.00053 3.625 2H16.375C16.8058 2.00053 17.2188 2.1719 17.5235 2.47654C17.8281 2.78117 17.9995 3.19419 18 3.625V16.375C17.9995 16.8058 17.8281 17.2188 17.5235 17.5235C17.2188 17.8281 16.8058 17.9995 16.375 18ZM3.625 3.25C3.52554 3.25 3.43016 3.28951 3.35983 3.35983C3.28951 3.43016 3.25 3.52554 3.25 3.625V16.375C3.25 16.4745 3.28951 16.5698 3.35983 16.6402C3.43016 16.7105 3.52554 16.75 3.625 16.75H16.375C16.4745 16.75 16.5698 16.7105 16.6402 16.6402C16.7105 16.5698 16.75 16.4745 16.75 16.375V3.625C16.75 3.52554 16.7105 3.43016 16.6402 3.35983C16.5698 3.28951 16.4745 3.25 16.375 3.25H3.625Z" fill="${t.l(e.pathFill)}"></path>`}),oe=Q({iconName:"radio-button-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M10 19C7.92015 18.998 5.90531 18.2749 4.29873 16.954C2.69215 15.6331 1.59322 13.796 1.18915 11.7558C0.785071 9.7155 1.10085 7.59826 2.08268 5.76471C3.06451 3.93115 4.65166 2.49471 6.57376 1.70008C8.49586 0.905442 10.634 0.801774 12.624 1.40673C14.6139 2.01169 16.3326 3.28785 17.4872 5.01782C18.6418 6.74779 19.1609 8.82455 18.9561 10.8943C18.7513 12.9641 17.8353 14.8989 16.364 16.369C15.5287 17.205 14.5366 17.8677 13.4444 18.3192C12.3523 18.7707 11.1818 19.0021 10 19ZM10 2.254C8.72575 2.25395 7.47113 2.56819 6.34732 3.16888C5.22351 3.76957 4.2652 4.63817 3.55729 5.69773C2.84939 6.75729 2.41374 7.97509 2.28895 9.24324C2.16416 10.5114 2.35408 11.7908 2.84188 12.968C3.32968 14.1452 4.1003 15.1839 5.08547 15.9921C6.07064 16.8004 7.23995 17.3531 8.4898 17.6015C9.73965 17.8498 11.0315 17.786 12.2508 17.4158C13.4701 17.0456 14.5793 16.3803 15.48 15.479C16.5641 14.3956 17.3024 13.015 17.6016 11.5119C17.9007 10.0088 17.7472 8.45067 17.1605 7.0348C16.5738 5.61893 15.5803 4.40892 14.3057 3.55791C13.0311 2.70689 11.5326 2.25311 10 2.254ZM13.536 6.464C12.8367 5.76487 11.9458 5.2888 10.9759 5.09598C10.0061 4.90316 9.0008 5.00225 8.08724 5.38073C7.17369 5.75921 6.39288 6.40007 5.84353 7.22229C5.29418 8.04451 5.00097 9.01115 5.00097 10C5.00097 10.9889 5.29418 11.9555 5.84353 12.7777C6.39288 13.5999 7.17369 14.2408 8.08724 14.6193C9.0008 14.9978 10.0061 15.0968 10.9759 14.904C11.9458 14.7112 12.8367 14.2351 13.536 13.536C14.4725 12.5975 14.9985 11.3258 14.9985 10C14.9985 8.67418 14.4725 7.4025 13.536 6.464Z" fill="${t.l(e.pathFill)}">`}),re=Q({iconName:"radio-button-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M10 19C7.92015 18.998 5.90531 18.2749 4.29873 16.954C2.69215 15.6331 1.59322 13.796 1.18915 11.7558C0.785071 9.7155 1.10085 7.59826 2.08268 5.76471C3.06451 3.93115 4.65166 2.49471 6.57376 1.70008C8.49586 0.905442 10.634 0.801774 12.624 1.40673C14.6139 2.01169 16.3326 3.28785 17.4872 5.01782C18.6418 6.74779 19.1609 8.82455 18.9561 10.8943C18.7513 12.9641 17.8353 14.8989 16.364 16.369C15.5287 17.205 14.5366 17.8677 13.4444 18.3192C12.3523 18.7707 11.1818 19.0021 10 19ZM10 2.254C8.72575 2.25395 7.47113 2.56819 6.34732 3.16888C5.22351 3.76957 4.2652 4.63817 3.55729 5.69773C2.84939 6.75729 2.41374 7.97509 2.28895 9.24324C2.16416 10.5114 2.35408 11.7908 2.84188 12.968C3.32968 14.1452 4.1003 15.1839 5.08547 15.9921C6.07064 16.8004 7.23995 17.3531 8.4898 17.6015C9.73965 17.8498 11.0315 17.786 12.2508 17.4158C13.4701 17.0456 14.5793 16.3803 15.48 15.479C16.5641 14.3956 17.3024 13.015 17.6016 11.5119C17.9007 10.0088 17.7472 8.45067 17.1605 7.0348C16.5738 5.61893 15.5803 4.40892 14.3057 3.55791C13.0311 2.70689 11.5326 2.25311 10 2.254Z" fill="${t.l(e.pathFill)}">`});const ie=function(e){return e},ae=new Map([["image/png",e.km.Png],["image/x-png",e.km.Png],["image/gif",e.km.Gif],["image/jpeg",e.km.Jpeg],["image/webp",e.km.Webp],["video/mp4",e.km.Mp4],["video/quicktime",e.km.Quicktime]]);let se={uploadErrorMessage:()=>"There was an error uploading the file.",uploadToS3ErrorMessage:()=>"Failed to upload file to S3.",genericErrorMessage:()=>"Something went wrong",unsupportedMimetype:e=>`${e} files are not supported.`};function le(e,t){const n=new FormData;return t?.forEach((({header:e,value:t})=>{t&&n.append(e,t)})),n.append("file",e),n}function ce(e){return(new DOMParser).parseFromString(e,"text/xml")}function de(e){window.Sentry?.captureMessage?.(e)}const ue={"3xs":"w-[1rem] h-[1rem]","2xs":"w-[1rem] h-[1rem]",xs:"w-[1.5rem] h-[1.5rem]",sm:"w-[2rem] h-[2rem]",md:"w-[2.5rem] h-[2.5rem]",lg:"w-[3rem] h-[3rem]",xl:"w-[3.5rem] h-[3.5rem]","2xl":"w-[4rem] h-[4rem]","3xl":"w-[5.5rem] h-[5.5rem]"},he={"3xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]","2xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]",xs:"w-[1.5rem] h-[1.5rem] min-w-[1.5rem] min-h-[1.5rem]",sm:"w-[2rem] h-[2rem] min-w-[2rem] min-h-[2rem]",md:"w-[2.5rem] h-[2.5rem] min-w-[2.5rem] min-h-[2.5rem]",lg:"w-[3rem] h-[3rem] min-w-[3rem] min-h-[3rem]",xl:"w-[2.875rem] h-[2.875rem] min-w-[2.875rem] min-h-[2.875rem]","2xl":"w-[3.25rem] h-[3.25rem] min-w-[3.25rem] min-h-[3.25rem]","3xl":"w-[4.5rem] h-[4.5rem] min-w-[4.5rem] min-h-[4.5rem]"},me={"3xs":"outline-offset-[0.125rem]","2xs":"outline-offset-[0.125rem]",xs:"outline-offset-[0.125rem]",sm:"outline-offset-[0.125rem]",md:"outline-offset-[0.125rem]",lg:"outline-offset-[0.1875rem]",xl:"outline-offset-[0.1875rem]","2xl":"outline-offset-[0.1875rem]","3xl":"outline-offset-[.25rem]"},pe={"3xs":"border","2xs":"border",xs:"border",sm:"border",md:"border-md",lg:"border-md",xl:"border-md","2xl":"border-lg","3xl":"border-lg"},fe={"3xs":"outline-1","2xs":"outline-1",xs:"outline-1",sm:"outline-1",md:"outline-2",lg:"outline-2",xl:"outline-2","2xl":"outline-4","3xl":"outline-4"},ge={"3xs":2,"2xs":2,xs:2,sm:4,md:4,lg:4,xl:6,"2xl":6,"3xl":6},be={"3xs":-5.4,"2xs":-5.4,xs:-5.4,sm:-7,md:-7,lg:-7,xl:-8.3,"2xl":-8.3,"3xl":-8.3},ve={"3xs":"-right-[0.0625rem]","2xs":"right-0",xs:"right-[0.05rem]",sm:"right-[0.10rem]",md:"-right-[0.0825rem]",lg:"-right-[0.125rem]",xl:"-right-[0.125rem]","2xl":"-right-[.65rem]","3xl":"-right-[.75rem]"},we={"3xs":"w-[.25rem] h-[.25rem] border","2xs":"w-[.25rem] h-[.25rem] border",xs:"w-[.25rem] h-[.25rem] border",sm:"w-[.375rem] h-[.375rem] border-2",md:"w-[.375rem] h-[.375rem] border-2",lg:"w-[.625rem] h-[.625rem] border-2",xl:"w-[.625rem] h-[.625rem] border-2","2xl":"w-[1rem] h-[1rem] border-2","3xl":"w-[1.25rem] h-[1.25rem] border-2"},_e={"3xs":"rounded-1","2xs":"rounded-1",xs:"rounded-1",sm:"rounded-2",md:"rounded-2",lg:"rounded-2",xl:"rounded-[.75rem]","2xl":"rounded-[.75rem]","3xl":"rounded-4"},xe=({ringColorClassName:e,size:t})=>e?`${e} outline ${fe[t]} ${me[t]}`:"",Ce=({...e})=>{const{html:n,ifDefined:o}=t.g(),{attributes:r,children:i,position:a="relative",size:s,status:l}=e;return n`<span class="inline-flex ${a} ${o(r?.className)} ${e.flip?"-scale-x-100":""}">${i}${$e({status:l,size:s})} </span>`},ye=({children:e,snoovatarSrc:n,avatarBgClassName:o,appearance:r})=>{const{html:i}=t.g();return i` <span style="${o||!n?"":`background: ${"media"===r?"var(--color-avatar-media-gradient)":"var(--color-avatar-gradient)"}`}" class="rounded-full absolute h-full w-full inline-flex justify-center ${o||""}"> ${e??t.A} </span>`},Ee=e=>{const{appearance:n}=e;return"collectible"===n?(({snoovatarSrc:e,snoovatarAlt:n,size:o,attributes:r,status:i,flip:a,lazy:s})=>{const{html:l}=t.g();return Ce({flip:a,size:o,status:i,children:l`${Me()} ${Se({size:o})}${Ie({snoovatarSrc:e,snoovatarAlt:n,size:o,lazy:s})}`,attributes:{...r,className:`${he[o]}`}})})(e):(({attributes:e,ringLayer:n,children:o,snoovatarAlt:r,snoovatarSrc:i,avatarBgClassName:a,size:s,ringColorClassName:l,status:c,appearance:d,flip:u,lazy:h})=>{const{html:m}=t.g(),p="default"===d?"box-border [&>:first-child]:rounded-[inherit] overflow-hidden":"",f=m`<span class="absolute rounded-full inset-0 border border-solid border-neutral-border-weak bg-transparent"></span>`;return Ce({flip:u,size:s,status:c,position:n?"absolute":"relative",attributes:{...e,className:`${xe({ringColorClassName:l,size:s})} fp-avatar-container rounded-full ${he[s]} isolate box-content`},children:m` ${i?t.A:ye({snoovatarSrc:i,appearance:d,avatarBgClassName:a,children:m`<span class="relative rounded-full overflow-hidden ${n?"border border-solid border-neutral-background":""} inline-flex w-full h-full ${p}">${o} ${"default"===d&&n?f:t.A} </span>`})} ${i?ke({snoovatarSrc:i,snoovatarAlt:r,size:s,ringColorClassName:l,avatarBgClassName:a,appearance:d,lazy:h}):t.A}`})})(e)},$e=({status:e,size:n})=>{const{html:o}=t.g();return e?o` <span class="${"online"===e?"bg-online":""} flex absolute bottom-0 rounded-full border-solid border-neutral-background bg-neutral-background ${ve[n]} ${pe[n]} ${we[n]}"> ${"online"===e?"":e} </span> `:""},Ie=({size:e,snoovatarAlt:n,snoovatarSrc:o,lazy:r})=>{const{html:i,svg:a}=t.g(),s=Math.random().toString(16).slice(2);return i`<div class="absolute h-full w-full" style="transform:translateY(${be[e]}%)"> <svg width="100%" height="100%" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden"> <defs> <clipPath id="${s}"> <path d="M120 0H0V96H22.0602C22.5169 98.2109 23.896 100.155 25.8949 101.309L56          118.691C58.4752 120.12 61.5248 120.12 64 118.691L94.1051 101.309C96.104 100.155 97.4831          98.2109 97.9398 96H120V0Z"/> </clipPath> </defs> ${r?a`<foreignObject clip-path="url(#${s})" width="100%" height="100%"> <img src="${o}" alt="${n}" loading="lazy"> </foreignObject>`:a`<image href="${o}" alt="${n}" clip-path="url(#${s})" height="100%" width="100%">`} </svg> </div>`},Se=({size:e})=>{const{html:n}=t.g();return n`<span class="absolute h-full w-full left-0"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 72 72" fill="none"> <path d="M34 3.4641C35.2376 2.74957 36.7624 2.74957 38 3.4641L63.1769 18C64.4145 18.7145 65.1769 20.035 65.1769 21.4641V50.5359C65.1769 51.965 64.4145 53.2855 63.1769 54L38 68.5359C36.7624 69.2504 35.2376 69.2504 34 68.5359L8.82309 54C7.58548 53.2855 6.82309 51.965 6.82309 50.5359V21.4641C6.82309 20.035 7.58548 18.7145 8.82309 18L34 3.4641Z" stroke="url(#paint0_diamond_26526_186798)" stroke-width="${ge[e]}" stroke-linejoin="round"/> <defs> <radialGradient id="paint0_diamond_26526_186798" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-7.4247 26.0998) rotate(15.9097) scale(50.0682 24082.5)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> </defs> </svg> </span>`},Me=()=>{const{html:e}=t.g();return e`<div class="absolute h-full w-full" style="transform:scale(${.95})"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" fill="none"> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint0_diamond_26026_173944)"/> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint1_linear_26026_173944)"/> <defs> <radialGradient id="paint0_diamond_26026_173944" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-6.59974 23.1999) rotate(15.9097) scale(44.5051 21406.7)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> <linearGradient id="paint1_linear_26026_173944" x1="23.5687" y1="22.7061" x2="44.1183" y2="53.4817" gradientUnits="userSpaceOnUse"> <stop stop-color="#004E5F"/> <stop offset="1" stop-color="#727CD8" stop-opacity="0.81"/> </linearGradient> </defs> </svg> </div>`},ke=({size:e,snoovatarAlt:n,snoovatarSrc:o,attributes:r,avatarBgClassName:i,appearance:a,lazy:s})=>{const{html:l,svg:c,createElement:d}=t.g(),u=Math.random().toString(16).slice(2);return d("span",{...r,className:"absolute left-0 right-0 bottom-0 mx-auto inline-flex shrink-0 justify-center box-border h-full w-full"},l`${ye({snoovatarSrc:o,avatarBgClassName:i,appearance:a})} <svg viewBox="0 0 121 122" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden absolute bottom-0 ${ue[e]}"> <defs> <clipPath id="${u}"> <path d="M0 0V79L28.1628 105.5C35.013 115.465 46.4934 122 59.5 122C72.5066 122 83.987 115.465 90.8372 105.5L120.5 79V0H0Z"/> </clipPath> </defs> ${s?c`<foreignObject clip-path="url(#${u})" width="100%" height="100%"> <img src="${o}" alt="${n}" loading="lazy"> </foreignObject>`:c`<image href="${o}" alt="${n}" clip-path="url(#${u})" height="100%" width="100%">`} </svg>`)},Te=({size:e="sm",appearance:n="default",snoovatarAlt:o="User Avatar",ringLayer:r,attributes:i,...a})=>{const{html:s,ifDefined:l}=t.g(),c="icon"===n||"subreddit"===n;return s`<span class="inline-flex items-center justify-center ${ue[e]} ${i?.className}" rpl avatar id="${l(i?.id)}" slot="${l(i?.slot)}"> ${r&&!c?r:""} ${c?(({attributes:e,children:n,size:o,appearance:r,status:i,ringColorClassName:a})=>{const s="icon"===r?"rounded-full":_e[o],{html:l,ifDefined:c}=t.g();return l`<span rpl id="${c(e?.id)}" slot="${c(e?.slot)}" class="inline-block ${s} ${xe({ringColorClassName:a,size:o})} relative [&>:first-child]:h-full [&>:first-child]:w-full [&>:first-child]:mb-0 [&>:first-child]:rounded-[inherit] h-full w-full [&>:first-child]:overflow-hidden [&>:first-child]:max-h-full"> ${n}${$e({status:i,size:o})} </span>`})({size:e,attributes:i,appearance:n,...a}):Ee({attributes:i,snoovatarAlt:o,appearance:n,ringLayer:r,size:e,...a})}</span>`},Ne=Symbol.for("lit-nothing");let Le={videoMinDimensionError:(e,t)=>`Videos must be at least ${e}x${t}`,videoMinRateError:e=>`Videos must have a bitrate of at least ${Math.floor(e)}KB/s`,videoCodecError:()=>"Unsupported video codec",videoIsTooShortError:t=>e.h({one:`Videos must be at least ${t} second`,other:`Videos must be at least ${t} seconds`,count:t}),videoIsTooLongError:t=>e.h({one:`Videos must be shorter than ${t} minute`,other:`Videos must be shorter than ${t} minutes`,count:t}),videoMaxSizeError:e=>`Videos must be ${e}GB or smaller`,videoMimetypeError:()=>"Upload an MP4 or MOV",imageMaxSizeError:e=>`Upload an image less than ${e}MB`,imageMaxSizeErrorKB:e=>`Upload an image less than ${e}KB`,gifMaxSizeError:e=>`Upload a GIF less than ${e}MB`,gifMaxSizeErrorKB:e=>`Upload a GIF less than${e}KB`,imageMaxDimensionError:(e,t)=>`Upload an image smaller than ${e}x${t}`,imageMinDimensionError:(e,t)=>`Upload an image at least ${e}x${t}`,imageOnlyGifsError:()=>"Upload a GIF",imageOnlyStaticImagesError:()=>"Upload a PNG, JPG, WEBP",imageStaticOrGifError:()=>"Upload a PNG, JPG, WEBP, or GIF",or:()=>"or ",imageTypeJoin:e=>`${De(e).reduce(((e,t,n,o)=>`${e}${Fe(n,o)}${Ae(n,o)}${t}`),"")}`,imageInvalidTypeErrorGeneric:()=>"Upload an image",imageInvalidTypeErrorSpecified:e=>`Upload a ${e}`};const De=e=>e.reduce(((e,t)=>{const n=ae.get(t)||t;return e.includes(n)?e:[...e,n]}),[]),Fe=(e,t)=>e>0?t.length>2?", ":" ":"",Ae=(e,t)=>t.length>1&&e===t.length-1?Le.or():"",Pe=["image/jpeg","image/png","image/webp"],Oe=["image/gif"],Re=[...Pe,...Oe],Ue=1024,ze=1048576,Be=20971520,Ve=104857600,He=e=>e.split(",").map((e=>e.trim())),je=e=>{const t="accept"in e?e.accept:void 0,{allowStaticImages:n=!1,allowAnimatedImages:o=!1}="allowStaticImages"in e?e:{};return{accept:t,allowStaticImages:n,allowAnimatedImages:o}};function qe(e){const{accept:t,allowStaticImages:n,allowAnimatedImages:o}=je(e);if(t&&t?.includes("image/*"))return Le.imageInvalidTypeErrorGeneric();if(t){const e=He(t);return Le.imageInvalidTypeErrorSpecified(Le.imageTypeJoin(e))}return o&&!n?Le.imageOnlyGifsError():n&&!o?Le.imageOnlyStaticImagesError():Le.imageStaticOrGifError(t)}function Ge(e){const t=[],{accept:n,allowStaticImages:o,allowAnimatedImages:r}=je(e);return n?He(n):(o&&t.push(...Pe),r&&t.push(...Oe),t)}const Ze="highlight_card_";const We={rootMargin:"0px",threshold:[1]};class Je extends e.bC{constructor(t,n){super(t),this._isInViewport=!1,this._hasBeenImpressed=!1,this._hasBeenConsumed=!1,this._hasPageUnloaded=!1,this.onVisible=e=>{this._isInViewport&&e&&(this._hasPageUnloaded=!1,this._becameVisibleOnScreenTimestamp=Date.now())},this.onHidden=e=>{this._isInViewport&&(e||this._hasPageUnloaded||this.handlePotentialConsume())},this.onBeforeUnloadCallback=()=>{this._hasPageUnloaded=!0,this._isInViewport&&this.handlePotentialConsume()},this.onEnter=()=>{this._isInViewport||(this._isInViewport=!0,this._becameVisibleOnScreenTimestamp=Date.now(),this.handlePotentialImpression())},this.onLeave=()=>{this._isInViewport&&(this.handlePotentialConsume(),this._isInViewport=!1)},t.addController(this),this._config={...n,observerConfig:n.observerConfig??We},this._observerController=new e.ar(this,t,this._config.observerConfig);const o=new e.E(this,(()=>t));o.define("faceplate-enter",this.onEnter),o.define("faceplate-leave",this.onLeave)}hostConnected(){super.hostConnected(),e.aT(this.onVisible,{immediate:!0}),e.aT(this.onHidden,{immediate:!0,shouldBeCalledFirst:!0}),e.aS.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0})}hostDisconnected(){super.hostDisconnected(),e.aU(this.onHidden),e.aU(this.onVisible),e.aS.unsubscribe(this.onBeforeUnloadCallback)}handlePotentialImpression(){this._hasBeenImpressed||(this._hasBeenImpressed=!0,this._config.onView?.())}handlePotentialConsume(){!this._hasBeenConsumed&&this._becameVisibleOnScreenTimestamp&&Date.now()-this._becameVisibleOnScreenTimestamp>this._config.consumeThreshold&&(this._hasBeenConsumed=!0,this._observerController.hostDisconnected(),this._config.onConsume?.())}}const Ke="component-reload";const Qe=(t,n,o)=>e.b({source:"custom_feeds",...t},{customFeed:{id:n},...o?{subreddit:{id:o}}:{}}),Xe=new Set,Ye=t=>{if(!e.l.isAvailable())return;const n=e.l.getItem(t);if(n)try{return JSON.parse(n)}catch{return}},et=(t,n)=>{e.l.isAvailable()&&e.l.setItem(t,JSON.stringify(n))},tt=new Set(["reddit","config","special"]),nt=new Set(["edit","revisions","settings","discussions","pages","create"]),ot=new Set(["config/description","config/sidebar","config/stylesheet","config/submit_text"]);function rt(e,t){const n=Ye(e);return n?n.slice(0,t):[]}const it=Object.entries({16:"icon32",24:"icon48",32:"icon64",40:"icon96",48:"icon96",56:"icon96",88:"icon96"});const at=1e3,st=1e6,lt=1e9,ct=({num:e,divider:t,defaultFixed:n=0,maxDigits:o,removeZeroDecimal:r})=>{const i=e/t;if(!o){const e=i.toFixed(n);return r&&Number(e)%1==0?Math.floor(i).toString():i.toFixed(Math.floor(n))}return i.toString().slice(0,o+1)};const dt=(e,t,n=1)=>{const o=Math.pow(10,n);return(Math.floor(e/(t/o))/o).toFixed(n)};const ut=/(?:\/|-)nftv2_([a-z0-9%]+)_([a-z]+)_([a-z0-9-]{36})(?:-headshot)?\.(?:png|svg)/i;const ht="moderator";function mt(t){return t===e.bZ.Post}const pt=async(e=document,t=5e3,n=100)=>{const o=Date.now(),r=e=>{const t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let n=t.nextNode();for(;n;){if(n instanceof Element&&n.shadowRoot){const e=i(n.shadowRoot);if(e)return e}n=t.nextNode()}return null},i=e=>{const t=e.querySelector('textarea[name="message"]');return t instanceof HTMLTextAreaElement?t:r(e)};return new Promise((i=>{const a=()=>{const s=(()=>{const t=e.querySelector("rs-message-composer");return t?.input?t.input:r(e)})();s?i(s):Date.now()-o>t?i(null):setTimeout(a,n)};a()}))};const ft=(e,t)=>{"complete"!==document.readyState?window.addEventListener("load",e,t):e()},gt="preview";return{$:et,A:function(e){return{source:"feed_experience",action:e?"unsubscribe":"subscribe",noun:"subreddit"}},B:function(){return{source:"feed_experience_overflow",noun:"hide",action:"click"}},C:function(){return{source:"feed_experience",action:"impression",noun:"feed_experience"}},D:()=>e.b({source:"global",action:"view",noun:"screen"},{action_info:{page_type:e.w.AchievementDetail}}),E:"click",F:"dismiss",G:"gen_guides",H:"back",I:class{constructor(e,t){this.observedElements=[],this.handleSlotChange=e=>{this.observer.disconnect();const t=e.target;t instanceof HTMLSlotElement&&(this.observedElements=t.assignedElements(),this.observedElements.forEach((e=>this.observer.observe(e))))},this.observer=new IntersectionObserver(this.handleIntersection.bind(this),t),(this.host=e).addController(this)}hostConnected(){this.observedElements.forEach((e=>this.observer.observe(e)))}hostDisconnected(){this.observer.disconnect()}isLoadableFaceplatePartial(t){return t instanceof e.bs&&t.loading===e.I.Programmatic&&!t.isLoading}async handleIntersection(e){e.forEach((e=>{e.isIntersecting&&this.isLoadableFaceplatePartial(e.target)&&e.target.load()}))}},J:(e,t=e.tagName.toLowerCase())=>{const n=e=>(""===e&&(e="generic"),t+":"+e);return{dispatch:(t,o={bubbles:!0,cancelable:!0,composed:!0})=>e.dispatchEvent(new CustomEvent(n(t),o)),eventId:n}},K:async function(t){if(t)try{const n=await e.B({operation:e.O.GetAdBusinessNameById,variables:{postId:t}}),o=n?.data?.postInfoById?.adBusiness?.id;return"string"==typeof o&&o?o:void 0}catch{return}},L:ee,M:function(e,t=0,n=!1){let o=!1,r=null;const i=function(...a){o?n&&(r=[this,a]):(e.apply(this,a),o=!0,setTimeout((()=>{o=!1,r&&(i.apply(r[0],r[1]),r=null)}),t))};return i},N:function*(e,t){if(void 0!==e){let n=0;for(const o of e)yield t(o,n++)}},O:function(e,t){return null!==e.querySelector(`:scope > [slot="${t}"]`)},P:({conversationId:e,position:t,searchQuery:n})=>{const o={conversation_id:e};return t&&(o.query_id=`${t}`),n&&(o.query=n),{search:o}},Q:function(e,t){if(!e)return{color:"",icon:""};const n=function(e){const t=e?.primaryColor,n=e?.mobileKeyColor,o=e?.legacyPrimaryColor;return t||n||o||null}(e)||"",o=function(e,t){if(!t)return e?.icon;for(const[n,o]of it){const r=e?.[o];if(r&&t<=parseInt(n,10))return r}return e?.icon}(e,t),r=e?.legacyIcon?.url;return{color:n,icon:o||r||""}},R:"onboarding",S:"subreddit-posting-eligibility-modal",T:()=>e.b({source:"comment",action:"click",noun:"share"}),U:()=>e.b({source:"comment",action:"click",noun:"share_copy"}),V:Je,W:function(e){if(i in e)return e;class t extends e{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(e){if(e===this._pageIndex)return;const t=this._pageIndex;this._pageIndex=e,this.pageIndexChangedCallback(t)}get pageNames(){return this._pageNames}set pageNames(e){e&&(this.pages=e.length),this._pageNames=e}syncLinkedPageables(){if(this._paginationLeaderContext){const e=a.getFollowers(this._paginationLeaderContext);if(!e||!e.size)return;for(const t of e)t.syncPagination(this)}if(this._paginationFollowerContext){const e=a.getLeader(this._paginationFollowerContext);e&&(e.pageIndex=this._pageIndex)}}syncPagination(e){this.pageIndex=e.pageIndex,this.pages=e.pages,this.pageNames=e.pageNames}getPaginationContext(){const e=this.getRootNode();if(e!==this&&(e instanceof Document||e instanceof ShadowRoot))return e}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=this.getPaginationContext();if(!e)return;const t=this.getAttribute("for");t&&(this._paginationFollowerContext=a.getContextKey(t,e),a.registerFollower(this,this._paginationFollowerContext)),this.id&&!t&&(this._paginationLeaderContext=a.getContextKey(this.id,e),a.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(a.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(a.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(e){this.syncLinkedPageables()}}return t[i]=!0,t},X:"saved-responses__reorder",Y:(e=0)=>new Promise((t=>setTimeout(t,e))),Z:"https://www.google.com/recaptcha/enterprise.js",_:Ne,a:(e,t)=>{const n=e.composedPath(),o=Array.isArray(t)?t.map((e=>e.toUpperCase())):[t.toUpperCase()];for(const e of n)if(o.includes(e.tagName))return!0;return!1},a$:"saved-responses__delete",a0:Ye,a1:"pdp-ama-comment-tab-wrapper",a2:"clear-search-input",a3:(e,t)=>Qe({action:"add",noun:"subreddit"},e,t),a4:(e,t)=>Qe({action:"remove",noun:"subreddit"},e,t),a5:({attributes:n,title:o,titleDataTestId:r,description:i,buttonProps:a,creative:s,creativeSafe:l=!0})=>{const{html:c,createElement:d}=t.g();return d("div",{...n,className:"flex flex-col items-center w-full",rpl:!0,"rpl-empty-state":!0},c`<div class="w-full flex flex-col items-center overflow-hidden box-border ${!l&&"p-md"}"> ${s} </div> <div class="flex flex-col w-full items-center box-border px-md gap-md ${o||i?"pb-md":""}"> ${o||i?c` <div class="max-w-[480px] flex flex-col items-center text-center"> <div class="text-24 font-bold text-neutral-content-strong" data-testid="${t.l(r)}"> ${o} </div> <div class="text-16 text-neutral-content-weak">${i}</div> </div> `:""} ${a?c`<div>${e.r(a)}</div>`:""} </div>`)},a6:(t,{communityId:n,communityName:o})=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"communities_menu",subreddit:{name:o,id:n}})),a7:Ke,a8:class{constructor(t,n){this.isLoading=!1,this.hasReloadError=!1,this.handleReload=async e=>{if(this.reloadUrl){this.isLoading=!0,this.hasReloadError=!1,this.host.requestUpdate();try{await this.getAndReplacePartial(e.detail?.queryParameters)}catch(e){this.hasReloadError=!0}this.isLoading=!1,this.host.requestUpdate()}};const{reloadUrl:o,containerSelector:r,mode:i=e.o.Contents}=n||{};(this.host=t).addController(this),this._partialRequest=new e.aH(this.host),this._reloadUrl=o,this.containerSelector=r||this.host.tagName.toLowerCase(),this._mode=i}get reloadUrl(){return this._reloadUrl}set reloadUrl(e){this._reloadUrl=e}get mode(){return this._mode}set mode(e){this._mode=e}hostConnected(){this.host.addEventListener(Ke,this.handleReload)}hostDisconnected(){this.host.removeEventListener(Ke,this.handleReload)}async getAndReplacePartial(t={}){const n=this.reloadUrl&&Array.from(Object.entries(t)).reduce(((t,[n,o])=>e.cd(t,n,o)),this.reloadUrl),o=await this._partialRequest.request(n),r=await(o?.text());if(!r)throw new Error("Unable to reload content");const i=(new DOMParser).parseFromString(r,"text/html").querySelector(this.containerSelector);if(!i)throw new Error(`Element ${this.containerSelector} not found in reload response`);if(this.mode!==e.o.Contents)e.aQ(i.outerHTML,this.host,this.mode);else{if(!i?.innerHTML)throw new Error("No content to reload");e.aQ(i.innerHTML,this.host,this.mode)}}},a9:function(e){return e?"Settings saved.":"Failed to save settings. Please try again."},aA:j,aB:U,aC:H,aD:Z,aE:e=>{const t=q(e);return t?(j(t[0]),t):null},aF:W,aG:(e,t,n)=>{if(!t)return W(e);const o=((e,t,n)=>{for(let o=1;o<e.length;o++){const r=(t-o+e.length)%e.length,i=e[r];if(r>t&&!n)return null;if(U(i))return i}return U(e[t])?e[t]:null})(e,t[1],n);return o?H(o):null},aH:(e,t,n)=>{if(!t)return Z(e);const o=((e,t,n)=>{for(let o=1;o<e.length;o++){const r=(t+o)%e.length,i=e[r];if(r<t&&!n)return null;if(U(i))return i}return U(e[t])?e[t]:null})(e,t[1],n);return o?H(o):null},aI:e=>J in e,aJ:{MenuItem:"menuitem",Button:"button",Link:"link",Checkbox:"menuitemcheckbox",Radio:"menuitemradio"},aK:E,aL:nt,aM:tt,aN:"config/automoderator",aO:"config/post_removal_message",aP:ot,aQ:50,aR:100,aS:class{hostConnected(){}constructor(e,t){this.host=e,this.config=t,this.mouseIsDown=!1,this._interactionTrigger=null,this.eventUsedMap=new WeakMap,this.handleBlur=e=>{if(this.hasTrigger("focus")||this.hasTrigger("focus-visible")){const t=()=>this.host.finishInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayEnd(this.host)):t()}},this.handleClick=e=>{this.eventUsedMap.has(e)||(this.eventUsedMap.set(e,!0),this.hasTrigger("click")&&(this.config.isInteractedWith(this.host)?this.host.finishInteraction(e,"click"):this.host.startInteraction(e,"click")))},this.handleFocus=e=>{const t=this.hasTrigger("focus"),n=this.hasTrigger("focus-visible");if((!(!t&&n&&e.target instanceof HTMLElement)||e.target.matches(":focus-visible"))&&(t||n)&&!this.mouseIsDown){const t=()=>this.host.startInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayStart(this.host)):t()}},this.handleMouseEnter=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.startInteraction(e,"hover")),this.config.hoverDelayStart(this.host))},this.handleMouseLeave=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.finishInteraction(e,"hover")),this.config.hoverDelayEnd(this.host))},this.handleMouseDown=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!0)},this.handleMouseUp=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!1)},this.host.addController(this)}set interactionTrigger(e){this._interactionTrigger=e,this.host.requestUpdate()}get interactionTrigger(){return this._interactionTrigger}delayInteraction(e,t){clearTimeout(this.delayTimeout),this.delayTimeout=window.setTimeout(e,t)}hasTrigger(e){return this.host.trigger.split(" ").includes(e)}},aT:n,aU:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),aV:2e3,aW:ut,aX:function(e){return`add-ama-collaborators-modal-${e}`},aY:function(e,t,n){return e?t():null==n?void 0:n()},aZ:"saved-responses__create",a_:"saved-responses__exit-create-view",aa:O,ab:function(){return"button_appearance"===e.dw(e.ki)||e.dw(e.ki)===y},ac:t=>e.b({source:ht,action:"click",noun:mt(t)?"reorder_post_flair_confirm":"reorder_flair_confirm"}),ad:"flair-settings__table-feature-id",ae:{STREAK_EXTENDED:"streak_progressed",TROPHY_UNLOCKED:"achievement_unlocked",TROPHY_PROGRESSED:"achievement_progress"},af:"login",ag:({attributes:n,children:o,selected:r,leadingIcon:i,ariaControls:a,screenReaderContent:s,deleteButtonConfig:l})=>{const{html:c,ifDefined:d}=t.g();return c` <span class="inline-flex relative max-w-full" slot="${d(n?.slot)}"> ${e.he({hideChildrenOverflow:!0,ariaControls:a,attributes:n,selected:r,size:e.s.Small,leadingIcon:i&&Te({children:i,appearance:"icon",size:"2xs"}),children:c`<span class="${r?"inline-block mr-[calc(var(--size-button-sm-h)-var(--rem10)-var(--button-border-width-default))]":""} overflow-hidden text-ellipsis">${o}</span>`,screenReaderContent:s})} ${r?c` <span style="${"transform: translateY(-50%);\nposition: absolute;\nright: 0;\ntop: 50%;\ntransform: translateY(-50%);\ndisplay: inline-flex;\n"}"> ${e.r({...l,appearance:"plain",size:e.s.Small,leadingIcon:t.aR({size:t.I.Small})})} </span>`:void 0} </span> `},ah:function(e){return!!e},ai:"https://chat.reddit.com/",aj:async function(e){const t=URL.createObjectURL(e),{width:n,height:o}=await function(e){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>{t({width:o.width,height:o.height})},o.onerror=e=>{n(e)},o.src=e}))}(t);return{src:t,type:e.type,size:e.size,width:n,height:o}},ak:function(e,t){const{width:n,height:o,type:r,size:i}=e,{minImageDimension:a,maxImageDimension:s,maxImageFileSize:l=Be,maxGifFileSize:c=Ve}=t,{accept:d,allowStaticImages:u,allowAnimatedImages:h}=je(t),m=Ge(t);if(!(m.includes(r)||m.includes("image/*")&&r.startsWith("image/")))return{valid:!1,error:qe(d?{accept:d}:{allowStaticImages:u,allowAnimatedImages:h}),reason:"INVALID_IMAGE_TYPE_ERROR"};if(a&&(n<a||o<a))return{valid:!1,error:Le.imageMinDimensionError(a,a),reason:"IMAGE_MIN_DIMENSION_ERROR"};if(s&&(n>s||o>s))return{valid:!1,error:Le.imageMaxDimensionError(s,s),reason:"IMAGE_MAX_DIMENSION_ERROR"};if("image/gif"===r&&i>c){return{valid:!1,error:Math.floor(c/ze)<1?Le.gifMaxSizeErrorKB(Math.floor(c/Ue)):Le.gifMaxSizeError(Math.floor(c/ze)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}if(r.startsWith("image/")&&"image/gif"!==r&&i>l){return{valid:!1,error:Math.floor(l/ze)<1?Le.imageMaxSizeErrorKB(Math.floor(l/Ue)):Le.imageMaxSizeError(Math.floor(l/ze)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}return{valid:!0,error:null}},al:()=>"Comment deleted by user",am:function(){return"Something went wrong"},an:5,ao:()=>"[deleted]",ap:function(n,o){return e.r({attributes:o,appearance:R[n],leadingIcon:t.C()})},aq:class{constructor(t,n){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,!this._batchQueue||!this._batchQueue.length)return;const t=e.kj(this._batchQueue);for(const e of t)this.options.onAlert(e);this._batchQueue.length=0},t.addController(this),this.host=t,this.options=n,n.batchWindow&&n.batchWindow>0&&(this._batchQueue=[])}hostConnected(){e.kk(this.host).then((t=>{t&&(this._reporter=t,e.kl.register(t,this))}))}hostDisconnected(){this._reporter&&(e.kl.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(e){if(!this.options.isOnline()&&!e.showWhenOffline)return!1;const t=this.options;if("number"==typeof e.level){if(t.max&&e.level>t.max)return!1;if(t.min&&e.level<t.min)return!1}else if(void 0!==t.min||void 0!==t.max)return!1;return!t.name||t.name===e.name}displayAlert(e){if(this._batchQueue){if(this._batchQueue.push(e),this._batchTimer)return;this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow)}else this.options.onAlert(e)}},ar:function(e){return e.replace(Ze,"")},as:C,at:function({el:t,outboundUrl:n,clickLocation:o,galleryIndex:r}){const i=C(t),a=i?.placement||("placement"in t?t.placement:void 0),s=i?.id||t?.id||("postId"in t?t?.postId:""),l=i?.impressionId||("impressionId"in t?t?.impressionId:""),c=e.c("observe-ad-click",{postId:s,impressionId:l,outboundUrl:n,galleryIndex:r,clickLocation:o});t.dispatchEvent(c),e.l.isAvailable()&&(e.l.setItem(e.L.LastClickedAdId,s),e.l.setItem(e.L.ImpressionId,l),e.l.setItem(e.L.AdPlacement,a||""))},au:V,av:z,aw:B,ax:G,ay:t=>Object.values(e.cy).includes(t),az:q,b:(n,o)=>o?e.r({shape:"pill",appearance:"plain",size:e.s.Small,attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",slot:"trigger",...n},hideChildrenOverflow:!0,children:t.x`<slot name="trigger-content"></slot>`,trailingIcon:t.N({size:t.I.Small,attributes:{"aria-hidden":"true",className:"px-[2px]"}})}):l({appearance:"plain",attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",...n},children:t.x`<slot name="trigger-content"></slot>`,size:e.s.Small}),b$:b,b0:"saved-responses__update-item",b1:"saved-responses__submit",b2:"saved-responses__saved",b3:"saved-responses__open-reorder-modal",b4:"saved_responses__cancel_update",b5:"saved-responses-table__partial_id",b6:"saved_responses__response_delete_modal_id",b7:Y,b8:X,b9:"achievement-progress-toast",bA:function(n,o){if(!n)return;const{html:r}=t.g();return r` <span class="flex items-center justify-center">${Array.isArray(n)?r`${n.map((t=>e.r({...t,appearance:R[o]})))}`:e.r(n)}</span>`},bB:3,bC:async(e,t=pt)=>{const n=await t();n&&(e?(n.value="",n.focus()):setTimeout((()=>{n.focus()}),1e3))},bD:e=>Qe({action:"delete",noun:"custom_feed"},e),bE:function(e){return null!=e},bF:({attributes:e,children:n,trailingSlot:o})=>{const{html:r,createElement:i}=t.g();return i("li",{...e,booleanListItemHeader:!0,className:"flex items-center m-0 pr-md h-2xl min-w-0 text-secondary font-semibold text-12",rpl:!0},r`<span class="grow min-w-0 px-sm truncate">${n}</span> ${o?r`<span class="flex items-center">${o}</span> `:void 0}`)},bG:"onboarded-ad-account",bH:"ad-account-creation-cancel",bI:k,bJ:"emote|",bK:function(t){return t===e.al.ModQueueCompactView},bL:function(e,{displayFull:t,roundDown:n,maxDigits:o,removeZeroDecimal:r}={}){return t?(e=>{const t=e.split(".");return[t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")].concat(t.slice(1)).join(".")})(e.toString()):e>=99999999949?`${ct({num:e,divider:lt,maxDigits:o,removeZeroDecimal:r})}b`:e>=999999949&&e<99999999949?`${ct({num:e,divider:lt,defaultFixed:1,maxDigits:o,removeZeroDecimal:r})}b`:e>=99999949&&e<999999949?`${ct({num:e,divider:st,maxDigits:o,removeZeroDecimal:r})}m`:e>=999949&&e<99999949?`${ct({num:e,divider:st,defaultFixed:1,maxDigits:o,removeZeroDecimal:r})}m`:e>=99949&&e<999949?`${ct({num:e,divider:at,maxDigits:o,removeZeroDecimal:r})}k`:e>=at&&e<99949?n?`${dt(e,at)}k`:`${ct({num:e,divider:at,defaultFixed:1,maxDigits:o,removeZeroDecimal:r})}k`:String(e)},bM:function(){return"vote_component"===e.dw(e.ki)||e.dw(e.ki)===y},bN:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),bO:function(e){return!!e&&ut.test(e)},bP:async function(e,t){const n=await window.fetch(t.uploadLeaseUrl,{method:"POST",body:le(e,t.uploadLeaseHeaders)});if(n.ok){const e=function(e){const t=ce(e);return t.querySelector("Location")?.textContent?.trim()}(await n.text());return e||de("Unable to retrieve S3 url for uploaded resource."),e}throw de(`Failed to upload file to S3 with error code: ${function(e){const t=ce(e);return t.querySelector("Code")?.textContent?.trim()}(await n.text())}`),new Error(se.uploadToS3ErrorMessage())},bQ:ae,bR:function(e=!1){return e?"Saved":"Save changes"},bS:()=>e.b({source:"post_detail",action:"click",noun:"load_more_comments"}),bT:t=>e.b({source:ht,action:"click",noun:mt(t)?"post_flair_edit_save":"flair_edit_save"}),bU:t=>e.b({source:ht,action:"click",noun:mt(t)?"create_post_flair_confirm":"create_flair_confirm"}),bV:"flair-settings__flair-copy",bW:"flair-settings__flair-delete",bX:"flair-settings__flair-delete-modal",bY:t=>e.b({source:ht,action:"click",noun:mt(t)?"remove_post_flair_confirm":"remove_flair_confirm"}),bZ:g,b_:(t,n,o)=>{e.c_({name:e.kc}),e.$({name:e.kc,country:n,value:`${t}`,options:{...e.a0,domain:o}})},ba:"request",bb:"reddit-search:open",bc:N,bd:function(e){return`${Ze}${e}`},be:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"all_communities"})),bf:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"favorites"})),bg:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"search_bar"})),bh:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"query_prompt"})),bi:t=>t.trackEvent(e.b({source:"community_search",action:"click",noun:"search_bar"})),bj:"wiki-banned-users__unban",bk:"wiki-banned-users__ban",bl:"wiki-banned-users__edit",bm:"wiki-banned-contributors-confirmation-modal",bn:"wiki-banned-contributors-ban-modal",bo:(e,t)=>new CustomEvent("rpl:menu-clicked-item",{bubbles:!0,composed:!0,cancelable:!0,detail:{type:e,item:t}}),bp:({item:e,reason:t})=>new CustomEvent("rpl:menu-close",{bubbles:!0,composed:!0,detail:{item:e,reason:t,itemPath:[e]}}),bq:t=>Object.values(e.e3).includes(t),br:t=>Object.values(e.e4).includes(t),bs:J,bt:te,bu:ne,bv:oe,bw:re,bx:t=>e.b({source:"achievements",action:"click",noun:"card_icon"},{action_info:{page_type:t}}),by:t=>e.b({source:"achievements",action:"click",noun:"profile_showcase"},{action_info:{page_type:t}}),bz:(e,t)=>{const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return Math.floor(n.top)>=Math.floor(o.top)&&Math.ceil(n.bottom)<=Math.ceil(o.bottom)&&Math.ceil(n.right)<=Math.ceil(o.right)&&Math.floor(n.left)>=Math.floor(o.left)},c:class{constructor(e){this.host=e,this.slotsCache=new Map,this.hasContentsCache=new Map,this.slotTextCache=new Map,this.handleSlotChange=e=>{if(!(e.target instanceof HTMLSlotElement))return;const t=e.target,n=t.hasAttribute("name")?t.name:"default",o=this.hasContentsCache.get(n),r=E(t);this.slotsCache.set(n,t),this.hasContentsCache.set(n,E(t)),this.slotTextCache.delete(n),o!==r&&this.host.requestUpdate()},e.addController(this)}hostConnected(){}getSlot(e){const t=this.slotsCache.get(e);if(void 0!==t)return t;const n=this.host.shadowRoot?.querySelector("default"===e?"slot:not([name])":`slot[name="${e}"]`);return n instanceof HTMLSlotElement?(this.slotsCache.set(e,n),n):null}hasSlotContent(e){return this.hasContentsCache.get(e)??!1}getSlotText(e){const t=this.slotTextCache.get(e);if(void 0!==t)return t;if(!(this.hasContentsCache.get(e)??!1))return this.slotTextCache.set(e,null),null;const n=this.getSlot(e);if(!n)return null;const o=(e=>{const t=e.assignedNodes({flatten:!0}),n=[];for(const e of t)e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim()),e.nodeType===Node.ELEMENT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim());return n.length>0?n.join(" "):null})(n);return this.slotTextCache.set(e,o),o}},get c$(){return Le},c0:(t,n,o)=>{e.c_({name:e.ke}),e.$({name:e.ke,country:n,value:`${t}`,options:{...e.a0,domain:o}})},c1:()=>e.v.get(e.kd),c2:(t,n,o)=>{e.c_({name:e.kd}),e.$({name:e.kd,country:n,value:`${t}`,options:{...e.a0,domain:o}})},c3:function({fieldErrors:e,defaultMessage:t}){return e?.[0]?.message??t},c4:e=>!e||e.includes("avatar_default_"),c5:({attributes:e,children:n})=>{const{html:o,createElement:r}=t.g();return r("li",{...e,booleanListItemGroup:!0,className:"list-none",rpl:!0},o`<ul class="p-0"> ${n} </ul>`)},c6:()=>e.b({source:"comment",action:"click",noun:"load_more_comments"}),c7:()=>e.b({source:"post_detail",action:"click",noun:"comment_image"}),c8:"comment-composer-cancel-draft",c9:"comment-edit-success",cA:"comment-deletion-modal",cB:t=>e.b({source:t,action:"click",noun:"follow"}),cC:t=>e.b({source:t,action:"undo",noun:"follow"}),cD:"list-reply-comment-button",cE:t=>e.b({source:t,action:"click",noun:"save"}),cF:t=>e.b({source:t,action:"click",noun:"unsave"}),cG:e=>e??Ne,cH:"view",cI:"auth_modal",cJ:"send",cK:"https://www.reddit.com/redditchat/",cL:"chat-mobile-xpromo",cM:(t,n)=>e.b({source:ht,action:"click",noun:mt(t)?"enable_post_flair":"enable_user_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),cN:(t,n)=>e.b({source:ht,action:"click",noun:mt(t)?"let_users_assign_post_flair":"let_users_assign_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),cO:t=>e.b({source:ht,action:"click",noun:mt(t)?"reorder_post_flair_dialog":"reorder_flair_dialog"}),cP:_,cQ:v,cR:w,cS:"skip",cT:{Total:"#D2DADD",Posts:"#0E8A00",Negative:"#372F8C",Positive:"#008675",Neutral:"#629FFF",Score:"#D93A00",Performance:"#6A5CFF",Comments:"#D93900",Upvotes:"#6A5CFF","Post Upvotes":"#DE019F","Comment Upvotes":"#5BA200","Total Upvotes":"#97AFBC","Total Mentions":"#6A5CFF"},get cU(){return se},cV:ie,cW:function(t){return t===e.al.CardView},cX:"giphy|",cY:function(t){const n={[e.hx.Female]:"Woman",[e.hx.Male]:"Man",[e.hx.NonBinary]:"Non-binary",[e.hx.OptOut]:"I prefer not to say",[e.hx.UserDefined]:"I refer to myself as..."};return t?n[t]:n},cZ:({prefix:e=A[0],...t})=>{const n=D((({withAbout:e,aboutOptional:t}={})=>`/:prefix(${P})/:${F}/${e?":page(about/?)"+(t?"?":""):""}`)({withAbout:!0,aboutOptional:!0}))({...t,prefix:e});return t.omitLeadingSlash?n.substring(1):n},c_:Ge,ca:"reloadPollingDurationMs",cb:()=>e.b({source:"post_detail",action:"click",noun:"collapse_comment"}),cc:()=>e.b({source:"post_detail",action:"click",noun:"expand_comment"}),cd:"/svc/shreddit/edit-comment",ce:function({type:n,iconProps:o}){switch(n){case e.eT.Public:return{label:"Public",description:"Anyone can view, post, and comment to this community",icon:t.bI(o),iconSelected:t.bJ(o)};case e.eT.Restricted:return{label:"Restricted",description:"Anyone can view, but only approved users can contribute",icon:t.b5(o),iconSelected:t.bK(o)};case e.eT.Private:return{label:"Private",description:"Only approved users can view and contribute",icon:t.bv(o),iconSelected:t.aj(o)};case e.eT.EmployeesOnly:return{label:"Employee-only",description:"Only employees can view and contribute",icon:t.ci(o),iconSelected:t.ch(o)};default:return null}},cf:e=>Qe({action:"duplicate",noun:"custom_feed"},e),cg:e=>Qe({action:"create",noun:"custom_feed"},e),ch:(e,t,n)=>{for(const n of t)if(n[0]===e)return(0,n[1])();return null==n?void 0:n()},ci:function(){return document&&document.documentElement.lang?document.documentElement.lang:navigator&&navigator.language?navigator.language:"en-US"},cj:function(e){return new Date(e.replace("+0000","+00:00"))},ck:"wiki-page-settings-done-button",cl:"wiki-page-settings-close-button",cm:"wiki-page-setting-modal-dialog",cn:h,co:function(e,t,n){var o;const r=function(e,t){const n=t.getTime()-e.getTime(),o=Math.round(n/31104e6),r=Math.round(n/2592e6),i=Math.round(n/864e5),a=Math.round(n/36e5),s=n/p;let l="minutes",c=0;return Math.abs(Math.round(s))<60?c=s>-1&&s<1?Math.sign(s)*Math.ceil(Math.abs(s)):Math.round(s):Math.abs(a)<24?(l="hours",c=a):Math.abs(i)<29?(l="days",c=i):Math.abs(r)<11?(l="months",c=r):(l="years",c=o),{unit:l,diff:c}}(new Date,e);try{if(m){return function(e,t,n){return u(t,{localeMatcher:"lookup",numeric:"always",style:n}).format(e.diff,e.unit)}(r,t,null!==(o=null==n?void 0:n.format)&&void 0!==o?o:(null==n?void 0:n.short)?"short":"long")}}catch(e){}return((null==n?void 0:n.short)||"short"===(null==n?void 0:n.format))&&r.diff<0&&t.match(/en.*/)?f(r):h(t,{dateStyle:"short",timeStyle:"short"}).format(e)},cp:function(t){return t===e.al.CompactView},cq:"subreddit_about",cr:"comment-post",cs:"isTranslatable",ct:"targetLanguage",cu:({adjacentElement:t})=>{if(!e.gV(e.gW()))return()=>{};const n=document.createElement("input");return n.setAttribute("type","text"),n.style.position="absolute",n.style.opacity="0",n.style.height="0",n.style.fontSize="16px",t.insertAdjacentElement("afterend",n),n.focus(),()=>n.remove()},cv:2e3,cw:"list-reply-comment",cx:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"downvote_comment"},{action_info:{trigger_type:n}}),cy:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"upvote_comment"},{action_info:{trigger_type:n}}),cz:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"clearvote_comment"},{action_info:{trigger_type:n}}),d:r,d0:Re,d1:F,d2:"hidePostSubmitLink",d3:T,d4:"wiki-revision-note-modal-dialog",d5:"wiki-page-tabs",e:function(e){return Array.from(function*(e){for(let t=1;t<=e;t++)yield t}(e))},f:d,g:function(e,t){const n=e.composedPath();for(const e of n){const n=e.dataset,o=n&&n[t];if(null!=o)return o}return null},h:D,i:({listId:e,seeButtonId:t})=>{const n=document.querySelector(`#${e}`),o=n?.querySelectorAll(".hidden"),r=n?.querySelector(`#${t}`),i=r?.getAttribute("data-see-less-label"),a=r?.getAttribute("data-see-more-label");if((!r||!Xe.has(r))&&n&&r&&o&&i&&a){let e=!0;r.addEventListener("click",(()=>{Array.from(o).forEach((t=>{e?t.classList.remove("hidden"):t.classList.add("hidden")})),r.textContent=e?i:a,e=!e})),Xe.add(r)}},j:function(e=!1){return e?"Saved":"Save"},k:(e,t,n)=>{const o=rt(t,n),r=new Map,i=[e,...o];for(;i.length&&r.size<n;){const e=i.shift();r.has(e.uuid)||r.set(e.uuid,e)}const a=Array.from(r.values());a.length===o.length&&a.every(((e,t)=>e.uuid===o[t].uuid))||et(t,a)},l:Te,m:function(e="#preview"){ft((function(){const t=document.querySelector(e);t?.classList.contains(gt)||t?.classList.add(gt)}))},n:rt,o:(...e)=>e.filter(Boolean).join(" "),p:l,q:()=>{const e=b(),t=g();return"true"===e||void 0===e&&void 0===t?window.matchMedia("(prefers-reduced-motion: reduce)")?.matches:"false"!==t},r:()=>e.b({source:"community_nav",action:"click",noun:"community_recent"}),s:ft,t:function({el:t,clickLocation:n,galleryIndex:o}){try{const r=C(t),i=r?.placement||("placement"in t?t?.placement:void 0),a=r?.postId||("postId"in t?t?.postId:""),s=r?.impressionId||("impressionId"in t?t?.impressionId:""),l=r?r.querySelector(`[click-location=${e.A.MEDIA}]`):t.querySelector(`[click-location=${e.A.MEDIA}]`);let c;l&&(c=l.getBoundingClientRect());const d=e.cX(),u=e.c("track-event",{details:x({postId:a,impressionId:s,post:r,adMedia:c,clickLocation:n,galleryIndex:o||0,page_request_id:d,placement:i})});t.dispatchEvent(u)}catch(e){const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&(e.message&&(e.message=`post/click/ad exception: ${e.message}`),t.captureException(e))}},u:"templateSelector",v:e=>{window.location.href=e||window.location.href},w:function(e){const t=document.querySelector(e);if(!t)return Promise.reject(`lazy script "${e}" cannot be found`);const n=s.get(t);if(n)return n;if(!t.nonce)return Promise.reject('loadLazyScriptWithNonce should only be used to load scripts with "nonce"s');const o=t?.getAttribute("data-src");if(!o)return Promise.reject('loadLazyScriptWithNonce expects a script tag with a "data-src" attribute');const r=document.querySelector(`script[src="${o}"]`);if(r)return Promise.resolve(r);const i=new Promise(((e,n)=>{const r=document.createElement("script");r.nonce=t.nonce,r.onload=function(){e(r)},r.onerror=function(e){n(e?.toString())},r.src=o,r.dataset.lazy="true",document.body.appendChild(r)}));return s.set(t,i),i},x:function(){return{source:"feed_experience",action:"impression",noun:"subreddit"}},y:function(){return{source:"feed_experience",action:"consume",noun:"subreddit"}},z:function(e,t){if(!e?.includes("r/"))return"/";let n=[e,t].filter(Boolean).join("/");return n.startsWith("/")||(n=`/${n}`),n.endsWith("/")||(n=`${n}/`),n}}}));
SML.dm("chatmobilexpromoclientjs5e1c145c",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,t,r)=>{let o=class extends e.hk{constructor(){super(...arguments),this._fullscreenBlurEl=document.createElement("div"),this._appliedBlurFilter=null,this._blurElement=null,this.shouldContentScroll=!1,this.isFooterEmpty=!0,this.render=()=>{const r=t.x`<slot name="closeButton" class="${e.U({floating:this.shouldContentScroll})}"></slot>`,o=t.x`<div id="header" class="${e.U({"with-icon":this._titleGraphic.length>0})}"> <slot name="titleGraphic"></slot> <slot name="title"></slot> </div>`,n=t.x`<slot name="primaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="secondaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="tertiaryButton" @slotchange="${this.calcFooterChildren}"></slot>`;return t.x` ${e.cI(this.modal?"\n  <style>\n    :host {\n      top: 50%;\n      transform: translateY(-50%);\n      position: fixed;\n    }\n  </style>\n":"\n  <style>\n    :host {\n      position: absolute;\n    }\n  </style>\n")} <div id="wrapper" role="${t.l(this.open?"dialog":void 0)}" aria-label="${t.l(this.ariaLabel??void 0)}" aria-labelledby="${t.l(null!=this.ariaLabel?void 0:"header-container")}" aria-modal="${t.l(this.open&&this.modal?"true":void 0)}"> <div id="content"> ${r} <div id="header-container"> ${o} </div> <slot></slot> </div> <div id="footer" class="${e.U({"sticky-footer":this.shouldContentScroll,empty:this.isFooterEmpty})}"> ${n} <slot name="footer" @slotchange="${this.calcFooterChildren}"></slot> </div> </div> `}}static get styles(){return t.a`${e.hk.styles}:host{--content-padding:var(--spacer-md);box-sizing:border-box;max-width:none;border-radius:var(--rem16);padding:0;overflow:hidden}#wrapper{display:flex;flex-direction:column;align-items:center;height:100%;position:relative;font-size:16px;box-sizing:border-box;max-height:inherit;min-height:inherit;overflow:hidden}slot[name=closeButton]{display:inline-flex;position:absolute;position:absolute;top:0;inset-inline-end:0;margin:var(--content-padding)}#header{display:flex;flex-direction:column;gap:var(--spacer-sm);align-items:center;text-align:left;width:100%;box-sizing:border-box}#header.with-icon{text-align:center;padding:0 var(--rem40)}slot[name=title]{font-size:var(--rem18);font-weight:700}slot:not([name]){display:flex;flex-grow:1;width:100%;padding:var(--spacer-xs) 0;font-size:var(--rem14)}#footer{display:flex;flex-direction:column;gap:var(--spacer-sm);width:100%;background:var(--color-ui-modalbackground);padding:var(--spacer-md);box-sizing:border-box}slot[name=tertiaryButton]{display:inline-flex;justify-content:center;font-size:14px}#footer.empty{display:none}@media (min-width:640px){#content{padding:var(--content-padding)}#header,#header.with-icon{flex-direction:row;padding-inline:0 var(--spacer-2xl)}#footer{flex-direction:row-reverse;align-items:center;justify-content:end}slot[name=tertiaryButton]{margin-inline-end:auto}slot[name=title]{text-align:left}}#content{height:100%;max-height:100%;width:100%;overflow:auto;position:relative;--content-padding:var(--spacer-md);padding:var(--content-padding);box-sizing:border-box;flex:1}.overflowing-content{max-height:100%;overflow-y:auto}.sticky-footer{box-shadow:var(--elevation-md)}slot[name=closeButton].floating{box-shadow:var(--elevation-sm);border-radius:999px}`}connectedCallback(){super.connectedCallback(),Object.assign(this._fullscreenBlurEl.style,{position:"fixed",top:"0",bottom:"0",right:"0",left:"0",backdropFilter:n(4)})}disconnectedCallback(){this._fullscreenBlurEl.remove(),e.hl.remove(this),this.resizeObserver?.disconnect()}firstUpdated(){this.resizeObserver=new ResizeObserver((()=>{this.measureShouldContentScroll()})),this.resizeObserver.observe(this.content)}calcFooterChildren(){this.isFooterEmpty=!(this._footerSlot?.length||this._primaryButtonSlot?.length||this._secondaryButtonSlot?.length||this._tertiaryButtonSlot?.length)}measureShouldContentScroll(){this.shouldContentScroll=Boolean(this.content?.scrollHeight&&this.content?.scrollHeight>this.content.offsetHeight)}showModal(t){if(e.hl.add(this),super.showModal(),null!=t?.blur){const e=!0===t.blur?4:Number(t.blur);this._appliedBlurFilter=n(e),t?.blurElement?(this._blurElement=t.blurElement,r=this._blurElement,o=this._appliedBlurFilter,r.style.filter=r.style.filter+" "+o):(Object.assign(this._fullscreenBlurEl.style,{backdropFilter:this._appliedBlurFilter}),document.body.append(this._fullscreenBlurEl))}var r,o}close(){this.open&&(super.close(),e.hl.remove(this),null!=this._blurElement&&null!=this._appliedBlurFilter?(!function(e,t){const r=e.style.filter.split(" ").filter(Boolean).reverse(),o=r.indexOf(t);if(-1===o)return;r.splice(o,1),e.style.filter=r.reverse().join(" ")}(this._blurElement,this._appliedBlurFilter),this._appliedBlurFilter=null,this._blurElement=null):this._fullscreenBlurEl.remove())}};function n(e){return`blur(${e}px)`}e._([e.d()],o.prototype,"shouldContentScroll",void 0),e._([e.j({slot:"titleGraphic"})],o.prototype,"_titleGraphic",void 0),e._([e.y("#content")],o.prototype,"content",void 0),e._([e.y("#footer")],o.prototype,"footer",void 0),e._([e.d()],o.prototype,"isFooterEmpty",void 0),e._([e.aP({slot:"footer",flatten:!0})],o.prototype,"_footerSlot",void 0),e._([e.aP({slot:"primaryButton",flatten:!0})],o.prototype,"_primaryButtonSlot",void 0),e._([e.aP({slot:"secondaryButton",flatten:!0})],o.prototype,"_secondaryButtonSlot",void 0),e._([e.aP({slot:"tertiaryButton",flatten:!0})],o.prototype,"_tertiaryButtonSlot",void 0),o=e._([e.e("faceplate-modal")],o);function i(e){return e?.[0]?.message??"Something went wrong"}const l=e=>({error:e||"There was an error uploading the file."});async function a(t,o){const n=r.bQ.get(t.type);if(!n)throw new Error(`${t.type} files are not supported.`);try{const a=await async function(t){const r=await e.B({operation:e.O.CreateSubredditStructuredStylesUploadLease,variables:{input:t}});if(r.errors?.length)throw new Error(i(r.errors));const o=r.data.createSubredditStructuredStylesUploadLease;if(o?.ok&&o.uploadLease)return{uploadLeaseUrl:o.uploadLease.uploadLeaseUrl,uploadLeaseHeaders:o.uploadLease.uploadLeaseHeaders};throw new Error(i(o?.errors))}({...o,filepath:t.name,mimetype:n}),s=await r.bP(t,a);return s?{url:s}:l()}catch(e){return a=e.message,window.Sentry?.captureMessage?.(`Media file upload failed with error: ${a}`),l(e.message)}var a}return{C:class{async makeGQLRequest(...t){return e.B(...t)}async uploadMedia(...e){return a(...e)}async saveImage({subredditId:e,url:t,fileContent:r,uploadType:o,gqlOperation:n}){if(r)try{const n=await this.uploadMedia(r,{subredditId:e,imagetype:o});if(t=n.url?decodeURIComponent(n.url):t,n.error)return this.handleError(o)}catch(e){return this.handleError(o)}try{await this.makeGQLRequest({operation:n,variables:{input:{subredditId:e,[this.getOperationArg(o)]:t??""}}})}catch(e){return this.handleError(o)}return null}async saveCommunityIcon(t,r,o){return this.saveImage({subredditId:t,url:r,fileContent:o,uploadType:e.hm.CommunityIcon,gqlOperation:e.O.UpdateSubredditIcon})}async saveBanner(t,r,o){return this.saveImage({subredditId:t,url:r,fileContent:o,uploadType:e.hm.BannerBackgroundImage,gqlOperation:e.O.UpdateSubredditBanner})}async saveMobileBanner(t,r,o){return this.saveImage({subredditId:t,url:r,fileContent:o,uploadType:e.hm.MobileBannerImage,gqlOperation:e.O.UpdateSubredditBanner})}handleError(t){switch(t){case e.hm.BannerBackgroundImage:return"Something went wrong while saving the banner.";case e.hm.MobileBannerImage:return"Something went wrong while saving the mobile banner.";case e.hm.CommunityIcon:default:return"Something went wrong saving the avatar."}}getOperationArg(t){switch(t){case e.hm.BannerBackgroundImage:return"bannerBackgroundImage";case e.hm.MobileBannerImage:return"mobileBannerImage";case e.hm.CommunityIcon:default:return"communityIcon"}}},get F(){return o},O:"mod-show-post-level-crowd-control-modal",u:a}}));
SML.dm("communitypickerf331f77f",["shelle48e5956","agegatestandaloneclientjsb13e879d"],(async(e,t)=>{const n=e.ha(),o=function(){const e=new WeakMap;let t=!1;return{get isDirty(){return t},getRegistration:(e,t,n)=>({target:e,key:t,value:n}),register({target:n,key:o,value:r}){const s=e.get(n);if(s&&!s.has(o))s.set(o,r);else{if(s)throw new Error(`Cannot register value for key ${o}; something is already registered!`);e.set(n,new Map([[o,r]]))}t=!0},unregister({target:n,key:o,value:r}){const s=e.get(n);s&&s.get(o)===r&&(s.delete(o),t=!0)},getRegisteredElements(n){const o=e.get(n);return t=!1,o},unregisterAll(n){e.delete(n),t=!0}}}(),r=e.h9("FaceplateForm"),s=r.registerAncestorClass,i=r.connectToAncestor,c=Symbol.for("mixins/form-association");function u(e){return!!e&&c in e.constructor}function a(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||c in e.constructor)}const l=new Set(["checkbox","radio"]);function m(e){return a(e)&&l.has(e.type)||u(e)&&"checked"in e}const f=new Set(["radio"]);function p(e){const{count:t,none:n,single:o,many:r}=e;return 0===t&&void 0!==n?n:1===t?o:r}return{C:"community-picker-default",F:c,a:"community-picker-your-communities",b:"community-picker-others",c:i,d:function(t,n=!1){return n||0!==t?e.h({one:`Allows up to ${t} emoji`,other:`Allows up to ${t} emojis`,count:t}):""},e:u,f:function(e){return!!e&&(e instanceof HTMLSelectElement||c in e.constructor&&"options"in e)},g:a,h:function(e){return m(e)&&f.has(e.type)},i:m,j:o,k:n,l:p,m:function(e,n,o=!1,r=""){return p({count:n,none:o?void 0:"",single:e` <faceplate-number number="${n}" pretty></faceplate-number> <span class="${t.cG(r)}"> member </span> `,many:e` <faceplate-number number="${n}" pretty></faceplate-number> <span class="${t.cG(r)}"> members </span> `})},n:function(t,n=!1){return n||0!==t?e.h({one:`${t} question left today.`,other:`${t} questions left today.`,count:t}):""},o:function(t,n=!1){return n||0!==t?e.h({one:`${t} question left this week.`,other:`${t} questions left this week.`,count:t}):""},p:function(t,n=!1){return n||0!==t?e.h({one:`Allows text and up to ${t} emoji`,other:`Allows text and up to ${t} emojis`,count:t}):""},q:"community-picker-your-profile",r:s}}));
SML.dm("constants9e09f052",["shelle48e5956","iconc33661e6","communitypickerf331f77f"],(async(t,e,i)=>{class s{constructor(t,e,i,s,a,n,r,l,o,d){this.valueMissing=t,this.typeMismatch=e,this.patternMismatch=i,this.tooLong=s,this.tooShort=a,this.rangeUnderflow=n,this.rangeOverflow=r,this.stepMismatch=l,this.badInput=o,this.customError=d}}class a{constructor(t){this.submissionValue=null,this.constraintsSuffered={},this.customValidityMessage="",this.validityMessage="",this.validationAnchor=null,this.target=t,this.input=document.createElement("input"),this.input.className="faceplate-internal-input",this.input.tabIndex=-1,this.input.style.opacity="0",this.input.style.width="1px",this.input.style.height="100%",this.input.style.padding="0",this.input.style.border="0",this.input.style.pointerEvents="none",this.input.hidden=!0}_connect(t){t?(this._form=t,i.k.register(t,this.target)):this._form=void 0}_disconnect(){this._form&&(i.k.unregister(this._form,this.target),this._form=void 0)}getFormValue(){return this.submissionValue}setFormValue(t){this.submissionValue=t}get form(){return this._form}isSufferingFromItsConstraints(){for(const t in this.constraintsSuffered)if(this.constraintsSuffered[t])return!0;return!1}setValidity(t,e,i=null){if(t){const e=this.convertFlagsToValidityState(t);for(const i in t)this.constraintsSuffered[i]=e[i]}else this.constraintsSuffered={};const s=!!e&&this.isSufferingFromItsConstraints();if(t&&Object.prototype.hasOwnProperty.call(t,"customError")){const t=this.constraintsSuffered.customError&&e?e:"";this.customValidityMessage=t}else this.validationAnchor=i,this.validityMessage=s&&e?e:"";(this.validationAnchor||this.input).setCustomValidity(this.validationMessage),this.target.setAttribute("faceplate-validity",s?"invalid":"valid")}get willValidate(){return!(this.target.disabled||null===this.submissionValue)}convertFlagsToValidityState(t){return new s(!!t.valueMissing,!!t.typeMismatch,!!t.patternMismatch,!!t.tooLong,!!t.tooShort,!!t.rangeUnderflow,!!t.rangeOverflow,!!t.stepMismatch,!!t.badInput,!!t.customError)}get validity(){const t=this.constraintsSuffered;return this.convertFlagsToValidityState(t)}get validationMessage(){return this.customValidityMessage||this.validityMessage}dispatchInvalidEvent(){const t=new Event("invalid",{bubbles:!0,cancelable:!0});return this.target.dispatchEvent(t),t}checkValidity(){return!this.isSufferingFromItsConstraints()||(this.dispatchInvalidEvent(),!1)}reportValidity(){if(this.isSufferingFromItsConstraints()){if(!this.dispatchInvalidEvent().defaultPrevented){(this.validationAnchor||this.input).reportValidity()}return!1}return!0}}const n=t.ha(),r=new MutationObserver((t=>{for(const e of t){if("attributes"!==e.type||"disabled"!==e.attributeName||!(e.target instanceof HTMLFieldSetElement))continue;const t=n.getRegisteredElements(e.target);if(t)for(const i of t)i.formDisabledCallback&&i.formDisabledCallback(i.disabled||e.target.disabled)}}));function l(t){if(i.F in t)return t;class e extends t{constructor(){super(...arguments),this._internals=new a(this)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),i.c(this).then((t=>{if(!t||!this.isConnected)return;this._internals._connect(t),this.formAssociatedCallback&&this.formAssociatedCallback(t);let e=this;for(;e.parentElement&&(e=e.parentElement,e!==t)&&!(e instanceof HTMLLegendElement);)if(e instanceof HTMLFieldSetElement){this._fieldSet=e;n.getRegisteredElements(e)||r.observe(e,{attributes:!0}),n.register(e,this);break}this.formDisabledCallback&&this.formDisabledCallback(this.disabled)}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._internals._disconnect(),this.formAssociatedCallback&&this.formAssociatedCallback(null),this._fieldSet&&(n.unregister(this._fieldSet,this),this._fieldSet=void 0)}get value(){return this._internals.getFormValue()}set value(t){this._internals.setFormValue(t),this.syncInputValidity(!1)}get form(){return this._internals.form}get name(){return this.getAttribute("name")||""}get disabled(){return this.hasAttribute("disabled")||!(!this._fieldSet||!this._fieldSet.disabled)}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.formDisabledCallback&&this.formDisabledCallback(t||!(!this._fieldSet||!this._fieldSet.disabled))}get type(){return this.localName}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}setCustomValidity(t){this._internals.setValidity({customError:!!t},t)}syncInputValidity(t=!0){var e;const i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("input:not(.faceplate-internal-input),textarea");if(!i)return;t&&this.setAttribute("faceplate-dirty","");let s={};if(this._internals.validity.customError){for(const t in i.validity)s[t]=i.validity[t];s.customError=!0}else s=i.validity;this._internals.setValidity(s,i.validationMessage||this._internals.validationMessage)}}return e[i.F]=!0,e}class o extends(l(e.s)){static get styles(){return e.a`:host{display:inline-block;position:relative}:host([aria-disabled=true]){cursor:not-allowed;opacity:.5}:host([faceplate-validity=invalid]){border-color:var(--color-danger-content)}.faceplate-internal-input{position:absolute;left:50%;bottom:0}`}get disabled(){return super.disabled}set disabled(t){super.disabled=t}constructor(){super(),this.ariaDisabled="false",this.addEventListener("focus",this.dispatchFocusin)}dispatchFocusin(){const t=new FocusEvent("focusin",{bubbles:!0});this.dispatchEvent(t)}render(){return e.x` ${this._internals.input} `}formDisabledCallback(t){this.ariaDisabled=t?"true":"false"}formResetCallback(){this.value=this.getAttribute("value"),this.removeAttribute("faceplate-dirty")}}t._([t.n({type:Boolean,reflect:!0})],o.prototype,"disabled",null),t._([t.n({type:String,attribute:"aria-disabled",reflect:!0})],o.prototype,"ariaDisabled",void 0);return{F:class extends o{async firstUpdated(){const t=await i.c(this);t&&this.isConnected&&t.register(this)}},I:o,M:999,T:function(){return o},W:l,i:function(t,e,{className:i,size:s="small",label:a,description:n,leadingContent:r,trailingContent:l,truncateTrailingContent:o,disabled:d=!1,id:c,testId:h}){return t`<div class="flex justify-between gap-[0.5rem] text-secondary py-xs ${d?"opacity-60 pointer-events-none":""} ${i??""}" id="${e(c)}" data-testid="${e(h)}"> <span class="flex items-center gap-xs min-w-0 ${o?"shrink-0 grow":"shrink"}"> ${r?t`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${r}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="${"small"===s?"text-14":"text-16"} break-normal">${a}</span> <span class="text-12 text-secondary-weak break-normal">${n}</span> </span> </span> <span class="flex items-center ${o?"shrink pl-[8px] min-w-0":"shrink-0"}"> <span class="flex items-center justify-center h-lg ${o?"min-w-0":""}">${l}</span> </span> </div>`}}}));
SML.dm("textinput9c3f45be",["iconc33661e6","shelle48e5956","communitypickerf331f77f","constants9e09f052"],(async(t,e,i,a)=>{const r=t.e(class extends t.i{constructor(e){if(super(e),e.type!==t.t.PROPERTY&&e.type!==t.t.ATTRIBUTE&&e.type!==t.t.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!t.b(e))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(e,[i]){if(i===t.T||i===t.A)return i;const a=e.element,r=e.name;if(e.type===t.t.PROPERTY){if(i===a[r])return t.T}else if(e.type===t.t.BOOLEAN_ATTRIBUTE){if(!!i===a.hasAttribute(r))return t.T}else if(e.type===t.t.ATTRIBUTE&&a.getAttribute(r)===i+"")return t.T;return t.bN(e),i}});class n{constructor(t,e){this._observedNames=new Set,this._previousStates=new Map,this._records=new Map,this._eventListener=t=>{this._processRecord(t.detail)},this._callCallback=()=>{this._records.size&&this._callback(this.takeRecords(),this)},this._callback=t,this.form=e.form}_processRecord(t){const e=!this._records.size,{input:i,message:a,name:r}=t;if(!this._observedNames.has(r))return;this._previousStates.get(r)!==a&&(this._records.set(r,{target:i,message:a,name:r}),this._previousStates.set(r,a),this._records.size&&e&&queueMicrotask(this._callCallback))}observe(t){if(this._observedNames.has(t))return;this._observedNames.add(t),1===this._observedNames.size&&this.form.addEventListener("_faceplate-validation-change",this._eventListener);const e=this.form.elements[t];!e||e instanceof HTMLOutputElement||Array.isArray(e)||this._processRecord({input:e,name:t,message:e.validationMessage})}disconnect(){this._observedNames.size&&(this._observedNames.clear(),this._previousStates.clear(),this._records.clear(),this.form.removeEventListener("_faceplate-validation-change",this._eventListener))}takeRecords(){const t=Array.from(this._records.values());return this._records=new Map,t}unobserve(t){this._observedNames.has(t)&&(this._observedNames.delete(t),this._previousStates.delete(t),this._records.delete(t),this._observedNames.size||this.disconnect())}}let s=class extends t.s{constructor(){super(...arguments),this.name="",this.level=null,this.placeholder="",this.ariaLive=null,this.message="",this.characterCount=Number.NEGATIVE_INFINITY,this.characterCountAriaLabel="",this.visuallyHiddenText="",this.isInputDirty=!0,this._message="",this.setIsDirtyByAttribute=t=>{this.isInputDirty=t.hasAttribute("faceplate-dirty")},this.onFormConnect=t=>{t?.addEventListener("faceplate-submit",(()=>{this.isInputDirty=!0})),t&&this.isConnected&&(this._observer=new n((t=>{for(const i of t)if(i.name===this.name){if(i.target instanceof a.F){this.setIsDirtyByAttribute(i.target);new MutationObserver((t=>{for(const e of t)"faceplate-dirty"===e.attributeName&&this.setIsDirtyByAttribute(e.target),"faceplate-validity"===e.attributeName&&this.toggleSuccessStyling(e.target)})).observe(i.target,{attributes:!0})}else this.isInputDirty=!0;this.setMessage(this.message||i.message,"valid"===i.target.getAttribute("faceplate-validity")?e.x.success:e.x.error)}}),{form:t}),this._observer.observe(this.name),this._observer.form.addEventListener("faceplate-alert",this._handleAlert))},this.associateForm=t=>{this.onFormConnect(t)},this._handleAlert=t=>{this.isInputDirty=!0;const{name:i,level:a,message:r}=t.detail;i===this.name&&a!==e.x.error&&this.setMessage(r,a)},this.toggleSuccessStyling=t=>{this.isInputDirty&&("valid"===t.getAttribute("faceplate-validity")?this.shadowRoot?.getElementById("helper-text")?.classList.add("success"):this.shadowRoot?.getElementById("helper-text")?.classList.remove("success"))}}connectedCallback(){super.connectedCallback(),i.c(this).then(this.onFormConnect)}disconnectedCallback(){super.disconnectedCallback(),this._observer&&(this._observer.disconnect(),this._observer.form.removeEventListener("faceplate-alert",this._handleAlert))}setMessage(t,i){t&&void 0!==i?this.level=e.x[i]:this.removeAttribute("level"),this._message=t||""}get textContent(){return this.shadowRoot?.firstElementChild?.textContent||""}get innerText(){return this.shadowRoot?.firstElementChild?.innerText||""}static get styles(){return t.a`:host{display:block;font-size:var(--font-small);color:var(--color-input-helper-text);line-height:var(--size-md);font-size:var(--font-small);box-sizing:border-box}.container{display:flex;justify-content:space-between;padding-top:var(--spacer-input-padding-top);line-height:var(--size-md);font-size:var(--font-small)}.success,:host([level=success]){color:var(--color-success-content)}.overflow-char-limit,:host([level=alert]),:host([level=critical]),:host([level=emergency]),:host([level=error]){color:var(--color-danger-content)}:host([level=warning]){color:var(--color-alert-caution)}:host([level=notice]){color:var(--color-success-content)}.pristine{color:var(--color-input-helper-text)}:host([character-count]) .character-count{margin-inline-start:var(--spacer-xs);flex-shrink:0}.empty{padding:0}`}render(){const i=this.characterCount>Number.NEGATIVE_INFINITY;return this.placeholder||this._message||i?t.x`<span aria-live="${t.l(this.ariaLive??void 0)}" class="${e.U({container:!0,pristine:!this.isInputDirty})}"> <span id="helper-text">${this.isInputDirty&&this._message?this._message:this.placeholder}</span> ${i?t.x`<span class="character-count ${this.characterCount<0?"overflow-char-limit":""}" aria-label="${t.l(this.characterCountAriaLabel)}">${this.characterCount}</span>`:void 0} </span> <faceplate-screen-reader-content aria-live="assertive">${this.visuallyHiddenText}</faceplate-screen-reader-content>`:t.x`<faceplate-screen-reader-content aria-live="polite">${this.visuallyHiddenText}</faceplate-screen-reader-content>`}};e._([e.n({type:String,reflect:!0})],s.prototype,"name",void 0),e._([e.n({type:String,reflect:!0})],s.prototype,"level",void 0),e._([e.n({type:String})],s.prototype,"placeholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"aria-live"})],s.prototype,"ariaLive",void 0),e._([e.n({type:String,attribute:"message"})],s.prototype,"message",void 0),e._([e.n({type:Number,attribute:"character-count"})],s.prototype,"characterCount",void 0),e._([e.n({type:String,attribute:"character-count-aria-label"})],s.prototype,"characterCountAriaLabel",void 0),e._([e.n({type:String,attribute:"visually-hidden-text"})],s.prototype,"visuallyHiddenText",void 0),e._([e.d()],s.prototype,"isInputDirty",void 0),e._([e.d()],s.prototype,"_message",void 0),s=e._([e.e("faceplate-form-helper-text")],s);class l extends a.F{constructor(){super(...arguments),this.suffix="",this.value="",this.name="",this.placeholder="",this.required=!1,this.screenReaderContent="",this.novalidate=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.hasLabel=!1,this.hasTrailingButton=!1,this.statefulInput=!1,this.reportedDirty=!1,this.hasValidationHelpers=!1,this.suppressInternalClicks=!1,this.validationMsg="",this.allowMaxLengthOverflow=!1,this.setFormValidationHelpers=t=>{t&&(t.addEventListener("faceplate-submit",this.setDirtyAttribute),this.helperText?.associateForm(t),this.hasValidationHelpers=!0)},this.setStatefulInputByValue=()=>{this.statefulInput=!this.isEmpty},this.inputContainer=i=>t.x` <span class="${e.U({"input-container":!0})}"> ${i} </span> `,this.labelTextWrapper=()=>{const e=t=>t&&t[0]?.textContent;return t.x` <span class="label-text inner-label" id="fp-input-label"><slot name="label" @slotchange="${t=>this.onSlotChange({event:t,property:"hasLabel",name:"label",hasChanged:e})}"></slot>${this.required?t.x`<span class="required-asterisk" aria-hidden="true">*</span>`:null}</span> `},this.setDirtyAttribute=()=>{this.setAttribute("faceplate-dirty","")},this.onSlotChange=({event:t,property:e,name:i,hasChanged:a})=>{t.target?.name===i&&(this[e]=a?a(t.target?.assignedElements()):t.target?.assignedNodes().length>0)}}async connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("blur",this.onBlur.bind(this));const t=await i.c(this);this.setFormValidationHelpers(t)}disconnectedCallback(){super.disconnectedCallback(),this?.removeEventListener("focus",this.onFocus),this?.removeEventListener("blur",this.onBlur),this.form?.removeEventListener("faceplate-submit",this.setDirtyAttribute)}async firstUpdated(){super.firstUpdated(),this.calculateLabelPosition(),this.validateMaxLength()}updated(t){if(t.get("prefix")&&this.calculateLabelPosition(),void 0!==t.get("statefulInput")){const t=this.shadowRoot?.querySelector(".input-container")?.classList;this.statefulInput?t.add("stateful-input"):t.remove("stateful-input")}t.has("value")&&(super.value=this.value,this.setStatefulInputByValue())}get delegatedFocusElements(){return[this.innerInput]}static get styles(){return[super.styles,t.a`label{display:flex;position:relative}:host{outline:0;font-family:var(--font-sans);cursor:text}:host input,:host textarea{font:inherit;color:var(--color-neutral-content-strong);padding:0}.label-container{display:inline-flex;position:relative;height:var(--rem40);align-items:center;box-sizing:border-box}:host([appearance=bordered]) .label-container{background:var(--color-input-bordered);color:var(--color-input-bordered-text)}:host([appearance=secondary]) .label-container{background:var(--color-input-secondary);border-radius:var(--radius-md);outline:0;color:var(--color-input-secondary-text)}:host([appearance=secondary]) .label-container:hover{background:var(--color-input-secondary-hover)}:host([appearance=bordered]) .label-container:hover{background:var(--color-input-bordered-hover)}:host(:focus-within) .label-container{outline:1px auto var(--color-global-focus)}:host([faceplate-validity=invalid][faceplate-dirty]) .label-container{border-color:transparent;box-shadow:0 0 0 var(--rem2) var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .label-container{border-color:transparent;box-shadow:none}:host .label-container,:host faceplate-form-helper-text{padding-inline-start:var(--spacer-md)}:host .label-container,:host faceplate-form-helper-text:not(.helper-text-without-label-with-trailing){padding-inline-end:var(--spacer-md)}:host([appearance=secondary]) .label-container{align-items:center}:host .label-container.with-trailing-button{padding-inline-end:var(--spacer-xs)}.label-container.interior-label{height:var(--rem56)}.input-container{font:var(--font-16-20-regular)}::slotted([slot=leadingIcon]),::slotted([slot=trailingIconButton]){color:var(--color-neutral-content-weak);display:inline-flex;align-items:center}:host([faceplate-validity=valid][faceplate-dirty]) .trailing-icon.valid{color:var(--color-success-background)}.required-asterisk,:host([faceplate-validity=invalid][faceplate-dirty]) .trailing-icon.invalid{color:var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .trailing-icon.valid{display:none}.trailing-icon,::slotted([slot=trailingIcon]){margin-inline-start:var(--spacer-xs);flex-shrink:0}:host([disabled]){color:var(--color-neutral-content-disabled)}:host([faceplate-validity=invalid][faceplate-dirty]) .invalid,:host([faceplate-validity=valid][faceplate-dirty]) .valid{display:inline-block}.trailing-icon{display:none}:host .label-container.without-label faceplate-form-helper-text,:host([appearance=secondary]) .label-container.without-label{padding-top:var(--rem10);padding-bottom:var(--rem10)}:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label),:host([faceplate-validity=valid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label){color:var(--color-label-default)}.label-text{position:absolute;pointer-events:none}:host([disabled]) .label-text:not(.inner-label){color:var(--color-neutral-content-disabled)}.stateful-input .label-text:not(.inner-label){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.stateful-input .label-text.inner-label{transform:translate(calc(-1 * var(--left-label-position)),calc(-1 * (var(--rem16))));font-size:var(--size-sm);line-height:var(--rem16);white-space:nowrap}.label-container:not(.without-label) .input-container:not(.stateful-input) input::placeholder,.label-container:not(.without-label) .input-container:not(.stateful-input) textarea::placeholder{opacity:0}.label-container:not(.without-label) .input-container.stateful-input{transform:translateY(var(--spacer-xs))}.activated,.activated .label-text.inner-label{transition:all 150ms ease-out}.inner-label{inset-inline-start:var(--left-label-position)}.input-container:not(.stateful-input) .inner-label{transform:translateY(0);transition:transform 150ms ease}.hidden{display:none}.label-text:not(.inner-label){color:var(--color-label-default)}slot[name=clearButton]:not(.has-value){display:none}.input-boundary-box{display:flex;align-items:center}.input-boundary-box,.label-container{flex:1}.label-container:not(.without-label) .input-boundary-box{padding:var(--spacer-xs) 0}#trailing-icons-container{display:flex;align-items:center;gap:var(--spacer-xs);justify-content:flex-end}:host([persistent-trailing-icon]) #trailing-icons-general{flex-direction:row-reverse}.input-prefix,.input-suffix,.label-text{color:var(--color-label-default)}:host .without-label.with-trailing-button{padding-inline-end:var(--spacer-2xs)}.input-container{position:relative;transform:translateY(0);display:flex;align-items:center;width:100%;line-height:var(--rem20)}:host([faceplate-validity=invalid]:not([persistent-trailing-icon])[faceplate-dirty]) ::slotted([slot=trailingIconButton]){display:none}#trailing-icons-general{display:flex;align-items:center}#trailing-icons-validation{display:flex}:host(:not([faceplate-dirty])) #trailing-icons-validation{display:none}`]}get isEmpty(){return!(!this.innerInput?.value&&this.innerInput?.validity.badInput)&&!(this.innerInput?.value??this.value)}onFocus(){this.hasAttribute("faceplate-dirty")&&!this.reportedDirty&&(this.reportedDirty=!0),this.removeAttribute("faceplate-dirty"),this.shadowRoot?.querySelector(".input-container")?.classList.add("activated"),this.isEmpty&&(this.statefulInput=!0)}onBlur(){this.isEmpty&&(this.statefulInput=!1),this.reportedDirty&&this.setAttribute("faceplate-dirty","")}focus(){this.innerInput?.focus()}blur(){this.innerInput?.blur()}onChange(t){const e=t?.target;this.value=e?.value||"",this.dispatchEvent(new InputEvent("change",{bubbles:!0}))}onInput(t){const e=t?.target;this.value=e?.value||"",this.handleCharLimit?.(),this.validateMaxLength(),this.setStatefulInputByValue()}validateMaxLength(){if(this.allowMaxLengthOverflow&&this.maxLength){const t=this._internals.validationMessage===this.validationMsg,e=this.value.length>this.maxLength;!t&&e?this.setCustomValidity(this.validationMsg):t&&!e&&this.setCustomValidity("")}}handleCharLimit(){const t=this.maxLength&&this.value.length>=this.maxLength;this.helperText&&this.helperTextScreenReaderMsg&&(t?this.helperText.visuallyHiddenText=this.helperTextScreenReaderMsg:!t&&this.helperText.visuallyHiddenText&&(this.helperText.visuallyHiddenText=""))}async calculateLabelPosition(t=0){let e=0,i=0;const a=this.shadowRoot?.querySelector(".input-prefix");if(a){!getComputedStyle(this.shadowRoot?.host).getPropertyValue("--font-16-20-regular").trim().length&&t<5&&setTimeout((()=>{this.calculateLabelPosition(t+1)}),50),i=a.getBoundingClientRect().width;const r=getComputedStyle(this.shadowRoot?.querySelector(".input-prefix")).getPropertyValue("margin-inline-end");e+=i+parseFloat(r)}(this.shadowRoot?.querySelector("label")).style.setProperty("--left-label-position",`${e}px`)}onLabelClick(t){this.suppressInternalClicks&&"input"!==t.target.nodeName.toLowerCase()&&t.stopPropagation()}renderInput(i){let a;return this.characterCount&&(a=this.maxLength?this.maxLength-this.value.length:this.value.length),t.x`<label @click="${this.onLabelClick}"> <div class="${e.U({"label-container":!0,"interior-label":!0,"without-label":!this.hasLabel,"with-trailing-button":this.hasTrailingButton})}"> <span class="input-boundary-box"> <slot name="leadingIcon"></slot> ${this.inputContainer(t.x` ${this.prefix?t.x`<span class="input-prefix">${this.prefix}</span>`:void 0} ${this.labelTextWrapper()} ${i} ${this.suffix?t.x`<span class="input-suffix">${this.suffix}</span>`:void 0} `)} <span id="trailing-icons-container"> <span id="trailing-icons-validation"> ${t.a1({attributes:{className:"trailing-icon invalid"},size:t.I.Medium})} ${t.E({attributes:{className:"trailing-icon valid"},size:t.I.Medium})} </span> <span id="trailing-icons-general"> <slot name="trailingIconButton" @slotchange="${t=>this.onSlotChange({event:t,property:"hasTrailingButton",name:"trailingIconButton"})}"> </slot> <slot name="clearButton" class="${e.U({"has-value":!!this.value.length})}"></slot> </span> </span> </span> </div> </label> <faceplate-form-helper-text class="${e.U({"no-label":!this.hasLabel,"helper-text-without-label-with-trailing":!this.hasLabel&&this.hasTrailingButton})}" character-count="${t.l(a)}" name="${this.name}" aria-live="${t.l(this.helperTextAriaLive??void 0)}" message="${t.l(this.helperTextMessage)}" level="${t.l(this.helperTextLevel??void 0)}" placeholder="${this.helperTextPlaceholder}" character-count-aria-label="${t.l(this.characterCountAriaLabel)}"> </faceplate-form-helper-text>`}}return l.clearButton=(i={})=>e.r({attributes:{...i,type:"button"},appearance:"plain",size:e.s.Small,leadingIcon:t.a6({attributes:{className:"trailing-icon"},size:t.I.Medium})}),e._([e.n({type:String})],l.prototype,"suffix",void 0),e._([e.n({type:String})],l.prototype,"value",void 0),e._([e.n({type:String})],l.prototype,"name",void 0),e._([e.n({type:String})],l.prototype,"placeholder",void 0),e._([e.n({type:Boolean})],l.prototype,"required",void 0),e._([e.n({type:String})],l.prototype,"screenReaderContent",void 0),e._([e.n({type:String})],l.prototype,"autocomplete",void 0),e._([e.n({type:String})],l.prototype,"inputmode",void 0),e._([e.n({type:Boolean})],l.prototype,"novalidate",void 0),e._([e.n({type:Number,attribute:"maxlength"})],l.prototype,"maxLength",void 0),e._([e.n({type:Number,attribute:"minlength"})],l.prototype,"minLength",void 0),e._([e.y("input,textarea")],l.prototype,"innerInput",void 0),e._([e.y("faceplate-form-helper-text")],l.prototype,"helperText",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-level"})],l.prototype,"helperTextLevel",void 0),e._([e.n({type:String,attribute:"helper-text-placeholder"})],l.prototype,"helperTextPlaceholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],l.prototype,"helperTextAriaLive",void 0),e._([e.n({type:String,attribute:"helper-text-message"})],l.prototype,"helperTextMessage",void 0),e._([e.n({type:Boolean,attribute:"character-count"})],l.prototype,"characterCount",void 0),e._([e.n({type:String,attribute:"helper-text-screen-reader-msg"})],l.prototype,"helperTextScreenReaderMsg",void 0),e._([e.n({type:String,attribute:"character-count-aria-label"})],l.prototype,"characterCountAriaLabel",void 0),e._([e.d()],l.prototype,"hasLabel",void 0),e._([e.d()],l.prototype,"hasTrailingButton",void 0),e._([e.j({slot:"label"})],l.prototype,"labelSlot",void 0),e._([e.j({slot:"trailingIconButton"})],l.prototype,"trailingIconButtonSlot",void 0),e._([e.d()],l.prototype,"statefulInput",void 0),e._([e.n({type:Boolean,attribute:"suppress-internal-clicks"})],l.prototype,"suppressInternalClicks",void 0),e._([e.n({type:Boolean})],l.prototype,"readonly",void 0),e._([e.n({type:String,attribute:"validation-message"})],l.prototype,"validationMsg",void 0),e._([e.n({type:Boolean,attribute:"allow-max-length-overflow"})],l.prototype,"allowMaxLengthOverflow",void 0),{T:l,l:r}}));
SML.dm("faceplatetextareainput29f541e5",["shelle48e5956","iconc33661e6","textinput9c3f45be"],(async(e,t,r)=>{var i,a;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary",e.PLAIN="plain"}(i||(i={})),function(e){e.COLLAPSED="collapsed",e.EXPANDED="expanded"}(a||(a={}));let n=class extends r.T{constructor(){super(...arguments),this.appearance=i.SECONDARY,this.size=a.COLLAPSED,this._textAreaContainerRef=e.aq()}static get styles(){return[super.styles,t.a`:host(){--trailing-icons-container:var(--rem32)}:host([resize]) .label-container{overflow:auto}.label-container:not(.without-label){padding-top:var(--spacer-xs);padding-bottom:var(--spacer-xs)}:host([resize]) textarea{height:100%;width:100%}:host([resize=both]) .label-container{resize:both}:host([resize=horizontal]) .label-container{resize:horizontal}:host([resize=vertical]) .label-container{resize:vertical}textarea{background:0 0;border:none;outline:0;overflow-y:auto;resize:none}:host([size=expanded]:not([rows])) .label-container{min-height:var(--rem90)}:host(:not([rows])) textarea{min-height:var(--rem20,1.25rem);height:var(--rem20,1.25rem)}:host(:not([cols])) textarea{width:100%}.label-text{top:0}:host([appearance=bordered]) .label-container{border:1px solid var(--color-neutral-border)}:host([appearance=bordered]) .label-container:hover{border-color:var(--color-neutral-border-medium)}:host([appearance=bordered]) .label-container:hover,:host([appearance=plain]) .label-container:hover{background:var(--color-neutral-background-hover);border-radius:none}:host([appearance=plain]) .label-container{border-radius:0}.input-boundary-box,.input-container,:host .label-container,label{height:100%;width:100%;box-sizing:border-box}:host([size=expanded]) .input-container{height:calc(100% - var(--trailing-icon-container,0px))}.input-container{align-items:flex-start}:host .label-container{border-radius:var(--radius-md)}.input-boundary-box{flex-direction:column}:host(:not([size])) .input-boundary-box,:host([size=collapsed]) .input-boundary-box{flex-direction:row;min-height:var(--rem40);padding:var(--spacer-2xs) 0}:host([size=expanded]) #trailing-icons-container{width:100%;justify-content:flex-end}#trailing-icons-container{height:(--trailing-icons-container)}.text-area-wrapper{height:inherit;width:100%;min-height:var(--textarea-minheight,var(--rem20));display:flex}`]}updated(e){e.has("value")&&this.handleDynamicResize(),super.updated(e)}async handleDynamicResize(){if(!this.rows&&!this.cols){const{width:e}=this.innerTextArea.getBoundingClientRect();this.innerTextArea.style.overflow="hidden",this.innerTextArea.style.height="0",this.innerTextArea.style.width=`${e}px`;const t=`${this.innerTextArea?.scrollHeight}px`;this.innerTextArea.style.height=t,this.innerTextArea.style.removeProperty("overflow"),this.innerTextArea.style.removeProperty("width"),this._textAreaContainerRef?.value&&this._textAreaContainerRef.value.style.setProperty("--textarea-minheight",t)}}onInput(e){this.handleDynamicResize(),super.onInput(e)}render(){return super.renderInput(t.x` <div class="text-area-wrapper" ${e.as(this._textAreaContainerRef)}> <textarea aria-labelledby="fp-input-label" style="${t.l(this.fontFamily?`font-family: ${this.fontFamily}`:void 0)}" class="${e.U({"no-label":!this.hasLabel})}" ?readonly="${this.readonly}" id="innerTextArea" rows="${t.l(this.rows)}" cols="${t.l(this.cols)}" @input="${this.onInput}" @change="${this.onChange}" .value="${r.l(this.value)}" name="${t.l(this.name)}" minlength="${t.l(this.minLength)}" maxlength="${t.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" placeholder="${t.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${t.l(this.autocomplete)}" inputmode="${t.l(this.inputmode)}"></textarea> </div>`)}};return e._([e.n({type:Number})],n.prototype,"rows",void 0),e._([e.n({type:Number})],n.prototype,"cols",void 0),e._([e.n({type:String})],n.prototype,"resize",void 0),e._([e.y("#innerTextArea")],n.prototype,"innerTextArea",void 0),e._([e.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),e._([e.n({type:String})],n.prototype,"size",void 0),e._([e.n({type:String,attribute:"font-family"})],n.prototype,"fontFamily",void 0),n=e._([e.e("faceplate-textarea-input")],n),{get F(){return n},get T(){return a},get a(){return i}}}));
SML.dm("translationsa30aa3ad",["shelle48e5956"],(async t=>{var o;!function(t){t.ACCOUNT_AGE="account_age",t.BACKEND="backend",t.DEFAULT_OFF="default_off",t.REGULAR_SEO="regular_seo",t.MT_SEO="mt_seo"}(o||(o={}));const n="on",e="off",s="initiated",a="see_translation",i="see_original",r=t=>!1===t.isEligibleForImmersive?s:t.isImmersiveTranslationsActive?n:e,c=t=>("isPostTranslatedAfterClick"in t?t.isPostTranslatedAfterClick:t.isCommentTranslatedAfterClick)?a:i;return{get T(){return o},a:o=>{const n=o?{post:{id:o}}:{};return t.b({source:"translate_button",action:"view",noun:"post_composer"},{action_info:{reason:"on"},...n})},b:(o,n)=>t.b({source:"translate_button",action:"click",noun:"comment_composer"},{action_info:{reason:o?"on":"off"},...n?{comment:{id:n}}:{}}),c:(o,n)=>{const e=n?{post:{id:n}}:{};return t.b({source:"translate_button",action:"click",noun:"post_composer"},{action_info:{reason:o?"on":"off"},...e})},d:(o,n)=>t.b({source:"translate_button",action:"submit",noun:"post_composer"},{action_info:{reason:o?"on":"off"},...n?{post:{id:n.id,subreddit_id:n.subredditId,subreddit_name:n.subredditPrefixedName,url:n.permalink}}:{}}),e:()=>t.b({source:"translate_button",action:"hide",noun:"comment_composer"}),f:()=>t.b({source:"translate_button",action:"hide",noun:"post_composer"}),g:o=>t.b({source:"translate_button",action:"dismiss",noun:"translation_intervention"},{action_info:{reason:r(o)},comment:{...o.comment},post:o.post}),h:o=>t.b({source:"translate_button",action:"click",noun:"translation_intervention"},{action_info:{reason:r(o),type:o.actionType},comment:{...o.comment},post:o.post}),i:o=>t.b({source:"translate_button",action:"click",noun:"toggle"},{action_info:{reason:r(o)}}),j:o=>t.b({source:"translate_button",action:"dismiss",noun:"survey"},{post:o?.post,comment:o?.comment}),k:o=>t.b({source:"translate_button",action:"view",noun:"survey"},{post:o?.post,comment:o?.comment}),l:o=>t.b({source:"translate_button",action:"submit",noun:"survey"},{action_info:{reason:o.reason},post:o.post,comment:o.comment,survey:{text:o.survey_text}}),m:o=>t.b({source:"translate_button",action:"enabled",noun:"status"},{action_info:{reason:o}}),n:o=>t.b({source:"translate_button",action:"disabled",noun:"status"},{action_info:{reason:o}}),o:o=>t.b({source:"overflow_menu",action:"click",noun:"translate_post"},{action_info:{reason:r(o),type:c(o)},post:{...o.post,translation_state:o.isPostTranslated}}),p:o=>t.b({source:"overflow_menu",action:"view",noun:"translate_post"},{action_info:{reason:r(o)},post:{...o.post,translation_state:o.isPostTranslated}}),q:o=>t.b({source:"translate_button",action:"view",noun:"post_banner"},{action_info:{reason:r(o)},post:{...o.post,translation_state:o.isPostTranslated}}),r:o=>t.b({source:"translate_button",action:"click",noun:"post_banner"},{action_info:{reason:r(o),type:c(o)},post:{...o.post,translation_state:o.isPostTranslated}}),s:o=>t.b({source:"translate_button",action:"dismiss",noun:"post_banner"},{action_info:{reason:r(o)},post:{...o.post,translation_state:o.isPostTranslated}}),t:o=>t.b({source:"translate_button",action:"view",noun:"comment_composer"},{action_info:{reason:"on"},...o?{comment:{id:o}}:{}}),u:o=>t.b({source:"overflow_menu",action:"click",noun:"translate_survey"},{post:o?.post,comment:o?.comment}),v:(o,n,e)=>t.b({source:"translate_button",action:"submit",noun:"comment_composer"},{action_info:{reason:o?"on":"off"},...n?{post:{id:n.id,language:n.postLanguage,subreddit_id:n.subredditId,subreddit_name:n.subredditPrefixedName,type:n.postType,url:n.permalink}}:{},...e?{comment:{id:e}}:{}}),w:o=>t.b({source:"overflow_menu",action:"click",noun:"translate_comment"},{action_info:{reason:r(o),type:c(o)},comment:{...o.comment,translation_state:o.isCommentTranslated},post:o.post}),x:o=>t.b({source:"overflow_menu",action:"view",noun:"translate_comment"},{action_info:{reason:r(o)},comment:{...o.comment,translation_state:o.isCommentTranslated},post:o.post})}}));
SML.dm("TinyGesture26737d23",[],(async()=>{class t{constructor(e,o){this.element=e,this.touch1=null,this.touch2=null,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.touchMove1=null,this.touchMove2=null,this.touchMoveX=null,this.touchMoveY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapTimer=null,this.doubleTapWaiting=!1,this.thresholdX=0,this.thresholdY=0,this.disregardVelocityThresholdX=0,this.disregardVelocityThresholdY=0,this.swipingHorizontal=!1,this.swipingVertical=!1,this.swipingDirection=null,this.swipedHorizontal=!1,this.swipedVertical=!1,this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[],pinch:[],pinchend:[],rotate:[],rotateend:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.opts=Object.assign({},t.defaults,o),this.element.addEventListener("touchstart",this._onTouchStart,i),this.element.addEventListener("touchmove",this._onTouchMove,i),this.element.addEventListener("touchend",this._onTouchEnd,i),this.opts.mouseSupport&&!("ontouchstart"in window)&&(this.element.addEventListener("mousedown",this._onTouchStart,i),document.addEventListener("mousemove",this._onTouchMove,i),document.addEventListener("mouseup",this._onTouchEnd,i))}destroy(){var t,i;this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(null!==(t=this.longPressTimer)&&void 0!==t?t:void 0),clearTimeout(null!==(i=this.doubleTapTimer)&&void 0!==i?i:void 0)}on(t,i){if(this.handlers[t])return this.handlers[t].push(i),{type:t,fn:i,cancel:()=>this.off(t,i)}}off(t,i){if(this.handlers[t]){const e=this.handlers[t].indexOf(i);-1!==e&&this.handlers[t].splice(e,1)}}fire(t,i){for(let e=0;e<this.handlers[t].length;e++)this.handlers[t][e](i)}onTouchStart(t){var i,e,o,s,h,n,l,u,r,d,c,a,v,p,m,T,g,M,w,f,y,X,Y,E,b,S;let V=!1;if("mousedown"!==t.type){if(this.touch1||(this.touch1=t.changedTouches[0],V=!0),(V&&t.changedTouches.length>1||!V)&&!this.touch2)return this.touch2=[...t.changedTouches].find((t=>{var i;return t.identifier!==(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||null,this.originalDistance=Math.sqrt(Math.pow((null!==(e=null===(i=this.touch2)||void 0===i?void 0:i.screenX)&&void 0!==e?e:0)-(null!==(n=null!==(s=null===(o=this.touchMove1)||void 0===o?void 0:o.screenX)&&void 0!==s?s:null===(h=this.touch1)||void 0===h?void 0:h.screenX)&&void 0!==n?n:0),2)+Math.pow((null!==(u=null===(l=this.touch2)||void 0===l?void 0:l.screenY)&&void 0!==u?u:0)-(null!==(a=null!==(d=null===(r=this.touchMove1)||void 0===r?void 0:r.screenY)&&void 0!==d?d:null===(c=this.touch1)||void 0===c?void 0:c.screenY)&&void 0!==a?a:0),2)),void(this.originalAngle=Math.atan2((null!==(p=null===(v=this.touch2)||void 0===v?void 0:v.screenY)&&void 0!==p?p:0)-(null!==(M=null!==(T=null===(m=this.touchMove1)||void 0===m?void 0:m.screenY)&&void 0!==T?T:null===(g=this.touch1)||void 0===g?void 0:g.screenY)&&void 0!==M?M:0),(null!==(f=null===(w=this.touch2)||void 0===w?void 0:w.screenX)&&void 0!==f?f:0)-(null!==(E=null!==(X=null===(y=this.touchMove1)||void 0===y?void 0:y.screenX)&&void 0!==X?X:null===(Y=this.touch1)||void 0===Y?void 0:Y.screenX)&&void 0!==E?E:0))/(Math.PI/180));if(!V)return}(V||"mousedown"===t.type)&&(this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===t.type?t.screenX:(null===(b=this.touch1)||void 0===b?void 0:b.screenX)||0,this.touchStartY="mousedown"===t.type?t.screenY:(null===(S=this.touch1)||void 0===S?void 0:S.screenY)||0,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.swipingDirection=null,this.longPressTimer=setTimeout((()=>this.fire("longpress",t)),this.opts.longPressTime),this.scale=1,this.rotation=0,this.fire("panstart",t))}onTouchMove(t){var i,e,o,s,h,n,l,u,r,d,c,a,v;if("mousemove"===t.type&&(!this.touchStartX||null!==this.touchEndX))return;let p,m;if("mousemove"!==t.type&&(p=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),this.touchMove1=p||this.touchMove1,m=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)})),this.touchMove2=m||this.touchMove2),"mousemove"===t.type||p){const u=("mousemove"===t.type?t.screenX:null!==(i=null==p?void 0:p.screenX)&&void 0!==i?i:0)-(null!==(e=this.touchStartX)&&void 0!==e?e:0);this.velocityX=u-(null!==(o=this.touchMoveX)&&void 0!==o?o:0),this.touchMoveX=u;const r=("mousemove"===t.type?t.screenY:null!==(s=null==p?void 0:p.screenY)&&void 0!==s?s:0)-(null!==(h=this.touchStartY)&&void 0!==h?h:0);this.velocityY=r-(null!==(n=this.touchMoveY)&&void 0!==n?n:0),this.touchMoveY=r;const d=Math.abs(this.touchMoveX),c=Math.abs(this.touchMoveY);this.swipingHorizontal=d>this.thresholdX,this.swipingVertical=c>this.thresholdY,this.swipingDirection=d>c?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",Math.max(d,c)>this.opts.pressThreshold&&clearTimeout(null!==(l=this.longPressTimer)&&void 0!==l?l:void 0),this.fire("panmove",t)}"mousemove"!==t.type&&null!=this.touchMove1&&null!=this.touchMove2&&(this.newDistance=Math.sqrt(Math.pow(this.touchMove2.screenX-this.touchMove1.screenX,2)+Math.pow(this.touchMove2.screenY-this.touchMove1.screenY,2)),this.scale=this.newDistance/(null!==(u=this.originalDistance)&&void 0!==u?u:0),this.fire("pinch",t),this.newAngle=Math.atan2((null!==(r=this.touchMove2.screenY)&&void 0!==r?r:0)-(null!==(d=this.touchMove1.screenY)&&void 0!==d?d:0),(null!==(c=this.touchMove2.screenX)&&void 0!==c?c:0)-(null!==(a=this.touchMove1.screenX)&&void 0!==a?a:0))/(Math.PI/180),this.rotation=this.newAngle-(null!==(v=this.originalAngle)&&void 0!==v?v:0),this.fire("rotate",t))}onTouchEnd(t){var i,e,o,s,h,n,l,u,r,d;let c;if("mouseup"!==t.type&&(c=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||(this.touch1=null,this.touchMove1=null),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)}))||(this.touch2=null,this.touchMove2=null)),"mouseup"!==t.type||this.touchStartX&&null===this.touchEndX){if("mouseup"===t.type||c){this.touchEndX="mouseup"===t.type?t.screenX:null!==(i=null==c?void 0:c.screenX)&&void 0!==i?i:0,this.touchEndY="mouseup"===t.type?t.screenY:null!==(e=null==c?void 0:c.screenY)&&void 0!==e?e:0,this.fire("panend",t),clearTimeout(null!==(o=this.longPressTimer)&&void 0!==o?o:void 0);const a=this.touchEndX-(null!==(s=this.touchStartX)&&void 0!==s?s:0),v=Math.abs(a),p=this.touchEndY-(null!==(h=this.touchStartY)&&void 0!==h?h:0),m=Math.abs(p),T=Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),g=Math.abs(T),M=m/v;v>this.thresholdX||m>this.thresholdY||this.opts.diagonalSwipes&&(g>this.thresholdX||g>this.thresholdY)?(this.swipedHorizontal=v>this.thresholdX||this.opts.diagonalSwipes&&g>this.thresholdX,this.swipedVertical=m>this.thresholdY||this.opts.diagonalSwipes&&g>this.thresholdY,(!this.opts.diagonalSwipes||M<Math.tan((45-this.opts.diagonalLimit)*Math.PI/180)||M>Math.tan((45+this.opts.diagonalLimit)*Math.PI/180))&&(v>=m&&(this.swipedVertical=!1),m>v&&(this.swipedHorizontal=!1)),this.swipedHorizontal&&(a<0?((null!==(n=this.velocityX)&&void 0!==n?n:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",t):((null!==(l=this.velocityX)&&void 0!==l?l:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdX)&&this.fire("swiperight",t)),this.swipedVertical&&(p<0?((null!==(u=this.velocityY)&&void 0!==u?u:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdY)&&this.fire("swipeup",t):((null!==(r=this.velocityY)&&void 0!==r?r:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdY)&&this.fire("swipedown",t))):v<this.opts.pressThreshold&&m<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(null!==(d=this.doubleTapTimer)&&void 0!==d?d:void 0),this.fire("doubletap",t)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout((()=>this.doubleTapWaiting=!1),this.opts.doubleTapTime),this.fire("tap",t)))}this.touch1||this.touch2||(this.fire("pinchend",t),this.fire("rotateend",t),this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null)}}}t.defaults={threshold:(t,i)=>Math.max(25,Math.floor(.15*("x"===t?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight))),velocityThreshold:10,disregardVelocityThreshold:(t,i)=>Math.floor(.5*("x"===t?i.element.clientWidth:i.element.clientHeight)),pressThreshold:8,diagonalSwipes:!1,diagonalLimit:15,longPressTime:500,doubleTapTime:300,mouseSupport:!0};let i=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i={passive:!0}}}))}catch(t){}return{T:t}}));
SML.dm("appselectorclientjs9964d0b0",["shelle48e5956","iconc33661e6","TinyGesture26737d23"],(async(t,e,i)=>{const s="var(--bottom-sheet-max-height)";let o=class extends e.s{constructor(){super(...arguments),this.open=!1,this.blocking=!1,this.docked=!1,this.focusManager=new t.aF(this,this),this.inFocusTrap=!1,this._isModal=!1,this._isExpanded=!1,this._isExpandable=!1,this._isDockable=!1,this._gesture=new i.T(this,{mouseSupport:!1}),this._cachedHeight="auto",this._dockedHeight="auto",this._cachedHeightAtTouchStartPx=0,this._rafID=null,this._mutationObserver=void 0,this.show=t=>{this._isModal=!1,this._isExpanded=(t&&"expanded"in t&&t.expanded)??!1,this._isExpandable=t?.expandable??!1,this._isDockable=t?.dockable??!1,this.open=!0,this._isExpandable&&(this._gesture.on("panstart",this._onTouchStart),this._gesture.on("panmove",this._onTouchMove),this._gesture.on("panend",this._onTouchEnd)),this._isExpanded?this._content.style.height=s:""!==this._content.style.height&&"auto"!==this._content.style.height||(this._cachedHeight=this._content.clientHeight+"px",this._content.style.height=this._cachedHeight),this._dockedHeight=this._headerElements[0]?this._headerElements[0].clientHeight-1+"px":"auto",this._mutationObserver||this._connectMutationObserver()},this.showModal=e=>{if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');t.hl.add(this),this.show(e),this._isModal=!0,t.hu.add(this)},this.close=()=>{const e=t.c("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this._isExpanded=!1,this.inFocusTrap&&(t.hu.remove(this),t.hl.remove(this)),this._isExpandable&&(this._gesture.off("panstart",this._onTouchStart),this._gesture.off("panmove",this._onTouchMove),this._gesture.off("panend",this._onTouchEnd)),this._content.style.height=this._cachedHeight)},this.expand=()=>{if(this.open&&this._isExpandable&&!this._isExpanded){const e=t.c("faceplate-expand");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=s,this.docked=!1,this._isExpanded=!0}},this.collapse=()=>{if(this.open&&this._isExpandable&&this._isExpanded){const e=t.c("faceplate-collapse");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=this._cachedHeight,this.docked=!1,this._isExpanded=!1}},this.dock=()=>{if(!this.open||!this._isDockable||this.docked)return;const e=t.c("faceplate-dock");this.dispatchEvent(e),e.defaultPrevented||(this._cancelRAF(),this._content.style.height=this._dockedHeight,this.docked=!0)},this.undock=()=>{if(!this.open||!this._isDockable||!this.docked)return;const e=this._isExpandable&&this._isExpanded?s:this._cachedHeight,i=t.c("faceplate-undock");this.dispatchEvent(i),i.defaultPrevented||(this._cancelRAF(),this._content.style.height=e,this.docked=!1)},this.recalculateCachedHeight=()=>{const e=this._cachedHeight;this._content.style.height="auto";const i=this._content.clientHeight+"px";this._cachedHeight=i,this._isDockable&&this.docked?this._content.style.height=this._dockedHeight:this._isExpandable&&this._isExpanded?this._content.style.height=s:(this._content.style.height=e,window.requestAnimationFrame((()=>{this._content.style.height=i,this._cancelRAF()})));const o=t.c("__TEST-ONLY_bottom-sheet-recalculation",{cachedHeight:this._cachedHeight,dockedHeight:this._dockedHeight,expandedHeight:s});this.dispatchEvent(o)},this._onTouchStart=()=>{this._cancelRAF(),this._content.style.transitionDuration="0ms",this._cachedHeightAtTouchStartPx=this._content.clientHeight},this._onTouchMove=()=>{this._cancelRAF(),this._isExpanded&&(this._gesture.touchMoveY??0)<=0||(this._rafID=window.requestAnimationFrame((()=>{null!=this._gesture.touchMoveY&&(this._content.style.height=this._cachedHeightAtTouchStartPx-this._gesture.touchMoveY+"px")})))},this._onTouchEnd=()=>{if(this._cancelRAF(),this._content.style.transitionDuration="300ms",!this.open||null==this._gesture.touchMoveY)return;const t=this._gesture.touchMoveY>=this._gesture.thresholdY,e=this._gesture.touchMoveY<=-this._gesture.thresholdY;t?this._isExpanded?this.collapse():this._closeIfNotBlocked():e?this._isExpanded||this.expand():this._isExpanded?this._content.style.height=s:this._content.style.height=this._cachedHeight},this._cancelRAF=()=>{this._rafID&&(window.cancelAnimationFrame(this._rafID),this._rafID=null)},this._renderHandle=()=>this._isExpandable?e.x`<div id="handle" class="${this._isModal?"out":"in"}"></div>`:null,this._handleBackDropKeyUp=t=>{"Enter"===t.key&&this._closeIfNotBlocked()},this._closeIfNotBlocked=()=>{this.blocking||this.close()},this.render=()=>e.x` <div id="backdrop" part="backdrop" class="${this._isModal&&this.open?"blocker":""}" @click="${this._closeIfNotBlocked}" @keyup="${this._handleBackDropKeyUp}"></div> <div id="content" part="content" role="${e.l(this.open?"dialog":void 0)}" aria-label="${e.l(this.label??void 0)}" aria-modal="${e.l(this.open&&this._isModal?"true":void 0)}"> ${this._renderHandle()} <slot name="header"></slot> <slot></slot> </div> `}static get styles(){return e.a`:host{--bottom-sheet-max-height:85vh}@supports (height:95dvh){:host{--bottom-sheet-max-height:95dvh}}:host{position:fixed;bottom:0;left:0;opacity:0;transition-duration:.3s;transition-property:visibility,opacity;transition-timing-function:ease;visibility:hidden;pointer-events:none}:host([open]){opacity:1;z-index:2;visibility:visible}:host([open])>#content{pointer-events:auto;transform:translateY(0)}:host>#backdrop{position:fixed;--backdrop-position-value:-100%;left:var(--backdrop-position-value);right:var(--backdrop-position-value);top:var(--backdrop-position-value);bottom:var(--backdrop-position-value)}:host>#backdrop.blocker{background:var(--color-scrim);pointer-events:auto}:host>#content{align-items:center;background:var(--color-ui-modalbackground);bottom:0;border-top-left-radius:var(--rem12);border-top-right-radius:var(--rem12);box-shadow:var(--boxshadow-modal);box-sizing:border-box;display:flex;flex-direction:column;left:0;position:fixed;touch-action:none;transform:translateY(100%);transition-duration:.3s;transition-property:height,transform;transition-timing-function:ease;width:100vw;max-height:var(--bottom-sheet-max-height)}:host>slot:not([name]){align-items:center;display:flex;flex-direction:column;gap:var(--spacer-sm)}#handle{position:absolute;top:0;left:50%;transform:translateX(-50%);height:var(--rem4);width:var(--rem48);border-radius:var(--rem4)}#handle.in{top:var(--spacer-xs);background-color:var(--color-neutral-border)}#handle.out{top:calc(-1 * var(--spacer-xs));background-color:var(--color-global-white)}`}disconnectedCallback(){super.disconnectedCallback(),this._gesture.destroy(),t.hu.remove(this),t.hl.remove(this),this._mutationObserver?.disconnect()}_connectMutationObserver(){this._mutationObserver=new MutationObserver((()=>{window.requestAnimationFrame(this.recalculateCachedHeight)})),this._mutationObserver.observe(this,{characterData:!0,childList:!0,attributes:!1,subtree:!0})}};t._([t.n({type:Boolean,reflect:!0})],o.prototype,"open",void 0),t._([t.n({type:Boolean})],o.prototype,"blocking",void 0),t._([t.n({type:Boolean,reflect:!0})],o.prototype,"docked",void 0),t._([t.n({type:String,attribute:"ariaLabel"})],o.prototype,"label",void 0),t._([t.y("#content")],o.prototype,"_content",void 0),t._([t.j({slot:"header"})],o.prototype,"_headerElements",void 0),o=t._([t.e("faceplate-bottom-sheet")],o)}));
SML.dm("translationfeedbackmodalclientjse1d4812d",["shelle48e5956","faceplatetextareainput29f541e5","iconc33661e6","translationsa30aa3ad","chatmobilexpromoclientjs5e1c145c","appselectorclientjs9964d0b0","agegatestandaloneclientjsb13e879d","textinput9c3f45be","communitypickerf331f77f","constants9e09f052","TinyGesture26737d23"],(async(e,t,s,a)=>{const i=s.s,o="translation-feedback-modal",n="feedback-other-input";let l=class extends i{constructor(){super(...arguments),this.FEEDBACK_ANSWERS={incomprehensible:"Incomprehensible",slang:"Slang, idioms or expressions",grammar:"Grammar","tone of voice":"Tone of voice",other:"Other"},this.open=!1,this.selectedAnswers=new Set,this.otherFeedbackValue=""}async show(t){if(!this.open)return this.originMetadata=t,e.a(this,a.u({post:t.post,comment:t.comment})),e.a(this,a.k({post:t.post,comment:t.comment})),this.open=!0,this.modal?.showModal()}_close(){if(this.open)return e.a(this,a.j({post:this.originMetadata?.post,comment:this.originMetadata?.comment})),this.open=!1,this.originMetadata=void 0,this.selectedAnswers=new Set,this.otherFeedbackValue="",this.modal?.close()}handleAnswerButtonClick(e){const t=new Set(this.selectedAnswers);this.selectedAnswers.has(e)?t.delete(e):t.add(e),this.selectedAnswers=t}handleSubmit(){return e.a(this,a.l({reason:Array.from(this.selectedAnswers).join(","),survey_text:this.otherFeedbackValue,post:this.originMetadata?.post,comment:this.originMetadata?.comment})),this.dispatchEvent(e.c("faceplate-alert",{level:e.x.success,message:"Thanks for rating"})),this.open=!1,this.originMetadata=void 0,this.selectedAnswers=new Set,this.otherFeedbackValue="",this.modal?.close()}renderFeedbackBody(){return s.x` <span class="font-bold text-14 mb-md"> What's wrong with these translations?</span> <div class="flex flex-row gap-xs flex-wrap ${this.selectedAnswers.has("other")?"mb-md":""}"> ${Object.keys(this.FEEDBACK_ANSWERS).map((t=>{const a=t;return e.r({appearance:"bordered",size:e.s.Medium,shape:"pill",attributes:{className:"inline-flex px-sm box-border "+(this.selectedAnswers.has(a)?"bg-neutral-background-selected":""),onclick:()=>this.handleAnswerButtonClick(a)},children:s.x`<span class="font-semibold text-12">${this.FEEDBACK_ANSWERS[a]}</span>`})}))} </div> ${this.selectedAnswers.has("other")?s.x` <div class="flex w-full box-border"> <faceplate-textarea-input appearance="${t.a.BORDERED}" size="${t.T.EXPANDED}" maxlength="500" @keyup="${e=>{e.stopPropagation(),this.otherFeedbackValue=e.target.value}}" class="w-full ${n}" .value="${this.otherFeedbackValue}"> <span slot="label">Leave a comment (optional)</span> </faceplate-textarea-input> </div> `:s.x``} `}renderTitle(){return s.x` <h3 class="mb-0 mt-xs font-bold inline-flex text-18"> Translation Feedback </h3> `}renderCloseButton(){return s.x` ${e.r({attributes:{"aria-label":"Close",onclick:()=>this._close()},appearance:"secondary",leadingIcon:s.C({size:s.I.Small}),size:e.s.Small})} `}renderSubmitButton(){return s.x` <div class="flex w-full"> ${e.r({appearance:"primary",size:e.s.Large,shape:"pill",attributes:{className:"flex box-border w-full",onclick:this.handleSubmit.bind(this),disabled:0===this.selectedAnswers.size},children:s.x`<span class="font-semibold text-14">Submit</span>`})} </div> `}render(){return s.x` <faceplate-modal blocking ?open="${this.open}" class="${o} w-[350px] m:w-[640px] h-fit z-10"> <div slot="title" class="w-full m:w-fit">${this.renderTitle()}</div> <div slot="closeButton" class="flex items-center">${this.renderCloseButton()}</div> <div class="flex flex-col w-full box-border mt-lg">${this.renderFeedbackBody()}</div> <div slot="primaryButton">${this.renderSubmitButton()}</div> </faceplate-modal> `}};l.styles=[e.t],e._([e.y(`faceplate-modal.${o}`,!0)],l.prototype,"modal",void 0),e._([e.n({type:Boolean,attribute:"open"})],l.prototype,"open",void 0),e._([e.d()],l.prototype,"selectedAnswers",void 0),e._([e.d()],l.prototype,"otherFeedbackValue",void 0),e._([e.d()],l.prototype,"originMetadata",void 0),l=e._([e.e("translation-feedback-modal")],l)}));
SML.dm("feeds869c579e",["shelle48e5956"],(async t=>{const e={[t.F.Card]:{get description(){return"Card"}},[t.F.Compact]:{get description(){return"Compact"}},[t.F.Classic]:{get description(){return"Compact"}}};var r;return function(t){t.MANUAL="manual",t.AUTOMATIC="automatic"}(r||(r={})),{get B(){return r},C:"/svc/shreddit/:subredditName/community-highlights",F:e,P:"post-deletion-modal",S:"subreddit-mute-modal",a:"subreddit-right-rail__partial"}}));
SML.dm("index751e2b35",["shelle48e5956"],(async t=>{const e={next:"nextElementSibling",prev:"previousElementSibling"};var r,s;!function(t){t.FEED="feed",t.COMMENTS_PAGE="comments_page"}(r||(r={})),function(t){t.NEXT="next",t.PREV="prev"}(s||(s={}));return{get P(){return s},a:class{constructor(s,n){this.cache={},this.isPostOrComment=t=>["shreddit-comment","shreddit-post","shreddit-ad-post","shreddit-profile-comment"].includes(t?.tagName.toLowerCase()??""),this.traverse=t=>{const e=this.current;this._current?this.findPostOrComment(t):this._current=this.options.getFirstElement(),this.focusElement(e)},this.focusElement=e=>{if(!this.current||e===this.current)return;const s=document.activeElement;this.current?.onHotkeysFocus?this.current.onHotkeysFocus?.({preventScroll:!0}):this.current.hotkeyController?.onFocus?.({preventScroll:!0}),s===document.activeElement&&t.ae(this.current)?.focus(),this.current.style.scrollMarginTop="var(--shreddit-header-height)";const n=this.isCurrentComment?"start":this.options.type===r.COMMENTS_PAGE?"end":"center";this.current.scrollIntoView({behavior:"instant",block:n})},this.findPostOrComment=t=>{let r=this._current;for(let s=0;r&&s<this.options.maxTraversalCount;s++){const s=r,n=this.options.customTraversal?.(t,r);if(r=n??r?.[e[t]]??s.parentElement?.[e[t]],this.options?.customPostOrCommentDetection?.(r)||this.isPostOrComment(r)){this._current=r;break}}},this.host=s,this.host.addController(this),this.options={maxTraversalCount:10,...n}}hostConnected(){}hostDisconnected(){}get current(){return this._current!==this.cache?.rawElement&&(this.cache={rawElement:this._current,postOrComment:this.options?.customPostOrCommentDetection?.(this._current)??this._current}),this.cache?.postOrComment}get isCurrentPost(){return["shreddit-post","shreddit-ad-post"].includes(this.current?.tagName.toLowerCase()??"")}get isCurrentComment(){return"shreddit-comment"===(this.current?.tagName.toLowerCase()??"")}get isCurrentProfileComment(){return"shreddit-profile-comment"===(this.current?.tagName.toLowerCase()??"")}},get b(){return r}}}));
SML.dm("huiuserdrawerclientjs91e856a7",["shelle48e5956","iconc33661e6","TinyGesture26737d23","agegatestandaloneclientjsb13e879d"],(async(e,t,i,o)=>{const s=(e,t,{parentBoundary:i=document.documentElement,root:a=document,cache:n=new Set})=>{const r=a.elementsFromPoint(e,t),h=[];for(const e of r)if(!n.has(e)){if(!o.aT(i,e))break;h.push(e),n.add(e)}const l=[];for(const i of h)i.shadowRoot&&l.push(...s(e,t,{parentBoundary:i,root:i.shadowRoot,cache:n}));return[...h,...l]};class a{get inSwipe(){return this._inSwipe}set inSwipe(e){this._inSwipe!==e&&(this._inSwipe=e,this.host.requestUpdate("inSwipe",!this._inSwipe))}constructor(e,{recognitionThreshold:t=10,mouseSupport:i=!1}={recognitionThreshold:10,mouseSupport:!1}){this.host=e,this.mouseSupport=!1,this.rafId=null,this._inSwipe=!1,this.protectScrollInterference=!0,this.recognitionThreshold=t,this.mouseSupport=i}clearRaf(){this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)}addListeners(e){this.gesture=new i.T(e,{mouseSupport:this.mouseSupport}),this.gesture.on("panstart",this.handleTouchStart.bind(this)),this.gesture.on("panmove",this.handleTouchMove.bind(this)),this.gesture.on("panend",this.handleTouchEnd.bind(this))}removeListeners(){this.gesture?.destroy()}reset(){const e=this.gesture?.element;e&&(this.removeListeners(),this.addListeners(e))}handleTouchStart(e){this.clearRaf(),this.gesture&&this.host.handleSwipeMayStart?.(this.gesture)}handleTouchMove(t){if(this.clearRaf(),!this.gesture)return;const i=(this.gesture.touchMoveY??0)<=0;if(!this.inSwipe&&Math.abs((this.gesture.touchStartY??0)-(this.gesture.touchEndY??0))>this.recognitionThreshold){if(this.protectScrollInterference){const[o,a]=n(t),r=s(o,a,{parentBoundary:this.gesture.element}).filter((t=>t instanceof HTMLElement&&e.hA(t)));if(i&&r.some((t=>!e.hB(t)))||!i&&r.some((t=>!e.hC(t))))return this.reset()}!1!==this.host.handleSwipeWillStart?.({...this.gesture,swipeDirection:i?"up":"down"})?(this.inSwipe=!0,this.host.handleSwipeProgress?.({...this.gesture,swipeDirection:i?"up":"down"})):this.reset()}this.inSwipe&&this.gesture&&(this.rafId=requestAnimationFrame((()=>{this.host.handleSwipeProgress?.({...this.gesture,swipeDirection:i?"up":"down"})})))}handleTouchEnd(e){this.gesture&&(this.clearRaf(),this.inSwipe=!1,this.host.handleSwipeEnd?.(this.gesture))}disableScrollInterferenceProtection(){this.protectScrollInterference=!1}enableScrollInterferenceProtection(){this.protectScrollInterference=!0}}const n=e=>e instanceof MouseEvent?[e.clientX,e.clientY]:[e.touches[0].clientX,e.touches[0].clientY],r="expanded",h="normal",l="docked";var d=t.a`${e.V}:host{--transition-duration:250ms;display:contents}.dialog{--bottom-sheet-docked-height:'auto';--bottom-sheet-normal-height:'auto';--bottom-sheet-height:var(--bottom-sheet-normal-height)}.dialog{--bottom-sheet-expanded-height:85vh}@supports (height:95dvh){.dialog{--bottom-sheet-expanded-height:95dvh}}.dialog.state-normal{--bottom-sheet-height:1fr}.dialog.state-docked{--bottom-sheet-height:var(--bottom-sheet-docked-height)}.dialog.state-expanded{--bottom-sheet-height:var(--bottom-sheet-expanded-height)}.dialog{display:flex;align-items:center;justify-content:center;position:fixed;top:0;right:0;bottom:0;left:0;z-index:var(--z-index-dialog,1000);user-select:none;pointer-events:none;width:100vw}.dialog-panel{display:grid;grid-template-rows:auto var(--bottom-sheet-height);grid-auto-flow:column;position:fixed;z-index:2;bottom:0;touch-action:none;transform:translateY(100%);max-height:var(--bottom-sheet-expanded-height);width:100vw;background-color:var(--color-ui-modalbackground);border-start-start-radius:var(--radius-md);border-start-end-radius:var(--radius-md);box-shadow:var(--boxshadow-modal);transition:--bottom-sheet-height var(--transition-duration) ease,grid-template-rows var(--transition-duration) ease,transform var(--transition-duration) ease}.dialog.reflect-gesture .dialog-panel{grid-template-rows:auto var(--bottom-sheet-forced-height);transition:none}.dialog-variant-plain .dialog-panel{max-width:100%;max-height:100%;background-color:transparent;border-radius:initial;box-shadow:initial}.dialog-panel:focus{outline:0}.dialog-open{user-select:auto}.dialog-open .dialog-overlay,.dialog-open .dialog-panel{pointer-events:auto}.dialog-open .dialog-panel{opacity:1;transform:translateY(0)}.dialog-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.5)}.dialog-overlay-blur{backdrop-filter:blur(var(--dialog-backdrop-blur, 4px))}.dialog-overlay-no-modal{display:none}.handle-container{display:flex;justify-content:center;align-items:flex-end;width:100%}.handle-container-inside{--handle-color:var(--color-neutral-border);padding-top:var(--rem8);padding-bottom:var(--rem4)}.handle-container-outside{--handle-color:var(--color-global-white);padding-bottom:var(--rem8);padding-top:var(--rem4);position:relative;top:-16px}.handle{display:block;background:var(--handle-color);width:var(--rem48);height:var(--rem4);border-radius:10000rem}`;let c=class extends e.hD{constructor(){super(...arguments),this.resizeController=new e.hE(this,{callback:()=>this.updateDimensions,elements:{slottedElement:()=>this.slottedElement,styledDialogChildWithHeader:()=>this.styledDialogChildWithHeader,panel:()=>this.panelRef.value}}),this.gestureController=new a(this,{recognitionThreshold:10}),this.slottedElement=null,this.styledDialogChildWithHeader=null,this.handleContainer=e.aq(),this.animationNames={show:"bottomSheet.show",hide:"bottomSheet.hide",denyClose:"bottomSheet.denyClose",denyExpand:"bottomSheet.denyExpand",overlayShow:"bottomSheet.overlay.show",overlayHide:"bottomSheet.overlay.hide"},this.openState=h,this.dockable=!1,this.expandable=!1,this.handleDockButtonClicked=e=>{e.stopPropagation(),this.open&&(this.isDocked?this.undock():this.dock())},this.updateDimensions=async e=>{const t=this.slottedElement;t&&e.some((e=>e.target===t))&&this.slottedElement&&this.styledDialogChildWithHeader&&this.updateDockedHeight(),this.requestUpdate(),this.emitter.dispatch("resize")}}get isDocked(){return this.openState===l}get isExpanded(){return this.openState===r}get isNormal(){return this.openState===h}addOpenListeners(){super.addOpenListeners(),this.resizeController.observeAllElements(),this.portalContainer.addEventListener("rpl-modal-card:dock-button-clicked",this.handleDockButtonClicked),this.panelRef.value&&this.gestureController.addListeners(this.panelRef.value)}removeOpenListeners(){super.removeOpenListeners(),this.resizeController.unobserveAllElements(),this.gestureController.removeListeners(),this.portalContainer.removeEventListener("rpl-modal-card:dock-button-clicked",this.handleDockButtonClicked)}willUpdate(e){return e.has("dockable")&&!this.dockable&&this.isDocked&&(this.dockable=!0),e.has("expandable")&&!this.expandable&&this.isExpanded&&(this.expandable=!0),e.has("openState")&&this.isExpanded&&!this.expandable&&(this.openState=e.get("openState")??h),e.has("openState")&&this.isDocked&&!this.dockable&&(this.openState=e.get("openState")??h),(e.get("openState")||e.get("dockable"))&&this.styledDialogChildren.size>0&&this.styledDialogChildren.forEach((e=>{e.dockable=this.dockable,e.docked=this.isDocked})),e.has("openState")&&(this.isDocked?this.gestureController.disableScrollInterferenceProtection():this.gestureController.enableScrollInterferenceProtection()),super.willUpdate(e)}getCachedHeightContainer(e){return["forced","forcedInitial"].includes(e)?this.panelRef.value:this.dialogRef.value}setCachedHeight(e,t){this.getCachedHeightContainer(e)?.style.setProperty(p[e],t)}getCachedHeight(e){const t=this.getCachedHeightContainer(e);return t?getComputedStyle(t).getPropertyValue(p[e])??"auto":"auto"}async updateDockedHeight(){if(!this.styledDialogChildWithHeader)return;await e.hF(this.styledDialogChildWithHeader);const t=this.styledDialogChildWithHeader.headerHeight,i=this.handleContainer.value?.clientHeight??16;t&&this.setCachedHeight("docked",`${t+i}px`)}async expand(){if(!this.open||!this.expandable||this.isExpanded||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:r}})||(this.openState=r)}async collapse(){if(!this.open||!this.isExpanded||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:h}})||(this.openState=h)}async dock(){if(!this.open||!this.dockable||this.isDocked||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:l}})||(this.openState=l)}async undock(){if(!this.open||!this.isDocked||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:h}})||(this.openState=h)}handleSwipeMayStart(){this.setCachedHeight("forcedInitial",`${this.panelRef?.value?.clientHeight}px`),this.setCachedHeight("forced",`var(${p.forcedInitial})`)}handleSwipeWillStart({swipeDirection:e}){return!("down"===e&&this.blocking&&!this.isExpanded||"up"===e&&!this.expandable)}handleSwipeProgress({swipeDirection:e,touchMoveY:t}){null===t||this.isExpanded&&"up"===e||this.setCachedHeight("forced",`calc(var(${p.forcedInitial}) - ${t??0}px)`)}handleSwipeEnd({touchMoveY:t,thresholdY:i}){if(!this.open||null==t)return;const o=t>=i,s=t<=-i;if(o&&this.isExpanded)this.collapse();else if(o&&this.isNormal)this.requestClose("gesture");else if(s&&this.isDocked)this.undock();else if(s&&this.isNormal&&this.expandable)this.expand();else if(s&&!this.isExpanded&&!this.expandable&&this.panelRef.value){const{keyframes:t,options:i}=e.cF(this,this.animationNames.denyExpand);e.cG(this.panelRef.value,t,i)}}handleSlotChange(e){this.styledDialogChildWithHeader=null,this.slottedElement=this.portalContainer.firstElementChild,this.slottedElement&&this.resizeController.replaceObservedElement("slottedElement")}handleDialogChildConnected(t){t.appearance="bottom-sheet",t.dockable=this.dockable,t.docked="docked"===this.openState,e.hG(t)&&"headerHeight"in t&&(this.styledDialogChildWithHeader=t,this.resizeController.replaceObservedElement("styledDialogChildWithHeader"),this.updateDockedHeight())}handleDialogChildDisconnected(e){}renderDialogBaseClasses(){return{"reflect-gesture":this.gestureController.inSwipe,[`state-${this.openState}`]:!0}}renderTopOfDialog(){return t.x`<div class="${e.U({"handle-container":!0,["handle-container-"+(this.open&&this.modal.disableFocusTrap?"inside":"outside")]:!0})}" part="handle-container" ${e.as(this.handleContainer)}> <div class="handle"></div> </div>`}};c.styles=d,e._([e.n({type:String,reflect:!0,attribute:"open-state"})],c.prototype,"openState",void 0),e._([e.n({type:Boolean,reflect:!0})],c.prototype,"dockable",void 0),e._([e.n({type:Boolean,reflect:!0})],c.prototype,"expandable",void 0),c=e._([e.e("rpl-bottom-sheet")],c);const p={forced:"--bottom-sheet-forced-height",forcedInitial:"--bottom-sheet-forced-initial-height",currentHeight:"--bottom-sheet-current-height",[l]:"--bottom-sheet-docked-height"},u=250;return e.cC("bottomSheet.show",{keyframes:[{opacity:0,transform:"translateY(100%)"},{opacity:1,transform:"translateY(0%)"}],options:{duration:u,easing:"ease"}}),e.cC("bottomSheet.hide",{keyframes:[{opacity:1,transform:"translateY(0%)",maxHeight:"var(--bottom-sheet-forced-height)"},{opacity:0,transform:"translateY(100%)",maxHeight:"var(--bottom-sheet-forced-height)"}],options:{duration:u,easing:"ease"}}),e.cC("bottomSheet.denyClose",{keyframes:[{transform:"translateY(0%)"},{transform:"translateY(4%)"},{transform:"translateY(0%)"}],options:{duration:u,easing:"ease-in"}}),e.cC("bottomSheet.denyExpand",{keyframes:[{height:"var(--bottom-sheet-forced-height)"},{height:"var(--bottom-sheet-height)",transform:"translateY(0%)",offset:.2},{height:"var(--bottom-sheet-height)",transform:"translateY(4%)",offset:.5},{height:"var(--bottom-sheet-height)",transform:"translateY(0%)"}],options:{duration:375,easing:"ease-in"}}),e.cC("bottomSheet.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:u}}),e.cC("bottomSheet.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:u}}),{get R(){return c}}}));
SML.dm("communityonboardingcompletedmodalclientjsf4f5192c",["shelle48e5956","iconc33661e6","huiuserdrawerclientjs91e856a7","TinyGesture26737d23","agegatestandaloneclientjsb13e879d"],(async(e,t,a)=>{class i{get matches(){return this.mediaQuery.matches}constructor(e,t){this.host=e,this.query=t,this.rafId=null,this.handleMediaChange=()=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>{this.rafId=null,this.host.requestUpdate("matches",!this.matches)}))},e.addController(this),this.mediaQuery=window.matchMedia(t),this.mediaQuery.addEventListener("change",this.handleMediaChange)}async hostConnected(){}async hostDisconnected(){}}var n=t.a`${e.V}:host{display:contents}`;let l=class extends e.Q{constructor(){super(...arguments),this.nonSyncedPropNames=["variant","litTemplateChildren","overlayBlur","dialogId","dialogClassName","blocking","disableCacheContents","noAnimate"],this.isTouchOnly=new i(this,"(pointer: coarse)"),this.isLargeWidth=new i(this,"(width >= 640px)"),this.dialogRef=e.aq(),this.panelRef=e.aq(),this.overlayRef=e.aq(),this.open=!1,this.overlayBlur=!0,this.dialogId="",this.dialogClassName="",this.label="",this.blocking=!1,this.noAnimate=!1,this.disableCacheContents=!1,this.openState="normal",this.expandable=!1}setElementRef(t){(t instanceof e.ik||t instanceof a.R)&&(this.elementRef&&this.elementRef.removeEventListener(`${this.tagName.toLowerCase()}:internal-update`,this.handleInternalSync),this.elementRef=t,this.elementRef.addEventListener(`${this.tagName.toLowerCase()}:internal-update`,this.handleInternalSync))}get rplBottomSheet(){return this.elementRef instanceof a.R?this.elementRef:void 0}get rplDialog(){return this.elementRef instanceof e.ik?this.elementRef:void 0}get portalContainer(){if(!this.elementRef)throw new Error("[RPLDialogSheet]: The .portalContainer is not available until after the component has rendered.");return this.elementRef.portalContainer}get portalShadowRoot(){if(!this.elementRef)throw new Error("[RPLDialogSheet]: The .portalShadowRoot is not available until after the component has rendered.");return this.elementRef.portalShadowRoot}set litTemplateChildren(e){this._litTemplateChildren=e,this.elementRef&&e&&(this.elementRef.litTemplateChildren=e)}get litTemplateChildren(){return this._litTemplateChildren}async expand(){return this.rplBottomSheet?.expand()}async collapse(){return this.rplBottomSheet?.collapse()}async showModal(){return this.elementRef?.showModal()}checkFocus(){return this.elementRef?.checkFocus()}async show(){return this.elementRef?.show()}async hide(){return this.elementRef?.hide()}get currentVariant(){if(this.forceVariant)return this.forceVariant;const{isTouchOnly:e,isLargeWidth:t}=this;return e.matches&&!t.matches?"bottom-sheet":"dialog"}handleInternalSync(e){const t=e;t.stopImmediatePropagation();for(const e of t.detail)!this.nonSyncedPropNames.includes(e.key)&&e.key in this&&e.newValue!==this[e.key]&&(this[e.key]=e.newValue)}renderDialog(){return t.x`<rpl-dialog .eventNamespaceOverride="${this.tagName.toLowerCase()}" .dialogRef="${this.dialogRef}" .panelRef="${this.panelRef}" .overlayRef="${this.overlayRef}" .litTemplateChildren="${this.litTemplateChildren}" .open="${this.open}" .overlayBlur="${this.overlayBlur}" .dialogId="${this.dialogId}" .dialogClassName="${this.dialogClassName}" .label="${this.label}" .blocking="${this.blocking}" .disableCacheContents="${this.disableCacheContents}" .noAnimate="${this.noAnimate}" @rpl-dialog-sheet:internal-sync="${this.handleInternalSync}" ${e.as(this.setElementRef)}> <slot></slot> </rpl-dialog>`}renderBottomSheet(){return t.x`<rpl-bottom-sheet .eventNamespaceOverride="${this.tagName.toLowerCase()}" .dialogRef="${this.dialogRef}" .panelRef="${this.panelRef}" .overlayRef="${this.overlayRef}" .litTemplateChildren="${this.litTemplateChildren}" .open="${this.open}" .overlayBlur="${this.overlayBlur}" .dialogId="${this.dialogId}" .dialogClassName="${this.dialogClassName}" .label="${this.label}" .blocking="${this.blocking}" .disableCacheContents="${this.disableCacheContents}" .noAnimate="${this.noAnimate}" .openState="${this.openState}" .dockable="${!1}" .expandable="${this.expandable}" @rpl-dialog-sheet:internal-sync="${this.handleInternalSync}" ${e.as(this.setElementRef)}> <slot></slot> </rpl-bottom-sheet>`}render(){return"dialog"===this.currentVariant?this.renderDialog():this.renderBottomSheet()}};return l.styles=n,e._([e.n({type:String,reflect:!0,attribute:"force-variant"})],l.prototype,"forceVariant",void 0),e._([e.n({type:Boolean,reflect:!0})],l.prototype,"open",void 0),e._([e.n({type:Boolean,reflect:!0,attribute:"overlay-blur"})],l.prototype,"overlayBlur",void 0),e._([e.n({reflect:!0,attribute:"dialog-id"})],l.prototype,"dialogId",void 0),e._([e.n({reflect:!0,attribute:"dialog-classname"})],l.prototype,"dialogClassName",void 0),e._([e.n({reflect:!0})],l.prototype,"label",void 0),e._([e.n({type:Boolean})],l.prototype,"blocking",void 0),e._([e.n({type:Boolean,attribute:"no-animate"})],l.prototype,"noAnimate",void 0),e._([e.n({type:Boolean,reflect:!0,attribute:"disable-cache-contents"})],l.prototype,"disableCacheContents",void 0),e._([e.n({type:String,reflect:!0,attribute:"open-state"})],l.prototype,"openState",void 0),e._([e.n({type:Boolean,reflect:!0})],l.prototype,"expandable",void 0),e._([e.d()],l.prototype,"litTemplateChildren",null),l=e._([e.e("rpl-dialog-sheet")],l),{i:function(){return window.matchMedia("(pointer: coarse)").matches}}}));
SML.dm("faceplatetabpanelb6d69013",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,a,t)=>{let s=class extends(t.W(a.s)){constructor(){super(...arguments),this.pages=0,this.for=void 0}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}static get styles(){return a.a`:host{display:block}.page{display:none}.active{display:block}`}render(){if(this.pages<1)return;const{pageNames:s}=this;return a.x` <div aria-roledescription="carousel"> ${t.e(this.pages).map((t=>a.x` <div role="tabpanel" class="${e.U({page:!0,active:t===this.pageIndex})}"> <slot name="${s?s[t-1]:`page-${t}`}"></slot> </div> `))} </div> `}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],s.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],s.prototype,"pageIndex",null),e._([e.n({converter:e.a4,attribute:"pagenames"})],s.prototype,"pageNames",null),e._([e.n({type:String})],s.prototype,"for",void 0),s=e._([e.e("faceplate-tabpanel")],s),{get F(){return s}}}));
SML.dm("faceplatetablistb81db8b2",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,t,a)=>{let s=class extends(a.W(e.aW)){constructor(){super(...arguments),this.pages=0,this.for=void 0,this._events=new e.E(this),this._windowEvents=new e.E(this,(()=>window)),this._locationHashMap=new Map,this._selectedElements=new Set,this._activeSlotRef=e.aq(),this._handleHashChange=this._windowEvents.define("hashchange",(()=>{const e=this._locationHashMap.get(window.location.hash);e&&(this.pageIndex=e)})),this._handleClick=this._events.define("click",(e=>{let t=null;e.target instanceof HTMLAnchorElement&&(t=e.target.getAttribute("href"),t&&"#"!==t[0]&&(t=null)),null!==t&&(e.preventDefault(),e.stopPropagation());const a=e.composedPath();for(let e=0;e<a.length;e++){const s=a[e];if(s instanceof HTMLSpanElement){const e=this.getPageIndexFromSpanWrapper(s);if(t){const e=new URL(window.location.href);e.hash=t,window.history.pushState(null,"",e.href)}if(0!==e){this.pageIndex=e;break}}}})),this._handleKeydown=this._events.define("keydown",(e=>{if("ArrowLeft"===e.key)this.previousPage();else{if("ArrowRight"!==e.key)return;this.nextPage()}e.preventDefault(),e.stopPropagation()}))}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}render(){if(this.pages<1)return t.x``;const{pageNames:s}=this;return t.x` <div class="tablist" role="tablist"> ${a.e(this.pages).map((a=>t.x` <span data-i="${a}" role="tab" aria-selected="${a===this.pageIndex?"true":"false"}"> <slot @slotchange="${this.handleSlotChange}" name="${s?s[a-1]:`page-${a}`}" ${a===this.pageIndex?e.as(this._activeSlotRef):""}></slot> </span> `))} </div> `}updated(e){if(e.has("pageIndex")){this._clearSelectedAttributes();const e=this._activeSlotRef.value;if(!e)return;for(const t of e.assignedElements())this._setSelectedAttribute(t),t.focus()}}_clearSelectedAttributes(){if(this._selectedElements.size){for(const e of this._selectedElements)e.removeAttribute("faceplate-tab-selected");this._selectedElements.clear()}}_setSelectedAttribute(e){this._selectedElements.add(e),e.setAttribute("faceplate-tab-selected","")}handleSlotChange(e){const{hash:t}=window.location,a=e.target;if(!(a.parentElement instanceof HTMLSpanElement))return;const s=a.assignedElements(),n=this.getPageIndexFromSpanWrapper(a.parentElement),i=n===this.pageIndex;if(i&&this._clearSelectedAttributes(),s.length)for(const e of s){if(i&&this._setSelectedAttribute(e),!(e instanceof HTMLAnchorElement))continue;const a=e.getAttribute("href");a&&(this._locationHashMap.set(a,n),a===t&&(this.pageIndex=n))}}getPageIndexFromSpanWrapper(e){return e.dataset.i?parseInt(e.dataset.i,10):0}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],s.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],s.prototype,"pageIndex",null),e._([e.n({type:String})],s.prototype,"for",void 0),e._([e.n({converter:e.a4,attribute:"pagenames"})],s.prototype,"pageNames",null),e._([e.y(".tablist")],s.prototype,"tabList",void 0),s=e._([e.e("faceplate-tablist")],s),{get F(){return s}}}));
SML.dm("faceplatetabgroupa59ee035",["shelle48e5956","faceplatetablistb81db8b2","agegatestandaloneclientjsb13e879d","iconc33661e6"],(async(t,e,i,n)=>{var a;let s=a=class extends e.F{constructor(){super(...arguments),this._setup=!1,this._bbwidth=0,this._fbwidth=0,this._forwardButtonVisible=!0,this._backButtonVisible=!1,this.selectedClasses=["bg-secondary-background-selected","!text-neutral-content-strong","tab-selected"],this.appearance="fill",this.insetHug=!1,this.underline=!1,this._mutationCallback=t=>{for(const e of t)if("attributes"===e.type&&"faceplate-tab-selected"===e.attributeName&&e.target.nodeType===Node.ELEMENT_NODE){e.target.hasAttribute("faceplate-tab-selected")?this._handleTabSelected(e.target):this._handleTabDeselected(e.target)}},this._setupButtons=()=>{this._setup&&(this.backButtonElements[0]?.removeEventListener("click",this._handleBackButtonClick),this.style.removeProperty("--back-button-width"),this.forwardButtonElements[0]?.removeEventListener("click",this._handleForwardButtonClick),this.style.removeProperty("--forward-button-width")),this.backButtonElements[0]instanceof HTMLElement&&(this._backButtonVisible||this.backButton?.removeAttribute("hidden"),this._bbwidth=this.backButton.clientWidth,this._backButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--back-button-width",`${this._bbwidth}px`),this.backButtonElements[0].addEventListener("click",this._handleBackButtonClick)),this.forwardButtonElements[0]instanceof HTMLElement&&(this._forwardButtonVisible||this.forwardButton?.removeAttribute("hidden"),this._fbwidth=this.forwardButton.clientWidth,this._forwardButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--forward-button-width",`${this._fbwidth}px`),this.forwardButtonElements[0].addEventListener("click",this._handleForwardButtonClick))},this._handleContainerScroll=()=>{this._backButtonVisible=0!==Math.floor(this._containerLeft),this._forwardButtonVisible=Math.round(this._containerBaseRight)!==Math.round(this.container?.scrollWidth??0)},this._handleBackButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._leftmostVisibleTab,n=e[i];if(null==n)return;let s=n.right-(this.container?.clientWidth??0);i!==e.length-1&&(s+=(this._fbwidth??0)-a.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._handleForwardButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._rightmostVisibleTab,n=e[i];if(null==n)return;let s=n.left;0!==i&&(s-=(this._bbwidth??0)+a.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._scrollToSelected=()=>{const t=this._tabs,e=t.findIndex((t=>"true"===t.el.getAttribute("aria-selected"))),i=t[e];if(null==i)return;const n=i.right-i.left,a=(this.container?.clientWidth??0)-(this._bbwidth+this._fbwidth),s=i.left-this._bbwidth-a/2+n/2;this.container?.scroll({behavior:"smooth",left:s})}}connectedCallback(){super.connectedCallback(),this._mutationObserver=new MutationObserver(this._mutationCallback),this._mutationObserver.observe(this,a.mutationObserverOptions)}disconnectedCallback(){super.disconnectedCallback(),this._mutationObserver.disconnect()}firstUpdated(t){super.firstUpdated(t),this._setupAll()}_setupAll(){this._setup&&this.container&&(this.container.removeEventListener("scroll",this._handleContainerScroll),this._resizeObserver?.unobserve(this.container)),this.container?.addEventListener("scroll",this._handleContainerScroll),this.container?.removeEventListener("resize",this._setupAll),this._setupButtons(),this._resizeObserver||(this._resizeObserver=new ResizeObserver(this._handleContainerScroll)),this.container&&this._resizeObserver?.observe(this.container),this._setup||(this.style.setProperty("--anim-duration","0ms"),this._handleContainerScroll(),requestAnimationFrame((()=>{this.style.removeProperty("--anim-duration")}))),this._setup=!0}_handleTabSelected(t){let e=this.selectedClasses;t.classList.contains("tab-bottom-border")&&t.hasAttribute("rpl")&&(e=e?.filter((t=>"bg-secondary-background-selected"!==t))),t.classList.add(...e??[]),t.tabIndex=0,this._scrollToSelected()}_handleTabDeselected(t){t.tabIndex=-1,t.classList.remove(...this.selectedClasses??[])}get _containerBaseWidth(){return this.container?.clientWidth??0}get _containerBaseLeft(){return this.container?.scrollLeft??0}get _containerLeft(){return 0===this._containerBaseLeft?this._containerBaseLeft:this._containerBaseLeft+(this.backButton?.clientWidth??0)+a.tabSpacing.raw}get _containerBaseRight(){return this._containerBaseLeft+this._containerBaseWidth}get _containerRight(){return this._containerBaseRight===this.container?.scrollWidth?this._containerBaseRight:this._containerBaseRight-((this.forwardButton?.clientWidth??0)+a.tabSpacing.raw)}get _rightmostVisibleTab(){const t=this._tabs;let e=0,i=0;for(let i=t.length-1;i>=0;i--)if(t[i]?.isVisible){e=i;break}if(0===e)for(let i=t.length-1;i>=0;i--)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const a=t[i];n.partiallyVisible&&a&&n.right>a.right&&(i=e)}return i<=e&&e<t.length-1?e+1:t[i]?.isVisible&&i!==t.length-1?i+1:i}get _leftmostVisibleTab(){const t=this._tabs;let e=t.length-1,i=t.length-1;for(let i=0;i<t.length;i++)if(t[i]?.isVisible){e=i;break}if(e===t.length-1)for(let i=0;i<t.length;i++)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const a=t[i];n.partiallyVisible&&a&&n.left<a.left&&(i=e)}return i>=e&&e>0?e-1:t[i]?.isVisible&&0!==i?i-1:i}get _tabs(){const{pageNames:t}=this,e=[];for(const n of i.e(this.pages)){const i=t?t[n-1]:`page-${n}`,a=this.shadowRoot.querySelector(`slot[name="${i}"]`).parentElement,s=a.offsetLeft,r=a.offsetLeft+a.offsetWidth,o=s>this._containerLeft&&s<this._containerRight||r<this._containerRight&&r>this._containerLeft,l=s>this._containerLeft&&r<this._containerRight||s<this._containerLeft&&r>this._containerRight;e.push({el:a,left:s,right:r,isVisible:l,partiallyVisible:o})}return e}render(){const e=super.render();return n.x`<div class="container"> ${e} <div class="${t.U({internalButton:!0,internalForwardButton:!0,hideable:!0,hidden:!this._forwardButtonVisible})}" @resize="${this._setupButtons}"> <slot name="forward-button" @slotchange="${this._setupButtons}"></slot> </div> <div class="${t.U({internalButton:!0,internalBackButton:!0,hideable:!0,hidden:!this._backButtonVisible})}" @resize="${this._setupButtons}"> <slot name="back-button" @slotchange="${this._setupButtons}"></slot> </div> </div>`}};return s.mutationObserverOptions={childList:!0,subtree:!0,attributes:!0,attributeFilter:["faceplate-tab-selected"]},s.tabSpacing={raw:8},s.backButton=()=>t.r({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"back-button"},shape:"pill",size:t.s.Small,leadingIcon:n.aW({size:n.I.Small}),screenReaderContent:"back"}),s.forwardButton=()=>t.r({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"forward-button"},shape:"pill",size:t.s.Small,leadingIcon:n.aa({size:n.I.Small}),screenReaderContent:"forward"}),s.styles=n.a`:host{--plain-background:rgba(255, 255, 255, 0);--anim-duration:300ms;--button-gap:var(--spacer-xs, 8);display:flex;width:fit-content;max-width:100%}@media (prefers-color-scheme:dark){:host{--plain-background:rgba(0, 0, 0, 0)}}@media (prefers-reduced-motion){:host{--anim-duration:0ms}}.hideable{transition:opacity var(--anim-duration,300ms) ease;visibility:visible;opacity:1}.hidden{animation-name:hide-button;animation-duration:var(--anim-duration,300ms);animation-fill-mode:forwards;opacity:0}@keyframes hide-button{from{visiblity:visible}to{visiblity:hidden;z-index:-1}}.container{width:fit-content;max-width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;flex-direction:row;flex-wrap:nowrap;position:relative}.tablist{display:flex;overflow:auto;align-items:center;flex-flow:row nowrap;gap:var(--button-gap);scroll-behavior:smooth;scrollbar-width:none}.tablist::-webkit-scrollbar{display:none}.tablist:focus-visible{outline:0}[role=tab]{display:flex;flex-shrink:0}.internalButton{position:absolute;top:0;bottom:0;display:flex;align-items:center}.internalForwardButton{right:0;padding-left:var(--button-gap);background-image:linear-gradient(to right,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}.internalBackButton{left:0;padding-right:var(--button-gap);background-image:linear-gradient(to left,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}:host([inset]) .container{margin:0 var(--spacer-md)}:host([appearance=fill]){--button-gap:0;width:100%}:host([appearance=fill]) .container,:host([appearance=fill]) .tablist{width:inherit}:host([appearance=fill]) [role=tab]{flex-grow:1}:host([underline]) .container::after{position:absolute;display:block;content:'';border-bottom:solid var(--rem1) var(--color-neutral-border-weak);left:0;right:0;bottom:0}`,t._([t.y(".internalForwardButton")],s.prototype,"forwardButton",void 0),t._([t.y(".internalBackButton")],s.prototype,"backButton",void 0),t._([t.y(".tablist")],s.prototype,"container",void 0),t._([t.j({slot:"forward-button"})],s.prototype,"forwardButtonElements",void 0),t._([t.j({slot:"back-button"})],s.prototype,"backButtonElements",void 0),t._([t.d()],s.prototype,"_forwardButtonVisible",void 0),t._([t.d()],s.prototype,"_backButtonVisible",void 0),t._([t.n({attribute:!1})],s.prototype,"selectedClasses",void 0),t._([t.n({attribute:!0})],s.prototype,"appearance",void 0),t._([t.n({attribute:!0,type:Boolean})],s.prototype,"insetHug",void 0),t._([t.n({attribute:!0,type:Boolean})],s.prototype,"underline",void 0),s=a=t._([t.e("faceplate-tabgroup")],s),{get F(){return s}}}));
SML.dm("index970155ae",["shelle48e5956","iconc33661e6","helpers4792ac4d"],(async(t,e,n)=>{var r;!function(t){t.PRIMARY="primary",t.BRAND="brand"}(r||(r={}));const o={[r.PRIMARY]:"switch-input-primary",[r.BRAND]:"switch-input-brand"};var a;!function(t){t.ON="faceplate-switch-input:on",t.OFF="faceplate-switch-input:off"}(a||(a={}));let i=class extends n.C{constructor(){super(...arguments),this.appearance=r.PRIMARY}static get styles(){return[super.styles,e.a`.switch-input-primary{--checked-color-background-default:var(--color-switch-input-background-checked);--checked-color-background-hover:var(--color-switch-input-background-checked-hover)}.switch-input-brand{--checked-color-background-default:var(--color-brand-background);--checked-color-background-hover:var(--color-brand-background-hover)}.outer{background:var(--color-switch-input-background-default);border-radius:var(--radius-full);box-shadow:var(--elevation-switch-input-default-inset);height:var(--size-switch-input-h);vertical-align:middle;width:var(--size-switch-input-w);padding:var(--line-md);box-sizing:border-box;position:relative;display:flex;align-items:center;flex-shrink:0;transition:background-color .3s;contain:strict}.knob{--knob-size:calc(var(--size-switch-input-h) - (var(--line-md) * 2));--knob-size-active:calc((36 / 28) * var(--knob-size));--translate-checked:calc(
            var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2)
          );background:var(--color-global-white);border-radius:var(--radius-full);filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .15));display:flex;align-items:center;justify-content:center;height:var(--knob-size);position:absolute;transform:translateX(0);transition-duration:.3s;transition-property:transform,width;width:var(--knob-size)}.knob:dir(rtl){--translate-checked:calc(
            -1 * (var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2))
          )}:host(:active:not([aria-disabled=true])) .knob{width:var(--knob-size-active)}:host([checked]) .knob{transform:translateX(var(--translate-checked))}:host([checked]:active:not([aria-disabled=true])) .knob{transform:translateX(calc(var(--translate-checked) - (var(--knob-size-active) - var(--knob-size))))}:host([checked]:active:not([aria-disabled=true])) .knob:dir(rtl){transform:translateX(calc(var(--translate-checked) + (var(--knob-size-active) - var(--knob-size))))}label{margin-inline-start:var(--spacer-xs)}:host([checked]) .outer{background:var(--checked-color-background-default)}:host([faceplate-validity=invalid]) .outer{background:var(--color-danger-content)}:host(:focus-visible) .outer{outline:1px auto var(--color-global-focus)}:host(:hover) .outer{background:var(--color-switch-input-background-default-hover)}:host([checked]:hover) .outer{background:var(--checked-color-background-hover)}:host([aria-disabled=true]){opacity:1}:host([aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-disabled);box-shadow:none}:host([checked][aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true][checked]:active) .outer{background:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true]) .knob{background-color:var(--color-switch-input-background-handle-disabled);box-shadow:none}:host([aria-disabled=true]) label{opacity:.5}svg{opacity:0;color:var(--color-global-black);transition:opacity .3s}:host([checked]) svg{opacity:1}`]}render(){return e.x` <span class="${o[this.appearance||r.PRIMARY]} outer"> <span class="knob"> ${e.P({attributes:{"aria-hidden":"true"},size:e.I.ExtraSmall})} </span> </span> ${super.render()} `}toggle(){this.checked=!this.checked,this.dispatchEvent(t.c(this.checked?a.ON:a.OFF)),super.handleInteraction()}handleInteraction(){this.toggle()}};t._([t.n({type:String})],i.prototype,"appearance",void 0),i=t._([t.e("faceplate-switch-input")],i);const c=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${t}`)})();function s(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function l(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function u(t,e={}){return{width:e.width||function(t){const e=l(t,"border-left-width"),n=l(t,"border-right-width");return t.clientWidth+e+n}(t),height:e.height||function(t){const e=l(t,"border-top-width"),n=l(t,"border-bottom-width");return t.clientHeight+e+n}(t)}}const d=16384;function h(t){return new Promise(((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t}))}async function f(t,e,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${e}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(t),async function(t){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(t))).then(encodeURIComponent).then((t=>`data:image/svg+xml;charset=utf-8,${t}`))}(o)}const g=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||g(n,e))};function p(t,e,n){const r=`.${t}:${e}`,o=n.cssText?function(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}(n):function(t){return s(t).map((e=>`${e}: ${t.getPropertyValue(e)}${t.getPropertyPriority(e)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${o}}`)}function w(t,e,n){const r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;const a=c();try{e.className=`${e.className} ${a}`}catch(t){return}const i=document.createElement("style");i.appendChild(p(a,n,r)),e.appendChild(i)}const m="application/font-woff",b="image/jpeg",y={woff:m,woff2:m,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:b,jpeg:b,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function v(t){const e=function(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return y[e]||""}function k(t){return-1!==t.search(/^(data:)/)}async function E(t,e,n){const r=await fetch(t,e);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((t,e)=>{const a=new FileReader;a.onerror=e,a.onloadend=()=>{try{t(n({res:r,result:a.result}))}catch(t){e(t)}},a.readAsDataURL(o)}))}const S={};async function x(t,e,n){const r=function(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}(t,e,n.includeQueryParams);if(null!=S[r])return S[r];let o;n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const r=await E(t,n.fetchRequestInit,(({res:t,result:n})=>(e||(e=t.headers.get("Content-Type")||""),function(t){return t.split(/,/)[1]}(n))));o=function(t,e){return`data:${e};base64,${t}`}(r,e)}catch(e){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${t}`;e&&(r="string"==typeof e?e:e.message),r&&console.warn(r)}return S[r]=o,o}async function R(t,e){return g(t,HTMLCanvasElement)?async function(t){const e=t.toDataURL();return"data:,"===e?t.cloneNode(!1):h(e)}(t):g(t,HTMLVideoElement)?async function(t,e){if(t.currentSrc){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.clientWidth,e.height=t.clientHeight,null==n||n.drawImage(t,0,0,e.width,e.height),h(e.toDataURL())}const n=t.poster,r=v(n);return h(await x(n,r,e))}(t,e):g(t,HTMLIFrameElement)?async function(t){var e;try{if(null===(e=null==t?void 0:t.contentDocument)||void 0===e?void 0:e.body)return await T(t.contentDocument.body,{},!0)}catch(t){}return t.cloneNode(!1)}(t):t.cloneNode(!1)}const P=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function $(t,e){return g(e,Element)&&(function(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):s(r).forEach((o=>{let a=r.getPropertyValue(o);if("font-size"===o&&a.endsWith("px")){const t=Math.floor(parseFloat(a.substring(0,a.length-2)))-.1;a=`${t}px`}g(t,HTMLIFrameElement)&&"display"===o&&"inline"===a&&(a="block"),"d"===o&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),n.setProperty(o,a,r.getPropertyPriority(o))}))}(t,e),function(t,e){w(t,e,":before"),w(t,e,":after")}(t,e),function(t,e){g(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),g(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function(t,e){if(g(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find((e=>t.value===e.getAttribute("value")));r&&r.setAttribute("selected","")}}(t,e)),e}async function T(t,e,n){return n||!e.filter||e.filter(t)?Promise.resolve(t).then((t=>R(t,e))).then((n=>async function(t,e,n){var r,o;let a=[];return a=P(t)&&t.assignedNodes?s(t.assignedNodes()):g(t,HTMLIFrameElement)&&(null===(r=t.contentDocument)||void 0===r?void 0:r.body)?s(t.contentDocument.body.childNodes):s((null!==(o=t.shadowRoot)&&void 0!==o?o:t).childNodes),0===a.length||g(t,HTMLVideoElement)||await a.reduce(((t,r)=>t.then((()=>T(r,n))).then((t=>{t&&e.appendChild(t)}))),Promise.resolve()),e}(t,n,e))).then((e=>$(t,e))).then((t=>async function(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===n.length)return t;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const n=t.querySelector(a),o=document.querySelector(a);n||!o||r[a]||(r[a]=await T(o,e,!0))}}const o=Object.values(r);if(o.length){const e="http://www.w3.org/1999/xhtml",n=document.createElementNS(e,"svg");n.setAttribute("xmlns",e),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(e,"defs");n.appendChild(r);for(let t=0;t<o.length;t++)r.appendChild(o[t]);t.appendChild(n)}return t}(t,e))):null}const C=/url\((['"]?)([^'"]+?)\1\)/g,A=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,L=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function D(t,e,n,r,o){try{const a=n?function(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),e&&(r.href=e),o.href=t,o.href}(e,n):e,i=v(e);let c;return o||(c=await x(a,i,r)),t.replace(function(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${c}$3`)}catch(t){}return t}function I(t){return-1!==t.search(C)}async function N(t,e,n){if(!I(t))return t;const r=function(t,{preferredFontFormat:e}){return e?t.replace(L,(t=>{for(;;){const[n,,r]=A.exec(t)||[];if(!r)return"";if(r===e)return`src: ${n};`}})):t}(t,n),o=function(t){const e=[];return t.replace(C,((t,n,r)=>(e.push(r),t))),e.filter((t=>!k(t)))}(r);return o.reduce(((t,r)=>t.then((t=>D(t,r,e,n)))),Promise.resolve(r))}async function M(t,e,n){var r;const o=null===(r=e.style)||void 0===r?void 0:r.getPropertyValue(t);if(o){const r=await N(o,null,n);return e.style.setProperty(t,r,e.style.getPropertyPriority(t)),!0}return!1}async function z(t,e){g(t,Element)&&(await async function(t,e){await M("background",t,e)||await M("background-image",t,e),await M("mask",t,e)||await M("mask-image",t,e)}(t,e),await async function(t,e){const n=g(t,HTMLImageElement);if((!n||k(t.src))&&(!g(t,SVGImageElement)||k(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,o=await x(r,v(r),e);await new Promise(((e,r)=>{t.onload=e,t.onerror=r;const a=t;a.decode&&(a.decode=e),"lazy"===a.loading&&(a.loading="eager"),n?(t.srcset="",t.src=o):t.href.baseVal=o}))}(t,e),await async function(t,e){const n=s(t.childNodes).map((t=>z(t,e)));await Promise.all(n).then((()=>t))}(t,e))}const O={};async function H(t){let e=O[t];if(null!=e)return e;const n=await fetch(t);return e={url:t,cssText:await n.text()},O[t]=e,e}async function _(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),E(a,e.fetchRequestInit,(({result:t})=>(n=n.replace(o,`url(${t})`),[o,t])))}));return Promise.all(o).then((()=>n))}function F(t){if(null==t)return[];const e=[];let n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const t=r.exec(n);if(null===t)break;e.push(t[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let t=o.exec(n);if(null===t){if(t=a.exec(n),null===t)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(t[0])}return e}async function j(t,e){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const n=s(t.ownerDocument.styleSheets),r=await async function(t,e){const n=[],r=[];return t.forEach((n=>{if("cssRules"in n)try{s(n.cssRules||[]).forEach(((t,o)=>{if(t.type===CSSRule.IMPORT_RULE){let a=o+1;const i=H(t.href).then((t=>_(t,e))).then((t=>F(t).forEach((t=>{try{n.insertRule(t,t.startsWith("@import")?a+=1:n.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:t,error:e})}})))).catch((t=>{console.error("Error loading remote css",t.toString())}));r.push(i)}}))}catch(o){const a=t.find((t=>null==t.href))||document.styleSheets[0];null!=n.href&&r.push(H(n.href).then((t=>_(t,e))).then((t=>F(t).forEach((t=>{a.insertRule(t,n.cssRules.length)})))).catch((t=>{console.error("Error loading remote stylesheet",t)}))),console.error("Error inlining remote css file",o)}})),Promise.all(r).then((()=>(t.forEach((t=>{if("cssRules"in t)try{s(t.cssRules||[]).forEach((t=>{n.push(t)}))}catch(e){console.error(`Error while reading CSS rules from ${t.href}`,e)}})),n)))}(n,e);return function(t){return t.filter((t=>t.type===CSSRule.FONT_FACE_RULE)).filter((t=>I(t.style.getPropertyValue("src"))))}(r)}async function U(t,e){const n=await j(t,e);return(await Promise.all(n.map((t=>{const n=t.parentStyleSheet?t.parentStyleSheet.href:null;return N(t.cssText,n,e)})))).join("\n")}async function V(t,e={}){const{width:n,height:r}=u(t,e),o=await T(t,e,!0);await async function(t,e){const n=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:await U(t,e);if(n){const e=document.createElement("style"),r=document.createTextNode(n);e.appendChild(r),t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}}(o,e),await z(o,e),function(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;null!=r&&Object.keys(r).forEach((t=>{n[t]=r[t]}))}(o,e);return await f(o,n,r)}async function q(t,e={}){const{width:n,height:r}=u(t,e),o=await V(t,e),a=await h(o),i=document.createElement("canvas"),c=i.getContext("2d"),s=e.pixelRatio||function(){let t,e;try{e=process}catch(t){}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),l=e.canvasWidth||n,f=e.canvasHeight||r;return i.width=l*s,i.height=f*s,e.skipAutoScale||function(t){(t.width>d||t.height>d)&&(t.width>d&&t.height>d?t.width>t.height?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d):t.width>d?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d))}(i),i.style.width=`${l}`,i.style.height=`${f}`,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,i.width,i.height)),c.drawImage(a,0,0,i.width,i.height),i}var B=Object.freeze({__proto__:null,getFontEmbedCSS:async function(t,e={}){return U(t,e)},toBlob:async function(t,e={}){const n=await q(t,e);return await function(t,e={}){return t.toBlob?new Promise((n=>{t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)})):new Promise((n=>{const r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),o=r.length,a=new Uint8Array(o);for(let t=0;t<o;t+=1)a[t]=r.charCodeAt(t);n(new Blob([a],{type:e.type?e.type:"image/png"}))}))}(n)},toCanvas:q,toJpeg:async function(t,e={}){return(await q(t,e)).toDataURL("image/jpeg",e.quality||1)},toPixelData:async function(t,e={}){const{width:n,height:r}=u(t,e);return(await q(t,e)).getContext("2d").getImageData(0,0,n,r).data},toPng:async function(t,e={}){return(await q(t,e)).toDataURL()},toSvg:V});return{get F(){return i},get S(){return r},get i(){return B}}}));
SML.dm("expandablesectionheader41e0cfd1",["iconc33661e6"],(async e=>{var t;!function(e){e.Small="sm",e.Medium="md"}(t||(t={}));const n=e=>{let t;return"boolean"==typeof e&&(t=e?"true":"false"),t},a=t=>{const{attributes:n,trailingSlot:a,selected:r,liRole:l}=t,{html:o,createElement:c}=e.g(),{role:d,tabindex:p,"aria-disabled":u,"aria-selected":g,...m}=n||{},h=o`${s(t)} ${i(a)}`;return c("li",{...m,className:`relative list-none mt-0 ${n?.className||""}`,rpl:!0,rplSelected:r,role:l||"presentation"},h)},s=a=>{const{anchorAttributes:s,appearance:i,description:o,disabled:c,href:d,innerClassName_DO_NOT_USE:p,label:u,leadingAvatar:g,leadingIcon:m,noXPadding:h=!1,onClick:x,selected:f,size:b=t.Medium,trailingSlot:$,attributes:y,suppressHoverStyles:v=!1}=a,k=!f&&a.hasTransparentBackground,{html:N,createElement:S,ifDefined:w}=e.g(),{role:E,tabindex:_}=y??{},j=Boolean(_??y?.onclick??a.onClick),I=j?parseInt(_??"0"):void 0,O=!v&&(null!=d||j),T=e=>{return t=e,O?t:"";var t},D=["flex justify-between relative",(h?"px-xs -mx-xs":"px-md")+" gap-[0.5rem]","danger"===i?f?"text-danger-content":`text-danger-content ${T("hover:text-danger-content-hover")}`:f?"text-secondary-onBackground":`text-secondary ${T("hover:text-secondary-hover")}`,`${k?"":f?`bg-neutral-background-selected ${T("hover:bg-neutral-background-selected")}`:`${T("active:bg-interactive-pressed")}`} ${T("hover:bg-neutral-background-hover")}`,`${T("hover:no-underline")}`,`${T("cursor-pointer")}`,c?"opacity-60 pointer-events-none":"",b===t.Medium?"py-xs":"py-2xs"," -outline-offset-1",p].join(" "),B=N` <span class="flex items-center gap-xs min-w-0 shrink"> ${m?N` <span class="flex shrink-0 items-center justify-center h-xl w-xl text-20 leading-4"> ${m} </span>`:void 0} ${g?N`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${g}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="text-14">${u}</span> <span class="text-12 text-secondary-weak">${o}</span> </span> </span> ${l($)} `;return d?S("a",{...s,role:E,href:d,tabindex:I,onclick:x,className:`${D} ${s?.className?s.className:""} no-underline`,style:`padding-inline-end: ${r(a)}`},B):N`<div aria-disabled="${w(n(c)||y?.["aria-disabled"])}" aria-selected="${w(n(f)||y?.["aria-selected"])}" role="${w(E)}" tabindex="${w(I)}" class="${D}" @click="${x}" @keydown="${e=>{"Enter"!==e.code&&"Space"!==e.code||!x||x(e)}}" style="padding-inline-end:${r(a)}"> ${B} </div>`};function r({trailingSlot:e}){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"58px";case"switchInput":return"80px";default:return"16px"}}const i=t=>{if("object"!=typeof t||!("type"in t))return null;const{html:n}=e.g();return n`<div class="absolute top-1/2" style="inset-inline-end:${function(e){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"10px";case"switchInput":return"8px";default:return"16px"}}(t)};transform:translateY(-50%)"> ${t.content} </div>`},l=t=>{if("object"==typeof t&&"type"in t)return null;const{html:n}=e.g();return n`<span class="flex items-center shrink-0"> <span class="flex items-center justify-center h-lg">${t}</span> </span>`},o=e.e(class extends e.i{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(t,[n]){if(e.cF(this.et)&&(!e.cF(n)||this.et.strings!==n.strings)){const n=e.cG(t).pop();let a=this.tt.get(this.et.strings);if(void 0===a){const t=document.createDocumentFragment();a=e.B(e.A,t),a.setConnected(!1),this.tt.set(this.et.strings,a)}e.bN(a,[n]),e.cH(a,void 0,n)}if(e.cF(n)){if(!e.cF(this.et)||this.et.strings!==n.strings){const a=this.tt.get(n.strings);if(void 0!==a){const n=e.cG(a).pop();e.cI(t),e.cH(t,void 0,n),e.bN(t,[n])}}this.et=n}else this.et=void 0;return this.render(n)}}),c={"list-item":"","group-label":"text-12 text-secondary-weak tracking-widest",title:"text-16 text-neutral-content-strong"};return{get L(){return t},a:({appearance:n="list-item",attributes:s,innerClassName_DO_NOT_USE:r,label:i,leadingIcon:l,noXPadding:o})=>{const{html:d}=e.g();return a({attributes:{...s,tabindex:"-1"},hasTransparentBackground:!0,innerClassName_DO_NOT_USE:r,label:d`<span class="${c[n]}">${i}</span>`,leadingIcon:l,size:t.Small,trailingSlot:e.Y(),noXPadding:o})},d:o,e:({attributes:t,contentId:n,content:a,header:s,hasLeadingBorder:r,isInitiallyOpen:i=!0})=>{const{html:l,createElement:o}=e.g();return o("faceplate-expandable-section-helper",{...t,booleanOpen:i,rpl:!0},l`<details ?open="${i}" class="p-0 m-0 bg-transparent border-none rounded-none"> <summary aria-controls="${n}" aria-expanded="${i}" class="font-normal"> ${s} </summary> <faceplate-auto-height-animator class="block" ?open="${i}"> <div faceplate-auto-height-animator-content id="${n}" style="${r?"border-left: 1px solid var(--color-neutral-border-weak); margin-left: 28px;":""}"> ${a} </div> </faceplate-auto-height-animator> </details>`)},l:a}}));
SML.dm("shouldconttruncated81ee171",["iconc33661e6","shelle48e5956"],(async(e,n)=>{var r;!function(e){e.NEUTRAL="NEUTRAL",e.SUCCESS="SUCCESS",e.WARNING="WARNING",e.ALERT="ALERT",e.PLAIN="PLAIN",e.DISABLED="DISABLED",e.DANGER="DANGER",e.INVERTED="INVERTED",e.SECONDARY="SECONDARY",e.MEDIA="MEDIA",e.BRAND="BRAND"}(r||(r={}));const t="bg-brand-background text-brand-onBackground",a="bg-secondary-background text-secondary-onBackground",o={[r.WARNING]:"bg-warning-background text-neutral-background",[r.SUCCESS]:"bg-success-background text-primary-onBackground",[r.NEUTRAL]:"bg-neutral-content text-neutral-background",[r.PLAIN]:a,[r.ALERT]:t,[r.BRAND]:t,[r.DANGER]:"bg-danger-background text-primary-onBackground",[r.DISABLED]:"bg-interactive-content-disabled text-neutral-background",[r.INVERTED]:"bg-inverted-neutral-background text-neutral-background",[r.SECONDARY]:a,[r.MEDIA]:"bg-media-background text-media-onBackground"};return{get B(){return r},b:({attributes:n,appearance:t=r.NEUTRAL,content:a,outline:c=!1})=>{const{html:E,createElement:d}=e.g(),u=E`<span class="font-semibold inline-block text-10 text-center ${a&&"min-h-[1rem] min-w-[0.5rem]"} px-2xs">${a}</span>`;let i="rounded-full inline-flex";return a||(i+=" h-xs w-xs"),c&&(i+=" border-md border-solid border-neutral-background"),d("span",{...n,className:`${[o[t]]} ${i} ${n?.className}`,rpl:!0},u)},s:function({readMoreExperimentName:e,readMoreExperimentVariant:r,readMoreExperimentVersion:t}={}){return!r||(n.fT({experimentName:e??"",variant:r,experimentVersion:t??""}).catch((()=>{})),"none"!==r)}}}));
SML.dm("tabbuttonb7771ce6",["iconc33661e6","shelle48e5956","shouldconttruncated81ee171","agegatestandaloneclientjsb13e879d"],(async(e,a,r,t)=>{var l,n,o;!function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(l||(l={})),function(e){e.Pill="pill",e.Square="square"}(n||(n={})),function(e){e.Pill="default",e.BottomBorder="bottom-border",e.Hug="hug",e.Fill="fill"}(o||(o={}));const s={sm:"py-[var(--rem6)] leading-5 text-14",md:"py-[var(--rem10)] leading-5 text-14",lg:"py-[var(--rem14)] leading-5 text-14"},d={sm:" pl-[var(--rem12)]",md:" pl-[var(--rem14)]",lg:" pl-[var(--rem14)]"},c={sm:" pr-[var(--rem12)]",md:" pr-[var(--rem12)]",lg:" pr-[var(--rem16)]"},i={sm:" pr-[var(--rem8)]",md:" pr-[var(--rem12)]",lg:" pr-[var(--rem16)]"},p={sm:" pl-[var(--rem12)]",md:" pl-[var(--rem16)]",lg:" pl-[var(--rem16)]"},m={sm:" pr-[var(--rem12)]",md:" pr-[var(--rem16)]",lg:" pr-[var(--rem16)]"},u=({leadingIcon:e,size:a,hasBadge:r,dropdown:t,appearance:l})=>{if(l===o.Fill||l===o.Hug)return;let n=" ";return n+=e?d[a]:p[a],n+=t?i[a]:r?c[a]:m[a],n},b="inline-flex flex-col text-secondary-plain-weak font-semibold relative";return{get T(){return o},a:({attributes:a,label:t,size:n=l.Medium,leadingIcon:d,hasBadge:c,badgeCount:i,dropdown:p,role:m="tab",selected:g,selectedTabBorderColor:v="bg-secondary-plain",hoverTabBorderColorClass:h="group-hover:block group-hover:bg-secondary-plain-weak",disabled:x,appearance:f=o.BottomBorder})=>{const{html:E,createElement:T}=e.g(),S={classes:"tab-bottom-border group",selected:"!text-neutral-content-strong tab-selected",badge:r.b({appearance:r.B.NEUTRAL,content:i})},y={[o.Pill]:{classes:"rounded-full",selected:"bg-secondary-background-selected !text-neutral-content-strong",badge:r.b({appearance:r.B.ALERT,content:i}),disabled:"text-neutral-content-disabled",interactive:"hover:no-underline hover:bg-secondary-background-hover hover:text-secondary-content active:bg-secondary-background"}},I=y[f]??S,M=null==a?.href?"button":"a",$=[b,I.classes,g?I.selected:null,x?"text-interactive-content-disabled":"hover:no-underline hover:text-secondary-plain",u({hasBadge:c,leadingIcon:d,dropdown:p,size:n,appearance:f}),f===o.Fill?"items-center grow":f===o.Hug?"grow-0":null,null==a?.href?"rounded-none bg-transparent p-0 border-none h-auto":null,f===o.Pill?x?y.disabled:I.interactive:null].filter((e=>null!==e)).join(" "),B=`${v} ${x?"":h}`,D=E` <span class="inline-flex"> <span class="inline-flex flex-row items-center gap-xs ${n===l.Small&&f===o.Fill?s[l.Medium]:s[n]}"> ${[d??"",t?E`<span>${t}</span>`:""]} </span> <span class="inline-flex flex-row items-center gap-xs"> ${[c?E`<span class="self-start mt-[-0.25rem]${i?"":" ml-[-.25rem]"}"> ${I.badge} </span>`:"",p?e.Y({size:n===l.Small?e.I.Small:e.I.Medium}):""]} </span> </span> <span class="hidden group-[.tab-bottom-border.tab-selected]:block bottom-border-selected flex-grow h-[2px] -mt-[2px] pointer-events-none ${B} rounded-full absolute bottom-0 left-0 right-0"></span> `,L="boolean"==typeof g?`${g}`:void 0;let _;_="boolean"==typeof a?.["aria-selected"]?`${a["aria-selected"]}`:"true"===a?.["aria-selected"]||"false"===a?.["aria-selected"]?a["aria-selected"]:void 0;const R=a&&"role"in a,P=R&&void 0!==a.role||!R?L??_:void 0;return x?T("span",{...a,"aria-selected":P,className:$,rpl:!0},D):T(M,{...a,"aria-selected":P,className:$,role:R?a.role:m,rpl:!0,rplSelected:g},D)},get b(){return l},t:({attributes:l,appearance:n=o.Pill,label:s,size:d=a.s.Medium,selectedIcon:c,unselectedIcon:i,hasBadge:p,badgeCount:m,tabPanelID:u,dropdown:b,selected:g,role:v="tab"})=>{const{html:h}=e.g();let x="mt-[-0.125rem]";m||(x+=" ml-[-.25rem]");const f=[b||g||!i?"":i,!b&&g&&c?c:"",s?h`<span>${s}</span>`:"",p?h`<span class="${x}"> ${r.b({appearance:r.B.ALERT,content:m})} </span>`:""],E=b?f:h`<span class="inline-flex flex-col"> <span class="inline-flex flex-row items-center gap-xs"> ${f} </span> ${g&&n===o.BottomBorder?h` <span class="flex-grow ${d===a.s.Small||d===a.s.ExtraSmall?"h-[2px] -mt-[2px]":"h-2xs -mt-2xs"} pointer-events-none bg-primary rounded-full"></span>`:""} </span>`,T=[l?.className??"",n===o.BottomBorder?"rounded-none bg-transparent hover:bg-secondary-background-hover hover:text-secondary-content active:bg-secondary-background":""].join(" "),S={attributes:{"aria-selected":g?"true":"false","aria-controls":u,...l,className:T},children:E,size:d,appearance:"bottom-border"===n?"tab":void 0,shape:"bottom-border"===n?void 0:"pill",role:v};return h` ${b?t.p({...S,selectedIcon:c,unselectedIcon:i,selected:g}):a.he({...S})} `}}}));
SML.dm("helpers4792ac4d",["shelle48e5956","iconc33661e6","constants9e09f052"],(async(e,t,i)=>{const r={checkbox:()=>"This checkbox must be on",radio:()=>"This radio must have a selected option"};class o extends i.F{constructor(){super(...arguments),this.required=!1,this.name="",this.initialized=!1,this._events=new e.E(this),this.ariaRole="checkbox",this._checked=!1,this.ellipsis=!1,this._handleClick=this._events.define("click",(e=>{this.disabled||e.defaultPrevented||this.handleInteraction()})),this._handleKeydown=this._events.define("keydown",(e=>{this.disabled||e.defaultPrevented||"Space"===e.code&&(e.stopPropagation(),e.preventDefault(),this.handleInteraction())}))}get checked(){return this._checked}set checked(e){const t=this._checked;e!==t&&(this._internals.setFormValue(e?this.getAttribute("value")||"on":null),this._checked=e,e?this.setAttribute("aria-checked","true"):this.removeAttribute("aria-checked"),this.hasAttribute("required")&&!this.checked?this._internals.setValidity({valueMissing:!0},r[this.ariaRole]()):this._internals.setValidity(),this.requestUpdate("checked",t))}static get styles(){return[super.styles,t.a`:host(:not(faceplate-switch-input)){min-height:var(--size-md)}:host{display:flex;align-items:center;cursor:pointer}label{font:var(--font-14-20-regular);color:var(--color-neutral-content-strong);margin-left:var(--spacer-2xs);cursor:pointer}.icon{border:var(--line-md) solid transparent;height:var(--size-md);font-size:var(--size-md);flex-shrink:0}:host([checked]) .icon,:host([indeterminate]) .icon{display:inline-block;color:var(--color-primary-background)}:host(:hover) .icon{color:var(--color-primary-background-hover)}:host([faceplate-validity=invalid]) .icon{color:var(--color-danger-content);pointer-events:none}:host([aria-disabled=true]) .icon{color:var(--color-neutral-content-disabled);pointer-events:none}:host([ellipsis]) label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host([required]) label::after{position:absolute;color:var(--color-danger-content);content:'*'}:host(:focus) .icon{border-color:var(--color-global-focus,transparent);outline:0}:host(:focus){outline:0}:host(:focus:not(:focus-visible)) .icon{border-color:transparent}`]}connectedCallback(){super.connectedCallback(),this.initialized||(this.initialized=!0,this.setAttribute("role",this.ariaRole),this.setAttribute("tabindex","0"))}formDisabledCallback(e){super.formDisabledCallback(e),e?this.removeAttribute("tabindex"):this.setAttribute("tabindex","0")}render(){return t.x` ${super.render()} <label> <slot></slot> </label> `}handleInteraction(){const e=new InputEvent("input",{bubbles:!0});this.dispatchEvent(e)}}e._([e.n({type:Boolean})],o.prototype,"required",void 0),e._([e.n({type:String})],o.prototype,"name",void 0),e._([e.n({type:Boolean,reflect:!0})],o.prototype,"checked",null),e._([e.n({type:Boolean})],o.prototype,"ellipsis",void 0);const n="siteRule.value",s="categoryOrRule.value";return{C:o,R:class{constructor(e){this.bottomScrollIntoViewIfNeeded=e=>{const t=e?.parentElement;if(t&&e){t.clientHeight-(e.offsetTop+e.clientHeight)<0&&e.scrollIntoView()}},this.getHiddenInputValue=e=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.getAttribute("value")??"",this.setHiddenInputValue=(e,t)=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.setAttribute("value",t)??"",this.getAllHiddenInputValues=()=>Array.from(this.reportFormEl.querySelectorAll("form input[type=hidden]")).reduce(((e,t)=>{const i=t.getAttribute("name");return i?{...e,[i]:t.getAttribute("value")??""}:e}),{}),this.getComputedValueByRef=e=>{if(e===n){const t=this.getHiddenInputValue(s);return this.getHiddenInputValue(e).includes(t)?this.getHiddenInputValue(e):""}return this.getHiddenInputValue(e)},this.checkCondition=e=>{if("object"==typeof e){const{args:t,$type:i}=e;if("computed"===i&&Array.isArray(t)){const i=t.map((e=>"object"==typeof e&&"ref"===e.$type?this.getComputedValueByRef(e.ref):e));return"neq"===e.function?String(i[0])!==String(i[1]):String(i[0])===String(i[1])}if("ref"===i&&e.ref)return this.getHiddenInputValue(e.ref)}return!1},this.getComputedProp=e=>{if("computed"===e.$type&&"conditionalSelect"===e.function&&e.conditions&&e.values){const t=e.conditions;for(const[i,r]of t.entries())if(!0===r||"boolean"!=typeof r&&this.checkCondition(r))return e.values[i]}return e},this.getText=e=>{if(this.isString(e))return e;const t=this.getComputedProp(e);return this.isString(t)?t:""},this.getAction=e=>this.getComputedProp(e),this.getDisabledCondition=e=>!!this.checkCondition(this.getComputedProp(e)),this.getTextDataRef=e=>{const t=e.conditions?.[0];if(t&&"boolean"!=typeof t){const e=t.args;if(Array.isArray(e)&&!this.isString(e[0]))return e[0].ref}return""},this.getDisabledRef=e=>{const t=e.args;if(t&&Array.isArray(t)&&!this.isString(t[0]))return[t[0].ref];const i=e.values;return i?i.map((e=>e.args[0].ref)):void 0},this.isString=e=>"string"==typeof e,this.performAction=e=>{switch(e.actionType){case"formSubmit":return{formSubmit:!0,data:e.args};case"formClose":return{formClose:!0};case"flow":return"SELF_HARM"===this.getHiddenInputValue(e.args[0].ref)?{openCtlFlow:!0}:void 0;case"openTemplatedUrl":const t=e.args,{urlTemplate:i,placeholders:r}=t;if(t&&i&&r){let e="";return r.forEach((r=>{const o=t[r],n=this.getHiddenInputValue(o.ref);n&&(e=i.replaceAll(`%(${r})s`,n))})),{href:e,formClose:!0}}return{formClose:!0};default:const{value:o,key:n}=e.args;return"ref"===o.$type?(this.setHiddenInputValue(n,this.getHiddenInputValue(o.ref)),{key:n,value:this.getHiddenInputValue(o.ref)}):void 0}},this.reportFormEl=e}},S:n,a:s}}));
SML.dm("hotkeysmodalclientjs3f8675a3",["shelle48e5956","iconc33661e6","expandablesectionheader41e0cfd1","tabbuttonb7771ce6","communityonboardingcompletedmodalclientjsf4f5192c","faceplatetabpanelb6d69013","faceplatetabgroupa59ee035","index970155ae","huiuserdrawerclientjs91e856a7","TinyGesture26737d23","agegatestandaloneclientjsb13e879d","faceplatetablistb81db8b2","helpers4792ac4d","constants9e09f052","communitypickerf331f77f","shouldconttruncated81ee171"],(async(t,e,a,s)=>{const o={shift:"⇧",ctrl:"^",alt:"⌥",arrowup:"↑",arrowdown:"↓",arrowleft:"←",arrowright:"→",enter:"↵ Enter",meta:"⌘"," ":"Space"},i=[t.gz.NAVIGATION,t.gz.ACTION,t.gz.MEDIA];var r;!function(t){t.TOGGLE="shreddit-hotkeys-modal:toggle",t.OPENED="shreddit-hotkeys-modal:show"}(r||(r={}));let l=class extends e.s{constructor(){super(...arguments),this.activeTabIndex=1,this.registry=t.gr,this.disableShortcuts=!1,this.open=!1,this.modalRef=t.aq(),this.hotkeysMap={},this.hotkeysController=new t.dx(this),this.toggleDialog=()=>{this.dialog&&(this.dialog?.open?this.dialog.hide():this.dialog?.showModal())},this.transformNonModifierKey=t=>{const e=t.toLowerCase(),a=e in o?o[e]:t.toUpperCase();return this.getKeyMarkup(a)},this.getKeyMarkup=t=>e.x`${a.d(e.x`<span class="bg-neutral-background-weak-hover px-2xs rounded-[0.125rem]">${t}</span>`)}`,this.useModifierBasedOnOS=()=>navigator.userAgent.includes("Mac")?o.meta:o.ctrl,this.transformModifierKey=t=>{const a=[],s=this.getKeyMarkup(t.key.toUpperCase());return t.ctrl&&a.push(o.ctrl),t.alt&&a.push(o.alt),t.shift&&a.push(o.shift),t.meta&&a.push(this.useModifierBasedOnOS()),a?e.x`${this.getKeyMarkup(a.join(" + "))} + ${s}`:s},this.transformKey=t=>"string"==typeof t?this.transformNonModifierKey(t):this.transformModifierKey(t),this.renderHotkey=t=>{const a=[];for(let s=0;s<t.length;s++)s>0&&a.push(e.x`<span>OR</span>`),a.push(this.transformKey(t[s]));return e.x`<span class="flex gap-2xs">${a}</span>`},this.createKeyMap=()=>{if(this.registry){this.hotkeysMap={};for(const[t,e]of Object.entries(this.registry)){const{type:a}=e,s={...e,icon:this.renderHotkey(e.keys),id:t};this.hotkeysMap[a]?this.hotkeysMap[a].push(s):this.hotkeysMap[a]=[s]}}},this.createHotkeyCategoryTab=e=>{const a=e===t.gz.NAVIGATION?"page-1":e===t.gz.ACTION?"page-2":"page-3";return s.a({label:t.gA[e](),size:s.b.Medium,attributes:{slot:a,onclick:()=>{this.activeTabIndex=parseInt(a.replace(/[a-zA-Z-]/g,""))},"data-test-id":e}})},this.createHotKeyListItem=t=>a.l({label:t.label(),trailingSlot:t.icon,disabled:this.disableShortcuts,attributes:{"data-test-id":t.id},innerClassName_DO_NOT_USE:"!px-0"}),this.dispatchHotkeyToggle=e=>{const a=e.target,{checked:s}=a;this.dispatchEvent(new CustomEvent(r.TOGGLE,{composed:!0,bubbles:!0,detail:{checked:s,target:a}})),t.a(this,t.b({source:"settings",action:"save",noun:"hotkey"},{setting:{old_value:this.convertToOnOff(!a.checked),value:this.convertToOnOff(a.checked)}})),this.disableShortcuts=!s},this.convertToOnOff=t=>t?"on":"off"}get dialog(){return this.shadowRoot?.querySelector('[dialog-id="hotkeys-dialog"]')}connectedCallback(){super.connectedCallback(),this.createKeyMap(),this.hotkeysController.subscribe(t.dy.SHOW_SHORTCUTS,this.toggleDialog)}disconnectedCallback(){super.disconnectedCallback(),this.hotkeysController.unsubscribe(t.dy.SHOW_SHORTCUTS,this.toggleDialog)}willUpdate(t){t.has("registry")&&this.createKeyMap()}render(){const s=!this.disableShortcuts,o=e.x` <ac-track trigger="view" san="settings|click|hotkey_help"></ac-track> <rpl-modal-card auto-close class="min-w-[288px] max-w-[640px]"> <h2 slot="title"> Keyboard shortcuts </h2> ${t.r({appearance:"secondary",attributes:{slot:"close-button","aria-label":"Close dialog"},leadingIcon:e.C({size:e.I.Small}),size:t.s.Small})} <div> <div> <p> Boost your efficiency with keyboard shortcuts! Get into the conversation faster without reaching for your mouse. Below is a complete list of available shortcuts, organized by category. </p> <faceplate-tabgroup pages="${Object.keys(t.gz).length}"> ${[this.createHotkeyCategoryTab(t.gz.NAVIGATION),this.createHotkeyCategoryTab(t.gz.ACTION),this.createHotkeyCategoryTab(t.gz.MEDIA)]} </faceplate-tabgroup> <faceplate-tabpanel pages="${Object.keys(t.gz).length}" pageindex="${this.activeTabIndex}" style="opacity:${this.disableShortcuts?".60":"1"}"> ${i.map(((t,a)=>e.x`<ul slot="page-${a+1}" class="p-0 m-0"> ${this.hotkeysMap[t]?.map((t=>this.createHotKeyListItem(t)))} </ul>`))} </faceplate-tabpanel> </div> <hr> ${a.l({label:"Enable shortcuts",innerClassName_DO_NOT_USE:"!px-0",attributes:{"data-test-id":"toggles"},trailingSlot:e.x`<faceplate-switch-input ?checked="${s}" @input="${this.dispatchHotkeyToggle}"> </faceplate-switch-input>`})} </div> <ac-track trigger="view" san="settings|click|hotkey_help"></ac-track> </rpl-modal-card>`;return e.x`<rpl-dialog-sheet ${t.as(this.modalRef)} dialog-id="hotkeys-dialog" ?open="${this.open}" .litTemplateChildren="${o}"></rpl-dialog-sheet>`}};return l.styles=[t.t],t._([t.d()],l.prototype,"activeTabIndex",void 0),t._([t.n({type:Object})],l.prototype,"registry",void 0),t._([t.n({type:Boolean,attribute:"disable-shortcuts"})],l.prototype,"disableShortcuts",void 0),t._([t.n({type:Boolean})],l.prototype,"open",void 0),t._([t.n({type:Object})],l.prototype,"modalRef",void 0),l=t._([t.e("shreddit-hotkeys-modal")],l),{get S(){return r}}}));
SML.dm("hotkeysloaderclientjs8e4fa9ee",["shelle48e5956","hotkeysmodalclientjs3f8675a3","iconc33661e6","communityonboardingcompletedmodalclientjsf4f5192c","huiuserdrawerclientjs91e856a7","TinyGesture26737d23","agegatestandaloneclientjsb13e879d","faceplatetabpanelb6d69013","faceplatetabgroupa59ee035","faceplatetablistb81db8b2","index970155ae","helpers4792ac4d","constants9e09f052","communitypickerf331f77f","expandablesectionheader41e0cfd1","tabbuttonb7771ce6","shouldconttruncated81ee171"],(async(e,t,s)=>{let a=e.B,i=e.k,n=class extends s.s{constructor(){super(...arguments),this.registry=e.gr,this.pubsub=new e.P(this),this.compareModifiers=(e,t)=>!!e==!!t,this.hasMatchingModifiers=(e,t)=>{if(!t)return!1;const{metaKey:s,altKey:a,shiftKey:i,ctrlKey:n}=e,{meta:o,alt:r,ctrl:l,shift:c}=t,E=!(navigator.userAgent.includes("Mac")||!o||l||!n);return(this.compareModifiers(s,o)||E)&&(this.compareModifiers(n,l)||E)&&this.compareModifiers(i,c)&&this.compareModifiers(a,r)},this.getContextualSubscriber=(t,s,a)=>{const i=t.composedPath();return Array.from(a).find((a=>this.hasMatchingModifiers(t,e.gs.keys[s]?.[a])&&void 0===e.gt[a]&&i?.find((t=>e.gu.has(t)))))},this.getGlobalSubscriber=(t,s,a)=>Array.from(a).find((a=>this.hasMatchingModifiers(t,e.gs.keys[s]?.[a]))),this.publishHotkeyEvent=async t=>{const s=t.key.toLowerCase(),a=e.gs.keys[s],n=this.getContextualSubscriber(t,s,e.gv),o=this.getGlobalSubscriber(t,s,e.gw),r=n??o;if(a&&(this.enabled||"?"===s)&&(r&&a[r].allowFromInput||!t.composedPath().find((e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement||e instanceof HTMLElement&&e.hasAttribute("contenteditable"))))){if(a[e.dy.SHOW_SHORTCUTS]&&await i({name:e.fR,bodyParams:{enabled:encodeURIComponent(!!this.enabled),open:"true"}}),n)return this.pubsub.publish(e.T.Hotkeys,{id:n}),void this.cancelEvent(t);o&&(this.pubsub.publish(e.T.Hotkeys,{id:o}),this.cancelEvent(t))}},this.cancelEvent=e=>{e.preventDefault(),e.stopImmediatePropagation()},this.onHotkeysToggle=async t=>{const{detail:{checked:s,target:i}}=t;try{const t=await a({operation:e.O.UpdateAccountPreferences,variables:{input:{isHotkeysEnabled:s}}});if(this.enabled=s,t.errors.length>0)throw new Error("Could not save setting")}catch{i.checked=!s;const t=e.c("faceplate-alert",{level:e.x.error,cause:"uncategorized",message:"We had some issues saving your changes. Please try again."});this.dispatchEvent(t)}}}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.publishHotkeyEvent),document.addEventListener(t.S.TOGGLE,this.onHotkeysToggle)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.publishHotkeyEvent),document.removeEventListener(t.S.TOGGLE,this.onHotkeysToggle)}willUpdate(t){t.has("enabled")&&this.enabled&&!Object.keys(e.gs.keys).length?e.gx(this.registry):t.has("registry")&&(e.gy(),e.gx(this.registry))}};e._([e.n({type:Object})],n.prototype,"registry",void 0),e._([e.n({type:Boolean})],n.prototype,"enabled",void 0),n=e._([e.e("shreddit-hotkeys-controller")],n)}));
SML.dm("shredditfeed12f9d370",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d","feeds869c579e","index751e2b35","translationfeedbackmodalclientjse1d4812d","hotkeysloaderclientjs8e4fa9ee"],(async(e,t,s,o,i)=>{const r="virtualized-placeholder";class n{constructor(e){this.topPadding=0,this.topStack=[],this.updatesSinceConnect=0,(this.host=e).addController(this)}hostConnected(){this.updatesSinceConnect=0}hostDisconnected(){}async update(){if(await this.host.updateComplete,this.updatesSinceConnect++,this.updatesSinceConnect<3)return;const{top:e}=this.host.getBoundingClientRect(),t=-1*(e+this.topPadding+window.innerHeight);this._virtualizeTop(t)}virtualizeTopElements(e){let t=e;const s=[];let o=this.host.querySelector(`:not(.${r})`);for(;o;){const{height:e}=o.getBoundingClientRect();if(t-=e,t<0)break;const i=l(e);s.push({node:o,placeholder:i,height:e}),o=o.nextElementSibling}s.forEach((e=>{const{node:t,placeholder:s,height:o}=e;this.topPadding+=o,this.host.replaceChild(s,t),this.topStack.push(e)}))}devirtualizeTopElements(e){let t=e,s=0;const o=[];for(;t<0&&this.topStack.length>0;){const e=this.topStack.pop();if(!e)break;const{height:i}=e;t+=i,s-=i,o.push(e)}this.topPadding+=s,o.forEach((e=>{const{node:t,placeholder:s}=e;this.host.replaceChild(t,s)}))}_virtualizeTop(e){e>1e3?this.virtualizeTopElements(e):e<0&&this.devirtualizeTopElements(e)}}function l(e){const t=document.createElement("div");return t.classList.add(r),t.style.height=`${e}px`,t}class a{constructor(t){this.initializeHotkeys=()=>{"enabled"===e.dw("shreddit_hotkeys_m1")&&(this.subscriberController?.subscribe(e.dy.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(e.dy.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(e.dy.UPVOTE,this.upvote),this.subscriberController?.subscribe(e.dy.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(e.dy.TOGGLE_EXPANDO,this.toggleExpando),this.subscriberController?.subscribe(e.dy.COPY_POST_OR_COMMENT_LINK,this.copyPostLink),this.subscriberController?.subscribe(e.dy.HIDE_POST,this.hidePost),this.subscriberController?.subscribe(e.dy.TOGGLE_SAVE,this.toggleSave))},this.cleanupHotkeys=()=>{"enabled"===e.dw("shreddit_hotkeys_m1")&&(this.subscriberController?.unsubscribe(e.dy.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(e.dy.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(e.dy.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(e.dy.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(e.dy.TOGGLE_EXPANDO,this.toggleExpando),this.subscriberController?.unsubscribe(e.dy.COPY_POST_OR_COMMENT_LINK,this.copyPostLink),this.subscriberController?.unsubscribe(e.dy.HIDE_POST,this.hidePost),this.subscriberController?.unsubscribe(e.dy.TOGGLE_SAVE,this.toggleSave))},this.findShredditPost=e=>["shreddit-post","shreddit-ad-post","shreddit-profile-comment"].includes(e?.tagName.toLowerCase()??"")?e:e?.querySelector("shreddit-post, shreddit-ad-post, shreddit-profile-comment"),this.customHotkeyPostTraversal=(e,t)=>{if(!t)return;const s="faceplate-batch"===t.nextElementSibling?.tagName.toLowerCase(),o="faceplate-batch"===t.previousElementSibling?.tagName.toLowerCase();if(s||o)return e===i.P.NEXT?t.nextElementSibling?.firstElementChild:t.previousElementSibling?.lastElementChild;if("faceplate-batch"===t.parentElement?.tagName.toLowerCase()){if(e===i.P.NEXT&&!t.nextElementSibling)return t.parentElement.nextElementSibling;if(e===i.P.PREV&&!t.previousElementSibling)return t.parentElement.previousElementSibling}},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(i.P.NEXT),this.host.trackEvent(e.b({source:"post",action:"next",noun:"post"}))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(i.P.PREV),this.host.trackEvent(e.b({source:"post",action:"previous",noun:"post"}))},this.upvote=()=>{this.useVotingMethodsFromChildren("upvote")},this.downvote=()=>{this.useVotingMethodsFromChildren("downvote")},this.toggleExpando=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController.current?.hotkeyController?.onToggleExpando()},this.copyPostLink=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController?.current?.hotkeyController?.onCopyLink()},this.hidePost=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController?.current?.hotkeyController?.onToggleHide()},this.toggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentPost)this.postOrCommentTraversalController?.current?.hotkeyController?.onToggleSave();else{const e=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((e=>"save"===e.id));e?.onClick?.()}},this.useVotingMethodsFromChildren=async e=>{const t=void 0;let s;s=this.postOrCommentTraversalController?.isCurrentPost?this.postOrCommentTraversalController?.current:this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row"),s&&(s.interactionFromHotkey=!0,"upvote"===e?await s.handleUpvote(t):await s.handleDownvote(t),s.interactionFromHotkey=!1)},this.host=t,t.addController(this)}hostConnected(){this.subscriberController=new e.dx(this.host),this.postOrCommentTraversalController=new i.a(this.host,{type:i.b.FEED,customPostOrCommentDetection:this.findShredditPost,getFirstElement:()=>this.host.firstElementChild,customTraversal:this.customHotkeyPostTraversal}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}}const h=e.g(t.s);let d=class extends h{static get styles(){return[e.t,t.a`:host{display:flex;flex-direction:column}`]}get loadAfterController(){return this._loadAfterController}constructor(){super(),this.navigationSessionId="",this.loadBeforeController=new s.I(this),this._loadAfterController=null,this.isFeedTranslatable=!1,this.isTranslationsEligible=!1,this.omitLoadAfter=!1,this.refreshPillDismissThreshold=1200,this.showRefreshPill=!1,this.refreshPillRef=e.aq(),this.virtualization=new n(this),this.handleVirtualization=s.M((()=>{this.virtualization?.update()}),200,!0),this.onDocumentScroll=()=>{this.handleVirtualization(),this.updateRefreshPillStyle()},this.updateRefreshPillStyle=()=>{const e=this.refreshPillRef.value;e&&this.refreshPillDismissThreshold&&!isNaN(this.scrollPositionAtRefreshShow??NaN)&&window.scrollY-this.scrollPositionAtRefreshShow>this.refreshPillDismissThreshold&&(e.classList.add("opacity-0"),e.classList.remove("opacity-100"),setTimeout((()=>{this.showRefreshPill=!1,this.scrollPositionAtRefreshShow=void 0}),1e3))},this.reloadFeed=(e={})=>{window.scrollBy({top:this.getBoundingClientRect().top-56,behavior:"instant"}),this.dispatchEvent(new CustomEvent(s.a7,{detail:{queryParameters:e}}))},this.trackRefresh=(t,s)=>{this.trackEvent(e.b({source:"feed",action:"refresh",noun:"feed"},{timer:{millis:1e3*t,type:e.a$.Background},action_info:{type:s}}))},this.handleVisibilityChange=e=>{e?this.backgroundedAtTime&&(this.backgroundTimeElapsedInSeconds=(Date.now()-this.backgroundedAtTime)/1e3,this.backgroundedAtTime=void 0,this.backgroundAutoRefreshTimeThreshold&&!isNaN(this.backgroundAutoRefreshTimeThreshold)&&this.backgroundTimeElapsedInSeconds>=this.backgroundAutoRefreshTimeThreshold?(this.reloadFeed({refresh:o.B.AUTOMATIC}),this.showRefreshPill=!1,this.trackRefresh(this.backgroundTimeElapsedInSeconds,"automatic_refresh")):this.backgroundManualRefreshTimeThreshold&&!isNaN(this.backgroundManualRefreshTimeThreshold)&&this.backgroundTimeElapsedInSeconds>=this.backgroundManualRefreshTimeThreshold&&(this.showRefreshPill=!0,this.scrollPositionAtRefreshShow=window.scrollY)):(this.backgroundedAtTime=Date.now(),this.backgroundTimeElapsedInSeconds=void 0)},this.pubsub=new e.P(this),this.reloadController=new s.a8(this,{mode:e.o.Contents,containerSelector:"body"}),"enabled"===e.dw("shreddit_hotkeys_m1")&&(this.hotkeyController=new a(this))}async connectedCallback(){super.connectedCallback(),this.omitLoadAfter||(this._loadAfterController=new s.I(this,{rootMargin:2*window.innerHeight+"px"})),document.addEventListener("scroll",this.onDocumentScroll),this.reloadUrl&&(this.reloadController.reloadUrl=this.reloadUrl),"scrollRestoration"in history&&(history.scrollRestoration="manual"),e.aT(this.handleVisibilityChange)}updated(e){this.hasUpdated&&e.has("reloadUrl")&&this.reloadUrl&&(this.reloadController.reloadUrl=this.reloadUrl)}handleAfterSlotChange(e){this.loadAfterController?.handleSlotChange(e)}async disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("scroll",this.onDocumentScroll),this.pubsub.unsubscribe,e.aU(this.handleVisibilityChange)}render(){return this.reloadController.isLoading?t.x`<shreddit-loading></shreddit-loading>`:t.x`<faceplate-screen-reader-content> <h1>Feed</h1> </faceplate-screen-reader-content> ${this.showRefreshPill?t.x`<div ${e.as(this.refreshPillRef)} class="sticky h-0 top-[56px] self-center z-10 transition-opacity ease-in-out opacity-100 duration-1000"> ${e.r({appearance:"primary",size:e.s.Small,children:t.x`✨ New Posts`,trailingIcon:t.bd({size:t.I.ExtraSmall,attributes:{className:"ml-xs"}}),attributes:{className:"!px-md mt-xs xs:mt-md shadow-sm",onclick:()=>{this.reloadFeed({refresh:o.B.MANUAL}),this.showRefreshPill=!1,this.trackRefresh(this.backgroundTimeElapsedInSeconds??0,"refresh_pill")}}})} </div>`:t.A} <slot @slotchange="${this.loadBeforeController?.handleSlotChange}" name="load-before"></slot> <slot></slot> <slot @slotchange="${this.handleAfterSlotChange}" name="load-after"></slot> ${this.isTranslationsEligible?t.x`<translation-feedback-modal id="${e.dl.ID.FEED_POST_FEEDBACK_MODAL}"></translation-feedback-modal>`:t.x``}`}};e._([e.n({type:String,attribute:"navigation-session-id"})],d.prototype,"navigationSessionId",void 0),e._([e.n({type:Boolean,attribute:"is-feed-translatable"})],d.prototype,"isFeedTranslatable",void 0),e._([e.n({type:Boolean,attribute:"is-translations-eligible"})],d.prototype,"isTranslationsEligible",void 0),e._([e.n({type:String,attribute:"reload-url"})],d.prototype,"reloadUrl",void 0),e._([e.n({type:Boolean,attribute:"omit-load-after"})],d.prototype,"omitLoadAfter",void 0),e._([e.n({type:Number,attribute:"bg-auto-refresh-time-threshold"})],d.prototype,"backgroundAutoRefreshTimeThreshold",void 0),e._([e.n({type:Number,attribute:"bg-manual-refresh-time-threshold"})],d.prototype,"backgroundManualRefreshTimeThreshold",void 0),e._([e.n({type:Number,attribute:"refresh-pill-dismiss-threshold"})],d.prototype,"refreshPillDismissThreshold",void 0),e._([e.d()],d.prototype,"showRefreshPill",void 0),d=e._([e.e("shreddit-feed")],d)}));
SML.dm("basetranslatorcd4fc8d8",["shelle48e5956","iconc33661e6"],(async(t,e)=>{class a extends e.s{constructor(){super(...arguments),this.translationContextValue=t.aw,this.translationLanguage="",this.reportMetrics=!1,this.metricsScenario=t.bI.PageLoad,this.objectTranslationCache=new Map,this._requestController=new t.aH(this),this._isFetchingTranslations=!1,this.logError=e=>{t.bJ({error:e.error,metadata:e.metadata,element:this,componentName:this.tagName.toLowerCase()??this.constructor.name})}}updated(t){t.has("translationContextValue")&&this.onUpdateTranslationContextValue(t)}onUpdateTranslationContextValue(e){const a=e.get("translationContextValue"),n=this.translationContextValue.isTranslationActive,r=a?.isTranslationActive;try{void 0===r&&void 0!==n?this.metricsScenario=t.bI.PageLoad:void 0!==n&&(this.metricsScenario=t.bI.ToggleChange),!0!==r&&!0===n?this.onTranslationsEnabled():!1!==r&&!1===n&&this.onTranslationsDisabled()}catch(t){this.logError({error:t})}}async fetchRequestPartial(e,a){if(this._isFetchingTranslations)return null;try{this._isFetchingTranslations=!0;const n=await this._requestController.request(e,a),r=n?.text?await(n?.text()):"";this._isFetchingTranslations=!1;const s=r&&r.includes?.(t.bv),o=r&&r.includes?.(t.bK);return s&&this.logError({error:"base-translator: request partial error",metadata:{url:e,options:a}}),s||o?null:t.bw(r)}catch(t){return this.logError({error:"base-translator: request partial error",metadata:{url:e,options:a}}),null}}saveElementsToCache(e,a){e.map((e=>{const n=e.getAttribute("id");if(n){const r=this.objectTranslationCache.get(n)||{},s={};e.querySelectorAll(`[${t.bL.DATA_MT_TYPE}]`).forEach((e=>{const a=e.getAttribute(t.bL.DATA_MT_TYPE);s[e.id]=a===t.bL.TEXT_CONTENT?e.textContent||"":e.innerHTML})),a?r.translatedElement=s:r.originalElement=s,this.objectTranslationCache.set(n,r)}}))}updateTranslationCache(t,e){const a=this.objectTranslationCache.get(t),n=t=>!!t.originalElement||!!t.translatedElement;if(!a&&n(e))return void this.objectTranslationCache.set(t,e);const r={};e.originalElement&&!a.originalElement&&(r.originalElement=e.originalElement),e.translatedElement&&!a.translatedElement&&(r.translatedElement=e.translatedElement),n(r)&&this.objectTranslationCache.set(t,{...a,...r})}}return t._([t.av({context:t.ax,subscribe:!0}),t.d()],a.prototype,"translationContextValue",void 0),t._([t.n({type:String,attribute:"target-translation-language"})],a.prototype,"translationLanguage",void 0),t._([t.n({type:Boolean,attribute:"report-metrics"})],a.prototype,"reportMetrics",void 0),{B:a}}));
SML.dm("links22118b0c",["shelle48e5956","agegatestandaloneclientjsb13e879d"],(async(e,t)=>{var o,n;!function(e){e.SubredditFeed="SubredditFeed",e.CustomFeed="CustomFeed",e.AggregateFeed="AggregateFeed",e.BestOfRedditPage="BestOfRedditPage",e.CommentsPage="CommentsPage",e.Comment="Comment",e.DynamicFeed="DynamicFeed",e.ListingBelowSubredditPosts="ListingBelowSubredditPosts",e.ListingBelowLinkedPosts="ListingBelowLinkedPosts",e.PopularFeed="PopularFeed",e.PostStatsPage="PostStatsPage",e.ProfileFeed="ProfileFeed",e.ProfileFeed2="ProfileFeed2",e.ProfileTrendingConvos="ProfileTrendingConvos",e.BrandMentionFeed="BrandMentionFeed",e.BrandPostPerformanceFeed="BrandPostPerformanceFeed",e.ArticleFeed="ArticleFeed",e.SearchResultsPage="SearchResultsPage",e.RightRail="RightRail",e.ModChatChannels="ModChatChannels",e.ModQueue="ModQueue",e.ModQueueAll="ModQueueAll",e.ModNotesRail="ModNotesRail",e.ModLog="ModLog",e.UserManagement="UserManagement",e.ModRules="ModRules",e.ModRecruitment="ModRecruitment",e.ModWiki="ModWiki",e.ModCommunityGoldPage="ModCommunityGoldPage",e.ClubAwardsPage="ClubAwardsPage",e.ModClubAwardsPage="ModClubAwardsPage",e.ArticleDetails="ArticleDetails"}(o||(o={})),function(e){e.Scheduled="scheduled",e.Live="live",e.Ended="ended"}(n||(n={}));const s=e=>`${e}`.startsWith("t3_")?`${e}`:`t3_${e}`;function i(e){return e===o.ListingBelowLinkedPosts||e===o.ListingBelowSubredditPosts}const a=/^.*?\/(?:u|user|r)\/(?:[a-zA-Z0-9_-]+)\/comments\/(?<postId>[a-zA-Z0-9]+)(?:(?:\/|\?).*|$)/;const r=t=>d(t,e.dQ)?t:void 0,d=(e,t)=>Object.values(t).includes(e),c=(e,t)=>void 0===e?void 0:t(e);function u(e){return e&&i(e)?"post_detail":"post"}function l(e){return u(e.viewContext)}const m=({archived:t,authorId:o,createdTimestamp:n,domain:s,id:i,feedIndex:a,nsfw:d,isStickied:u,isHighlighted:l,postTitle:m,postType:p,promoted:_,recommendationSource:f,recommendationSubredditId:b,recommendationSubredditName:g,score:h,spoiler:w,subredditId:P,subredditPrefixedName:v,viewType:T,commentCount:k,permalink:M,awardId:S,interactionFromHotkey:C})=>{const A=c(p,r),F=c(n,e.gk),I={name:v?.toLowerCase(),id:P},L=S?{id:S}:void 0,x=C?e.d_.HOTKEY:void 0;return{...L,post:{archived:t,author_id:o,created_timestamp:F,domain:s,id:i,nsfw:d,pinned:u,highlighted:l,promoted:_,score:h,spoiler:w,subreddit_id:P,subreddit_name:I.name,title:m,type:A,recommendation_source:f?.toLowerCase(),recommendation_source_subreddit_id:b,recommendation_source_subreddit_name:g,number_comments:k,url:M},screen:{view_type:e.hX(T)},subreddit:I,action_info:{position:a,trigger_type:x}}},p=t=>({...m(t),feed:e.hW()}),_=({fields:t,post:o,postIsTranslated:n,reason:s,withTranslationMetrics:i})=>{const{postLanguage:a,translationLanguage:r}=o;return t={...t,post:{...t.post,language:a,translation_language:r,translation_state:n},..."boolean"==typeof i&&{translation_metrics:e.e8()},...s&&{action_info:{...t.action_info,reason:s}}}};function f(e,t){return{...t?_({fields:p(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):p(e),new_award:{id:e.awardId,is_content_eligible:Boolean(e.isAwardable)}}}const b=(t,o,n={})=>e.b({source:l(t),action:"click",noun:o},{...t.viewContext&&i(t.viewContext)?f(t,!!t.isTranslatable):n,feed:e.hW()}),g=e=>`${e}`.startsWith("t1_")?`${e}`:`t1_${e}`,h=/^.*\/r\/.*\/comments\/(?<postId>[a-zA-Z0-9]+)\/.*\/?$/;const w=/\/r\/([^/]+)\/$/;return{$:e=>b(e,"share",m(e)),get A(){return n},B:t=>e.b({source:u(t),action:"click",noun:"delete"}),C:"hidden",D:({markedAsSpoiler:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_spoiler":"unmark_spoiler"}),E:({markedAsNsfw:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_nsfw":"unmark_nsfw"}),F:({markedAsBrandAffiliate:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_brand_affiliate":"unmark_brand_affiliate"}),G:({turnNotificationsOn:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"turn_notifications":"unsend_reply_notifications"}),H:t=>e.b({source:u(t),action:"click",noun:"hide"}),I:t=>e.b({source:u(t),action:"click",noun:"post_overflow_menu"}),J:t=>e.b({source:"event_post",action:"click",noun:"rsvp"},{...m(t)}),K:t=>e.b({source:"event_post",action:"click",noun:"un_rsvp"},{...m(t)}),L:g,M:"overflow-hidden h-[60px] embed-xs:h-[80px]",N:function(t){const o=t?e.il(t.href):null;if(!o)return{postId:"",commentId:""};const n=o?.groups?.postId,i=o?.groups?.commentId;return{postId:n?s(n):"",commentId:i?g(i):""}},O:function(e){const t=(e?.getAttribute("href")||"").match(w);return t?t[1]:""},get P(){return o},Q:function(e){const t=e.match(a),o=t?.groups?.postId;if(o)return s(o)},R:"read-more-click",S:(t,o)=>e.b({source:"post"===o?"post":"post_detail",action:t,noun:"post"===o?"post":"comment"},{action_info:{trigger_type:e.d_.HOTKEY}}),T:"h-[316px]",U:t=>e.b({source:"post",action:"leave",noun:"post",visibility:{on_screen_timestamp:t.becameVisibleOnScreenTimestamp,off_screen_timestamp:Date.now()}},p(t)),V:(t,o)=>e.b({source:"post",action:"consume",noun:"post"},{...o?_({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0}):p(t),new_award:{id:t.awardId,is_content_eligible:Boolean(t.isAwardable)}}),W:t=>e.b({source:l(t),action:"click",noun:"read_more"},p(t)),X:function(t){return t===e.w.Popular},Y:function(t){return t===e.w.Home},Z:function(e){return e===o.BrandMentionFeed||e===o.ArticleDetails},_:i,a:function(e){switch(e){case o.AggregateFeed:case o.SubredditFeed:case o.CustomFeed:case o.ListingBelowLinkedPosts:case o.ListingBelowSubredditPosts:case o.PopularFeed:case o.ProfileFeed:case o.ProfileFeed2:case o.BrandMentionFeed:case o.BrandPostPerformanceFeed:case o.ArticleDetails:case o.ModQueue:case o.ModQueueAll:case o.ModLog:case o.ModNotesRail:return!0;case o.CommentsPage:default:return!1}},a0:e=>b(e,"share_copy",m(e)),a1:(o,n)=>{switch(t.g(o,"postClickLocation")){case e.dS.SUBREDDIT_LINK:return(e=>b(e,"subreddit",m(e)))(n);case e.dS.JOIN:return(e=>b(e,"subscribe",m(e)))(n);case e.dS.OVERFLOW_BUTTON:case e.dS.COMMENTS_BUTTON:case e.dS.VOTE:case e.dS.SHARE:case e.dS.VIDEO_PLAYER:return null;case e.dS.TEXT_BODY:return(e=>b(e,"text",m(e)))(n);default:return(e=>b(e,"post",m(e)))(n)}},a2:t=>e.b({source:l(t),action:"click",noun:"clearvote"},p(t)),a3:t=>e.b({source:l(t),action:"click",noun:"upvote"},{...t.isTranslatable?_({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0}):p(t)}),a4:t=>e.b({source:l(t),action:"click",noun:"vote_try"},m(t)),a5:t=>e.b({source:l(t),action:"click",noun:"downvote"},{...t.isTranslatable?_({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0}):p(t)}),a6:t=>e.b({source:"subreddit_hovercard",action:"view",noun:"hover_subreddit_hovercard"},p(t)),a7:t=>e.b({source:"user_hovercard",action:"view",noun:"hover_user_hovercard"},p(t)),b:"partial-update",c:2e3,d:function(e){return`https://www.redditmedia.com/mediaembed/${e.replace("t3_","")}/`},e:s,f:_,g:m,h:p,i:function(e){return e===o.CommentsPage},j:"flex",k:"max-h-[253px] overflow-hidden s:max-h-[318px] m:max-h-[337px] l:max-h-[352px] xl:max-h-[452px]",l:e=>e.startsWith("t3_"),m:(t,o)=>e.b({source:l(t),action:"view",noun:"post"},f(t,o)),n:e=>b(e,"comments",m(e)),o:function(e){const t=(e?.getAttribute("href")||"").match(h),o=t?.groups?.postId;return o?s(o):""},p:(t,o)=>e.b({source:"translate_button",action:"view",noun:"post"},_({fields:p(t),post:t,postIsTranslated:o,reason:o?"on":"off"})),q:e=>b(e,"view_all_comments",m(e)),r:(t,o)=>e.b({source:u(t),action:"click",noun:"report"},o),s:t=>e.b({source:"ad_overflow",action:"hide",noun:"ad"},t),t:(t,o)=>e.b({source:u(t),action:"click",noun:"overflow_show_less"},o),u:t=>e.b({source:u(t),action:"click",noun:"edit"}),v:t=>e.b({source:u(t),action:"click",noun:"update_post_flair"}),w:t=>e.b({source:u(t),action:"click",noun:"save"}),x:(t,o)=>e.b({source:u(t),action:o?"undo":"click",noun:"follow"}),y:t=>e.b({source:u(t),action:"click",noun:"unpin"}),z:t=>e.b({source:u(t),action:"click",noun:"pin"})}}));
SML.dm("translationinterventionmodal407043a2",["shelle48e5956","iconc33661e6","translationsa30aa3ad","chatmobilexpromoclientjs5e1c145c","appselectorclientjs9964d0b0"],(async(t,e,i)=>{const s=e.s,n="translation-intervention-modal",{I18nPostTranslationOverride:a,I18nCommentTranslationOverride:o}=t.T,l=()=>!!t.l.getItem(t.L.I18nTranslationInterventionShown),r=()=>t.l.setItem(t.L.I18nTranslationInterventionShown,"true");let d=class extends s{constructor(){super(...arguments),this.translationContextValue=t.aw,this.open=!1,this.pubsub=new t.P(this),this.handleTranslationOverride=t=>{t.isContextUpdateEvent||l()||this.open||(this.translationOverrideActive=t.isTranslationActive,this.translationSourceId=t.id,this.show())},this.show=()=>{l()||(this.open=!0,this.modal?.showModal(),r())},this.close=()=>{this.translationOverrideActive=void 0,this.translationSourceId=void 0,this.open&&(this.modal?.close(),this.open=!1,this.dispatchEvent(new CustomEvent("translation-intervention-modal:close",{bubbles:!0,composed:!0})))},this.getThingTelemetryMetadata=()=>({post:"post"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:"mtseo-post"===this.mode?{id:this.translationSourceId}:void 0,comment:"comment"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:void 0}),this.handleDismiss=()=>{t.a(this,i.g({isImmersiveTranslationsActive:!!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),this.close()},this.handleClick=e=>{t.a(this,i.h({actionType:e,isImmersiveTranslationsActive:"keep"===e?!!this.translationContextValue.isTranslationActive:!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),"keep"===e?this.close():this.handleSubmit()},this.handleSubmit=()=>{"mtseo-post"===this.mode&&t.l.setItem(t.L.I18nTranslationInterventionShown,"mtseo-disabled");const e=this.translationOverrideActive;this.dispatchContextUpdateEvent(e),this.close()}}connectedCallback(){super.connectedCallback(),l()||("post"===this.mode&&this.pubsub.subscribe(a,this.handleTranslationOverride,!1),"comment"===this.mode&&this.pubsub.subscribe(o,this.handleTranslationOverride,!1))}disconnectedCallback(){super.disconnectedCallback(),"post"===this.mode&&this.pubsub.unsubscribe(a,this.handleTranslationOverride),"comment"===this.mode&&this.pubsub.unsubscribe(o,this.handleTranslationOverride)}dispatchContextUpdateEvent(e){const i=new CustomEvent("update-translation-context",{bubbles:!0,composed:!0,detail:{...this.translationContextValue,isTranslationActive:e}});this.dispatchEvent(i),this.pubsub.publish(t.T.I18nPostTranslationOverride,{isTranslationActive:e,id:"",isContextUpdateEvent:!0,pageType:"feed"===this.pageType?"FEED":"PDP"})}render(){const i=this.translationOverrideActive?{body:"It looks like you know another language. Would you like all your content automatically translated?",confirmButton:"Continue Without Translations",cancelButton:"Turn On Translations"}:{body:"It looks like you know another language. Would you like to keep automatic translations turned on?",confirmButton:"Continue With Translations",cancelButton:"Turn off Translations"};return e.x` <faceplate-modal blocking ?open="${this.open}" class="${n} w-[350px] m:w-[320px] h-fit z-10"> <div slot="title" class="w-full m:w-fit"> <h3 class="my-0 font-bold inline-flex text-18" data-testid="i18n-modal-title"> Update translations on Reddit </h3> </div> <div slot="closeButton" class="flex items-center"> ${t.r({attributes:{"aria-label":"Close","data-testid":"i18n-modal-close-button",onclick:this.handleDismiss},appearance:"secondary",leadingIcon:e.C({size:e.I.Small}),size:t.s.Small})} </div> <div class="flex flex-col w-full box-border"> <span class="text-16 my-lg text-pretty">${i.body}</span> <div class="flex flex-col w-full items-stretch gap-xs"> ${t.r({appearance:"primary",size:t.s.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-confirm-button",onclick:this.handleClick.bind(this,"keep")},children:e.x`<span class="font-semibold text-14">${i.confirmButton}</span>`})} ${t.r({appearance:"secondary",size:t.s.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-cancel-button",onclick:this.handleClick.bind(this,"change")},children:e.x`<span class="font-semibold text-14">${i.cancelButton}</span>`})} </div> </div> </faceplate-modal> `}};d.styles=[t.t],t._([t.av({context:t.ax,subscribe:!0}),t.d()],d.prototype,"translationContextValue",void 0),t._([t.n({type:String,attribute:"mode"})],d.prototype,"mode",void 0),t._([t.n({type:Boolean,attribute:"open"})],d.prototype,"open",void 0),t._([t.n({type:String,attribute:"page-type"})],d.prototype,"pageType",void 0),t._([t.n({type:Boolean,attribute:"is-immersive-visit"})],d.prototype,"isImmersiveVisit",void 0),t._([t.d()],d.prototype,"translationOverrideActive",void 0),t._([t.d()],d.prototype,"translationSourceId",void 0),t._([t.y(`faceplate-modal.${n}`)],d.prototype,"modal",void 0),d=t._([t.e("translation-intervention-modal")],d)}));
SML.dm("banneduserbannerclientjs81a6c148",["iconc33661e6","shelle48e5956","agegatestandaloneclientjsb13e879d"],(async(n,t,e)=>{const a={plain:"plain",plainInverted:"plainInverted",error:"error",brand:"brand",caution:"caution",success:"success"};let i=class extends n.s{constructor(){super(...arguments),this.multiLine=!1,this.appearance="plain",this.shape="rounded",this.msg="",this.rafId=null,this.onTextContainerResize=(n,t)=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>{if(!(this.actionButtons.length&&this.textContainer&&this.bannerText&&this.actionButtonContainer))return;const e=this.textContainer.getBoundingClientRect().width>this.bannerText.getBoundingClientRect().width+this.actionButtonContainer.getBoundingClientRect().width,a=2.5*t;for(const t of n){const n=t.contentRect.height>=a;this.multiLine&&e&&!n?this.multiLine=!1:!this.multiLine&&n&&(this.multiLine=!0)}}))}}static get styles(){return n.a`:host{display:block}.plain{background:var(--color-banner-plain);color:var(--color-banner-plain-text)}.plainInverted{background:var(--color-banner-plain-inverted);color:var(--color-banner-plain-inverted-text)}.error{background:var(--color-banner-error);color:var(--color-banner-error-text)}.success{background:var(--color-banner-success);color:var(--color-banner-success-text)}.brand{background:var(--color-banner-brand);color:var(--color-banner-brand-text)}.caution{background:var(--color-caution-background);color:var(--color-caution-onBackground)}.first-row{display:flex;justify-content:space-between;align-items:center;flex:1;height:var(--size-banner-height)}.first-row>.trailing-container{display:inline-flex;align-items:center}.first-row>.leading-container{display:inline-flex;align-items:center;flex:1}.icon-container,::slotted([slot=leadingIcon]),slot[name=leadingIcon]{display:inline-flex}.first-row .icon-container{padding-right:var(--spacer-sm)}::slotted([slot=leadingIcon]),slot[name=leadingIcon]{align-items:center}#text-container{flex:1;max-height:${2.5};-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}#banner-text{padding-right:var(--spacer-sm)}::slotted([slot=message]){display:inline}.banner{display:flex;padding-top:var(--spacer-2xs);padding-bottom:var(--spacer-2xs);padding-left:var(--spacer-md);padding-right:var(--spacer-xs);box-shadow:var(--elevation-xs)}.banner.multi-row{flex-direction:column;padding-top:var(--spacer-sm)}:host([shape=rounded]) .banner{border-radius:.75rem}.banner .second-row{margin:var(--spacer-sm) 0;justify-content:flex-end;display:flex}`}firstUpdated(){const n=parseFloat(getComputedStyle(document.documentElement).fontSize);this.resizeObserver=new ResizeObserver((t=>this.onTextContainerResize(t,n))),this.resizeObserver.observe(this.textContainer)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}render(){return n.x`<div role="banner" class="${t.U({banner:!0,"multi-row":this.multiLine,[a[this.appearance]]:this.appearance})}"> <span class="first-row"> <span class="leading-container"> <span class="icon-container"> <slot name="leadingIcon"></slot> </span> <span id="text-container"> <span id="banner-text"> <slot name="message">${this.msg}</slot> </span> </span> </span> <span class="trailing-container"> ${this.multiLine?"":n.x` <span id="action-button-container"> <slot name="actionButtons"></slot></span>`} <slot name="closeButton"></slot> </span> </span> ${this.multiLine?n.x` <div class="second-row"> <span id="action-button-container"> <slot name="actionButtons"></slot> </span> </div>`:void 0}  </div>`}};return i.getCloseButton=e.ap,i.getActionButtons=e.bA,t._([t.d()],i.prototype,"multiLine",void 0),t._([t.n({type:String})],i.prototype,"appearance",void 0),t._([t.n({type:String})],i.prototype,"shape",void 0),t._([t.n({type:String})],i.prototype,"msg",void 0),t._([t.y("#text-container")],i.prototype,"textContainer",void 0),t._([t.y("#banner-text")],i.prototype,"bannerText",void 0),t._([t.y("#action-button-container")],i.prototype,"actionButtonContainer",void 0),t._([t.j({slot:"actionButtons"})],i.prototype,"actionButtons",void 0),i=t._([t.e("faceplate-banner")],i),{get F(){return i}}}));
SML.dm("shredditposttranslatorclientjs4c61b8eb",["shelle48e5956","basetranslatorcd4fc8d8","links22118b0c","iconc33661e6","translationsa30aa3ad","translationfeedbackmodalclientjse1d4812d","translationinterventionmodal407043a2","banneduserbannerclientjs81a6c148","agegatestandaloneclientjsb13e879d","chatmobilexpromoclientjs5e1c145c","faceplatetextareainput29f541e5","textinput9c3f45be","communitypickerf331f77f","constants9e09f052","appselectorclientjs9964d0b0","TinyGesture26737d23"],(async(t,e,s,i,a)=>{const n={get:()=>{if(!t.l.isAvailable())return;const e=t.l.getItem(t.L.I18nPostTranslationBanner);return e?JSON.parse(e):void 0},set:e=>{t.l.isAvailable()&&t.l.setItem(t.L.I18nPostTranslationBanner,JSON.stringify(e))},update:t=>{const e=n.get()||{};n.set({...e,...t})}};let r=class extends i.s{constructor(){super(...arguments),this.isImmersiveVisit=!1,this.isMtSeoVisit=!1,this.translationContextValue=t.aw,this.pubsub=new t.P(this),this.onPostTranslationOverride=t=>{(t.isContextUpdateEvent||"PDP"===t.pageType&&"PDP_BANNER"!==t.source)&&(this.translationOverrideActive=t.isTranslationActive)},this.getIsTranslationActive=()=>"boolean"==typeof this.translationOverrideActive?this.translationOverrideActive:t.ft()||!!this.translationContextValue?.isTranslationActive,this.toggleTranslation=()=>{this.userHasInteracted||(this.userDisplayCount=0,n.update({userDisplayCount:this.userDisplayCount}),this.userHasInteracted=!0);const e=!this.getIsTranslationActive(),s={pageType:"PDP",id:this.postId,isTranslationActive:e,source:"PDP_BANNER"};this.trackClickEvent(),this.pubsub.publish(t.T.I18nPostTranslationOverride,s),this.translationOverrideActive=e},this.handleClose=()=>{this.trackDismissEvent(),this.isDismissedByUser=!0,n.update({isDismissedByUser:this.isDismissedByUser})},this.isEligibleForBanner=()=>{const e=this.variant===t.gB.ALL_AUTOMATIC_BANNER,s=this.variant===t.gB.ALL_MANUAL_BANNER||this.variant===t.gB.ALL_MANUAL_BANNER_INTERVENTION;return!(!e&&!s)&&((!s||!this.isDismissedByUser)&&!(e&&this.userDisplayCount&&this.userDisplayCount>3))}}trackViewEvent(){const e=this.getIsTranslationActive();t.a(this,a.q({post:{id:this.postId},isImmersiveTranslationsActive:!!this.translationContextValue?.isTranslationActive,isPostTranslated:e,isImmersiveVisit:this.isImmersiveVisit,isMtSeoVisit:this.isMtSeoVisit}))}trackClickEvent(){t.a(this,a.r({post:{id:this.postId},isImmersiveTranslationsActive:!!this.translationContextValue?.isTranslationActive,isPostTranslated:this.getIsTranslationActive(),isPostTranslatedAfterClick:!this.getIsTranslationActive(),isImmersiveVisit:this.isImmersiveVisit,isMtSeoVisit:this.isMtSeoVisit}))}trackDismissEvent(){t.a(this,a.s({post:{id:this.postId},isImmersiveTranslationsActive:!!this.translationContextValue?.isTranslationActive,isPostTranslated:this.getIsTranslationActive(),isImmersiveVisit:this.isImmersiveVisit,isMtSeoVisit:this.isMtSeoVisit}))}connectedCallback(){if(super.connectedCallback(),!this.isEligibleForBanner())return;this.trackViewEvent(),this.pubsub.subscribe(t.T.I18nPostTranslationOverride,this.onPostTranslationOverride,!1);const e=n.get();this.userDisplayCount=e?.userDisplayCount??0,this.isDismissedByUser=e?.isDismissedByUser??!1,this.variant===t.gB.ALL_AUTOMATIC_BANNER&&(this.userDisplayCount+=1,n.update({userDisplayCount:this.userDisplayCount}))}disconnectedCallback(){super.disconnectedCallback(),this.pubsub.unsubscribe(t.T.I18nPostTranslationOverride,this.onPostTranslationOverride)}render(){if(!this.isEligibleForBanner())return i.A;const t=this.getIsTranslationActive();return i.x`<div role="banner" aria-labelledby="pdp-post-translation-banner-sr-label" data-testid="pdp-post-translation-banner-container" class="mx-md xs:mx-0 rounded-[12px] bg-neutral-background-container text-secondary-plain h-[40px] px-md flex items-center justify-between gap-sm mt-md -mb-xs"> <div class="flex items-center gap-sm"> ${i.bH({size:i.I.Small,attributes:{"aria-hidden":"true"}})} <span id="pdp-post-translation-banner-sr-label" class="sr-only" aria-live="assertive"> ${t?"Post is translated, original language available":"Post is not translated, translations are available"} </span> <span class="text-12" aria-hidden="true"> ${t?"Translations active":"Translations available"} </span> <button class="bg-transparent border-none p-0 text-primary-plain text-12 cursor-pointer" @click="${this.toggleTranslation}" data-testid="toggle-translation-button"> ${t?"Show original":"Translate"} </button> </div> <button @click="${this.handleClose}" class="bg-transparent p-0 border-0 inline-flex items-center" data-testid="close-banner-button" aria-label="Close"> ${i.C({size:i.I.Small,attributes:{className:"cursor-pointer"}})} </button> </div>`}};r.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"variant"})],r.prototype,"variant",void 0),t._([t.n({type:Boolean,attribute:"is-immersive-visit"})],r.prototype,"isImmersiveVisit",void 0),t._([t.n({type:Boolean,attribute:"is-mt-seo-visit"})],r.prototype,"isMtSeoVisit",void 0),t._([t.av({context:t.ax,subscribe:!0}),t.d()],r.prototype,"translationContextValue",void 0),t._([t.d()],r.prototype,"translationOverrideActive",void 0),t._([t.d()],r.prototype,"userDisplayCount",void 0),t._([t.d()],r.prototype,"userHasInteracted",void 0),t._([t.d()],r.prototype,"isDismissedByUser",void 0),r=t._([t.e("pdp-post-translation-banner")],r);const o="feed",l="pdp";let d=class extends e.B{constructor(){super(...arguments),this.avoidedSeoTranslation=!1,this.translatorType=l,this.isSeoVisit=!1,this.isImmersiveVisit=!1,this.isMtSeoVisit=!1,this.postId="",this.withInterventionModal=!1,this.postOverrides={},this.pubsub=new t.P(this),this.onPostTranslationOverride=t=>{t.isContextUpdateEvent||("PDP"===t.pageType&&this.translatorType===l?(this.postOverrides[t.id]=t.isTranslationActive,this.fetchAndRenderPost(t.isTranslationActive)):"FEED"===t.pageType&&this.translatorType===o&&(this.postOverrides[t.id]=t.isTranslationActive,this.fetchAndRenderFeedPost(t.id,t.isTranslationActive)))},this.onMoreCommentsPostMetrics=()=>{this.submitTranslationMetrics(t.bI.LoadMore)},this.handleMorePostsPartialsLoaded=e=>{if("faceplate-load"!==e.type)return;if(!this.translationContextValue.isTranslationActive)return;if(!("src"in e.detail))return;const s=e.detail.src,i=s.startsWith("/svc/shreddit/feeds/"),a=s.includes("?after=")||s.includes("&after=");i&&a&&this.submitTranslationMetrics(t.bI.Pagination)}}get targetElement(){if(this.target){const t=document.querySelector(this.target);if(t)return t;this.logError({error:`Target element not found: ${this.target}`})}return this}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.I18nPostTranslationOverride,this.onPostTranslationOverride,!1),this.targetElement.addEventListener(t.g4,this.handleTranslationFeedback),this.translatorType===o&&this.targetElement.addEventListener("faceplate-load",this.handleMorePostsPartialsLoaded),this.translatorType===l&&this.pubsub.subscribe(t.T.I18nMoreCommentsPostMetrics,this.onMoreCommentsPostMetrics,!1)}disconnectedCallback(){this.pubsub.unsubscribe(t.T.I18nPostTranslationOverride,this.onPostTranslationOverride),this.targetElement.removeEventListener(t.g4,this.handleTranslationFeedback),this.translatorType===o&&this.targetElement.removeEventListener("faceplate-load",this.handleMorePostsPartialsLoaded),this.translatorType===l&&this.pubsub.unsubscribe(t.T.I18nMoreCommentsPostMetrics,this.onMoreCommentsPostMetrics)}async onTranslationsEnabled(){if(this.translatorType===l){if(this.isSeoVisit&&!this.avoidedSeoTranslation)return this.avoidedSeoTranslation=!0,this.sendPostViewEventForPDP(),void this.submitTranslationMetrics();await this.fetchAndRenderPost(!0)}else await this.fetchAndRenderAllPosts(!0);this.submitTranslationMetrics()}async onTranslationsDisabled(){this.translatorType===l?(this.avoidedSeoTranslation=!0,await this.fetchAndRenderPost(!1)):await this.fetchAndRenderAllPosts(!1),this.submitTranslationMetrics()}getShredditPost(){return this.targetElement.querySelector("shreddit-post")}getAllShredditPosts(){return this.targetElement.querySelectorAll("shreddit-post")}async fetchAndRenderPost(t){let e;const s=this.getPostToFetch(t);if(s&&(e=await this.fetchPost(s,t)),e){this.saveElementsToCache(e,t);const s=this.getShredditPost(),i=s?[s]:[];this.saveDOMPostsToCache(i,t)}this.renderCacheForShredditPosts(t),this.sendPostViewEventForPDP()}async fetchAndRenderFeedPost(t,e){const s=this.targetElement.querySelector(`shreddit-post#${t}`);if(!s)return;const i=[s];if(this.isPostTranslationMissing(s,e)){const s=await this.fetchAllPosts(i,e);s&&s.length>0?this.saveElementsToCache(s,e):this.saveEmptyPostsToCache([t])}this.saveDOMPostsToCache(i,e),this.renderCacheForShredditPosts(e,[t])}async fetchAndRenderAllPosts(t){let e;const s=this.getAllPostsToFetch(t);if(s&&(e=await this.fetchAllPosts(s,t)),e){this.saveElementsToCache(e,t);const s=this.getAllShredditPosts();this.saveDOMPostsToCache(s,t)}this.renderCacheForShredditPosts(!!this.translationContextValue.isTranslationActive)}async fetchPost(e,s){if(!e)return null;const i=s?t.gC.GetTranslation:t.gC.GetOriginal,a=new FormData;a.append("postId",e.id),a.append("translationState",i),e.isTranslatable&&a.append("isTranslatable","true");const n=await this.fetchRequestPartial("/svc/shreddit/translated-post/",{method:t.bu.Post,body:a});return n||this.saveEmptyPostsToCache([e.id]),n}async fetchAllPosts(e,i){const a=e?.map((t=>t.id));if(!a||0===a.length)return null;const n=new FormData;a.forEach((t=>{n.append("postIds[]",t)})),n.append("includeTranslation",i?"true":"false"),n.append("isNewFormat","true");const r=(e&&e[0])?.viewContext||s.P.PopularFeed,o=(e&&e[0])?.viewType||t.al.CardView;if(n.append("feedViewType",o),n.append("postViewContext",r),i){let t=Array.from(e);t=t.filter((t=>t.isTranslatable)),t.forEach((t=>{n.append("isTranslatableIds[]",t.id)}))}const l=await this.fetchRequestPartial("/svc/shreddit/translated-posts/",{method:t.bu.Post,body:n});return l||this.saveEmptyPostsToCache(a),l}getPostToFetch(t){const e=this.getShredditPost();return e?this.isPostTranslationMissing(e,t)?e:null:(this.logError({error:"post not found"}),null)}getAllPostsToFetch(t){const e=this.getAllShredditPosts();if(0===e.length)return this.logError({error:"all posts not found"}),null;const s=[];return e?.forEach((e=>{this.isPostTranslationMissing(e,t)&&s.push(e)})),s}isPostTranslationMissing(t,e){if(t.isTranslatable){const s=this.objectTranslationCache.get(t.id);if(e&&!t.isPostTranslated&&!s?.translatedElement||!e&&t.isPostTranslated&&!s?.originalElement)return!0}return!1}sendPostViewEventForPDP(){const e=this.getShredditPost();e&&t.a(this,s.p(e,e.isPostTranslated))}saveEmptyPostsToCache(t){t.forEach((t=>{this.objectTranslationCache.set(t,{translatedElement:{},originalElement:{}})}))}saveDOMPostsToCache(e,s){e?.forEach((e=>{const i=this.objectTranslationCache.get(e.id)||{},a=s&&i.originalElement||!s&&i.translatedElement,n=s&&e.isPostTranslated||!s&&!e.isPostTranslated;if(a||n)return;const r=e.querySelector('[slot="title"]')?.textContent,o=e.querySelector('[slot="text-body"]')?.innerHTML,l=e.querySelector(`.${t.gD}`)?.src,d=e.querySelector("zoomable-img")?.querySelector(t.bL.IMG)?.src,c=e.querySelector(`.${t.gD}`)?.srcset,h={};r&&(h.title=r),o&&(h.body=o),l&&(h.img=l),d&&(h.imgfullsize=d),c&&(h.imgsrcset=c),s?i.originalElement=h:i.translatedElement=h,this.objectTranslationCache.set(e.id,i)}))}renderCacheForShredditPosts(e,s){const i=(s,i)=>{const a=this.targetElement.querySelector(`shreddit-post#${i}`),n=e?s.translatedElement:s.originalElement;if(!a||!n)return;const r=a.querySelector('[slot="title"]'),o=n.title;r&&o&&(r.textContent=o);const l=a.querySelector('[slot="text-body"]'),d=l?.querySelector(`#${t.gI(i)}`),c=n.body;d&&c&&(d.innerHTML=c);const h=a.querySelector(`.${t.gD}`),p=a.querySelector("zoomable-img")?.querySelector(t.bL.IMG),u=n.img,T=n.imgfullsize,m=n.imgsrcset;u&&h?.setAttribute("src",u),m&&h?.setAttribute("srcset",m),T&&p?.setAttribute("src",T),a.isPostTranslated=e};s?.length?s.forEach((t=>{const e=this.objectTranslationCache.get(t);e&&i(e,t)})):this.objectTranslationCache.forEach(i)}handleTranslationFeedback(e){const s=this.translationContextValue.isTranslationActive,i=this.translatorType===l?this.getShredditPost():this.targetElement.querySelector(`shreddit-post#${e.detail.postId}`),a=this.translatorType===l?i?.id:e.detail.postId,n=i?.querySelector('[slot="title"]'),r=i?.querySelector('[slot="text-body"]'),o=this.shadowRoot?.getElementById(t.dl.ID.FEEDBACK_MODAL);o&&o.show?.({post:{id:a||"",title:n?.textContent?.trim(),body_text:r?.textContent?.trim(),translation_state:s}})}submitTranslationMetrics(t){this.reportMetrics&&(this.translatorType===l&&this.submitTranslationMetricsPdp(t),this.translatorType===o&&this.submitTranslationMetricsFeeds(t))}buildPostMetrics(e){if(!e)return null;const s=this.translationContextValue?.isTranslationActive||!1,i=e?this.objectTranslationCache.get(e?.id):null,a=e.querySelector('[slot="title"')?.textContent||"",n=e.querySelector('[slot="text-body"')?.textContent||"";let r=s?"":a,o=s?a:"",l=s?"":n,d=s?n:"";return i&&(r=i.originalElement?.title||r,o=i.translatedElement?.title||o,l=i.originalElement?.body||l,d=i.translatedElement?.body||d),t.gE({postId:e.id,postType:e.postType||"",translationSetting:s,originalTitle:r,translatedTitle:o,originalBody:l,translatedBody:d,isTitleTranslated:e.isPostTranslated,isBodyTranslated:n?e.isPostBodyTranslated:e.isPostTranslated,isTranslatable:e.isTranslatable})}submitTranslationMetricsPdp(e){if(!this.reportMetrics)return;if(this.translatorType!==l)return;const s=this.targetElement.querySelector("shreddit-post");if(!s)return;const i={},a=this.buildPostMetrics(s);i.scenario=e||this.metricsScenario,i.targetLanguage=s.translationLanguage||"",i.post=a||{},this.dispatchEvent(t.c(t.gF,i))}submitTranslationMetricsFeeds(e){if(!this.reportMetrics)return;if(this.translatorType!==o)return;const s=this.targetElement.querySelectorAll("shreddit-post");if(!s||0===s.length)return;const i={},a=[];let n="";s.forEach((t=>{a.push(this.buildPostMetrics(t)),n=t.translationLanguage??n})),i.scenario=e||this.metricsScenario,i.targetLanguage=n,i.posts=t.gG(a),this.dispatchEvent(t.c(t.gH,i))}render(){return i.x` <pdp-post-translation-banner post-id="${this.postId}" variant="${this.indicatorsVariant}" ?is-immersive-visit="${this.isImmersiveVisit}" ?is-mt-seo-visit="${this.isMtSeoVisit}"></pdp-post-translation-banner> <div><slot></slot></div> ${this.withInterventionModal?i.x`<translation-intervention-modal mode="post" page-type="${this.translatorType}" ?is-immersive-visit="${this.isImmersiveVisit}"></translation-intervention-modal>`:i.A} <translation-feedback-modal id="${t.dl.ID.FEEDBACK_MODAL}"> </translation-feedback-modal> `}};t._([t.n({type:String,attribute:"translator-type"})],d.prototype,"translatorType",void 0),t._([t.n({type:Boolean,attribute:"is-seo-visit"})],d.prototype,"isSeoVisit",void 0),t._([t.n({type:Boolean,attribute:"is-immersive-visit"})],d.prototype,"isImmersiveVisit",void 0),t._([t.n({type:Boolean,attribute:"is-mt-seo-visit"})],d.prototype,"isMtSeoVisit",void 0),t._([t.n({type:String,attribute:"post-id"})],d.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"with-intervention-modal"})],d.prototype,"withInterventionModal",void 0),t._([t.n({type:String,attribute:"indicators-variant"})],d.prototype,"indicatorsVariant",void 0),t._([t.n({type:String})],d.prototype,"target",void 0),t._([t.d()],d.prototype,"postOverrides",void 0),d=t._([t.e("shreddit-post-translator")],d)}));
SML.dm("productdetailsinsightsmentionsfeedpageclientjs4954e8c1",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,t,n)=>{let s=class extends t.s{constructor(){super(...arguments),this.country="",this.cookieDomain="",this._events=new e.E(this),this._onLayoutViewChange=this._events.define("layout-view-change",(t=>{const{selected:s}=t.detail;e.$({country:this.country,name:e.fP,value:n.cp(s)?"true":"false",options:{...e.a0,domain:this.cookieDomain||void 0}})}))}static get styles(){return t.a`:host{display:flex;align-items:center}`}render(){return t.x` <slot></slot>`}};e._([e.n({type:String})],s.prototype,"country",void 0),e._([e.n({type:String,attribute:"cookie-domain"})],s.prototype,"cookieDomain",void 0),s=e._([e.e("shreddit-layout-event-setter")],s)}));

SML.dm("rendersavedresponsetemplatebysubredditidb78cebab",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,t,r)=>{var s;!function(e){e.Error="error",e.Success="success",e.Incomplete="incomplete"}(s||(s={}));const o=n(16);function a(e,t){return e-t/100*e}function n(e){return 2*Math.PI*e}let l=class extends t.s{constructor(){super(...arguments),this.value=0,this.status=s.Incomplete}static get styles(){return t.a`:host{--loader-size-base:var(--rem40);display:inline-block;position:relative}:host([status=incomplete]){color:var(--color-neutral-content,var(--color-tone-1))}:host([status=success]){color:var(--color-success-content,var(--color-alert-positive))}:host([status=error]){color:var(--color-danger-content,var(--color-alert-negative))}svg{height:var(--loader-size,var(--loader-size-base));width:var(--loader-size,var(--loader-size-base));fill:none;stroke-width:8;display:block}.bg{stroke:var(--color-neutral-content-disabled,var(--color-tone-3))}.track{stroke:currentColor;transition:.35s stroke-dashoffset;transform:rotate(-90deg);transform-origin:50% 50%}.icon{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}::slotted([slot=error]),::slotted([slot=success]){display:flex}`}render(){const e=this.status===s.Success;return t.x` <svg viewBox="0 0 40 40" class="loader" xmlns="http://www.w3.org/2000/svg"> <circle class="bg" cx="20" cy="20" r="${16}"></circle> <circle class="track ${this.status}" cx="20" cy="20" r="${16}" stroke-dasharray="${o} ${o}" stroke-dashoffset="${a(o,e?100:this.value)}"></circle> </svg> <div class="icon"> <slot name="${this.status}"></slot> </div> `}};e._([e.n({type:Number})],l.prototype,"value",void 0),e._([e.n({type:String,reflect:!0})],l.prototype,"status",void 0),l=e._([e.e("faceplate-progress")],l);var c=Object.freeze({__proto__:null,get FaceplateProgress(){return l},get ProgressState(){return s},calcCircumference:n,calcStokeDashOffset:a});let i=e.B;return{get f(){return c},r:async function({responseId:t,subredditId:s,contentId:o,modmailVariables:a}){const{data:n,errors:l}=await i({operation:e.O.RenderSavedResponseTemplateBySubredditId,variables:{responseId:t,subredditId:s,...o?{removalVariables:{contentId:o}}:{},...a?{variables:{modmailVariables:a}}:{}}});if(l?.length||"Subreddit"!==n.subredditInfoById?.__typename||!n.subredditInfoById?.moderation?.renderSavedResponseTemplate?.templateValidation?.ok)throw new Error(r.am());return n.subredditInfoById.moderation.renderSavedResponseTemplate.response.markdown}}}));
SML.dm("awards2379b181",["shelle48e5956","agegatestandaloneclientjsb13e879d"],(async(o,n)=>{var e;!function(o){o.Comment="t1",o.Profile="t2",o.Post="t3",o.Message="t4",o.Subreddit="t5",o.Trophy="t6"}(e||(e={}));const r=o=>{const n=o.split("_").shift();return Object.values(e).includes(n)?n:void 0},t=o=>r(o)===e.Comment,i=o=>r(o)===e.Post,a="new_awards";function s({thingId:o,awardId:n,groupId:e,subredditId:r,postId:a,pageType:s,paneName:c,position:d,recipientId:u,isAnonymous:_,hasMessage:l,awardPrice:m,topAwardIconUrl:p,animatedAwardIconUrls:w,reason:f,correlationId:b,postType:g,postScore:h,score:I,numberComments:v,referrerCorrelationId:y}){const k={new_award:{}};return n&&(k.new_award.id=n),e&&(k.new_award.group_id=e),u&&(k.new_award.recipient_id=u),null!=_&&(k.new_award.is_anonymous=_),null!=l&&(k.new_award.has_message=l),void 0!==m&&(k.new_award.listing_price=m),p&&(k.new_award.top_award_icon_url=p),w&&(k.new_award.animated_awards_ids=w),r&&(k.subreddit={id:r}),o&&(i(o)?k.post={id:o,type:g,score:I,number_comments:v}:t(o)&&(k.comment={id:o,score:I},a&&(k.post={id:a,type:g,score:h,number_comments:v}))),(s||c||d||f)&&(k.action_info={...s&&{page_type:s},...c&&{pane_name:c},...d&&{position:d},...f&&{reason:f}}),b&&(k.correlation_id=b),y&&(k.feed={referrer_correlation_id:y}),k}let c=o.B;return{A:()=>o.b({source:"removal_reasons",action:"click",noun:"cancel"}),N:a,get T(){return e},a:t,b:o=>/^award_.+\|t\d_.+$/.test(o),c:function(n){return o.b({source:a,action:"view",noun:"leaderboard_tile"},s(n))},d:s,e:function(n){return o.b({source:a,action:"view",noun:"award_info"},s(n))},f:function(n){return o.b({source:a,action:"click",noun:"overflow_menu"},s(n))},g:function(n){return o.b({source:a,action:"view",noun:"gold_info"},s(n))},h:function(n){return o.b({source:a,action:"view",noun:"leaderboard"},s(n))},i,j:function(n){return o.b({source:a,action:"filter",noun:"leaderboard"},s(n))},k:(n,e)=>o.b({source:"moderator",action:"highlight",noun:"post"},{post:{id:n},...e?{action_info:{page_type:e}}:{}}),l:function(n,e){return o.b({source:a,action:"click",noun:`leaderboard_${e}`},s(n))},m:function(n){return o.b({source:a,action:o.aA.Click,noun:"confirm_award_option"},s(n))},n:function(n){return o.b({source:a,action:o.aA.View,noun:"award_options_sheet"},s(n))},o:function(n){const e=o.im();return o.b({source:a,action:"click",noun:"entry_point"},s({...n,pageType:o.X(),...e&&{referrerCorrelationId:e}}))},p:()=>o.b({source:"post",action:"click",noun:"ignore_reports"}),q:()=>o.b({source:"post",action:"click",noun:"restore_reports"}),r:async function(e){const r={input:e},{data:t,errors:i}=await c({operation:o.O.RemoveHighlightedPost,variables:r});if(i?.length)throw new Error(n.am());const{removeHighlightedPost:a}=t;if(!a?.ok)throw new Error(n.am())},s:function(n){return o.b({source:a,action:o.aA.Click,noun:"award_option"},s(n))},t:()=>o.b({source:"comment",action:"click",noun:"ignore_reports"}),u:(n,e)=>o.b({source:"moderator",action:"unhighlight",noun:"post"},{post:{id:n},...e?{action_info:{page_type:e}}:{}}),v:function(n,{isSuccessful:e}){const r=e?"completed_fe":"failed_fe";return o.b({source:a,action:"award_given",noun:r},s(n))},w:()=>o.b({source:"comment",action:"click",noun:"restore_reports"}),x:r,y:n=>{const{authorId:e,subredditId:r,postId:a,commentId:s,subredditName:c,thingId:d,action:u,noun:_="removal_reasons_flow",type:l,reason:m,isLocked:p,sendAs:w,notificationMethod:f}=n;return o.b({source:"moderator",action:u,noun:_},{user:{id:e},subreddit:{id:r,name:c},post:{id:a??""},comment:{id:s},action_info:{source_name:"removal_reasons",type:l,reason:m},mod_action:{removalreason:{is_locked:p,send_as:w,notify:f}},...d&&i(d)&&{post:{id:d}},...d&&t(d)&&{comment:{id:d}}})},z:(n,e,r)=>o.b({source:"removal_reasons",action:"click",noun:"submit"},{mod_action:{removalreason:n},action_info:{reason:e},subreddit:{id:r?.subredditId},post:{id:r?.postId??""},comment:{id:r?.commentId}})}}));
SML.dm("faceplateformcff507f5",["shelle48e5956","iconc33661e6","communitypickerf331f77f"],(async(t,e,i)=>{function n(t){if(i.i(t)&&(t.checked=t.hasAttribute("checked")),i.e(t))t.formResetCallback&&t.formResetCallback();else if(t instanceof HTMLInputElement)t.value=t.getAttribute("value")||"";else if(t instanceof HTMLTextAreaElement)t.value=t.textContent||"";else if(i.f(t))for(const e of t.options)e.selected=e.hasAttribute("selected");else t instanceof HTMLOutputElement&&(t.value=t.defaultValue)}function s(e){const i={};for(const n of e){const[e,s]=n;if(s instanceof File)throw t.eZ(e);Object.prototype.hasOwnProperty.call(i,e)?Array.isArray(i[e])?i[e].push(s):i[e]=[i[e],s]:i[e]=s}return i}const a=(t,e=0)=>{if(6!==e)return t instanceof HTMLInputElement||t instanceof HTMLButtonElement?t:t?a(t.parentElement,e+1):void 0};function o(e){let i;document.activeElement&&document.activeElement!==document.body&&(i=t.e_(document.activeElement)),!i&&e&&e.target instanceof Element&&(i=function(t){var e;for(const i of null!==(e=t.composedPath())&&void 0!==e?e:[])if((i instanceof HTMLInputElement||i instanceof HTMLButtonElement)&&"submit"===i.type)return i}(e));const n=i instanceof HTMLButtonElement||i instanceof HTMLInputElement;if(i&&e&&!n&&(i=a(i.parentElement)),i)return(i instanceof HTMLInputElement||i instanceof HTMLButtonElement)&&"submit"===i.type?i:void 0}function r(t){return t instanceof HTMLElement&&Object.prototype.hasOwnProperty.call(t.dataset,"faceplateConstraint")}function l(e,i,n){return t.c("faceplate-alert",{level:t.x.error,message:t.f2("Form submission failed"),meta:null==e?void 0:e.toString(),sourceElement:i,cause:n})}const c={[t.bE.UrlEncoded]:t.e$,[t.bE.JSON]:function(t){return JSON.stringify(s(t))},[t.bE.FormData]:t=>t};let d=class extends e.s{constructor(){super(...arguments),this.accept="text/vnd.reddit.partial+html, application/json",this.enctype=t.bE.UrlEncoded,this.action="",this.disabled=!1,this.method=t.bu.Post,this.target="",this.partialMode=t.o.Append,this.novalidate=!1,this.validationTrigger="focusout",this._events=new t.E(this),this.formSubmissionInProgress=!1,this.rulesDidChange=!1,this.focusedInputForValiditySinceLastSubmit=!1,this._shouldRebuildElements=!0,this._elements={},this._validationObserverCount=0,this._asyncInputOperations=0,this.requester=t.f0,this.encoders=c,this._handleInput=this._events.define("input",(()=>{this._shouldRebuildElements=!0})),this._handleFormSubmit=this._events.define("submit",(t=>{const e=t.target;if(!(e&&e instanceof HTMLFormElement))return;t.preventDefault();const i=o(t);this.submit(e.action,void 0,i)})),this._handleClick=this._events.define("click",(t=>{const e=o(t);e&&(t.preventDefault(),this.submit(this.action,void 0,e))})),this._handleFocusIn=this._events.define("focusin",(t=>{if(i.g(t.target)&&r(t.target))if(this.formSubmissionInProgress){const e=this;t.target.addEventListener("input",(function t(i){var n;e.validateElementAgainstRules(i.target)&&(null===(n=i.target)||void 0===n||n.removeEventListener("input",t))}))}else t.target.setCustomValidity("")})),this.configureValidation=()=>this.addEventListener(this.validationTrigger,(t=>{i.g(t.target)&&(r(t.target)&&this.validateElementAgainstRules(t.target),i.F in t.target.constructor&&t.target.syncInputValidity(),this.notifyObservers(t.target))})),this._handleFaceplateAlert=this._events.define("faceplate-alert",(e=>{const{level:i,name:n,message:s}=e.detail;i===t.x.error&&n&&s&&this.invalidateFieldWithMessage(n,s)&&(e.target.remove(),e.stopPropagation())})),this.register=t=>{this.dispatchEvent(new CustomEvent("_faceplate-register-input",{detail:{target:t}}))},this._handleRegister=this._events.define("_faceplate-register-input",(t=>{var e;t.stopImmediatePropagation(),t.detail.register&&(null===(e=t.detail)||void 0===e||e.register(this)),this._shouldRebuildElements=!0;const{target:i}=t.detail;i.syncInputValidity(!1),this.notifyObservers(i)}))}updated(t){t.has("validationTrigger")&&(t.get("validationTrigger")&&this.removeEventListener(t.get("validationTrigger"),this.configureValidation),this.configureValidation())}get canSubmit(){return!(this.disabled||this.formSubmissionInProgress||this._asyncInputOperations>0)}get elements(){if(this._shouldRebuildElements){this._elements={};for(const t of this.recognizedInputs()){const{name:e}=t;if(e)if(e in this._elements){const n=this._elements[e];let s;Array.isArray(n)?(s=n,n.push(t)):(s=[n,t],s.value=i.h(n)&&n.checked?n.value:"",this._elements[e]=s),i.h(t)&&t.checked&&(s.value=t.value)}else this._elements[t.name]=t}this._shouldRebuildElements=!1}return this._elements}static get styles(){return e.a`:host{display:block;margin-bottom:1rem}`}render(){return e.x` <slot></slot> `}addEventListener(t,e,i){super.addEventListener(t,e,i),"_faceplate-validation-change"===t&&(this._validationObserverCount+=1)}removeEventListener(t,e,i){super.removeEventListener(t,e,i),"_faceplate-validation-change"===t&&(this._validationObserverCount-=1)}async disableUntil(t){this._asyncInputOperations+=1;try{await t}finally{this._asyncInputOperations-=1}}notifyObservers(e){if(this._validationObserverCount){const i=t.f1("_faceplate-validation-change",{bubbles:!0,cancelable:!1,composed:!1,detail:{input:e,message:e.validationMessage,name:e.name}});this.dispatchEvent(i)}}invalidateFieldWithMessage(t,e){const n=this.querySelector(`[name="${t}"]`);return!!i.g(n)&&(n.setCustomValidity(e),n.setAttribute("faceplate-dirty",""),this.notifyObservers(n),e&&n.addEventListener("input",(function t(){n.setCustomValidity(""),n.removeEventListener("input",t)})),e&&!this.focusedInputForValiditySinceLastSubmit&&(this.focusedInputForValiditySinceLastSubmit=!0,this.reportFieldValidity(n)),!0)}reportFieldValidity(e){const i=e.reportValidity();if(!i&&null===e.offsetParent){const i=t.c("faceplate-alert",{level:t.x.error,message:t.f2("Validation error on hidden input"),meta:`"${e.name}": ${e.validationMessage}`,sourceElement:this.tagName,cause:"faceplate-form-input-validation-failure"});this.dispatchEvent(i)}return i}get targetElement(){return this.target&&document.querySelector(this.target)||this}get isValid(){let t=!0;const e=o(),n=!(this.novalidate||e&&e.hasAttribute("formnovalidate"));for(const e of this.recognizedInputs())if(i.g(e)){if(e.disabled)continue;if(e.matches(":disabled"))continue;if(n&&(this.validateElementAgainstRules(e),!e.checkValidity())){t=!1;break}}return t}async submit(e=this.action,i,n){var s,a,o,r;if(!this.canSubmit)return;this.formSubmissionInProgress=!0,this.focusedInputForValiditySinceLastSubmit=!1;try{const h=t.c("faceplate-submit");if(this.dispatchEvent(h),h.defaultPrevented)return;const f=this.buildRequest(i,n);if(!f)return;if("dialog"===f.method){const t=this.closest("faceplate-dialog");if(!t)throw new Error("Unable to find parent faceplate-dialog element to close with form submission");return t.close(f.body)}let p=this.enctype;if(n&&n.hasAttribute("formenctype")&&(p=n.getAttribute("formenctype")),"log"===f.method){const t=this.encoders[p];return console.log(t?t(f.body):f.body)}n&&n.hasAttribute("formaction")&&(e=n.getAttribute("formaction"));const m={enctype:p,encoders:this.encoders,credentials:this.credentials};try{for(var c,d=!0,u=t.f3(this.requester(e,f,m));!(s=(c=await u.next()).done);){r=c.value,d=!1;try{const t=r;if("faceplate-error"===t.type){const e=l(t.detail,this.tagName,"faceplate-form-fetch-failure");this.dispatchEvent(e);break}if(this.dispatchEvent(t),"faceplate-response"===t.type){await this.handleResponse(t.detail.response);break}}finally{d=!0}}}catch(t){a={error:t}}finally{try{d||s||!(o=u.return)||await o.call(u)}finally{if(a)throw a.error}}}catch(t){const e=l(t,this.tagName,"faceplate-form-submission-uncaught-error");this.dispatchEvent(e)}finally{return void(this.formSubmissionInProgress=!1)}}validateElementAgainstRules(e){var n;if(!r(e))return!0;if(this.rulesDidChange){const e=t.c("faceplate-form-constraints-changed");this.dispatchEvent(e),this.rulesDidChange=!1}e.setCustomValidity("");const s=i.j.getRegisteredElements(this);if(!s)return!0;const a=null===(n=e.dataset.faceplateConstraint)||void 0===n?void 0:n.split(" ");if(!a||!a.length)return!0;for(const t of a){const i=s.get(t);if(!i){console.warn(`Skipping validation against unknown rule "${t}"`);continue}const n=e.value;if(null!==n&&!i.validate(n))return e.setCustomValidity(i.message),!1}return!0}*elementsIterator(){yield*this.recognizedInputs()}recognizedInputs(){let t=new Set;for(const e of[...this.querySelectorAll("*")].filter(i.g))t.add(e);const e=this.querySelectorAll("output");for(let i=0;i<e.length;i++)t.add(e[i]);const n=i.k.getRegisteredElements(this);return n&&(t=new Set([...t,...n])),t}reset(){for(const t of this.recognizedInputs())n(t)}buildRequest(e,n){const s=new FormData;!n&&arguments.length<3&&(n=o());const a=!(this.novalidate||n&&n.hasAttribute("formnovalidate"));for(const t of this.recognizedInputs())if(i.g(t)){if(t.disabled)continue;if(t.matches(":disabled"))continue;if(a&&(this.validateElementAgainstRules(t),!this.reportFieldValidity(t)))return null;if(i.i(t)&&!t.checked)continue;const{name:e,value:n}=t;if(null===n)continue;if(n instanceof FormData){for(const t of n)s.append(t[0],t[1]);continue}if(!e)continue;if(i.f(t)&&t.multiple)for(const i of t.options)i.selected&&s.append(e,i.value);else if(t instanceof HTMLInputElement&&"file"===t.type){const i=t.files;if(i)for(const t of i)s.append(e,t)}else s.append(e,n)}if(e)for(const t of e)s.append(t.name,t.value);let r=this.method;return n&&(n.name&&n.value&&s.append(n.name,n.value),n.hasAttribute("formmethod")&&(r=t.f4(n.getAttribute("formmethod")))),{body:s,method:r.toLowerCase(),headers:{Accept:this.accept}}}async handleResponse(e){const i=t.dq(e);if("text/vnd.reddit.partial+html"===i){const i=await e.text(),n=this.targetElement;t.aQ(i,n,this.partialMode)}else if("application/json"===i&&e.status>=400){const i=await e.json();if("object"==typeof(n=i)&&n&&Object.prototype.hasOwnProperty.call(n,"title")&&Object.prototype.hasOwnProperty.call(n,"message")){const n=t.c("faceplate-alert",{level:t.x.error,name:i.title,message:t.f2("Form responded with error"),meta:i.message,sourceElement:this.tagName,cause:`faceplate-form-response-error-${e.status}`});this.dispatchEvent(n)}}else"text/html"===i&&e.redirected&&(window.location.href=e.url);var n}};return t._([t.n({type:String})],d.prototype,"accept",void 0),t._([t.n({type:String})],d.prototype,"enctype",void 0),t._([t.n({type:String})],d.prototype,"action",void 0),t._([t.n({type:Boolean,reflect:!0})],d.prototype,"disabled",void 0),t._([t.n({converter:t.f4,reflect:!0})],d.prototype,"method",void 0),t._([t.n({type:String})],d.prototype,"target",void 0),t._([t.n({type:String,attribute:"partial-mode"})],d.prototype,"partialMode",void 0),t._([t.n({type:String})],d.prototype,"novalidate",void 0),t._([t.n({type:String})],d.prototype,"credentials",void 0),t._([t.n({type:String,attribute:"validation-trigger"})],d.prototype,"validationTrigger",void 0),d=t._([t.e("faceplate-form")],d),i.r(d),{get F(){return d},c:s}}));
SML.dm("distinguishedtags1c4757ea",["shelle48e5956"],(async o=>{var e,t,n;!function(o){o.AddRemovalReason="mod-add-removal-reason",o.IgnoreReports="mod-ignore-reports",o.UnignoreReports="mod-unignore-reports",o.Distinguish="mod-distinguish",o.Undistinguish="mod-undistinguish",o.Sticky="mod-sticky",o.Unsticky="mod-unsticky",o.Lock="mod-lock",o.Unlock="mod-unlock",o.ApproveContent="mod-approve-content",o.RemoveContent="mod-remove-content",o.RemoveContentAsSpam="mod-remove-spam-content",o.ConfirmRemoval="mod-confirm-removal",o.RemoveContentMenu="mod-remove-content-menu",o.MarkNsfw="mod-mark-nsfw",o.UnmarkNsfw="mod-unmark-nsfw",o.MarkSpoiler="mod-mark-spoiler",o.UnmarkSpoiler="mod-unmark-spoiler",o.AdjustCrowdControl="mod-adjust-crowd-control",o.OpenEditPostFlairModal="mod-open-edit-post-flair-modal",o.SnoozeReporter="mod-snooze-reporter",o.UnsnoozeReporter="mod-unsnooze-reporter",o.UpdateHighlightedPost="mod-update-highlighted-post",o.RemoveHighlightedPost="mod-remove-highlighted-post",o.ApproveContentOptimistic="mod-approve-content-optimistic",o.RemoveContentOptimistic="mod-remove-content-optimistic",o.ConfirmRemovalOptimistic="mod-confirm-removal-optimistic",o.RemoveContentAsSpamOptimistic="mod-remove-spam-optimistic",o.ShareToModChat="mod-share-to-mod-chat",o.ViewChatThread="view-chat-thread"}(e||(e={})),function(o){o.Distinguish="admin-distinguish",o.Undistinguish="admin-undistinguish"}(t||(t={})),function(o){o.Dismissed="Dismissed",o.Ignored="Ignored",o.Reported="Reported"}(n||(n={}));return{get A(){return t},get M(){return e},get R(){return n},a:()=>"MOD",b:()=>"CO-HOST",c:()=>"OP",d:t=>{switch(t){case o.gL.ApproveComment:case o.gL.ApproveLink:return e.ApproveContent;case o.gL.RemoveComment:case o.gL.RemoveLink:return e.RemoveContent;case o.gL.SpamComment:case o.gL.SpamLink:return e.RemoveContentAsSpam;case o.gL.AddRemovalReason:return e.AddRemovalReason;default:return e.ApproveContent}},g:()=>"ADMIN"}}));
SML.dm("comment5b02ad76",["distinguishedtags1c4757ea"],(async i=>{var e;!function(i){i.addRemovalReason="add_removal_reason",i.distinguishAsMod="distinguish_as_mod",i.distinguishAsAdmin="distinguish_as_admin",i.sticky="sticky",i.lock="lock",i.approve="approve",i.remove="remove",i.removeAsSpam="remove_as_spam",i.confirmRemoval="confirm_removal",i.approveOptimistic="approve_optimistic",i.removeOptimistic="remove_optimistic",i.removeAsSpamOptimistic="remove_as_spam_optimistic",i.confirmRemovalOptimistic="confirm_removal_optimistic",i.ignoreReports="ignore_reports",i.edit="edit",i.snoozeReporter="snooze_reporter",i.unsnoozeReporter="unsnooze_reporter"}(e||(e={}));const o={[i.M.Distinguish]:e.distinguishAsMod,[i.M.Undistinguish]:e.distinguishAsMod,[i.M.Lock]:e.lock,[i.M.Unlock]:e.lock,[i.M.Sticky]:e.sticky,[i.M.Unsticky]:e.sticky,[i.M.AddRemovalReason]:e.addRemovalReason,[i.M.ApproveContent]:e.approve,[i.M.RemoveContent]:e.remove,[i.M.RemoveContentAsSpam]:e.removeAsSpam,[i.M.ConfirmRemoval]:e.confirmRemoval,[i.M.IgnoreReports]:e.ignoreReports,[i.M.UnignoreReports]:e.ignoreReports,[i.M.SnoozeReporter]:e.snoozeReporter,[i.M.UnsnoozeReporter]:e.unsnoozeReporter,[i.A.Distinguish]:e.distinguishAsAdmin,[i.A.Undistinguish]:e.distinguishAsAdmin,[i.M.ApproveContentOptimistic]:e.approveOptimistic,[i.M.RemoveContentOptimistic]:e.removeOptimistic,[i.M.RemoveContentAsSpamOptimistic]:e.removeAsSpamOptimistic,[i.M.ConfirmRemovalOptimistic]:e.confirmRemovalOptimistic};var t,s;return function(i){i.Preview="preview",i.Pdp="pdp"}(t||(t={})),function(i){i.CommentPreviewUnit="CommentPreviewUnit",i.CommentTree="CommentTree"}(s||(s={})),{get C(){return e},S:o}}));
SML.dm("overflowmenuactionsf8d12b95",["distinguishedtags1c4757ea","shelle48e5956"],(async(t,e)=>{var o;!function(t){t.follow="follow",t.hide="hide",t.save="save",t.delete="delete",t.markAsSpoiler="mark_as_spoiler",t.markAsNsfw="mark_as_nsfw",t.markAsCommercialCommunication="mark_as_commercial_communication",t.distinguishAsMod="distinguish_as_mod",t.distinguishAsAdmin="distinguish_as_admin",t.updatePostFlair="update_post_flair",t.lock="lock",t.sticky="sticky",t.addRemovalReason="add_removal_reason",t.edit="edit",t.updateContent="update_content",t.updatePostBodyPending="update_post_body_pending",t.approve="approve",t.remove="remove",t.removeAsSpam="remove_as_spam",t.ignoreReports="ignore_reports",t.confirmRemoval="confirm_removal",t.updateSendReplies="update_send_replies",t.snoozeReporter="snooze_reporter",t.unsnoozeReporter="unsnooze_reporter",t.updateHighlightedPost="update_highlighted_post",t.approveOptimistic="approve_optimistic",t.removeOptimistic="remove_optimistic",t.removeAsSpamOptimistic="remove_as_spam_optimistic",t.confirmRemovalOptimistic="confirm_removal_optimistic",t.shareToModChat="share_to_mod_chat"}(o||(o={}));const i={isPostFollowed:o.follow,isPostHidden:o.hide,isPostSaved:o.save,isPostSpoiler:o.markAsSpoiler,isPostNsfw:o.markAsNsfw,isPostCommercialCommunication:o.markAsCommercialCommunication,isPostDistinguishedAsAdmin:o.distinguishAsAdmin,isPostStickied:void 0,isReceivingPostReplies:o.updateSendReplies,[t.M.Distinguish]:o.distinguishAsMod,[t.M.Undistinguish]:o.distinguishAsMod,[t.M.Lock]:o.lock,[t.M.Unlock]:o.lock,[t.M.Sticky]:o.sticky,[t.M.Unsticky]:o.sticky,[t.M.AddRemovalReason]:o.addRemovalReason,[t.M.ApproveContent]:o.approve,[t.M.RemoveContent]:o.remove,[t.M.RemoveContentAsSpam]:o.removeAsSpam,[t.M.ConfirmRemoval]:o.confirmRemoval,[t.M.IgnoreReports]:o.ignoreReports,[t.M.UnignoreReports]:o.ignoreReports,[t.M.SnoozeReporter]:o.snoozeReporter,[t.M.UnsnoozeReporter]:o.unsnoozeReporter,[t.M.RemoveHighlightedPost]:o.updateHighlightedPost,[t.A.Distinguish]:o.distinguishAsAdmin,[t.A.Undistinguish]:o.distinguishAsAdmin,[t.M.ApproveContentOptimistic]:o.approveOptimistic,[t.M.RemoveContentOptimistic]:o.removeOptimistic,[t.M.RemoveContentAsSpamOptimistic]:o.removeAsSpamOptimistic,[t.M.ConfirmRemovalOptimistic]:o.confirmRemovalOptimistic};o.hide,o.markAsSpoiler,o.markAsNsfw,o.markAsCommercialCommunication;var r;!function(t){t[t.Follow=5]="Follow",t[t.Edit=10]="Edit",t[t.Report=20]="Report",t[t.Save=30]="Save",t[t.TranslationSetting=35]="TranslationSetting",t[t.TranslationFeedback=40]="TranslationFeedback",t[t.Delete=70]="Delete",t[t.AdminDistinguish=80]="AdminDistinguish",t[t.BrandAffiliate=90]="BrandAffiliate",t[t.Notifs=100]="Notifs",t[t.Reply=110]="Reply",t[t.Award=120]="Award",t[t.Insights=130]="Insights",t[t.ShareAsPost=140]="ShareAsPost"}(r||(r={}));const s="429";function a(t){return t?.[0]?.message??"Something went wrong"}return{get C(){return r},E:"post__click_unrsvp",P:["isPostFollowed","isPostHidden","isPostSaved","isPostSpoiler","isPostNsfw","isPostCommercialCommunication","isPostDistinguishedAsAdmin","isPostStickied","isReceivingPostReplies"],R:s,S:i,get a(){return o},b:"post__click_rsvp",c:"edit",d:async function(t){const o={input:t},{data:i,errors:r}=await e.B({operation:e.O.DeletePost,variables:o});if(r?.length)throw new Error(a(r));const{deletePost:s}=i;if(!s?.ok)throw new Error(a(s?.errors))},e:"overflow__click_comments",f:"overflow__click_share",g:async function(t,o){const i={input:{postId:t,saveState:o?e.hq.None:e.hq.Saved}},{data:r,errors:s}=await e.B({operation:e.O.UpdatePostSaveState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostSaveState?.ok)return!o;throw new Error(a(r?.updatePostSaveState?.errors))},h:async function(t,o){const i={input:{postId:t,followState:o?e.hr.Unfollowed:e.hr.Followed}},{data:r,errors:s}=await e.B({operation:e.O.UpdatePostFollowState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostFollowState?.ok)return!o;throw new Error(a(r?.updatePostFollowState?.errors))},i:async function(t,o){const i={input:{postId:t,distinguishState:o?e.eW.None:e.eW.Distinguished,distinguishType:o?e.eU.None:e.eU.AdminDistinguished}},{data:r,errors:s}=await e.B({operation:e.O.UpdatePostDistinguishedState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostDistinguishState?.ok)return r.updatePostDistinguishState.distinguishType===e.eU.AdminDistinguished;throw new Error(a(r?.updatePostDistinguishState?.errors))},j:async function(t,o){const i={input:{postId:t,spoilerState:o?e.ho.None:e.ho.Spoiler}},{data:r,errors:s}=await e.B({operation:e.O.UpdatePostSpoilerState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostSpoilerState?.ok)return r.updatePostSpoilerState.spoilerState===e.ho.Spoiler;throw new Error(a(r?.updatePostSpoilerState?.errors))},k:async function(t,o){const i={input:{postId:t,nsfwState:o?e.hp.None:e.hp.Nsfw}},{data:r,errors:s}=await e.B({operation:e.O.UpdatePostNsfwState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostNsfwState?.ok)return r.updatePostNsfwState.nsfwState===e.hp.Nsfw;throw new Error(a(r?.updatePostNsfwState?.errors))},l:async function(t,o){const i={input:{thingId:t,commercialCommunicationState:!o}},{data:r,errors:s}=await e.B({operation:e.O.UpdateCommercialCommunicationState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updateCommercialCommunicationState?.ok)return!o;throw new Error(a(r?.updateCommercialCommunicationState?.errors))},m:async function(t,o){const i={postId:t,sendRepliesState:o?e.fJ.DoNotSend:e.fJ.Send},{data:r,errors:s}=await e.B({operation:e.O.UpdatePostSendRepliesState,variables:{input:i}});if(s?.length)throw new Error(a(s));if(r?.updatePostSendRepliesState?.ok)return r.updatePostSendRepliesState?.sendRepliesState===e.fJ.Send;throw new Error(a(r?.updatePostSendRepliesState?.errors))},n:async function(t,o){const i={input:{postId:t,hideState:o?e.hn.None:e.hn.Hidden}},{data:r,errors:s}=await e.B({operation:e.O.UpdatePostHideState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostHideState?.ok)return r.updatePostHideState.hideState===e.hn.Hidden;throw new Error(a(r?.updatePostHideState?.errors))},o:async function(t){const o={input:t},{data:i,errors:r}=await e.B({operation:e.O.UpdatePostStickyState,variables:o});if(r?.length)throw new Error(a(r));if(!i?.updatePostStickyState?.ok)throw new Error(a(i?.updatePostStickyState?.errors))},u:async function(t){const o={input:t},{data:i,errors:r}=await e.B({operation:e.O.UpdateAdHideState,variables:o});if(r?.length)throw new Error(a(r));if(i?.updateAdHideState?.ok)return i.updateAdHideState.hideState===e.hn.Hidden;if(i?.updateAdHideState?.errors&&(i?.updateAdHideState?.errors[0]).code===s)throw new Error(s);throw new Error(a(i?.updateAdHideState?.errors))}}}));
SML.dm("rplfilterchip3ad19f7c",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(r,e,o)=>{var l=e.a`${r.V}button{background:0 0;color:inherit;border:none;padding:0;margin:inherit;font:inherit;cursor:pointer;outline:inherit;display:inherit;width:inherit;height:inherit}`;class t extends r.Q{constructor(){super(...arguments),this.disabled=!1,this.selected=!1}renderLeadingContent(){return e.x`<slot name="leading"></slot> `}renderTrailingContent(){return e.x`<slot name="trailing"></slot> `}render(){return e.x`<button ?disabled="${this.disabled}" aria-pressed="${this.selected}"> ${this.renderLeadingContent()} <slot></slot> ${this.renderTrailingContent()} </button>`}}t.styles=l,r._([r.n({type:Boolean})],t.prototype,"disabled",void 0),r._([r.n({type:Boolean,reflect:!0})],t.prototype,"selected",void 0);var i=e.a`${r.V}:host{display:inline-flex;border:1px solid transparent;cursor:pointer}.container{display:inherit;align-items:center}slot:not([name]){display:inline-flex;line-height:var(--rem16);font-size:var(--rem12)}`;class a extends t{}a.styles=[t.styles,i];var c=e.a`${r.V}::slotted([slot=leading]),[icon-name=checkmark-fill]{display:inline-flex;margin-right:var(--spacer-xs)}button{padding:calc(var(--spacer-xs) - var(--rem1))}:host([appearance=bordered]){--rpl-filter-chip-border-color:var(--color-neutral-border);--rpl-filter-chip-text-color:var(--color-secondary-plain);--rpl-filter-chip-disabled-background-color:var(--color-interactive-content-disabled);--rpl-filter-chip-disabled-text-color:var(--color-interactive-content-disabled);--rpl-filter-chip-disabled-border-color:var(--color-neutral-border-weak);--rpl-filter-chip-selected-background-color:var(--color-secondary-background-selected);--rpl-filter-chip-selected-border-color:var(--color-neutral-border);--rpl-filter-chip-hover-background-color:var(--color-secondary-background-hover)}:host([appearance=media]){--rpl-filter-chip-border-color:var(--color-media-border-weak);--rpl-filter-chip-background-color:var(--color-media-background);--rpl-filter-chip-text-color:var(--color-media-onbackground);--rpl-filter-chip-disabled-text-color:var(--color-media-onbackground-disabled);--rpl-filter-chip-disabled-background-color:var(--color-media-background);--rpl-filter-chip-disabled-border-color:var(--color-media-border-weak);--rpl-filter-chip-hover-background-color:var(--color-media-background-hover);--rpl-filter-chip-selected-background-color:var(--color-media-background-selected);--rpl-filter-chip-selected-border-color:var(--color-media-border-selected)}:host{border:1px solid var(--rpl-filter-chip-border-color);color:var(--rpl-filter-chip-text-color);background:var(--rpl-filter-chip-background-color);border-radius:var(--rem8);font-weight:600}:host(.hover:not([disabled])),:host(:hover:not([disabled])){background:var(--rpl-filter-chip-hover-background-color)}:host([selected]){--rpl-filter-chip-background-color:var(--rpl-filter-chip-selected-background-color);--rpl-filter-chip-border-color:var(--rpl-filter-chip-selected-border-color)}:host([disabled]){--rpl-filter-chip-background-color:var(--rpl-filter-chip-disabled-background-color);--rpl-filter-chip-border-color:var(--rpl-filter-chip-disabled-border-color);--rpl-filter-chip-text-color:var(--rpl-filter-chip-disabled-text-color)}`;const d="bordered";let n=class extends a{constructor(){super(...arguments),this.appearance=d}static get styles(){return[a.styles,c]}renderLeadingContent(){return this.selected?o.L({size:"sm"}):super.renderLeadingContent()}};r._([r.n({type:String})],n.prototype,"appearance",void 0),n=r._([r.e("rpl-filter-chip")],n)}));
SML.dm("utils93db03dd",["shelle48e5956","iconc33661e6"],(async(t,e)=>{const o=Math.min,n=Math.max,i=Math.round,r=Math.floor,a=t=>({x:t,y:t}),s={left:"right",right:"left",bottom:"top",top:"bottom"},l={start:"end",end:"start"};function c(t,e,i){return n(t,o(e,i))}function p(t,e){return"function"==typeof t?t(e):t}function f(t){return t.split("-")[0]}function d(t){return t.split("-")[1]}function u(t){return"x"===t?"y":"x"}function h(t){return"y"===t?"height":"width"}function m(t){return["top","bottom"].includes(f(t))?"y":"x"}function y(t){return u(m(t))}function g(t){return t.replace(/start|end/g,(t=>l[t]))}function b(t){return t.replace(/left|right|bottom|top/g,(t=>s[t]))}function v(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function w(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function x(t,e,o){let{reference:n,floating:i}=t;const r=m(e),a=y(e),s=h(a),l=f(e),c="y"===r,p=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2,g=n[s]/2-i[s]/2;let b;switch(l){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:u};break;case"left":b={x:n.x-i.width,y:u};break;default:b={x:n.x,y:n.y}}switch(d(e)){case"start":b[a]-=g*(o&&c?-1:1);break;case"end":b[a]+=g*(o&&c?-1:1)}return b}async function P(t,e){var o;void 0===e&&(e={});const{x:n,y:i,platform:r,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:u=!1,padding:h=0}=p(e,t),m=v(h),y=s[u?"floating"===d?"reference":"floating":d],g=w(await r.getClippingRect({element:null==(o=await(null==r.isElement?void 0:r.isElement(y)))||o?y:y.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:l})),b="floating"===d?{...a.floating,x:n,y:i}:a.reference,x=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s.floating)),P=await(null==r.isElement?void 0:r.isElement(x))&&await(null==r.getScale?void 0:r.getScale(x))||{x:1,y:1},E=w(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:x,strategy:l}):b);return{top:(g.top-E.top+m.top)/P.y,bottom:(E.bottom-g.bottom+m.bottom)/P.y,left:(g.left-E.left+m.left)/P.x,right:(E.right-g.right+m.right)/P.x}}const E=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...S}=p(t,e);if(null!=(o=r.arrow)&&o.alignmentOffset)return{};const R=f(i),T=f(s)===s,A=await(null==l.isRTL?void 0:l.isRTL(c.floating)),L=v||(T||!E?[b(s)]:function(t){const e=b(t);return[g(t),e,g(e)]}(s));v||"none"===x||L.push(...function(t,e,o,n){const i=d(t);let r=function(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:a;default:return[]}}(f(t),"start"===o,n);return i&&(r=r.map((t=>t+"-"+i)),e&&(r=r.concat(r.map(g)))),r}(s,E,x,A));const z=[s,...L],O=await P(e,S),_=[];let $=(null==(n=r.flip)?void 0:n.overflows)||[];if(u&&_.push(O[R]),m){const t=function(t,e,o){void 0===o&&(o=!1);const n=d(t),i=y(t),r=h(i);let a="x"===i?n===(o?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=b(a)),[a,b(a)]}(i,a,A);_.push(O[t[0]],O[t[1]])}if($=[...$,{placement:i,overflows:_}],!_.every((t=>t<=0))){var k,C;const t=((null==(k=r.flip)?void 0:k.index)||0)+1,e=z[t];if(e)return{data:{index:t,overflows:$},reset:{placement:e}};let o=null==(C=$.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:C.placement;if(!o)switch(w){case"bestFit":{var B;const t=null==(B=$.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:B[0];t&&(o=t);break}case"initialPlacement":o=s}if(i!==o)return{reset:{placement:o}}}return{}}}};const S=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:a,middlewareData:s}=e,l=await async function(t,e){const{placement:o,platform:n,elements:i}=t,r=await(null==n.isRTL?void 0:n.isRTL(i.floating)),a=f(o),s=d(o),l="y"===m(o),c=["left","top"].includes(a)?-1:1,u=r&&l?-1:1,h=p(e,t);let{mainAxis:y,crossAxis:g,alignmentAxis:b}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return s&&"number"==typeof b&&(g="end"===s?-1*b:b),l?{x:g*u,y:y*c}:{x:y*c,y:g*u}}(e,t);return a===(null==(o=s.offset)?void 0:o.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:a}}}}},R=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:i,rects:r,platform:a,elements:s}=e,{apply:l=()=>{},...c}=p(t,e),u=await P(e,c),h=f(i),y=d(i),g="y"===m(i),{width:b,height:v}=r.floating;let w,x;"top"===h||"bottom"===h?(w=h,x=y===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(x=h,w="end"===y?"top":"bottom");const E=v-u[w],S=b-u[x],R=!e.middlewareData.shift;let T=E,A=S;if(g){const t=b-u.left-u.right;A=y||R?o(S,t):t}else{const t=v-u.top-u.bottom;T=y||R?o(E,t):t}if(R&&!y){const t=n(u.left,0),e=n(u.right,0),o=n(u.top,0),i=n(u.bottom,0);g?A=b-2*(0!==t||0!==e?t+e:n(u.left,u.right)):T=v-2*(0!==o||0!==i?o+i:n(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:T});const L=await a.getDimensions(s.floating);return b!==L.width||v!==L.height?{reset:{rects:!0}}:{}}}};function T(t){return z(t)?(t.nodeName||"").toLowerCase():"#document"}function A(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function L(t){var e;return null==(e=(z(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function z(t){return t instanceof Node||t instanceof A(t).Node}function O(t){return t instanceof Element||t instanceof A(t).Element}function _(t){return t instanceof HTMLElement||t instanceof A(t).HTMLElement}function $(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof A(t).ShadowRoot)}function k(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=F(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function C(t){return["table","td","th"].includes(T(t))}function B(t){const e=D(),o=F(t);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function D(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function N(t){return["html","body","#document"].includes(T(t))}function F(t){return A(t).getComputedStyle(t)}function I(t){return O(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function H(t){if("html"===T(t))return t;const e=t.assignedSlot||t.parentNode||$(t)&&t.host||L(t);return $(e)?e.host:e}function M(t){const e=H(t);return N(e)?t.ownerDocument?t.ownerDocument.body:t.body:_(e)&&k(e)?e:M(e)}function W(t,e,o){var n;void 0===e&&(e=[]),void 0===o&&(o=!0);const i=M(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),a=A(i);return r?e.concat(a,a.visualViewport||[],k(i)?i:[],a.frameElement&&o?W(a.frameElement):[]):e.concat(i,W(i,[],o))}function V(t){const e=F(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=_(t),a=r?t.offsetWidth:o,s=r?t.offsetHeight:n,l=i(o)!==a||i(n)!==s;return l&&(o=a,n=s),{width:o,height:n,$:l}}function j(t){return O(t)?t:t.contextElement}function q(t){const e=j(t);if(!_(e))return a(1);const o=e.getBoundingClientRect(),{width:n,height:r,$:s}=V(e);let l=(s?i(o.width):o.width)/n,c=(s?i(o.height):o.height)/r;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const U=a(0);function Y(t){const e=A(t);return D()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:U}function X(t,e,o,n){void 0===e&&(e=!1),void 0===o&&(o=!1);const i=t.getBoundingClientRect(),r=j(t);let s=a(1);e&&(n?O(n)&&(s=q(n)):s=q(t));const l=function(t,e,o){return void 0===e&&(e=!1),!(!o||e&&o!==A(t))&&e}(r,o,n)?Y(r):a(0);let c=(i.left+l.x)/s.x,p=(i.top+l.y)/s.y,f=i.width/s.x,d=i.height/s.y;if(r){const t=A(r),e=n&&O(n)?A(n):n;let o=t.frameElement;for(;o&&n&&e!==t;){const t=q(o),e=o.getBoundingClientRect(),n=F(o),i=e.left+(o.clientLeft+parseFloat(n.paddingLeft))*t.x,r=e.top+(o.clientTop+parseFloat(n.paddingTop))*t.y;c*=t.x,p*=t.y,f*=t.x,d*=t.y,c+=i,p+=r,o=A(o).frameElement}}return w({width:f,height:d,x:c,y:p})}function J(t){return X(L(t)).left+I(t).scrollLeft}function Q(t,e,o){let i;if("viewport"===e)i=function(t,e){const o=A(t),n=L(t),i=o.visualViewport;let r=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){r=i.width,a=i.height;const t=D();(!t||t&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:s,y:l}}(t,o);else if("document"===e)i=function(t){const e=L(t),o=I(t),i=t.ownerDocument.body,r=n(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=n(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-o.scrollLeft+J(t);const l=-o.scrollTop;return"rtl"===F(i).direction&&(s+=n(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:l}}(L(t));else if(O(e))i=function(t,e){const o=X(t,!0,"fixed"===e),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=_(t)?q(t):a(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:n*r.y}}(e,o);else{const o=Y(t);i={...e,x:e.x-o.x,y:e.y-o.y}}return w(i)}function G(t,e){const o=H(t);return!(o===e||!O(o)||N(o))&&("fixed"===F(o).position||G(o,e))}function K(t,e,o){const n=_(e),i=L(e),r="fixed"===o,s=X(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const c=a(0);if(n||!n&&!r)if(("body"!==T(e)||k(i))&&(l=I(e)),n){const t=X(e,!0,r,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else i&&(c.x=J(i));return{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function Z(t,e){return _(t)&&"fixed"!==F(t).position?e?e(t):t.offsetParent:null}function tt(t,e){const o=A(t);if(!_(t))return o;let n=Z(t,e);for(;n&&C(n)&&"static"===F(n).position;)n=Z(n,e);return n&&("html"===T(n)||"body"===T(n)&&"static"===F(n).position&&!B(n))?o:n||function(t){let e=H(t);for(;_(e)&&!N(e);){if(B(e))return e;e=H(e)}return null}(t)||o}const et={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const i=_(o),r=L(o);if(o===r)return e;let s={scrollLeft:0,scrollTop:0},l=a(1);const c=a(0);if((i||!i&&"fixed"!==n)&&(("body"!==T(o)||k(r))&&(s=I(o)),_(o))){const t=X(o);l=q(o),c.x=t.x+o.clientLeft,c.y=t.y+o.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-s.scrollLeft*l.x+c.x,y:e.y*l.y-s.scrollTop*l.y+c.y}},getDocumentElement:L,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:r,strategy:a}=t;const s=[..."clippingAncestors"===i?function(t,e){const o=e.get(t);if(o)return o;let n=W(t,[],!1).filter((t=>O(t)&&"body"!==T(t))),i=null;const r="fixed"===F(t).position;let a=r?H(t):t;for(;O(a)&&!N(a);){const e=F(a),o=B(a);o||"fixed"!==e.position||(i=null),(r?!o&&!i:!o&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||k(a)&&!o&&G(t,a))?n=n.filter((t=>t!==a)):i=e,a=H(a)}return e.set(t,n),n}(e,this._c):[].concat(i),r],l=s[0],c=s.reduce(((t,i)=>{const r=Q(e,i,a);return t.top=n(r.top,t.top),t.right=o(r.right,t.right),t.bottom=o(r.bottom,t.bottom),t.left=n(r.left,t.left),t}),Q(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:tt,getElementRects:async function(t){let{reference:e,floating:o,strategy:n}=t;const i=this.getOffsetParent||tt,r=this.getDimensions;return{reference:K(e,await i(o),n),floating:{x:0,y:0,...await r(o)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return V(t)},getScale:q,isElement:O,isRTL:function(t){return"rtl"===F(t).direction}};function ot(t,e,i,a){void 0===a&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:p="function"==typeof IntersectionObserver,animationFrame:f=!1}=a,d=j(t),u=s||l?[...d?W(d):[],...W(e)]:[];u.forEach((t=>{s&&t.addEventListener("scroll",i,{passive:!0}),l&&t.addEventListener("resize",i)}));const h=d&&p?function(t,e){let i,a=null;const s=L(t);function l(){clearTimeout(i),a&&a.disconnect(),a=null}return function c(p,f){void 0===p&&(p=!1),void 0===f&&(f=1),l();const{left:d,top:u,width:h,height:m}=t.getBoundingClientRect();if(p||e(),!h||!m)return;const y={rootMargin:-r(u)+"px "+-r(s.clientWidth-(d+h))+"px "+-r(s.clientHeight-(u+m))+"px "+-r(d)+"px",threshold:n(0,o(1,f))||1};let g=!0;function b(t){const e=t[0].intersectionRatio;if(e!==f){if(!g)return c();e?c(!1,e):i=setTimeout((()=>{c(!1,1e-7)}),100)}g=!1}try{a=new IntersectionObserver(b,{...y,root:s.ownerDocument})}catch(t){a=new IntersectionObserver(b,y)}a.observe(t)}(!0),l}(d,i):null;let m,y=-1,g=null;c&&(g=new ResizeObserver((t=>{let[o]=t;o&&o.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{g&&g.observe(e)}))),i()})),d&&!f&&g.observe(d),g.observe(e));let b=f?X(t):null;return f&&function e(){const o=X(t);!b||o.x===b.x&&o.y===b.y&&o.width===b.width&&o.height===b.height||i();b=o,m=requestAnimationFrame(e)}(),i(),()=>{u.forEach((t=>{s&&t.removeEventListener("scroll",i),l&&t.removeEventListener("resize",i)})),h&&h(),g&&g.disconnect(),g=null,f&&cancelAnimationFrame(m)}}const nt=(t,e,o)=>{const n=new Map,i={platform:et,...o},r={...i.platform,_c:n};return(async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:a}=o,s=r.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:f}=x(c,n,l),d=n,u={},h=0;for(let o=0;o<s.length;o++){const{name:r,fn:m}=s[o],{x:y,y:g,data:b,reset:v}=await m({x:p,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:u,rects:c,platform:a,elements:{reference:t,floating:e}});p=null!=y?y:p,f=null!=g?g:f,u={...u,[r]:{...u[r],...b}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(d=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:t,floating:e,strategy:i}):v.rects),({x:p,y:f}=x(c,d,l))),o=-1)}return{x:p,y:f,placement:d,strategy:i,middlewareData:u}})(t,e,{...i,platform:r})};function it(t){return function(t){for(let e=t;e;e=rt(e))if(e instanceof Element&&"none"===getComputedStyle(e).display)return null;for(let e=rt(t);e;e=rt(e)){if(!(e instanceof Element))continue;const t=getComputedStyle(e);if("contents"!==t.display){if("static"!==t.position||"none"!==t.filter)return e;if("BODY"===e.tagName)return e}}return null}(t)}function rt(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}var at=e.a`${t.V}:host{--arrow-color:var(--color-neutral-background-strong);--arrow-size:6px;--arrow-size-diagonal:calc(var(--arrow-size) * 0.7071);--arrow-padding-offset:calc(var(--arrow-size-diagonal) - var(--arrow-size));display:contents}.popup{position:absolute;isolation:isolate;max-width:var(--auto-size-available-width,none);max-height:var(--auto-size-available-height,none)}.popup--fixed{position:fixed}.popup:not(.popup--active){display:none}.popup--arrow{position:absolute;width:calc(var(--arrow-size-diagonal) * 2);height:calc(var(--arrow-size-diagonal) * 2);rotate:45deg;background:var(--arrow-color)}.popup-safe-area:not(.popup-safe-area--visible){display:none}.popup-safe-area{position:fixed;z-index:calc(var(--faceplate-tooltip-z-index,1) - 1);top:0;right:0;bottom:0;left:0;clip-path:polygon(var(--safe-area-top-left-x,0) var(--safe-area-top-left-y,0),var(--safe-area-top-right-x,0) var(--safe-area-top-right-y,0),var(--safe-area-bottom-right-x,0) var(--safe-area-bottom-right-y,0),var(--safe-area-bottom-left-x,0) var(--safe-area-bottom-left-y,0))}`;const st={Top:"top",TopStart:"top-start",TopEnd:"top-end",Bottom:"bottom",BottomStart:"bottom-start",BottomEnd:"bottom-end",Right:"right",RightStart:"right-start",RightEnd:"right-end",Left:"left",LeftStart:"left-start",LeftEnd:"left-end"},lt="anchor";class ct extends t.Q{constructor(){super(...arguments),this.anchorEl=null,this.active=!1,this.placement=st.Top,this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement=lt,this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.safeArea=!1,this.updateSafeArea=()=>{if(!this.safeArea||!this.anchorEl)return;const t=this.anchorEl.getBoundingClientRect(),e=this.popup.getBoundingClientRect();let o=0,n=0,i=0,r=0,a=0,s=0,l=0,c=0;this.placement.includes("top")||this.placement.includes("bottom")?t.top<e.top?(o=t.left,n=t.bottom,i=t.right,r=t.bottom,a=e.left,s=e.top,l=e.right,c=e.top):(o=e.left,n=e.bottom,i=e.right,r=e.bottom,a=t.left,s=t.top,l=t.right,c=t.top):t.left<e.left?(o=t.right,n=t.top,i=e.left,r=e.top,a=t.right,s=t.bottom,l=e.left,c=e.bottom):(o=e.right,n=e.top,i=t.left,r=t.top,a=e.right,s=e.bottom,l=t.left,c=t.bottom),this.style.setProperty("--safe-area-top-left-x",`${o}px`),this.style.setProperty("--safe-area-top-left-y",`${n}px`),this.style.setProperty("--safe-area-top-right-x",`${i}px`),this.style.setProperty("--safe-area-top-right-y",`${r}px`),this.style.setProperty("--safe-area-bottom-left-x",`${a}px`),this.style.setProperty("--safe-area-bottom-left-y",`${s}px`),this.style.setProperty("--safe-area-bottom-right-x",`${l}px`),this.style.setProperty("--safe-area-bottom-right-y",`${c}px`)}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element||null!==(t=this.anchor)&&"object"==typeof t&&"getBoundingClientRect"in t?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');var t;this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=ot(this.anchorEl,this.popup,(()=>{this.reposition()})))}async stop(){return new Promise((t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame((()=>t()))):t()}))}reposition(){if(!this.active||!this.anchorEl)return;const t=[S({mainAxis:this.distance,crossAxis:this.skidding})];var e;this.sync?t.push(R({apply:({rects:t})=>{const e="width"===this.sync||"both"===this.sync,o="height"===this.sync||"both"===this.sync;this.popup.style.width=e?`${t.reference.width}px`:"",this.popup.style.height=o?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(E({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push((void 0===(e={boundary:this.shiftBoundary,padding:this.shiftPadding})&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:s={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}},...l}=p(e,t),d={x:o,y:n},h=await P(t,l),y=m(f(i)),g=u(y);let b=d[g],v=d[y];if(r){const t="y"===g?"bottom":"right";b=c(b+h["y"===g?"top":"left"],b,b-h[t])}if(a){const t="y"===y?"bottom":"right";v=c(v+h["y"===y?"top":"left"],v,v-h[t])}const w=s.fn({...t,[g]:b,[y]:v});return{...w,data:{x:w.x-o,y:w.y-n}}}})),this.autoSize?t.push(R({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:e})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${e}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push((t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:s,elements:l,middlewareData:f}=e,{element:u,padding:m=0}=p(t,e)||{};if(null==u)return{};const g=v(m),b={x:n,y:i},w=y(r),x=h(w),P=await s.getDimensions(u),E="y"===w,S=E?"top":"left",R=E?"bottom":"right",T=E?"clientHeight":"clientWidth",A=a.reference[x]+a.reference[w]-b[w]-a.floating[x],L=b[w]-a.reference[w],z=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let O=z?z[T]:0;O&&await(null==s.isElement?void 0:s.isElement(z))||(O=l.floating[T]||a.floating[x]);const _=A/2-L/2,$=O/2-P[x]/2-1,k=o(g[S],$),C=o(g[R],$),B=k,D=O-P[x]-C,N=O/2-P[x]/2+_,F=c(B,N,D),I=!f.arrow&&null!=d(r)&&N!=F&&a.reference[x]/2-(N<B?k:C)-P[x]/2<0,H=I?N<B?N-B:N-D:0;return{[w]:b[w]+H,data:{[w]:F,centerOffset:N-F-H,...I&&{alignmentOffset:H}},reset:I}}}))({element:this.arrowEl,padding:this.arrowPadding}));const n="absolute"===this.strategy?t=>et.getOffsetParent(t,it):et.getOffsetParent;nt(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:{...et,getOffsetParent:n}}).then((({x:t,y:e,middlewareData:o,placement:n})=>{const i="rtl"===getComputedStyle(this).direction,r={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];if(this.setAttribute("data-current-placement",n),Object.assign(this.popup.style,{left:`${t}px`,top:`${e}px`}),!this.arrow)return;const a=o.arrow.x,s=o.arrow.y;let l="",c="",p="",f="";if("start"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";l="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",c=i?t:"",f=i?"":t}else if("end"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";c=i?"":t,f=i?t:"",p="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(f="number"==typeof a?"calc(50% - var(--arrow-size-diagonal))":"",l="number"==typeof s?"calc(50% - var(--arrow-size-diagonal))":""):(f="number"==typeof a?`${a}px`:"",l="number"==typeof s?`${s}px`:"");Object.assign(this.arrowEl.style,{top:l,right:c,bottom:p,left:f,[r]:"calc(var(--arrow-size-diagonal) * -1)"})})),requestAnimationFrame((()=>this.updateSafeArea())),this.emitter.dispatch("reposition")}render(){return e.x` <slot name="anchor" @slotchange="${this.handleAnchorChange}"></slot> <span part="safe-area" class="${t.U({"popup-safe-area":!0,"popup-safe-area--visible":this.safeArea&&this.active})}"></span> <div part="popup" class="${t.U({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}"> <slot></slot> ${this.arrow?e.x`<div part="arrow" class="popup--arrow" role="presentation"></div>`:""} </div> `}}ct.styles=at,t._([t.y(".popup")],ct.prototype,"popup",void 0),t._([t.y(".popup--arrow")],ct.prototype,"arrowEl",void 0),t._([t.n()],ct.prototype,"anchor",void 0),t._([t.n({type:Boolean,reflect:!0})],ct.prototype,"active",void 0),t._([t.n({reflect:!0})],ct.prototype,"placement",void 0),t._([t.n({reflect:!0})],ct.prototype,"strategy",void 0),t._([t.n({type:Number})],ct.prototype,"distance",void 0),t._([t.n({type:Number})],ct.prototype,"skidding",void 0),t._([t.n({type:Boolean})],ct.prototype,"arrow",void 0),t._([t.n({attribute:"arrow-placement"})],ct.prototype,"arrowPlacement",void 0),t._([t.n({attribute:"arrow-padding",type:Number})],ct.prototype,"arrowPadding",void 0),t._([t.n({type:Boolean})],ct.prototype,"flip",void 0),t._([t.n({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map((t=>t.trim())).filter((t=>""!==t))}})],ct.prototype,"flipFallbackPlacements",void 0),t._([t.n({attribute:"flip-fallback-strategy"})],ct.prototype,"flipFallbackStrategy",void 0),t._([t.n({type:Object})],ct.prototype,"flipBoundary",void 0),t._([t.n({attribute:"flip-padding",type:Number})],ct.prototype,"flipPadding",void 0),t._([t.n({type:Boolean})],ct.prototype,"shift",void 0),t._([t.n({type:Object})],ct.prototype,"shiftBoundary",void 0),t._([t.n({attribute:"shift-padding",type:Number})],ct.prototype,"shiftPadding",void 0),t._([t.n({attribute:"auto-size"})],ct.prototype,"autoSize",void 0),t._([t.n()],ct.prototype,"sync",void 0),t._([t.n({type:Object})],ct.prototype,"autoSizeBoundary",void 0),t._([t.n({attribute:"auto-size-padding",type:Number})],ct.prototype,"autoSizePadding",void 0),t._([t.n({attribute:"safe-area",type:Boolean})],ct.prototype,"safeArea",void 0);let pt=class extends ct{};pt=t._([t.e("rpl-popper")],pt);const ft=t=>!!t&&!!t.startsWith("r/"),dt=(e,o,n,i)=>t.b(e,{...o?{post:{id:o,...ft(n)?{subreddit_name:n}:{}}}:{},...ft(n)?{subreddit:{name:n}}:{},...i?{ad_account:{id:i}}:{}});function ut(e){const o=new URLSearchParams(t.dO.search),n=new URL(e,t.dO.origin);return o.forEach(((t,e)=>{n.searchParams.has(e)||n.searchParams.set(e,t)})),n.href}return{P:st,a:dt,b:(t,e,{postId:o,subredditName:n,adAccountId:i}={})=>dt({source:"boost_post_page",action:t,noun:e},o,n,i),c:{activateAndOpenPromotePostModal:async({postId:e,postType:o,subredditName:n,identity:i})=>{let r=document.getElementById(t.hb);r||(await t.k({name:t.hc}),r=document.getElementById(t.hb)),r?.showModal({postId:e,postType:o,subredditName:n,identity:i})},activatePromotePostInsights:async({authorId:e,postId:o,postType:n,subredditName:i,adAccounts:r})=>{const a=document.querySelector(`faceplate-loader[name="${t.hd}"]`),s=document.querySelector(`faceplate-partial#${t.hd}-${o}`);a&&s&&(s.src+=`?postId=${o}`,s.src+=e?`&authorId=${e}`:"",s.src+=n?`&postType=${n}`:"",s.src+=i?`&subredditName=${i}`:"",s.src+=r?`&promotedAdAccounts=${encodeURI(JSON.stringify(r))}`:"",await Promise.all([a.load(),s.load()]))}},d:(t,e,o,n)=>dt({source:"boost_post",action:t,noun:e},o,n),g:t=>{const e=t.data?.adInsights,o=t.data?.identity,n=o?.email??"",i=t.data?.adAccountsByProfileId||[];return{adInsights:e,email:n,isOnboarded:i.length>0,adAccounts:i}},i:ft,p:ut,v:function(e){const o=ut(`/boost-post/${e.startsWith("t3_")?e.slice(3):e}`);t.dO.assign(o)}}}));
SML.dm("tooltipbaseaa9651a3",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d","utils93db03dd"],(async(e,t,i,o)=>{const s={Neutral:"neutral",Inverted:"inverted",Primary:"primary"};class n extends e.Q{constructor(){super(...arguments),this.contentSlotRef=e.aq(),this.defaultSlotRef=e.aq(),this.bodyRef=e.aq(),this.popperRef=e.aq(),this.interactionController=new i.aS(this,{isInteractedWith:e=>e.open,hoverDelayStart:t=>e.cD(getComputedStyle(t).getPropertyValue("--show-delay")),hoverDelayEnd:t=>e.cD(getComputedStyle(t).getPropertyValue("--hide-delay"))}),this.appearance=s.Neutral,this.content="",this.placement=o.P.Top,this.disabled=!1,this.distance=4,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.noAnimate=!1,this.eventUsedMap=new WeakMap,this.handleDocumentKeyDown=e=>{"Escape"===e.key&&(e.stopPropagation(),this.hide())},this.handleDocumentClick=e=>{if(!(e.target instanceof HTMLElement)||this.hidden)return;this.eventUsedMap.has(e)||i.aT(this,e.target)||this.hide()}}disconnectedCallback(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick)}willUpdate(e){e.has("open")&&this.hasUpdated&&this.handleOpenChange(),e.has("disabled")&&this.handleDisabledChange(),(e.has("content")||e.has("distance")||e.has("hoist")||e.has("placement")||e.has("skidding"))&&this.handleOptionsChange()}firstUpdated(){this.bodyRef.value&&(this.bodyRef.value.hidden=!this.open),this.open&&(document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),this.popperRef.value&&(this.popperRef.value.active=!0,this.popperRef.value.reposition()))}startInteraction(e){this.eventUsedMap.set(e,!0),this.show()}finishInteraction(e){this.eventUsedMap.set(e,!0),this.hide()}async handleOpenChange(){if(!this.disabled&&this.contentSlotRef.value&&this.bodyRef.value&&this.popperRef.value)if(this.open){this.emitter.dispatch("show"),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),await e.cE(this.bodyRef.value),this.bodyRef.value.hidden=!1,this.popperRef.value.active=!0;const{keyframes:t,options:i}=e.cF(this,"tooltip.show");await e.cG(this.popperRef.value.popup,t,i),this.popperRef.value.reposition(),this.emitter.dispatch("after-show")}else{this.emitter.dispatch("hide"),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick),await e.cE(this.bodyRef.value);const{keyframes:t,options:i}=e.cF(this,"tooltip.hide");await e.cG(this.popperRef.value.popup,t,i),this.popperRef.value.active=!1,this.bodyRef.value.hidden=!0,this.emitter.dispatch("after-hide")}}async handleOptionsChange(){this.hasUpdated&&this.popperRef.value&&(await this.updateComplete,this.popperRef.value.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,e.cH(this,this.emitter.eventId("after-show"))}async hide(){if(this.open)return this.open=!1,e.cH(this,this.emitter.eventId("after-hide"))}render(){return t.x` <rpl-popper part="popper" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${e.U({tooltip:!0,"tooltip--open":this.open})}" placement="${this.placement}" distance="${this.distance}" skidding="${this.skidding}" strategy="${this.hoist?"fixed":"absolute"}" flip shift arrow safe-area @mouseenter="${this.interactionController.handleMouseEnter}" @mouseleave="${this.interactionController.handleMouseLeave}" @mousedown="${this.interactionController.handleMouseDown}" @mouseup="${this.interactionController.handleMouseUp}" @focusin="${this.interactionController.handleFocus}" @focusout="${this.interactionController.handleBlur}" ${e.as(this.popperRef)}> <slot slot="anchor" aria-describedby="tooltip" @click="${this.interactionController.handleClick}" ${e.as(this.defaultSlotRef)}></slot> <div part="body" id="tooltip" class="tooltip-body" role="tooltip" aria-live="${this.open?"polite":"off"}" ${e.as(this.bodyRef)}> <slot name="content" ${e.as(this.contentSlotRef)}>${this.content}</slot> <slot name="shortcut"></slot> </div> </rpl-popper> `}}return e._([e.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),e._([e.n()],n.prototype,"content",void 0),e._([e.n()],n.prototype,"placement",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"disabled",void 0),e._([e.n({type:Number})],n.prototype,"distance",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"open",void 0),e._([e.n({type:Number})],n.prototype,"skidding",void 0),e._([e.n()],n.prototype,"trigger",void 0),e._([e.n({type:Boolean})],n.prototype,"hoist",void 0),e._([e.n({type:Boolean,attribute:"no-animate"})],n.prototype,"noAnimate",void 0),e.cC("tooltip.show",{keyframes:[{visibility:"visible",opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}}),e.cC("tooltip.hide",{keyframes:[{scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}}),{T:n,a:s}}));
SML.dm("headeractionitemchatclientjsb3335fba",["shelle48e5956","iconc33661e6","tooltipbaseaa9651a3","agegatestandaloneclientjsb13e879d","utils93db03dd"],(async(o,t,r)=>{var a=t.a`${o.V}:host{--max-width:20rem;--hide-delay:0ms;--show-delay:750ms;display:contents}:host,:host([appearance=neutral]){--rpl-tooltip-code-background-color:var(--color-neutral-background-hover);--rpl-tooltip-background-color:var(--color-neutral-background);--rpl-tooltip-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-tooltip-code-background-color:var(--color-inverted-neutral-background-hover);--rpl-tooltip-background-color:var(--color-inverted-neutral-background);--rpl-tooltip-color:var(--color-inverted-neutral-content-strong)}:host([appearance=primary]){--rpl-tooltip-background-color:var(--color-tooltip-bg-primary);--rpl-tooltip-color:var(--color-tooltip-text-primary)}.tooltip{--arrow-size:var(--rpl-tooltip-arrow-size, 4px);--arrow-color:var(--rpl-tooltip-background-color)}.tooltip[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}.tooltip[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}.tooltip[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}.tooltip[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}.tooltip::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}.tooltip[placement^=top]::part(popup){transform-origin:bottom}.tooltip[placement^=bottom]::part(popup){transform-origin:top}.tooltip[placement^=left]::part(popup){transform-origin:right}.tooltip[placement^=right]::part(popup){transform-origin:left}.tooltip-body{display:flex;justify-content:center;align-items:center;width:max-content;max-width:var(--max-width);border-radius:var(--rpl-tooltip-border-radius,.25rem);box-shadow:var(--rpl-tooltip-box-shadow,var(--boxshadow-tooltip));background-color:var(--rpl-tooltip-background-color);font:var(--rpl-tooltip-font,var(--font-12-16-semibold));color:var(--rpl-tooltip-color);padding:var(--rpl-tooltip-padding,.5rem);pointer-events:none;user-select:none;-webkit-user-select:none;gap:var(--rem4)}::slotted([slot=shortcut]),::slotted(code[slot=shortcut]){font:var(--rpl-tooltip-font,var(--font-12-16-semibold))!important;color:var(--rpl-tooltip-color)!important;background-color:var(--rpl-tooltip-code-background-color)!important;border:none!important;border-radius:calc(var(--rpl-tooltip-border-radius,.25rem) - var(--rem2))!important;padding:var(--rem4)!important}`;let l=class extends r.T{};return l.styles=a,l=o._([o.e("rpl-tooltip")],l),{get R(){return l}}}));
SML.dm("tablepagination77cf692d",["shelle48e5956","iconc33661e6"],(async(e,t)=>{const s=["input","a","faceplate-checkbox-input","faceplate-radio-input","faceplate-switch-input "],i=({collection:e,activeIndex:t})=>{let i=0;for(const o of e){o.tabIndex=i===t?0:-1;for(const e of Array.from(o.children)){const o=e.querySelector(s.join(","));o&&o instanceof HTMLElement&&(o.tabIndex=i===t?0:-1)}i++}};let o=class extends t.s{constructor(){super(...arguments),this.disableAutoFocus=!1,this.ariarole="menu",this.activeIndex=0,this.firstUpdated=()=>{this.prevFocusedElement=document.activeElement,this.hasAttribute("hidden")?this.toggleItemsTabbable(!1):this.openMenu()},this.toggleItemsTabbable=(e=!0,{overrideActiveIndex:t}={})=>{i({collection:this.getFocusableListItems(),activeIndex:t??(e?0:-1)})},this.openMenu=async()=>{const e=this.getFocusableListItems().findIndex((e=>"true"===e.getAttribute("aria-selected")));this.toggleItemsTabbable(!0,{overrideActiveIndex:-1===e?void 0:e}),this.disableAutoFocus||(e>=0&&e!==this.activeIndex&&(this.activeIndex=e),this.getFocusableListItems()[this.activeIndex]?.focus())},this.closeMenu=()=>{this.toggleItemsTabbable(!1)},this.setFocus=e=>{this.getFocusableListItems()[e]?.focus(),this.activeIndex=e},this.onFocusNext=()=>{const e=this.activeIndex===this.getFocusableListItems().length-1?0:this.activeIndex+1;i({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onFocusPrev=()=>{const e=0===this.activeIndex?this.getFocusableListItems().length-1:this.activeIndex-1;i({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onKeyDown=e=>{switch(e.key){case"Escape":this.prevFocusedElement.focus(),this.onclose&&this.onclose(e);break;case"ArrowDown":case"ArrowRight":this.onFocusNext(),e.preventDefault();break;case"ArrowUp":case"ArrowLeft":this.onFocusPrev(),e.preventDefault()}}}static get styles(){return t.a`:host{background-color:var(--color-neutral-background-strong)}ul{padding:var(--spacing-sm) 0;margin:0}`}getFocusableListItems(){const e="li:not([list-item-group]):not([list-item-header])",t=this.shadowRoot.querySelector("slot"),s=[];for(const i of t.assignedElements({flatten:!0}))i?.matches(e)&&s.push(i),s.push(...Array.from(i.querySelectorAll(e)));return s.map((e=>e.firstElementChild))}render(){return t.x` <ul role="${this.ariarole}" @keydown="${this.onKeyDown}"> <slot></slot> </ul> `}};e._([e.n({type:Boolean,attribute:"disable-auto-focus"})],o.prototype,"disableAutoFocus",void 0),e._([e.n({type:String})],o.prototype,"ariarole",void 0),e._([e.d()],o.prototype,"activeIndex",void 0),o=e._([e.e("faceplate-menu")],o);return{D:1,get F(){return o},T:"table-pagination__paginate-previous",a:25,b:"table-pagination__paginate-next",c:"table-pagination__page-size-updated"}}));
SML.dm("userflairfe275854",["iconc33661e6","shelle48e5956"],(async(t,e)=>{const i={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},n=(t,e,n)=>{const{container:o,margin:s,padding:r,position:l,variantFlipOrder:a,positionFlipOrder:p}={container:document.documentElement.getBoundingClientRect(),...i,...n},{left:c,top:h}=e.style;e.style.left="0",e.style.top="0";const u=t.getBoundingClientRect(),d=e.getBoundingClientRect(),m={t:u.top-d.height-s,b:u.bottom+s,r:u.right+s,l:u.left-d.width-s},f={vs:u.left,vm:u.left+u.width/2+-d.width/2,ve:u.left+u.width-d.width,hs:u.top,hm:u.bottom-u.height/2-d.height/2,he:u.bottom-d.height},[g,E="middle"]=l.split("-"),_=p[g],b=a[E],{top:y,left:v,bottom:w,right:S}=o;for(const t of _){const i="t"===t||"b"===t,n=m[t],[o,s]=i?["top","left"]:["left","top"],[l,a]=i?[d.height,d.width]:[d.width,d.height],[p,c]=i?[w,S]:[S,w],[h,u]=i?[y,v]:[v,y];if(!(n<h||n+l+r>p))for(const l of b){const p=f[(i?"v":"h")+l];if(!(p<u||p+a+r>c))return e.style[s]=p-d[s]+"px",e.style[o]=n-d[o]+"px",t+l}}return e.style.left=c,e.style.top=h,null};function o(t,e=50,i={leading:!0,trailing:!0}){i={leading:!0,trailing:!0,...i};let n,o,s,r=null,l=0;const a=function(){l=i.leading?Date.now():0,r=null,s=t.apply(n,o),r||(n=o=null)};return function(...p){const c=Date.now();l||!1!==i.leading||(l=c);const h=e-(c-l);return n=this,o=p,h<=0||h>e?(r&&(clearTimeout(r),r=null),l=c,s=t.apply(n,p),r||(n=o=null)):r||!1===i.trailing||(r=setTimeout(a,h)),s}}const s=["button","link","menuitem","tab","checkbox","combobox","gridcell","application","treeitem"];class r{set popperTrigger(t){this._popperTrigger=t}get popperTrigger(){if(this._popperTrigger)return this._popperTrigger;let t=this.host.shadowRoot?.querySelector("slot[faceplate-popper-trigger]")?.assignedElements()?.[0]??null;let e=0;const i=t=>t instanceof HTMLButtonElement||t instanceof HTMLAnchorElement||s.includes(t?.getAttribute("role")??"");if(i(t))return t;for(;t&&e<5;){if(t=t?.assignedElements?t?.assignedElements()?.[0]??null:t?.children[0]??null,i(t))return t;e++}return null}get popperContent(){return this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.querySelector("slot")?.assignedElements()?.[0]??null}constructor(e,{containerElement:i=document.documentElement,scrollContainerElement:n=t.cJ().scrollContainerElement(),allowCloseByEvent:s=!0,...r}){this.status="closed",this._containerSize=null,this.containerSizeChanged=t=>{if(!this._containerSize)return!0;const e=this._containerSize;return Object.keys(t).some((i=>e[i]!==t[i]))},this.updateAriaStates=async(t=!1)=>{const e="open"===this.currentState.state,i="tooltip"===this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.getAttribute("role"),n="dialog"===this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.getAttribute("role"),o=this.popperTrigger,s=this.popperContent,r=!this._options.manualTriggerFocus&&!t&&!n&&"function"==typeof o?.focus;i||(t&&(o?.setAttribute("aria-haspopup",n?"dialog":"true"),s?.setAttribute("hidden","")),e?(s?.removeAttribute("hidden"),this.currentState.animationFinished&&await this.currentState.animationFinished,s?.openMenu?.()):(s?.setAttribute("hidden",""),s?.closeMenu?.(),r&&o?.focus()),o?.setAttribute("aria-expanded",`${e}`))},this.referenceInViewport=o((()=>{const{reference:t=null,containerElement:e=document.documentElement}=this._options;if("open"!==this.status)return!1;if(!t)return!1;const i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||e.clientHeight)&&i.right<=(window.innerWidth||e.clientWidth)}),80),this.isOffscreenBottom=o((t=>{const e=t.popper?.getBoundingClientRect(),i=this._options.reference?.getBoundingClientRect();return!!e&&window.innerHeight-(i.bottom+e.height)<16}),80),this.getPosition=t=>{const e=t.position??"bottom";return"open"===this.status?e:this.popper&&this.isOffscreenBottom(t)&&e?.includes("bottom")?e.replace("bottom","top"):t.position},this.reposition=()=>{this.referenceInViewport()?this.updatePopper():this.close()},this.open=async()=>{if(this.popper){if("open"===this.status)return Promise.resolve(null)}else this.initialize();this.popperContent?.removeAttribute("hidden"),this.updateOptions({});const t=this.showElement(this._options.popper,!0);return this.setStatus("open",t),t?.finished??Promise.resolve(null)},this.close=async t=>{if(t&&!this._options.allowCloseByEvent)return Promise.resolve(null);if(t&&(t.preventDefault(),t.stopPropagation()),"open"!==this.status)return Promise.resolve(null);const e=this.hideElement(this._options.popper,!0);return this.setStatus("closed",e),e?.finished??Promise.resolve(null)},this.toggle=async t=>"open"!==this.status?this.open():this.close(t),this.updatePopper=t=>{if(!this.popper)return null;const e=this.actualPosition;let i=null;try{i=this.popper.update(t)}catch(t){return null}const n=a(i);return n!==e&&(this.setActualPosition(n),this.host.requestUpdate()),i},this.setStatus=(t,e)=>{this.status=t,this.statusAnimation=e,this.statusAnimation?.finished.then((()=>{this.updateAriaStates()}))},this.setActualPosition=t=>{this.actualPosition=t},this.handleContainerResize=o((()=>{if("open"!==this.status)return;const t=(this._options.containerElement??document.documentElement).getBoundingClientRect();this.containerSizeChanged(t)&&(this._containerSize=t,this.updatePopper({...this._options,container:t}))}),80),this.getKeyframes=(t,e="show",i)=>{try{return new KeyframeEffect(t,[{visibility:"hidden",opacity:"0"},{visibility:"visible",opacity:"1"}],{fill:"both",direction:"show"===e?"normal":"reverse",duration:i,easing:"ease-in-out"})}catch(i){return()=>{"show"===e?(t.style.visibility="visible",t.style.opacity="1"):(t.style.visibility="hidden",t.style.opacity="0")}}},(this.host=e).addController(this),this._options={...r,containerElement:i,scrollContainerElement:n,allowCloseByEvent:s},this.actualPosition=this._options.position||null}async hostConnected(){await this.host.updateComplete,this.updateAriaStates(!0)}initialize(){this._containerSize=(this._options.containerElement??document.documentElement).getBoundingClientRect(),this.popper=((t,e,i)=>{const o="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...i}:t;return{update(t=o){const{reference:e,popper:i}=Object.assign(o,t);if(!i||!e)throw new Error("Popper- or reference-element missing.");return n(e,i,o)}}})({...this._options,container:this._containerSize}),this.resizeObserver=new ResizeObserver(this.handleContainerResize),this._options.containerElement&&this.resizeObserver.observe(this._options.containerElement);(this._options.scrollContainerElement??window).addEventListener("scroll",this.reposition),this.replaceElement(void 0,this._options.popper)}hostDisconnected(){this._options.containerElement&&this.resizeObserver?.unobserve(this._options.containerElement);(this._options.scrollContainerElement??window).removeEventListener("scroll",this.reposition)}getOptions(){return this._options}updateOptions({...t}){const e={...this._options,...t},i={...e};this.popper&&(this._containerSize=(e.containerElement??document.documentElement).getBoundingClientRect(),i.container=this._containerSize);const n=i.popperElementKey||"popperElement";!i.popper&&n in this.host&&(i.popper=this.host[n]);const o=i.referenceElementKey||"popperReferenceElement";!i.reference&&o in this.host&&(i.reference=this.host[o]),i.popper!==this._options.popper&&this.replaceElement(this._options.popper,i.popper),i.containerElement!==this._options.containerElement&&(this._options.containerElement&&(this.resizeObserver?.unobserve(this._options.containerElement),this._options.containerElement.removeEventListener("faceplate-close",this.close)),i.containerElement&&(this.resizeObserver?.observe(i.containerElement),i.containerElement.addEventListener("faceplate-close",this.close))),this._options=i,this.updatePopper({...this._options,position:this.getPosition(i)})}get currentState(){return{state:this.status,animationFinished:this.statusAnimation?.finished.then((()=>{}))??Promise.resolve()}}showElement(t,e=!0){if(t)return t.style.display="",this.updatePopper(),l(this.getKeyframes(t,"show",e?150:0))}hideElement(t,e="open"===this.status){if(!t)return;if("closed"===this.status)return void(t.style.display="none");const i=l(this.getKeyframes(t,"hide",e?150:0));return i?.finished.catch((()=>{})).then((()=>{"closed"===this.status&&(t.style.display="none"),i?.cancel()})),i}replaceElement(t,e){t&&(this.hideElement(t,!1),t.removeEventListener("faceplate-close",this.close)),e&&("open"===this.status?this.showElement(e,!1):this.hideElement(e,!1),e.addEventListener("faceplate-close",this.close))}}r.defaultPopperContentStyles=t.a`[faceplate-popper-content]{position:fixed;visibility:hidden;opacity:0}`;const l=t=>{if("function"==typeof t)return t();if(!t.target)return;t.target.getAnimations().forEach((t=>t.cancel()));const e=new Animation(t);return e.play(),e},a=t=>{if(!t)return null;const[e,i]=t,n=e?{t:"top",b:"bottom",l:"left",r:"right"}[e]:null,o=i?{s:"start",m:"middle",e:"end"}[i]:null;return n&&o?`${n}-${o}`:null},p="moderator";return{P:r,Q:"pageNumber",U:"user-flair-assign-modal",a:()=>e.b({source:p,action:"click",noun:"assign_flair_dialog"}),b:()=>e.b({source:p,action:"click",noun:"remove_assigned_userflair_confirm"}),c:()=>e.b({source:p,action:"click",noun:"user_search"}),d:()=>e.b({source:p,action:"click",noun:"assigned_flair_edit_dialog"}),e:"user-flair__user-delete",f:()=>e.b({source:p,action:"click",noun:"table_pagination"}),g:"user-flair__user-edit",h:"user-flair__user-delete-modal",i:"pageSize",j:"before",k:"after",l:"query",m:t=>e.b({source:p,action:"click",noun:"username_input"},{action_info:t}),n:()=>e.b({source:p,action:"click",noun:"assigned_flair_edit_save"}),o:()=>e.b({source:p,action:"click",noun:"assign_flair_confirm"}),r:()=>e.b({source:p,action:"click",noun:"remove_assigned_userflair_dialog"})}}));
SML.dm("selectcontroller4c63b3e8",["shelle48e5956","iconc33661e6","userflairfe275854","agegatestandaloneclientjsb13e879d"],(async(e,t,s,i)=>{let n=class extends t.s{constructor(){super(...arguments),this.position="bottom-middle",this.triggerEvent="click",this.disabled=!1,this.manualTriggerFocus=!1,this.containerElement=document.documentElement,this.scrollContainerElement=window,this.onopen=null,this.onclose=null,this.emitter=i.J(this),this._popperController=new s.P(this,{position:this.position,referenceElementKey:"referenceElement",popperElementKey:"_menu",containerElement:this.containerElement,scrollContainerElement:this.scrollContainerElement,manualTriggerFocus:this.manualTriggerFocus}),this._eventUsedMap=new WeakMap,this.updated=e=>{e.has("position")&&this._popperController.updateOptions({position:this.position}),e.has("manualTriggerFocus")&&this._popperController.updateOptions({manualTriggerFocus:this.manualTriggerFocus})},this.handleDocumentClick=e=>{if(!(e.target instanceof Element)||this.hidden)return;const t=e.target.closest('[slot="menu"]'),s=this._eventUsedMap.has(e);null!==t||s||this.close()},this.handleEscape=e=>{"Escape"===e.key&&this.close(e)},this.addListenersWhileOpened=()=>{document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened=()=>{document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleEscape)},this.show=e=>{this.hidden=!1,this.emitter.dispatch("open"),this._menu.style.pointerEvents="auto",this._popperController.currentState.animationFinished.then((()=>{this.addListenersWhileOpened(),this.emitter.dispatch("opened")})),this.onopen?.(e??new Event("faceplate-dropdown-menu-show"))},this.close=(e,t)=>{!0===t?.disableRestoreFocus&&this._popperController.updateOptions({manualTriggerFocus:!0}),this.cleanupListenersWhileOpened(),this.hidden=!0,this.emitter.dispatch("close"),this._menu.style.pointerEvents="none",this._popperController.currentState.animationFinished.then((()=>{this.emitter.dispatch("closed"),this._popperController.updateOptions({manualTriggerFocus:this.manualTriggerFocus})})),this.onclose?.(e??new Event("faceplate-dropdown-menu-open"))},this.toggle=e=>{this.hidden?this.show(e):this.close(e)},this.handleClick=this.disabledHandler((e=>{this._eventUsedMap.set(e,!0),"click"===this.triggerEvent&&(this.hidden?this.show(e):this.close(e))})),this.handleMouseenter=this.disabledHandler((e=>{"hover"===this.triggerEvent&&this.show(e)})),this.handleMouseleave=this.disabledHandler((e=>{"hover"===this.triggerEvent&&this.close(e)})),this.handleFocusOut=this.disabledHandler((e=>{!this.hidden&&e.relatedTarget instanceof HTMLElement&&!o(this,e.relatedTarget)&&this.close(e,{disableRestoreFocus:!0})}))}get referenceElement(){return this.shadowRoot?.querySelector("#trigger")?.assignedElements()[0]??this}static get styles(){return[t.a`:host{--faceplate-dropdown-menu-z-index:1000;display:flex}#menu{border-radius:var(--rem8);box-shadow:0 4px 8px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.25);display:inline-flex;justify-content:center;overflow:hidden;width:max-content;z-index:var(--faceplate-dropdown-menu-z-index);outline-offset:-1px}`,s.P.defaultPopperContentStyles]}get hidden(){return"closed"===this._popperController.currentState.state}set hidden(e){!0===e?this._popperController.close():this._popperController.open()}connectedCallback(){super.connectedCallback(),this.classList.add("connected")}firstUpdated(){this._menu&&(this._menu.style.pointerEvents="none")}disconnectedCallback(){super.disconnectedCallback(),this.cleanupListenersWhileOpened()}disabledHandler(e){return t=>{this.disabled||e(t)}}render(){return t.x` <slot id="trigger" aria-describedby="menu" faceplate-popper-trigger aria-controls="menu" @click="${this.handleClick}" @mouseenter="${this.handleMouseenter}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <article id="menu" faceplate-popper-content @focusout="${this.handleFocusOut}"> <slot name="menu"></slot> </article> `}};e._([e.n({type:String})],n.prototype,"position",void 0),e._([e.n({type:String,attribute:"trigger-event"})],n.prototype,"triggerEvent",void 0),e._([e.n({type:Boolean})],n.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"manual-trigger-focus"})],n.prototype,"manualTriggerFocus",void 0),e._([e.y("#menu")],n.prototype,"_menu",void 0),e._([e.y("#trigger")],n.prototype,"_trigger",void 0),n=e._([e.e("faceplate-dropdown-menu")],n);const o=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>o(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&o(e.shadowRoot,t))return!0;for(const s of e.querySelectorAll("slot"))if(s.assignedElements().some((e=>o(e,t))))return!0;return!1};return{get F(){return n},S:class{constructor(e){this.previousChar="",this.focusedIndex=-1,this.cancelUpdate=!1,this.hasOptionVisualFocus=!1,this.hasSelection=!1,this.searchString="",this.searchTimeoutId=null,this.initializeSelections=()=>{this.options.forEach((e=>{this.makeSelection({selected:e.selected,option:e})}))},this.dispatchChangeEvent=()=>{this.hasSelection=!0,this.host.dispatchEvent(new CustomEvent(`${this.host.nodeName.toLowerCase()}:change`,{composed:!0,bubbles:!0,detail:{target:this.host}}))},this.onBlur=e=>{this.options.includes(e.relatedTarget)||(this.closeDropdownMenu(),this.host.blur())},this.onClick=()=>{(this.host.multiple&&!this.hasOptionVisualFocus||!this.host.multiple)&&this.host.dropdownMenu?.toggle()},this.shouldSelectFocusedOption=()=>{const e=this.host.hasAttribute("autocomplete"),t=!!this.host.readonly;return(e||t)&&!this.hasSelection&&this.hasOptionVisualFocus},this.onMenuClose=()=>{if(this.cancelUpdate||this.shouldSelectFocusedOption()&&this.selectFocusedOption(),this.selectedIndex>=0)this.focusedIndex=this.selectedIndex;else{if(this.host.readonly&&this.cancelUpdate)return;this.visibleOptions[this.focusedIndex]?.visualFocus(!1)}this.hasOptionVisualFocus=!1},this.onMenuOpen=()=>{this.focusedIndex=this.selectedIndex>=0?this.selectedIndex:-1,this.host.readonly&&this.focusedIndex<0&&(this.focusedIndex=0),this.focusedIndex>=0&&this.visuallyFocusOption(this.focusedIndex),this.hasSelection=!1,this.cancelUpdate=!1},this.onFaceplateOptionSelect=e=>{if(e.stopImmediatePropagation(),e.defaultPrevented)return;const t=e,{option:s,selected:i,allowSingleDeselection:n}=t?.detail||{};s&&this.makeSelection({option:s,selected:i,allowSingleDeselection:n})},this.makeSelection=async({selected:e,option:t,allowSingleDeselection:s})=>{this.host.multiple?(t?.dispatchEvent(this.createUpdateEvent(e)),await(t?.updateComplete)):(!s&&e||s)&&(e&&this.singleSelectionCache!==t&&this.singleSelectionCache?.dispatchEvent(this.createUpdateEvent(!1)),t?.selected!==e&&(t?.dispatchEvent(this.createUpdateEvent(e)),await(t?.updateComplete)),e&&(this.singleSelectionCache=t),setTimeout(this.closeDropdownMenu)),this.dispatchChangeEvent(),this.cancelUpdate=!1,this.host.requestUpdate()},this.visuallyFocusNextOption=()=>{this.focusedIndex===this.visibleOptions.length-1&&(this.focusedIndex=-1),this.visuallyFocusOption(++this.focusedIndex),this.hasOptionVisualFocus=!0},this.visuallyFocusPrevOption=()=>{this.focusedIndex<=0&&(this.focusedIndex=this.visibleOptions.length),this.visuallyFocusOption(--this.focusedIndex),this.hasOptionVisualFocus=!0},this.focusNextMatchedOption=e=>{if("number"==typeof this.searchTimeoutId&&window.clearTimeout(this.searchTimeoutId),this.searchTimeoutId=setTimeout((()=>{this.previousChar=this.searchString,this.searchString=""}),500),this.searchString+=e,this.searchString===this.previousChar){let e=this.focusedIndex+1;for(let t=0;t<this.visibleOptions.length;t++){if(e>this.visibleOptions.length-1&&(e=0),this.visibleOptions[e]?.displayText?.toLowerCase().startsWith(this.searchString)){this.visuallyFocusOption(e),this.focusedIndex=e;break}e++}}else{const e=this.visibleOptions.findIndex(((e,t)=>t!==this.focusedIndex&&e.displayText?.toLowerCase().startsWith(this.searchString)));-1!==e&&(this.focusedIndex=e,this.visuallyFocusOption(this.focusedIndex))}this.previousChar=this.searchString},this.selectFocusedOption=()=>{if(this.focusedIndex<0)return;const e=this.visibleOptions[this.focusedIndex];this.makeSelection({selected:!e.selected,option:e})},this.visuallyFocusOption=e=>{this.currentFocusedOption&&this.currentFocusedOption?.visualFocus(!1),this.currentFocusedOption=this.visibleOptions[e],this.currentFocusedOption?.visualFocus(!0),this.currentFocusedOption?.scrollIntoView()},this.openDropdownMenu=()=>{!this.host.disabled&&this.host.dropdownMenu?.hidden&&this.host.dropdownMenu?.show()},this.closeDropdownMenu=()=>{this.host.dropdownMenu?.hidden||this.host.dropdownMenu?.close()},this.handleKeyBindings=e=>{switch(e.key){case"ArrowDown":if(this.host.dropdownMenu?.hidden)return void this.openDropdownMenu();e.altKey||this.visuallyFocusNextOption();break;case"ArrowUp":this.openDropdownMenu(),this.visuallyFocusPrevOption();break;case"Escape":this.cancelUpdate=!0,this.closeDropdownMenu(),e.stopPropagation();break;case"Enter":case"Tab":this.host.dropdownMenu?.hidden||this.selectFocusedOption();break;default:e.key.match("^\\w$")&&(this.openDropdownMenu(),(this.host.multiple||this.host.readonly||this.host.referenceElement instanceof HTMLButtonElement)&&this.focusNextMatchedOption(e.key))}},(this.host=e).addController(this)}async hostConnected(){await this.host.updateComplete,this.resizeObserver=new ResizeObserver((()=>{this.host.style.setProperty("--select-width",`${this.host.getBoundingClientRect().width}px`)})),this.resizeObserver?.observe(this.host),this.host.addEventListener("faceplate-option:select",this.onFaceplateOptionSelect),this.host.addEventListener("keydown",this.handleKeyBindings),this.host.addEventListener("faceplate-dropdown-menu:open",this.onMenuOpen),this.host.addEventListener("faceplate-dropdown-menu:closed",this.onMenuClose),this.host.addEventListener("click",this.onClick),this.host.addEventListener("blur",this.onBlur),this.initializeSelections(),this.host.dropdownMenu&&(this.host.dropdownMenu.triggerEvent=void 0)}hostDisconnected(){this.resizeObserver?.disconnect(),this.host.removeEventListener("keydown",this.handleKeyBindings),this.host.removeEventListener("faceplate-option:select",this.onFaceplateOptionSelect),this.host.removeEventListener("faceplate-dropdown-menu:open",this.onMenuOpen),this.host.removeEventListener("faceplate-dropdown-menu:closed",this.onMenuClose),this.host.removeEventListener("click",this.onClick),this.host.removeEventListener("blur",this.onBlur)}get selectedOptions(){return this.options.filter((e=>e.selected))}get options(){return this.host.options??[]}get selectedIndex(){return this.options.findIndex((e=>e.selected))}get visibleOptions(){return(this.host.options??[]).filter((e=>!e.hasAttribute("hidden")))}get value(){return this.selectedOptions[0]?.value||""}set value(e){if(e===this.value)return;const t=this.options.findIndex((t=>t.value===e));if(-1===t)this.singleSelectionCache?.dispatchEvent(this.createUpdateEvent(!1)),this.singleSelectionCache=null;else{const e=this.options[t];this.makeSelection({selected:t>=0,option:e})}}createUpdateEvent(e){return new CustomEvent("faceplate-option:update",{composed:!0,detail:{selected:e}})}getSelectedOptionsAsStr(){return this.selectedOptions.map((e=>e.displayText)).join(", ").trim()}}}}));
SML.dm("utils57a7018c",["shelle48e5956","iconc33661e6","textinput9c3f45be"],(async(t,e,i)=>{var n;!function(t){t.BORDERED="bordered",t.SECONDARY="secondary"}(n||(n={}));let r=class extends i.T{constructor(){super(...arguments),this.prefix="",this.type="text",this.appearance=n.SECONDARY,this.persistentTrailingIcon=!1,this.withSelect=!1}static get styles(){return[super.styles,e.a`input{outline:0;background:0 0;border:none;width:100%}:host([appearance=bordered]) .label-container:not(.without-label) .input-container.stateful-input{transform:translateY(0)}::slotted([slot=leadingIcon]){margin-inline-end:var(--spacer-xs);display:flex}.input-prefix{margin-inline-end:var(--spacer-4xs)}.input-suffix{margin-inline-start:var(--spacer-4xs)}.input-prefix,.input-suffix{flex-shrink:0}:host([appearance=bordered]) .label-container{border-radius:20px 20px 0 0;align-items:flex-end;padding-bottom:var(--spacer-2xs)}:host([appearance=bordered]) .input-boundary-box{margin-bottom:var(--rem6);align-items:center;padding:0}:host .label-container.without-label{height:var(--rem40)}:host(:focus-within) .label-container:not(.with-trailing-button) ::slotted([slot=clearButton].has-value),:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) ::slotted([slot=clearButton].has-value){display:inline-block}`]}dispatchFocusin(){}render(){return super.renderInput(e.x`<input aria-labelledby="fp-input-label" ?readonly="${this.readonly}" type="${this.type}" pattern="${e.l(this.pattern)}" @input="${this.onInput}" @change="${this.onChange}" @mouseover="${t=>t.stopPropagation()}" .value="${i.l(this.value)}" name="${e.l(this.withSelect?void 0:this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" min="${e.l(this.min)}" max="${e.l(this.max)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}" step="${e.l(this.step)}">`)}};return t._([t.n({type:String})],r.prototype,"prefix",void 0),t._([t.n({type:String})],r.prototype,"type",void 0),t._([t.n({type:String})],r.prototype,"pattern",void 0),t._([t.n({converter:t=>"string"==typeof t&&"any"===t.toLowerCase()?"any":isNaN(t)?void 0:Number(t)})],r.prototype,"step",void 0),t._([t.n({type:Number})],r.prototype,"min",void 0),t._([t.n({type:Number})],r.prototype,"max",void 0),t._([t.n({type:String,reflect:!0})],r.prototype,"appearance",void 0),t._([t.n({type:Boolean,attribute:"persistent-trailing-icon"})],r.prototype,"persistentTrailingIcon",void 0),t._([t.n({type:Boolean,attribute:"with-select"})],r.prototype,"withSelect",void 0),r=t._([t.e("faceplate-text-input")],r),{C:class{get active(){return this.duration>0}get timeRemaining(){return`${Math.floor(this.duration/6e4)}:${Math.ceil(this.duration%6e4/1e3).toString().padStart(2,"0")}`}get secondsRemaining(){return Math.ceil(this.duration/1e3).toString()}constructor(t){this.duration=0,this.interval=0,this.update=()=>{this.duration=this.duration-this.interval,this.duration<=0&&this.reset(),this.host.requestUpdate()},this.host=t,this.host.addController(this)}hostDisconnected(){this.reset()}reset(){clearInterval(this.timeout),this.duration=0,this.interval=0}start(t,e=1e3){this.reset(),this.duration=t,this.interval=e,this.timeout=setInterval(this.update,this.interval),this.host.requestUpdate()}},get F(){return r},get T(){return n},g:function(t){const[e,i,n]=t.split("-").map(Number);return new Date(e,i-1,n)},t:function(t){return t<10?`0${t}`:t}}}));
SML.dm("faceplateselecttextinputbad79e01",["shelle48e5956","communitypickerf331f77f","iconc33661e6","selectcontroller4c63b3e8","constants9e09f052","utils57a7018c","tablepagination77cf692d"],(async(e,t,i,l,a,s)=>{let r=class extends a.F{constructor(){super(...arguments),this.appearance=s.T.SECONDARY,this.label="",this.clearable=!1,this.multiple=!1,this.required=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.readonly=!1,this.inputRef=e.aq(),this._selectController=new l.S(this),this.focus=()=>{this.inputRef.value?.focus()},this.syncInputValidation=(e=!1)=>{const t=this.options.map((e=>e.value)),i=this.inputRef?.value?.value,l=this.value||this.arbitrary&&i||!this.arbitrary&&t.includes(i);if(this.required&&!l){const t=this.inputRef?.value?._internals.validationMessage;this.dropdownMenu?.hidden&&t&&(e?this.form?.invalidateFieldWithMessage(this.name,t):this.setCustomValidity(t))}else this.form?.invalidateFieldWithMessage(this.name,"")},this.resetFaceplateDirty=()=>{this.removeAttribute("faceplate-dirty")},this.matchOptionsToInput=e=>{if(this.autocomplete&&!this.multiple){const t=e.currentTarget?.value;this.options.forEach((e=>{const i=e.displayText?.toLowerCase().trim();if(this.onFilterOption?this.onFilterOption?.(t,e):i?.startsWith(t.toLowerCase())){if(!t)return e.removeAttribute("hidden"),void(e.matchedText="");e.hasAttribute("hidden")&&e.removeAttribute("hidden"),e.matchedText=e.displayText?.slice(0,t.length)}else e.setAttribute("hidden","")})),this._selectController.focusedIndex=0}},this.clear=e=>{e.preventDefault(),e.stopPropagation(),this._selectController.selectedOptions.forEach((e=>{e.resetSelection()})),this.inputRef.value&&(this.inputRef.value.value="")},this.handleKeyBindings=e=>{this.readonly||this.multiple?e.preventDefault():"Backspace"!==e.key||this.multiple||(this._selectController.value="")},this.getTextField=()=>i.x`<faceplate-text-input ?disabled="${this.disabled}" novalidate ${e.as(this.inputRef)} appearance="${this.appearance}" role="combobox" aria-controls="menu" aria-expanded="${!this.hidden}" id="trigger" faceplate-popper-trigger aria-label="${this.label}" value="${this._selectController.getSelectedOptionsAsStr()}" ?required="${this.required}" @input="${this.matchOptionsToInput}" suppress-internal-clicks persistent-trailing-icon with-select helper-text-aria-live="${i.l(this.helperTextAriaLive??void 0)}" helper-text-message="${i.l(this.helperTextMessage)}" helper-text-level="${i.l(this.helperTextLevel??void 0)}" helper-text-placeholder="${i.l(this.helperTextPlaceholder)}" helper-text-screen-reader-msg="${i.l(this.helperTextScreenReaderMsg)}" aria-autocomplete="list" name="${this.name}"> <span slot="label">${this.label}</span> <slot name="clearButton" slot="clearButton" @click="${this.clear}"></slot> <span slot="trailingIconButton">${i.N({attributes:{"aria-hidden":"true"}})}</span> </faceplate-text-input>`}get referenceElement(){return this.inputRef.value}get selectedOptions(){return this._selectController.selectedOptions}get selectedIndex(){return this._selectController.selectedIndex}get value(){return this._selectController.value}set value(e){e!==this.value&&(this._selectController.value=e)}connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.resetFaceplateDirty),this.addEventListener("keydown",this.handleKeyBindings)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focus",this.resetFaceplateDirty),this.removeEventListener("keydown",this.handleKeyBindings)}async firstUpdated(){super.firstUpdated(),this.setupValidationSync()}async setupValidationSync(){const e=await t.c(this);e&&this.isConnected&&(this.inputRef.value?.hasValidationHelpers||this.inputRef.value?.setFormValidationHelpers(e),this.syncInputValidation(),this.addEventListener(e.validationTrigger,(()=>this.syncInputValidation(!0))),e.addEventListener("faceplate-submit",(()=>this.syncInputValidation(!0))))}static get styles(){return i.a`:host{display:inline-block}:host([disabled]){cursor:not-allowed}faceplate-text-input{flex:1}:host([readonly]){caret-color:transparent}faceplate-menu{height:var(--faceplate-select-menu-height,auto);width:var(--faceplate-select-menu-width,auto);max-height:var(--faceplate-select-menu-max-height,auto);max-width:var(--faceplate-select-menu-max-width,auto);overflow:auto}`}render(){return i.x` <faceplate-dropdown-menu ?disabled="${this.disabled}" position="bottom-start" manual-trigger-focus> ${this.getTextField()} <faceplate-menu part="menu" slot="menu" id="menu" ariarole="listbox" faceplate-popper-content disable-auto-focus> <slot></slot> </faceplate-menu> </faceplate-dropdown-menu> `}};e._([e.n({type:String})],r.prototype,"appearance",void 0),e._([e.n({type:String})],r.prototype,"label",void 0),e._([e.n({type:Boolean})],r.prototype,"clearable",void 0),e._([e.n({type:Boolean})],r.prototype,"multiple",void 0),e._([e.n({type:Boolean})],r.prototype,"required",void 0),e._([e.n({type:String})],r.prototype,"autocomplete",void 0),e._([e.n({type:Boolean})],r.prototype,"arbitrary",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-level"})],r.prototype,"helperTextLevel",void 0),e._([e.n({type:String,attribute:"helper-text-placeholder"})],r.prototype,"helperTextPlaceholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],r.prototype,"helperTextAriaLive",void 0),e._([e.n({type:String,attribute:"helper-text-message"})],r.prototype,"helperTextMessage",void 0),e._([e.n({type:String,attribute:"helper-text-screen-reader-msg"})],r.prototype,"helperTextScreenReaderMsg",void 0),e._([e.n()],r.prototype,"onFilterOption",void 0),e._([e.n({type:Boolean})],r.prototype,"readonly",void 0),e._([e.j()],r.prototype,"options",void 0),e._([e.j({selector:"faceplate-option:not([hidden])"})],r.prototype,"visibleOptions",void 0),e._([e.j()],r.prototype,"triggerSlot",void 0),e._([e.y("faceplate-dropdown-menu")],r.prototype,"dropdownMenu",void 0),r=e._([e.e("faceplate-select-text-input")],r)}));
SML.dm("faceplateoption7a297e33",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,t,s)=>{class i extends(function(e){var t;return(t=class extends e{}).VERSION="unreleased",t}(t.s)){}let a=class extends i{constructor(){super(...arguments),this.selected=!1,this.disabled=!1,this.current=!1,this.emitter=s.J(this),this.trustedUpdate=!1,this.handleSelection=e=>{e.stopPropagation(),this.disabled||this.dispatchSelectRequest(!this.selected)},this.onClick=e=>{this.handleSelection(e)},this.dispatchSelectRequest=(e=this.selected,t)=>{this.emitter.dispatch("select",{bubbles:!0,composed:!0,detail:{option:this,selected:e,allowSingleDeselection:t}})},this.resetSelection=()=>{this.matchedText="",this.removeAttribute("hidden"),this.selected=!1,this.dispatchSelectRequest()},this.visualFocus=e=>{this.current=e}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick),this.addEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect),this.setAttribute("role","option")}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick),this.removeEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect)}updated(e){e.has("selected")&&this.setAttribute("aria-selected",`${this.selected}`),e.has("disabled")&&this.setAttribute("tabindex",this.disabled?"-1":"0"),this.trustedUpdate&&(this.trustedUpdate=!1)}willUpdate(e){e.has("selected")&&!this.trustedUpdate&&this.dispatchSelectRequest(this.selected,!0)}onUpdateFromSelect(e){const{selected:t}=e.detail??{};t!==this.selected&&(this.selected=t,this.trustedUpdate=!0)}static get styles(){return t.a`:host{color:var(--color-secondary-plain);cursor:pointer;display:flex;align-items:center;gap:var(--spacer-xs);padding:var(--spacer-xs);min-width:var(--select-width, 'auto');box-sizing:border-box;outline-offset:-1px}:host([hidden]){display:none}:host(:hover){background:var(--color-neutral-background-strong-hover)}:host([selected]){background:var(--color-neutral-background-selected)}:host([current]){outline:1px auto var(--color-global-focus)}:host([disabled]){color:var(--color-interactive-content-disabled);pointer-events:none}slot[name=leading]{width:var(--size-xl);height:var(--size-xl);align-items:center}::slotted([slot=leading]){display:inline-flex}slot:not([name]){display:inline-block;width:100%;line-height:var(--rem20)}.matched-text{font-weight:700}`}render(){const e=this.matchedText?.length||0;return t.x`<slot name="leading"></slot> <slot> <span class="matched-text">${this.matchedText}</span><span>${this.displayText?.slice(e)}</span> </slot> <span>${this.selected?t.E():t.A}</span>`}};e._([e.n({type:Boolean})],a.prototype,"selected",void 0),e._([e.n({type:Boolean})],a.prototype,"disabled",void 0),e._([e.n({type:String})],a.prototype,"value",void 0),e._([e.n({type:String,attribute:"matched-text",reflect:!0})],a.prototype,"matchedText",void 0),e._([e.n({type:String,attribute:"display-text"})],a.prototype,"displayText",void 0),e._([e.n({type:Boolean,reflect:!0})],a.prototype,"current",void 0),e._([e.aP({flatten:!0})],a.prototype,"defaultSlot",void 0),a=e._([e.e("faceplate-option")],a)}));
SML.dm("rplcoachmark4e17786a",["shelle48e5956","iconc33661e6","tooltipbaseaa9651a3","utils93db03dd","agegatestandaloneclientjsb13e879d"],(async(r,o,t,a)=>{class e extends t.T{constructor(){super(...arguments),this.variant="plain",this.placement=a.P.Bottom,this.disabled=!1,this.label="",this.distance=8,this.animationNames={show:"coachmark.show",hide:"coachmark.hide",denyClose:"coachmark.denyClose",overlayShow:"coachmark.overlay.show",overlayHide:"coachmark.overlay.hide"}}connectedCallback(){super.connectedCallback(),this.addEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}render(){return o.x` <rpl-popper ?active="${this.open}" strategy="${this.hoist?"fixed":"absolute"}" .anchor="${this.anchor}" flip shift arrow safe-area distance="${this.distance}" skidding="${this.skidding}" placement="${o.l(this.placement)}" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${r.U({coachmark:!0,"coachmark--open":this.open})}" ${r.as(this.popperRef)}> <slot slot="anchor" ${r.as(this.defaultSlotRef)}></slot> <slot name="content" ${r.as(this.bodyRef)} ${r.as(this.contentSlotRef)}></slot> </rpl-popper> `}}r._([r.n({type:String,reflect:!0})],e.prototype,"variant",void 0),r._([r.n({type:String,reflect:!0})],e.prototype,"placement",void 0),r._([r.n({type:Boolean,reflect:!0})],e.prototype,"disabled",void 0),r._([r.n({type:String,reflect:!0})],e.prototype,"label",void 0),r._([r.n()],e.prototype,"anchor",void 0);var p=o.a`${r.V}:host{--transition-duration:250ms;display:contents}:host,:host([appearance=neutral]){--rpl-coachmark-background-color:var(--color-neutral-background);--rpl-coachmark-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-coachmark-background-color:var(--color-inverted-neutral-background);--rpl-coachmark-color:var(--color-inverted-neutral-content-strong)}.coachmark{--arrow-size:var(--rpl-coachmark-arrow-size, 4px);--arrow-color:var(--rpl-coachmark-background-color)}rpl-popper{--arrow-size:8px}rpl-popper[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}rpl-popper[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}rpl-popper::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}rpl-popper[placement^=top]::part(popup){transform-origin:bottom}rpl-popper[placement^=bottom]::part(popup){transform-origin:top}rpl-popper[placement^=left]::part(popup){transform-origin:right}rpl-popper[placement^=right]::part(popup){transform-origin:left}`;let l=class extends e{};return l.styles=p,l=r._([r.e("rpl-coachmark")],l),{get RPLCoachmark(){return l}}}));
SML.dm("rplcoachmarkcard5c5498b1",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(t,e,o)=>{const a="title-icon",s="close-button",l="primary-button",r="secondary-button",n="tertiary-button";class i extends t.Q{constructor(){super(...arguments),this.appearance="neutral",this.autoClose=!1,this.emitCloseButtonClickEvent=()=>{this.emitter.dispatch("close-button-clicked",{bubbles:!0,composed:!0})},this.handleCloseButtonClick=t=>{t.stopPropagation(),this.autoClose&&this.emitCloseButtonClickEvent()},this.handleCloseButtonKeydown=t=>{this.autoClose&&"Enter"===t.key&&this.emitCloseButtonClickEvent()}}render(){const t=o.O(this,a),i=o.O(this,s),d=o.O(this,l),c=o.O(this,r),h=o.O(this,n),m=d||c||h;return e.x`<div> <slot name="${"title-graphic"}"></slot> <div class="main"> <div class="content"> <div class="title-row"> <slot name="${a}" class="${t?"has-slotted":""}"></slot> <slot name="${"title"}"></slot> <slot name="${s}" part="close-button" class="${i?"has-slotted":""}" @click="${this.handleCloseButtonClick}" @keydown="${this.handleCloseButtonKeydown}"></slot> </div> <div class="body"><slot></slot></div> </div> <div class="footer ${m?"has-slotted":""}"> <slot name="${n}" class="${h?"has-slotted":""}"></slot> <div class="footer-right"> <slot name="${r}"></slot> <slot name="${l}"></slot> </div> </div> </div> </div>`}}t._([t.n({type:String,reflect:!0})],i.prototype,"appearance",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"auto-close"})],i.prototype,"autoClose",void 0);var d=e.a`${t.V}:host{display:flex;flex-direction:column;border-radius:var(--rem16);overflow:hidden;box-shadow:var(--boxshadow-modal);gap:var(--rem8);background-color:var(--color-neutral-background);color:var(--color-neutral-content-strong)}:host([appearance=inverted]){background-color:var(--color-inverted-neutral-background);color:var(--color-inverted-neutral-content-strong)}.main{display:flex;flex-direction:column;padding:var(--rem8) var(--rem8) var(--rem8) var(--rem16)}slot[name=title-graphic]{display:flex}.title-row{display:flex}.body{padding-right:var(--rem8)}slot[name=title-icon].has-slotted{display:flex;padding-top:var(--rem8);padding-right:var(--rem12)}slot[name=title]{display:flex;align-items:center;flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-size:var(--rem14);font-weight:700}slot:not([name]){white-space:wrap}slot[name=close-button].has-slotted{display:flex;padding-left:var(--rem4)}slot[name=primary-button]{display:flex;padding-right:var(--rem8)}slot[name=tertiary-button].has-slotted{font-size:var(--rem12);flex-shrink:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:var(--rem8)}.footer{display:flex;align-items:center;justify-content:end;padding-right:var(--rem8)}.footer.has-slotted{padding-top:var(--rem8)}.footer:has(slot[name=tertiary-button].has-slotted){justify-content:space-between}.footer-right{display:flex}`;let c=class extends i{};return c.styles=d,c=t._([t.e("rpl-coachmark-card")],c),{get RPLCoachmarkCard(){return c}}}));
SML.dm("smartescalationsproviderclientjs1b1b1602",["shelle48e5956","iconc33661e6","communityonboardingcompletedmodalclientjsf4f5192c","huiuserdrawerclientjs91e856a7","TinyGesture26737d23","agegatestandaloneclientjsb13e879d"],(async(s,t)=>{var a;!function(s){s.SUCCESS="success"}(a||(a={}));let i=class extends t.s{constructor(){super(...arguments),this.pubsub=new s.P(this),this.requestClientGQL=s.B,this.isDesktop=!0,this.isDismiss=!1,this.subredditId="",this.authorId="",this._activateFeature=async t=>s.k(t),this.initSmartEscalations=async({thingId:t,removalReasonId:a,authorId:i,subredditId:e,removalReasonDisplayText:o})=>{this.subredditId=e,this.authorId=i,await this._activateFeature({name:s.gN,renderMode:s.o.Contents,queryParams:{thing_id:t,author_id:i,subreddit_id:e,is_moderator:!0,removal_reason_id:a,removal_reason_display_text:o,is_desktop:!!this.isDesktop}})},this.performAction=()=>{this.addRemovalReasonStatus===a.SUCCESS&&void 0!==this.smartEscalationsStatus&&(this.pubsub.publish(s.T.AddRemovalReasonClose),this.smartEscalationsStatus===s.fc.READY&&this.openSmartEscalations(),this.addRemovalReasonStatus=void 0,this.smartEscalationsStatus=void 0)},this.updateRemovalReasonStatus=s=>{this.addRemovalReasonStatus=s},this.updateSmartEscalationStatus=s=>{this.smartEscalationsStatus=s},this.openSmartEscalations=async()=>{await(this.rplDialogSheet?.showModal())},this.closeSmartEscalations=async s=>{this.isDismiss=s?.isDismiss??!1,await(this.rplDialogSheet?.hide())},this.dismissSmartEscalations=async()=>{try{if(!this.isDismiss)return;const t={input:{subredditID:this.subredditId,userID:this.authorId}};this.requestClientGQL({operation:s.O.DismissSmartEscalation,variables:t})}finally{this.isDismiss&&(this.isDismiss=!1),this.subredditId="",this.authorId=""}}}get rplDialogSheet(){return this.querySelector("rpl-dialog-sheet")}get featureRoot(){return document.querySelector("#smart-escalations-content-modal rpl-modal-card")}updated(s){(s.has("addRemovalReasonStatus")||s.has("smartEscalationsStatus"))&&this.performAction()}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(s.T.SmartEscalationsInit,this.initSmartEscalations,!1),this.pubsub.subscribe(s.T.SmartEscalationsDismiss,this.dismissSmartEscalations,!1),this.pubsub.subscribe(s.T.SmartEscalationsClose,this.closeSmartEscalations,!1),this.pubsub.subscribe(s.T.SmartEscalationsOpen,this.openSmartEscalations,!1),this.pubsub.subscribe(s.T.RemovalReasonStatus,this.updateRemovalReasonStatus,!1),this.pubsub.subscribe(s.T.SmartEscalationsStatus,this.updateSmartEscalationStatus,!1)}disconnectedCallback(){this.pubsub.unsubscribe(s.T.SmartEscalationsInit,this.initSmartEscalations),this.pubsub.unsubscribe(s.T.SmartEscalationsDismiss,this.dismissSmartEscalations),this.pubsub.unsubscribe(s.T.SmartEscalationsClose,this.closeSmartEscalations),this.pubsub.unsubscribe(s.T.SmartEscalationsOpen,this.openSmartEscalations),this.pubsub.unsubscribe(s.T.RemovalReasonStatus,this.updateRemovalReasonStatus),this.pubsub.unsubscribe(s.T.SmartEscalationsStatus,this.updateSmartEscalationStatus),super.disconnectedCallback()}render(){return t.x` <slot></slot>`}};return s._([s.n({type:Boolean,attribute:"is-desktop"})],i.prototype,"isDesktop",void 0),s._([s.d()],i.prototype,"addRemovalReasonStatus",void 0),s._([s.d()],i.prototype,"smartEscalationsStatus",void 0),i=s._([s.e("smart-escalations-provider")],i),{get R(){return a}}}));
SML.dm("modremovalreasonformclientjsba8e4d27",["shelle48e5956","iconc33661e6","rendersavedresponsetemplatebysubredditidb78cebab","awards2379b181","agegatestandaloneclientjsb13e879d","faceplateformcff507f5","communitypickerf331f77f","comment5b02ad76","overflowmenuactionsf8d12b95","links22118b0c","headeractionitemchatclientjsb3335fba","utils93db03dd","tooltipbaseaa9651a3","constants9e09f052","smartescalationsproviderclientjs1b1b1602","rplfilterchip3ad19f7c","faceplateselecttextinputbad79e01","faceplateoption7a297e33","rplcoachmark4e17786a","rplcoachmarkcard5c5498b1","chatmobilexpromoclientjs5e1c145c","faceplatetextareainput29f541e5","distinguishedtags1c4757ea","tablepagination77cf692d","selectcontroller4c63b3e8","userflairfe275854","utils57a7018c","textinput9c3f45be","communityonboardingcompletedmodalclientjsf4f5192c","huiuserdrawerclientjs91e856a7","TinyGesture26737d23"],(async(e,t,a,s,o,n,i,l,r,d,c,m,u,p,h)=>{const v="dont-notify-tooltip-close",g="removal-reason-input-changed",{svg:E}=t.g();var R=t.d(E`<path d="M17.153 6.75H15.9A2.753 2.753 0 0 0 13.153 4V2.75A2.753 2.753 0 0 0 15.9 0h1.25a2.752 2.752 0 0 0 2.75 2.75V4a2.752 2.752 0 0 0-2.747 2.75ZM15.3 3.375c.494.316.914.735 1.23 1.23a4.02 4.02 0 0 1 1.23-1.23 4.02 4.02 0 0 1-1.23-1.23 4.033 4.033 0 0 1-1.23 1.23ZM9.216 20h-1.33l-.085-.526c-.725-4.557-2.684-6.521-7.224-7.248l-.526-.084v-1.284l.527-.084c4.54-.727 6.5-2.691 7.224-7.248L7.886 3h1.33l.084.526c.725 4.557 2.684 6.521 7.225 7.248l.526.084v1.284l-.526.084c-4.541.727-6.5 2.691-7.225 7.248L9.216 20Zm-6.234-8.5a7.858 7.858 0 0 1 5.569 5.634 7.858 7.858 0 0 1 5.57-5.634 7.859 7.859 0 0 1-5.57-5.634A7.858 7.858 0 0 1 2.98 11.5Z"></path>`,"0 0 20 20","ai-outline");class b extends CustomEvent{constructor(e){super(b.eventName,{detail:e,bubbles:!0,composed:!0})}}b.eventName="select-suggested-removal-reason";let S=class extends t.s{constructor(){super(...arguments),this.reasons=[],this.suggestions=[],this.eventContext={}}getReasonNumber(e){const t=this.reasons.findIndex((t=>t.id===e));return t>=0?t+1:0}getSelectedChip(){return this.shadowRoot?.querySelector('rpl-filter-chip[name="removal-reason-suggestion"][selected]')??null}render(){return t.x` <div class="my-xs w-fit"> ${R({size:t.I.ExtraSmall})} Suggested <rpl-tooltip appearance="inverted" trigger="hover focus" placement="right" @click="${e=>e.preventDefault()}"> ${t.$({size:t.I.ExtraSmall})} <span slot="content" class="pointer-events-auto"> Suggestions based on the content, your rules, and your removal reasons. <a href="https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses" target="_blank" class="text-inverted-neutral-content-strong" @click="${e=>e.stopPropagation()}"> Learn more </a> </span> </rpl-tooltip> <div class="flex flex-col gap-xs mt-xs"> ${this.suggestions.map((e=>{const a=this.getReasonNumber(e.id);return t.x` <faceplate-tracker source="moderator" action="click" noun="removal_reason_recommendation" data-faceplate-tracking-context="${JSON.stringify({action_info:{reason:e.id},subreddit:{id:this.eventContext.subredditId},post:{id:this.eventContext.postId},comment:{id:this.eventContext.commentId}})}" @click="${e=>{e.preventDefault(),e.stopPropagation()}}"> <rpl-filter-chip name="removal-reason-suggestion" class="max-w-fit" appearance="bordered" data-removal-reason-id="${e.id}" ?selected="${this.value===e.id}" @click="${()=>{this.dispatchEvent(new b({reasonId:e.id}))}}">${a?`${a}. `:""}${e.title}</rpl-filter-chip> </faceplate-tracker> `}))} </div> </div> `}};S.styles=[e.t],e._([e.n({type:Array})],S.prototype,"reasons",void 0),e._([e.n({type:Array})],S.prototype,"suggestions",void 0),e._([e.n({type:Object,attribute:"event-context"})],S.prototype,"eventContext",void 0),e._([e.n()],S.prototype,"value",void 0),S=e._([e.e("removal-reason-suggestions")],S);let y=class extends t.s{constructor(){super(...arguments),this._showCoachmark=!localStorage.getItem(this.getLocalStorageKey()),this.closeCoachmark=e=>{e.stopPropagation(),this._showCoachmark=!1},this.handleLearnMore=e=>{e.stopPropagation(),window.open("https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses","_blank")}}getLocalStorageKey(){return e.L.RemovalReasonSuggestionsCoachmarkSeen}connectedCallback(){super.connectedCallback();localStorage.getItem(this.getLocalStorageKey())?this._showCoachmark=!1:(localStorage.setItem(this.getLocalStorageKey(),"true"),this._showCoachmark=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return t.x`<rpl-coachmark placement="${m.P.Bottom}" appearance="${u.a.Inverted}" ?open="${this._showCoachmark}" class="w-[270px]"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${u.a.Inverted}" class="w-[270px]"> <div slot="title" class="pt-xs pb-2xs"> <div> Save time with suggested removal reasons </div> </div> ${e.r({attributes:{className:"close-btn",slot:"close-button",onclick:e=>{e.stopPropagation(),this.closeCoachmark(e)}},appearance:"plainInverted",size:e.s.Small,leadingIcon:t.C({size:t.I.Small})})} <div class="text-12 mb-sm"> Based on the content, your rules, and your removal reasons, we\u2019ll suggest the most likely removal reasons. </div> ${e.r({attributes:{slot:"secondary-button",onclick:this.handleLearnMore},children:"Learn More",appearance:"plainInverted",size:e.s.Small})} ${e.r({attributes:{slot:"primary-button",onclick:this.closeCoachmark},children:"Got It",appearance:"plainInverted",size:e.s.Small})} </rpl-coachmark-card> </rpl-coachmark>`}};y.styles=[e.t],e._([e.d()],y.prototype,"_showCoachmark",void 0),y=e._([e.e("removal-reason-suggestions-coachmark")],y);class f extends p.F{constructor(){super(...arguments),this.isInputDirty=!1,this.required=!1,this.handleSubmit=()=>{this.isInputDirty=!0},this.handleInvalid=e=>{e.preventDefault()}}get value(){const e=this._internals.getFormValue();return e?e.toString():null}set value(e){e!==this.value&&(this._internals.setFormValue(e),this.updateValidity(),this.dispatchEvent(new CustomEvent(g,{detail:{value:e},bubbles:!0})))}connectedCallback(){super.connectedCallback(),i.c(this).then((e=>{e?.addEventListener("faceplate-submit",this.handleSubmit)})),this.addEventListener("invalid",this.handleInvalid),this.updateValidity()}disconnectedCallback(){super.disconnectedCallback(),this.form?.removeEventListener("faceplate-submit",this.handleSubmit),this.removeEventListener("invalid",this.handleInvalid)}updateValidity(){this.required&&!this.value?this._internals.setValidity({valueMissing:!0},this.getValueMissingValidationMessage()):this._internals.setValidity(),this.requestUpdate()}getValueMissingValidationMessage(){return""}renderValidationState(){return this.isInputDirty&&this.validationMessage?t.x`<span class="text-12 text-danger-content px-md">${this.validationMessage}</span>`:null}}e._([e.d()],f.prototype,"isInputDirty",void 0),e._([e.n({type:Boolean})],f.prototype,"required",void 0);class _ extends CustomEvent{constructor(e){super(_.eventName,{detail:e,bubbles:!0,composed:!0})}}_.eventName="select-removal-reason";let I=class extends f{constructor(){super(...arguments),this.isSitewide=!1,this.selectedRemovalReason=this.value,this.handleSelectSuggestedRemovalReason=e=>{this.selectReasonById(e.detail.reasonId,!1)},this.handleSelect=e=>{const t=e.target;this.selectReasonById(t.value)}}get displayText(){return this.reasons?.find((e=>e.id===this.value))?.title||""}static get styles(){return[e.t,t.a`:host{display:flex;flex-direction:column}`]}getValueMissingValidationMessage(){return"Removal reason is required."}getPlatformRuleOption(){return{id:"default-removal-reason",title:"Breaking platform rules",message:""}}selectReasonById(e,t=!0){const a=(this.includePlatformRuleOption?[...this.reasons||[],this.getPlatformRuleOption()]:this.reasons||[]).find((t=>t.id===e));a&&this.selectedRemovalReason!==a.id&&(this.selectedRemovalReason=a.id,this.value=a.id,this.dispatchEvent(new _({...a,isSitewide:this.isSitewide,trackEvent:t})))}getDropdownPlaceholder(){return this.isSitewide?"Select a platform rule":"Select a removal reason"}connectedCallback(){super.connectedCallback(),this.addEventListener(b.eventName,this.handleSelectSuggestedRemovalReason)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(b.eventName,this.handleSelectSuggestedRemovalReason)}render(){return t.x` <label class="text-16 text-neutral-content-strong"> ${super.render()} </label> <faceplate-select-text-input label="${this.getDropdownPlaceholder()}" value="${this.selectedRemovalReason}" readonly="readonly" style="--faceplate-select-menu-max-height:350px;-faceplate-select-menu-max-width:80vw" @faceplate-select-text-input:change="${this.handleSelect}"> ${this.reasons?.map(((e,a)=>t.x`<faceplate-option value="${e.id}" display-text="${e.title}" ?selected="${e.id===this.selectedRemovalReason}"><span slot="leading" class="whitespace-nowrap text-16">${a+1}</span></faceplate-option>`))} ${this.includePlatformRuleOption&&t.x`<faceplate-option value="default-removal-reason" display-text="${this.getPlatformRuleOption().title}"></faceplate-option>`} ${this.includeAddRemovalReasonOption&&t.x`<faceplate-option value="add-removal-reason"> <slot name="link"></slot> </faceplate-option>`} </faceplate-select-text-input> ${this.renderValidationState()} ${this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses&&this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses.length>0?t.x` <removal-reason-suggestions-coachmark> <removal-reason-suggestions class="block w-fit" reasons="${JSON.stringify(this.reasons)}" suggestions="${JSON.stringify(this.removalReasonSuggestionsContext.predictedRemovalSavedResponses)}" event-context="${JSON.stringify(this.removalReasonSuggestionsContext.eventContext)}" value="${this.selectedRemovalReason}"></removal-reason-suggestions> </removal-reason-suggestions-coachmark> `:""} `}};e._([e.n({type:Array})],I.prototype,"reasons",void 0),e._([e.n({type:Boolean,attribute:"is-sitewide"})],I.prototype,"isSitewide",void 0),e._([e.n({type:Boolean,attribute:"include-platform-rule-option"})],I.prototype,"includePlatformRuleOption",void 0),e._([e.n({type:Boolean,attribute:"include-add-removal-reason-option"})],I.prototype,"includeAddRemovalReasonOption",void 0),e._([e.n({type:Object,attribute:"removal-reason-suggestions-context"})],I.prototype,"removalReasonSuggestionsContext",void 0),e._([e.d()],I.prototype,"selectedRemovalReason",void 0),I=e._([e.e("removal-reason-input")],I);const{svg:T}=t.g();var M=t.d(T`<path d="m16.784 9.5 2.558 2.558-.884.884-2.558-2.558-2.558 2.558-.884-.884L15.016 9.5l-2.558-2.558.884-.884L15.9 8.616l2.558-2.558.884.884L16.784 9.5Zm-6.427 10.248A1.128 1.128 0 0 0 11 18.715V1.286a1.131 1.131 0 0 0-.643-1.034A1.091 1.091 0 0 0 9.19.405L3.815 5.056H2.108A1.124 1.124 0 0 0 1 6.194v7.613a1.124 1.124 0 0 0 1.108 1.138h1.707L9.2 19.608a1.084 1.084 0 0 0 1.157.14ZM2.25 6.306h2.031l5.47-4.733v16.855L4.28 13.7h-2.03V6.306Z"></path>`,"0 0 20 20","mute-outline");let D=class extends c.R{constructor(){super(),this.tooltipVisible=!1,this.trigger="manual",this.placement="top",this.appearance="neutral"}connectedCallback(){super.connectedCallback(),this.initializeTooltip(),this.addEventListener(v,this.hideTooltip)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(v,this.hideTooltip)}async initializeTooltip(){e.l.getItem(e.L.RemovalReasonDontNotifyDismissed)||setTimeout((()=>this.showTooltip()),750)}showTooltip(){this.show()}hideTooltip(t){t.stopPropagation(),e.l.setItem(e.L.RemovalReasonDontNotifyDismissed,"true"),this.hide()}};e._([e.d()],D.prototype,"tooltipVisible",void 0),D=e._([e.e("dont-notify-tooltip")],D);let C=class extends t.s{constructor(){super(...arguments),this.isAIModEnabledForSubreddit=!1}handleClose(){this.dispatchEvent(new CustomEvent(v,{bubbles:!0}))}render(){return t.x` <div class="pointer-events-auto py-xs pl-xs w-[200px]"> <div class="flex flex-row"> <div> <div class="text-14 font-bold text-neutral-content-strong"> Don't want to notify? </div> <div class="text-12 font-normal text-neutral-content-strong"> ${this.isAIModEnabledForSubreddit?"Use removal reasons to train automations and track mod actions without notifying users.":"Use removal reasons to track mod actions without notifying users."} </div> </div> ${e.r({appearance:"secondary",leadingIcon:t.C({size:t.I.Small}),size:e.s.Small,screenReaderContent:"Close tooltip",attributes:{type:"button",className:"flex-shrink-0 -mt-xs",onclick:this.handleClose}})} </div> <div class="flex justify-end mt-md"> ${e.r({appearance:"plain",size:e.s.Small,children:"Okay",attributes:{type:"button",onclick:this.handleClose}})} </div> </div> `}};var L;C.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],C.prototype,"isAIModEnabledForSubreddit",void 0),C=e._([e.e("dont-notify-tooltip-content")],C),function(e){e.Comment="Comment",e.Modmail="Modmail",e.DontNotify="DontNotify"}(L||(L={}));let x=class extends f{constructor(){super(...arguments),this.isModmailAllowed=!1,this.isAIModEnabledForSubreddit=!1}static get styles(){return[e.t,t.a`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=L.Comment}getValueMissingValidationMessage(){return"Please select the notification method."}render(){return t.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} Notify user via </label> <div class="flex flex-row gap-xs"> ${e.r({appearance:"bordered",children:"Comment",leadingIcon:t.a8({size:t.I.Small}),selected:this.value===L.Comment,attributes:{type:"button",onclick:()=>{this.value=L.Comment,this.requestUpdate()}}})} ${this.isModmailAllowed?e.r({appearance:"bordered",children:"Mod Mail",leadingIcon:t.aO({size:t.I.Small}),selected:this.value===L.Modmail,attributes:{type:"button",onclick:()=>{this.value=L.Modmail,this.requestUpdate()}}}):t.A} <dont-notify-tooltip> ${e.r({appearance:"bordered",children:"Don't Notify",leadingIcon:M({size:t.I.Small}),selected:this.value===L.DontNotify,attributes:{type:"button",onclick:()=>{this.value=L.DontNotify,this.requestUpdate()}}})} <dont-notify-tooltip-content ?is-ai-mod-enabled-for-subreddit="${this.isAIModEnabledForSubreddit}" slot="content"></dont-notify-tooltip-content> </dont-notify-tooltip> </div> ${this.renderValidationState()} `}};var A;e._([e.n({type:Boolean,attribute:"is-mod-mail-allowed"})],x.prototype,"isModmailAllowed",void 0),e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],x.prototype,"isAIModEnabledForSubreddit",void 0),x=e._([e.e("removal-reason-notification-method")],x),function(e){e.User="User",e.Mod="Mod"}(A||(A={}));let k=class extends f{static get styles(){return[e.t,t.a`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=A.Mod}getValueMissingValidationMessage(){return"Please select the notification sender."}render(){return t.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} Send message as </label> <div class="flex flex-row gap-xs"> ${e.r({appearance:"bordered",children:"Mod Team",leadingIcon:t.x`<slot name="mod-icon"></slot>`,selected:this.value===A.Mod&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=A.Mod,this.requestUpdate()}}})} ${e.r({appearance:"bordered",children:this.user,leadingIcon:t.x`<slot name="user-icon"></slot>`,selected:this.value===A.User&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=A.User,this.requestUpdate()}}})} </div> ${this.renderValidationState()} `}};e._([e.n()],k.prototype,"user",void 0),k=e._([e.e("removal-reason-notification-sender")],k);class O extends CustomEvent{constructor(e){super(O.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}O.eventName="mod-removal-reason-added";class w extends CustomEvent{constructor(e){super(w.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}w.eventName="removal-reason-form-element-clicked";let N=class extends(e.C(n.F)){constructor(){super(),this._eventController=new e.E(this),this.handleFormElementClicked=e=>{e.target?.name&&this.dispatchEvent(new w({formElement:e.target.name}))},this.handleRemovalReasonInputChanged=e=>{if(e.target instanceof x){const t=e.target.value!==L.DontNotify;this.toggleNotificationSender(t),this.toggleMessageInput(t)}e.target instanceof I&&"removal-reason"===e.target.name&&this.toggleDefaultPolicyInput("default-removal-reason"===e.target.value)},this.convertFormDataToGql=e=>{const t=e.get("notification-method"),a=e.get("notification-sender"),s={reasonId:this.getRemovalReasonId(e),type:this.parseRemovalReasonMessageType(t,a),message:t===L.DontNotify?null:e.get("message"),isLockComment:e.has("lock")},o=e.get("modNote")||void 0,n={itemId:e.get("thing")?.toString()||"",removalReason:s,modNote:o};return this.lastSubmittedData=n,JSON.stringify({...n,csrf_token:e.get("csrf_token")})},this.encoders={...this.encoders,"application/json":this.convertFormDataToGql}}connectedCallback(){super.connectedCallback(),this._eventController.define(g,this.handleRemovalReasonInputChanged),this._eventController.define("click",this.handleFormElementClicked)}toggleNotificationSender(e){const t=this.elements["notification-sender"];t&&(e?t.removeAttribute("disabled"):t.setAttribute("disabled",""))}toggleField(e,t){e&&(t?(e.classList.remove("hidden"),e.setAttribute("required","")):(e.classList.add("hidden"),e.removeAttribute("required")))}toggleMessageInput(e){const t=this.elements.message;t&&this.toggleField(t,e)}toggleDefaultPolicyInput(e){const t=this.elements["default-removal-reason"];t&&this.toggleField(t,e)}showError(){const t={level:e.x.error,message:"Something went wrong",cause:e.ag.QueryBadResponse};this.dispatchEvent(e.c("faceplate-alert",t))}async handleResponse(t){if(!t.ok)return this.dispatchEvent(e.c($.eventName)),this.showError();try{const a=await t.text(),s={level:e.x.success,message:"Removal reason added"},o=this.lastSubmittedData?.itemId||"";if(d.l(o)){const t={postId:o,action:r.a.addRemovalReason,value:!0};this.publish(e.T.PostUpdated,t)}else{const t={commentId:o,action:l.C.addRemovalReason,value:!0};this.publish(e.T.CommentUpdated,t)}if(a){const t={parentThingId:o,body:a};this.publish(e.T.CommentCreated,t)}this.dispatchEvent(e.c($.eventName)),this.dispatchEvent(e.c("faceplate-alert",s)),this.lastSubmittedData&&this.dispatchEvent(new O(this.lastSubmittedData))}catch{this.showError()}}parseRemovalReasonMessageType(t,a){return t===L.Comment?a===A.Mod?e.gM.CommentAsSubreddit:e.gM.CommentAsMod:t===L.Modmail?a===A.Mod?e.gM.MessageAsSubreddit:e.gM.MessageAsMod:null}getRemovalReasonId(e){const t=e.get("removal-reason");return"default-removal-reason"===t?e.get("default-removal-reason"):t}};N=e._([e.e("removal-reason-form")],N),i.r(N);const P={"removal-reason":"subreddit_removal_reason","default-removal-reason":"default_removal_reason",message:"message_to_user","notification-method":"notification_method","notification-sender":"notification_sender",modNote:"mod_note"};class H extends CustomEvent{constructor(e){super(H.eventName,{detail:e,bubbles:!0,composed:!0})}}H.eventName="mod-add-removal-reason-show-modal";class $ extends CustomEvent{constructor(){super($.eventName)}}$.eventName="mod-add-removal-reason-toggle-loading";let j=class extends t.s{constructor(){super(...arguments),this.pubsub=new e.P(this),this.getInputValue=e=>this.removalReasonForm?.querySelector(`input[name="${e}"]`)?.value,this.buildAndTrackEvent=t=>{const a={action:"click",...t,authorId:this.getInputValue("authorId"),subredditId:this.getInputValue("subredditId"),subredditName:this.subredditName,thingId:this.thingId};e.a(this,s.y(a))},this.firstUpdated=()=>{this.isSmartEscalationsCommunityRulesEnabled&&this.updateComplete.then((()=>{this.primaryButton?.addEventListener("click",(()=>{this.removalReasonForm?.isValid&&(this.toggleButtonLoadingIndicator(),this.initSmartEscalations())}))}))},this.handleAddRemovalReasonEvent=({detail:e})=>{""!==e?this.show(e):this.thingId=void 0},this.handleFormElementClicked=e=>{const t={type:P[e.detail.formElement]||e.detail.formElement},a=this.removalReasonForm?.elements[e.detail.formElement]?.value||this.getInputValue(e.detail.formElement);if("lock"===e.detail.formElement&&(t.isLocked="on"===a),"notification-method"===e.detail.formElement){if(!a)return;t.notificationMethod=a}if("notification-sender"===e.detail.formElement){if(!a)return;t.sendAs=a}this.buildAndTrackEvent(t)},this.handleSelectRemovalReason=async e=>{const t=this.removalReasonInput?.removalReasonSuggestionsContext;e.detail.trackEvent&&this.buildAndTrackEvent({type:e.detail.isSitewide?"default_removal_reason":"subreddit_removal_reason",reason:e.detail.id,noun:"removal_reason_select",subredditId:t?.eventContext?.subredditId,postId:t?.eventContext?.postId,commentId:t?.eventContext?.commentId});const a=this.removalReasonForm,s=this.shadowRoot?.querySelector("faceplate-textarea-input");s&&e.detail.message&&(s.value=await this.renderRemovalReasonMessage(e.detail.id,e.detail.message),await s.updateComplete,s.syncInputValidity(),a?.notifyObservers(s))},this.renderRemovalReasonMessage=async(e,t)=>{try{return await this.renderRemovalReasonAsSavedResponseTemplate(e)}catch{return t}},this.renderSavedResponseTemplateBySubredditId=a.r,this.renderRemovalReasonAsSavedResponseTemplate=e=>this.renderSavedResponseTemplateBySubredditId({responseId:e,subredditId:this.getInputValue("subredditId")||"",contentId:this.thingId}),this.handleAddedRemovalReason=t=>{let a=function(t){let a;a=t.type===e.gM.CommentAsMod||t.type===e.gM.CommentAsSubreddit?"comment":t.type===e.gM.MessageAsMod||t.type===e.gM.MessageAsSubreddit?"modmail":"no message";const s=t.type===e.gM.CommentAsSubreddit||t.type===e.gM.MessageAsSubreddit?"subreddit":"self";return{is_locked:t.isLockComment,notify:a,send_as:s}}(t.detail.removalReason);const o=this.removalReasonInput?.removalReasonSuggestionsContext?.predictedRemovalSavedResponses?.map((e=>e.id));o&&(a={...a,suggestion_list:o}),e.a(this,s.z(a,this.removalReasonInput?.value??void 0,this.removalReasonInput?.removalReasonSuggestionsContext?.eventContext)),this.isSmartEscalationsCommunityRulesEnabled&&!this.isExpandSuggestedActionsEnabled?(this.buildAndTrackEvent({type:"submit_button",reason:"default-removal-reason"===this.removalReasonInput?.value?this.defaultRemovalReasonInput?.value??void 0:this.removalReasonInput?.value??void 0,notificationMethod:this.removalReasonForm?.elements["notification-method"]?.value,sendAs:this.removalReasonForm?.elements["notification-sender"]?.value,isLocked:"on"===this.getInputValue("lock"),modNote:this.getInputValue("modNote"),message:this.getInputValue("message")}),this.pubsub.publish(e.T.RemovalReasonStatus,h.R.SUCCESS)):this.close()},this.handleCancel=t=>{t.stopImmediatePropagation(),this.buildAndTrackEvent({type:"close_button"}),e.a(this,s.A()),this.close()},this.toggleButtonLoadingIndicator=()=>{this.primaryButton?.querySelector("faceplate-progress")?.classList.toggle("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.toggle("opacity-0")},this.showHideSubmitButton=()=>{this.removalReasonInput?this.primaryButton?.classList.remove("hidden"):this.primaryButton?.classList.add("hidden")},this.close=()=>{this.modal?.open&&(this.modal?.close(),document.body.style.overflow="auto",document.body.style.pointerEvents="auto")},this.initSmartEscalations=()=>{const t=this.getInputValue("authorId"),a=this.getInputValue("subredditId"),s=t&&a&&this.thingId;s&&this.pubsub.publish(e.T.SmartEscalationsInit,{thingId:this.thingId,authorId:t,subredditId:a,removalReasonId:(this.defaultRemovalReasonInput?.value||this.removalReasonInput?.value)??"",removalReasonDisplayText:(this.defaultRemovalReasonInput?.displayText||this.removalReasonInput?.displayText)??""}),!s&&this.close()}}get removalReasonInput(){return this.shadowRoot?.querySelector('[name="removal-reason"]')}get defaultRemovalReasonInput(){return this.shadowRoot?.querySelector('[name="default-removal-reason"]')}get removalReasonForm(){return this.shadowRoot?.querySelector("removal-reason-form")}get primaryButton(){return this.shadowRoot?.querySelector('faceplate-modal [slot=primaryButton] button[type="submit"]')}get selectedSuggestionValue(){const e=this.removalReasonInput?.shadowRoot?.querySelector("removal-reason-suggestions"),t=e?.getSelectedChip();return t?.dataset.removalReasonId}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.AddRemovalReasonClose,this.close,!1),this.addEventListener(_.eventName,this.handleSelectRemovalReason),this.addEventListener(O.eventName,this.handleAddedRemovalReason),this.addEventListener($.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(w.eventName,this.handleFormElementClicked),window.addEventListener(H.eventName,this.handleAddRemovalReasonEvent)}disconnectedCallback(){super.disconnectedCallback(),this.pubsub.unsubscribe(e.T.AddRemovalReasonClose,this.close),window.removeEventListener(H.eventName,this.handleAddRemovalReasonEvent),this.removeEventListener(_.eventName,this.handleSelectRemovalReason),this.removeEventListener(O.eventName,this.handleAddedRemovalReason),this.removeEventListener($.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(w.eventName,this.handleFormElementClicked)}async show(e){e&&(this.thingId=e,await this.updateComplete),this.modal?.showModal(),await(this.partial?.load()),this.buildAndTrackEvent({action:"view"}),this.primaryButton?.querySelector("faceplate-progress")?.classList.add("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.remove("opacity-0"),this.showHideSubmitButton()}render(){return t.x` <removal-reason-form class="mb-0" enctype="application/json" method="POST" action="/svc/shreddit/mod/removal-reason"> <faceplate-modal class="max-w-[540px] w-[90v w] z-30"> <div slot="closeButton"> ${e.r({appearance:"secondary",leadingIcon:t.C({size:t.I.Small}),size:e.s.Small,attributes:{type:"button",onclick:this.handleCancel}})} </div> <input type="hidden" name="thing" value="${this.thingId}"> ${o.aa(this.thingId,t.x` <faceplate-partial class="w-100" src="/svc/shreddit/removal-reason-form/${this.thingId}" loading="${e.I.Programmatic}"> <div class="w-100 h-4xl flex items-center justify-center"> <faceplate-progress value="20" class="animate-spin"></faceplate-progress> </div> </faceplate-partial> `)} <div slot="primaryButton"> ${e.r({children:t.x`<faceplate-progress value="20" class="animate-spin loading-icon hidden absolute left-0 right-0 m-auto w-[16px]" style="--loader-size:1rem"></faceplate-progress> <span class="submit-button-content"> Submit</span>`,appearance:"primary",attributes:{type:"submit",className:"w-100 relative"}})} </div> <div slot="secondaryButton"> ${e.r({children:"Cancel",appearance:"plain",attributes:{className:"w-100",type:"button",onclick:this.handleCancel}})} </div> </faceplate-modal> </removal-reason-form> `}};return j.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-smart-escalations-community-rules-enabled"})],j.prototype,"isSmartEscalationsCommunityRulesEnabled",void 0),e._([e.n({type:Boolean,attribute:"is-expand-suggested-actions-enabled"})],j.prototype,"isExpandSuggestedActionsEnabled",void 0),e._([e.n({type:String})],j.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"subreddit-name"})],j.prototype,"subredditName",void 0),e._([e.y("faceplate-modal")],j.prototype,"modal",void 0),e._([e.y("faceplate-partial")],j.prototype,"partial",void 0),j=e._([e.e("add-removal-reason-modal")],j),{A:H}}));
SML.dm("modlogtakedownpreviewclientjsd3af86b9",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(t,e,o)=>{function n(t,e,o){return!0===(null==o?void 0:o.short)?t.toLocaleDateString(e,{month:"short",day:"numeric"}):t.toLocaleString(e,null==o?void 0:o.options)}const i={options:{dateStyle:"full",timeStyle:"long"}};let s=class extends e.s{constructor(){super(...arguments),this.ts="",this.date=new Date,this.short=!1,this.locale=""}getLocale(){return this.locale||o.ci()}createRenderRoot(){return this}render(){const t=this.getLocale(),o=n(this.date,t,i),s=this.formatOptions?{options:this.formatOptions}:{short:this.short},r=n(this.date,t,s);return e.x`<time datetime="${this.date.toISOString()}" title="${o}">${r}</time>`}};return t._([t.n({type:String})],s.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>o.cj(t||"")})],s.prototype,"date",void 0),t._([t.n({type:Boolean})],s.prototype,"short",void 0),t._([t.n({type:String})],s.prototype,"locale",void 0),t._([t.n({type:Object})],s.prototype,"formatOptions",void 0),s=t._([t.e("faceplate-date")],s),{f:n}}));
SML.dm("commentlinkpostclientjs115fae0d",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(t,e,o)=>{let s=class extends e.s{constructor(){super(),this.ts="",this.short=!1,this.format="",this.locale="",this.date=new Date(this.ts)}getLocale(){return this.locale.length?this.locale:o.ci()}createRenderRoot(){return this}render(){const t=o.cn(this.getLocale(),{dateStyle:"full",timeStyle:"long"}).format(this.date),s={short:this.short,format:this.format.length?this.format:void 0},i=o.co(this.date,this.getLocale(),s);return e.x` <time datetime="${this.date.toISOString()}" title="${t}">${i}</time> `}};t._([t.n({type:String})],s.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>o.cj(t||"")})],s.prototype,"date",void 0),t._([t.n({type:Boolean})],s.prototype,"short",void 0),t._([t.n({type:String})],s.prototype,"format",void 0),t._([t.n({type:String})],s.prototype,"locale",void 0),s=t._([t.e("faceplate-timeago")],s)}));
SML.dm("faceplateshimmer9894306d",["shelle48e5956","iconc33661e6"],(async(e,r)=>{var t;!function(e){e.CIRCLE="circle",e.RECTANGLE="rectangle",e.PILL="pill"}(t||(t={}));const i=2500;let s=0,a=null,o=class extends r.s{constructor(){super(...arguments),this.shape=t.RECTANGLE,this.calcDelay=e=>{if(0===e)return 0;let r=0;const t=a?.getAnimations()[0];return t&&(r=t.effect?.getComputedTiming().progress*i),(r+200*e)%i}}static get styles(){return r.a`:host{display:inline-flex}:host([shape=pill]) #loader{border-radius:var(--rem8)}:host([shape=circle]) #loader{border-radius:50%}#loader{background:var(--color-shimmer-background);height:100%;width:100%;position:relative;overflow-x:hidden}#shimmer-object{background:var(--color-shimmer-gradient-overlay);border-radius:.5rem;height:100%;width:200%;position:absolute;top:0;left:0;transform:translateX(-100%)}`}firstUpdated(){this.shimmer(s++)}async shimmer(e){await new Promise((e=>requestAnimationFrame(e)));a||(a=this.shimmerObject);const r={duration:i,delay:-1*this.calcDelay(e),iterations:1/0};this.shimmerObject?.animate([{transform:"translateX(50%)"}],r)}render(){return r.x`<div id="loader"> <span id="shimmer-object"></span> </div> `}};return e._([e.n({type:String})],o.prototype,"shape",void 0),e._([e.y("#shimmer-object")],o.prototype,"shimmerObject",void 0),o=e._([e.e("faceplate-shimmer")],o),{get L(){return t}}}));
SML.dm("faceplatetooltipf30979fb",["shelle48e5956","iconc33661e6","userflairfe275854","agegatestandaloneclientjsb13e879d"],(async(t,e,o,a)=>{let i=class extends e.s{constructor(){super(...arguments),this.position="bottom",this.mouseEnterDelay=750,this.triggerEvent="hover",this.appearance="neutral",this.emitter=a.J(this),this._timeoutID=null,this._popperController=new o.P(this,{position:this.position,variantFlipOrder:{start:"s",middle:"m",end:"e"},referenceElementKey:"referenceElement",popperElementKey:"_tooltip"}),this._eventUsedMap=new WeakMap,this.updated=t=>{t.has("position")&&this._popperController.updateOptions({position:this.position})},this.handleDocumentClick=t=>{if(!(t.target instanceof HTMLElement)||this.hidden)return;if(t.target.closest(this.tagName.toLowerCase())===this)return;this._eventUsedMap.has(t)||this.close()},this.handleEscape=t=>{"Escape"===t.key&&this.close()},this.addListenersWhileOpened=()=>{document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened=()=>{document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleEscape)}}get referenceElement(){return this.triggers[0]??this}static get styles(){return[e.a`:host{display:inline-block;position:relative;color:var(--tooltip-content)}:host([appearance=neutral]){--tooltip-background:var(--color-tooltip-bg-neutral);--tooltip-content:var(--color-tooltip-text-neutral)}:host([appearance=inverted]){--tooltip-background:var(--color-tooltip-bg-inverted);--tooltip-content:var(--color-tooltip-text-inverted)}:host([appearance=primary]){--tooltip-background:var(--color-tooltip-bg-primary);--tooltip-content:var(--color-tooltip-text-primary)}#faceplate-tooltip{font:var(--font-12-16-semibold);background-color:var(--tooltip-background);color:var(--tooltip-content);border-radius:.25rem;box-shadow:var(--boxshadow-tooltip);justify-content:center;align-items:center;padding:.5rem;display:inline-flex;width:max-content;isolation:isolate;z-index:var(--faceplate-tooltip-z-index,1)}article{display:flex;gap:.375rem}#faceplate-tooltip::after{display:block;content:'';width:8px;height:8px;position:absolute;background-color:var(--tooltip-background)}#faceplate-tooltip[position=bottom-end]::after,#faceplate-tooltip[position=bottom-start]::after,#faceplate-tooltip[position=top-end]::after,#faceplate-tooltip[position=top-start]::after{--max-arrow-x-travel-tooltip:calc(var(--tooltip-width, 2rem) - 1rem);--max-arrow-x-travel-target:calc(var(--target-width, 1rem) / 2);--max-arrow-x-distance:max(
            min(var(--max-arrow-x-travel-target), var(--max-arrow-x-travel-tooltip)),
            0.5rem
          )}#faceplate-tooltip[position=bottom-start]::after,#faceplate-tooltip[position=top-start]::after{left:var(--max-arrow-x-distance)}#faceplate-tooltip[position=bottom-end]::after,#faceplate-tooltip[position=top-end]::after{right:var(--max-arrow-x-distance)}#faceplate-tooltip[position=left-end]::after,#faceplate-tooltip[position=left-start]::after,#faceplate-tooltip[position=right-end]::after,#faceplate-tooltip[position=right-start]::after{--max-arrow-y-travel-tooltip:calc(var(--tooltip-height, 2rem) - 1rem);--max-arrow-y-travel-target:calc(var(--target-height, 2rem) / 2);--max-arrow-y-distance:max(
            min(var(--max-arrow-y-travel-target), var(--max-arrow-y-travel-tooltip)),
            0.5rem
          )}#faceplate-tooltip[position=left-start]::after,#faceplate-tooltip[position=right-start]::after{top:var(--max-arrow-y-distance)}#faceplate-tooltip[position=left-end]::after,#faceplate-tooltip[position=right-end]::after{bottom:var(--max-arrow-y-distance)}#faceplate-tooltip[position|=bottom]::after{top:0;transform:translateY(-50%) rotate(45deg);box-shadow:-1px -1px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=top]::after{bottom:0;transform:translateY(50%) rotate(45deg);box-shadow:1px 1px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=right]::after{left:0;transform:translateX(-38%) rotate(45deg);box-shadow:-2px 0 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=left]::after{right:0;transform:translateX(38%) rotate(45deg);box-shadow:0 -2px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position^=auto]::after{display:none}`,o.P.defaultPopperContentStyles]}get hidden(){return"closed"===this._popperController.currentState.state}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupListenersWhileOpened()}updateCustomProperties(){if("faceplate-tooltip"!==this.tagName.toLocaleLowerCase())return;const{clientHeight:t=null,clientWidth:e=null}=this.referenceElement,{clientHeight:o=null,clientWidth:a=null}=this._tooltip;t&&e&&o&&a&&(this.style.setProperty("--target-width",`${Math.round(e)}px`),this.style.setProperty("--target-height",`${Math.round(t)}px`),this.style.setProperty("--tooltip-width",`${Math.round(a)}px`),this.style.setProperty("--tooltip-height",`${Math.round(o)}px`))}show(){this.emitter.dispatch("open"),this.updateCustomProperties(),this._popperController.open().then((()=>{this.hidden||(this.addListenersWhileOpened(),this.emitter.dispatch("opened"))}))}close(){return this.cleanupListenersWhileOpened(),this.emitter.dispatch("close"),this._popperController.close().then((()=>{this.hidden&&this.emitter.dispatch("closed")}))}handleClick(t){this._eventUsedMap.set(t,!0),"click"===this.triggerEvent&&(this.hidden?this.show():this.close())}handleMouseenter(){"hover"===this.triggerEvent&&(this.cleanupTooltips(),this._timeoutID=window.setTimeout((()=>{this.querySelector(":focus, :hover")&&this.show()}),this.mouseEnterDelay))}handleMouseleave(){this.close(),this.cleanupTooltips()}cleanupTooltips(){this._timeoutID&&(window.clearTimeout(this._timeoutID),this._timeoutID=null)}render(){const t=this._popperController.actualPosition||this.position;return e.x` <slot name="trigger" aria-describedby="faceplate-tooltip" faceplate-popper-trigger @click="${this.handleClick}" @mouseenter="${this.handleMouseenter}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <article id="faceplate-tooltip" role="tooltip" position="${t}" faceplate-popper-content> <slot class="icon" name="icon"></slot> <span> <slot></slot> </span> </article> `}};return t._([t.n({type:String})],i.prototype,"position",void 0),t._([t.n({type:Number,attribute:"enter-delay"})],i.prototype,"mouseEnterDelay",void 0),t._([t.n({type:String,attribute:"trigger-event"})],i.prototype,"triggerEvent",void 0),t._([t.n({type:String,reflect:!0})],i.prototype,"appearance",void 0),t._([t.aP({slot:"trigger",flatten:!0})],i.prototype,"triggers",void 0),t._([t.aP({slot:"icon",flatten:!0})],i.prototype,"icons",void 0),t._([t.y("#faceplate-tooltip")],i.prototype,"_tooltip",void 0),i=t._([t.e("faceplate-tooltip")],i),{get FaceplateTooltip(){return i}}}));
SML.dm("contentactionbutton6a45f903",["iconc33661e6","shelle48e5956"],(async(e,t)=>{const n="plain",a="plain-weak",s="secondary",r="bordered",l="media",o="plain",m={[t.s.ExtraSmall]:e.I.ExtraSmall,[t.s.Small]:e.I.Small,[t.s.Medium]:e.I.Medium,[t.s.Large]:e.I.Medium},i={xs:"px-sm",sm:"px-sm",md:"px-sm",lg:"px-xs"},c={xs:"text-12",sm:"text-12",md:"text-12",lg:"text-14"},d={xs:"var(--size-button-sm-h)",sm:"var(--size-button-sm-h)",md:"var(--size-button-md-h)",lg:"var(--size-button-md-h)"},u={xs:"var(--font-button-sm)",sm:"var(--font-button-sm)",md:"var(--font-button-sm)",lg:"var(--font-button-md)"},b={[n]:"button-plain",[a]:"button-plain-weak",[s]:"button-secondary",[r]:"button-bordered-cab",[l]:"button-media-cab"},p=e=>{const{attributes:t,size:n,appearance:a,selected:s}=e;return[t?.className||"",n?`${c[n]}`:"",b[a??o],s?"button-activated":"","inline-flex items-center"].join(" ")};return{A:b,B:d,I:m,c:({attributes:n,children:a,size:s=t.s.Medium,selected:r,appearance:l=o,leadingIcon:m,screenReaderContent:c,role:b})=>{let x=`flex ${t.ay[s]}`;a&&m&&(x+=" mr-[var(--rem6)]");const{html:E,createElement:$}=e.g(),h=E`<span class="flex items-center"> ${m?E`<span class="${x}">${m}</span>`:void 0} ${a?E`<span> ${a} </span>`:void 0} </span> ${c?E`<faceplate-screen-reader-content> ${c} </faceplate-screen-reader-content>`:""}`,v=n?.href,f="bordered"===l?"border-sm":"border-md";return $(null!=v?"a":"button",{...n,role:b??n?.role,style:`height: ${d[s]}; font: ${u[s]}`,className:`button ${f} ${p({appearance:l,size:s,attributes:n,selected:r})}\n       ${i[s]}\n      `,rpl:!0},h)},g:p}}));
SML.dm("modbulkactionsb972488b",["distinguishedtags1c4757ea","shelle48e5956"],(async(a,o)=>{var t;!function(a){a.approve="approve",a.remove="remove",a.confirmRemoval="confirm_removal"}(t||(t={}));const r={[a.M.ApproveContent]:t.approve,[a.M.ConfirmRemoval]:t.confirmRemoval,[a.M.RemoveContent]:t.remove};let e=o.B;return{get A(){return t},M:class{async modBulkApprove(a){const{data:t}=await e({operation:o.O.ModBulkApprove,variables:{input:{ids:a}}});return t.modApproveBulk}async modBulkRemove(a,t=!1){const{data:r}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:t}}});return r.modRemoveBulk}async modBulkRemoveAsSpam(a){const{data:t}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:!0}}});return t.modRemoveBulk}async modBulkIgnore(a){const{data:t}=await e({operation:o.O.ModBulkIgnore,variables:{input:{ids:a}}});return t.modIgnoreBulk}async modBulkLock(a){const{data:t}=await e({operation:o.O.ModBulkLock,variables:{input:{ids:a}}});return t.modLockBulk}async modBulkMarkNSFW(a){const{data:t}=await e({operation:o.O.ModBulkMarkNSFW,variables:{input:{ids:a}}});return t.modMarkNsfwBulk}async modBulkMarkSpoiler(a){const{data:t}=await e({operation:o.O.ModBulkMarkSpoiler,variables:{input:{ids:a}}});return t.modMarkSpoilerBulk}async modBulkUnignore(a){const{data:t}=await e({operation:o.O.ModBulkUnignore,variables:{input:{ids:a}}});return t.modUnignoreBulk}async modBulkUnlock(a){const{data:t}=await e({operation:o.O.ModBulkUnlock,variables:{input:{ids:a}}});return t.modUnlockBulk}async modBulkUnmarkNSFW(a){const{data:t}=await e({operation:o.O.ModBulkUnmarkNSFW,variables:{input:{ids:a}}});return t.modUnmarkNsfwBulk}async modBulkUnmarkSpoiler(a){const{data:t}=await e({operation:o.O.ModBulkUnmarkSpoiler,variables:{input:{ids:a}}});return t.modUnmarkSpoilerBulk}async modBulkUpdatePostFlair(a,t,r,n){const{data:i}=await e({operation:o.O.ModBulkUpdatePostFlair,variables:{input:{postIds:a,cssClassId:t,flairTemplateId:r,text:n}}});return i.modUpdatePostFlairBulk}},S:r}}));
SML.dm("moderation461324fc",["shelle48e5956","awards2379b181","modbulkactionsb972488b","comment5b02ad76","overflowmenuactionsf8d12b95"],(async(a,t,e,o,n)=>{function s(e){switch(!0){case t.b(e):return a.a9.Award;case t.a(e):return a.a9.Comment;case t.i(e):return a.a9.Post;default:return null}}return{g:function(a){return a.closest("[mod-tools-host]")},i:s,p:function(t,m,r,i=!1){switch(s(t)){case a.a9.Award:m in e.S&&a.p(a.T.AwardOnContentUpdated,{awardOnContentId:t,action:e.S[m],value:r,isRealtimeUpdate:i});break;case a.a9.Comment:m in o.S&&a.p(a.T.CommentUpdated,{commentId:t,action:o.S[m],value:r,isRealtimeUpdate:i});break;case a.a9.Post:(n.P.includes(m)||m in n.S)&&a.p(a.T.PostUpdated,{postId:t,action:n.S[m],value:r,isRealtimeUpdate:i});break}}}}));
SML.dm("communityhighlightscb59b3d8",["links22118b0c"],(async e=>({H:new Set([e.P.SubredditFeed,e.P.CommentsPage,e.P.ModQueue,e.P.ModQueueAll,e.P.ModLog])})));
SML.dm("modverdict58953687",["shelle48e5956","links22118b0c"],(async(E,e)=>{const R=e=>e===E.am.ModApproved,D=e=>e===E.am.AdminApproved,m=e=>e===E.am.ModRemoved||e===E.am.ModSpammed,o=e=>e===E.am.AdminRemoved||e===E.am.AdminSpammed;var d;!function(E){E.UNMODERATED="UNMODERATED",E.APPROVED="APPROVED",E.REMOVED="REMOVED",E.SPAM="SPAM",E.REPORTED="REPORTED",E.FILTERED="FILTERED"}(d||(d={}));const M=(E,e)=>(E===d.FILTERED||e)&&E!==d.APPROVED&&E!==d.REMOVED;return{get M(){return d},a:(R,D)=>(R===e.P.ModQueue||R===e.P.ModQueueAll)&&D===E.al.ModQueueCompactView,b:E=>[d.REPORTED,d.FILTERED,d.UNMODERATED,d.REMOVED,d.SPAM].includes(E),c:E=>[d.APPROVED,d.UNMODERATED,d.REPORTED].includes(E),d:({moderationState:E,isSpamFilteredPost:e,isRemoved:R,isPromotedPost:D})=>(M(E,e)||!R)&&!D,e:({isPromotedPost:E})=>!E,f:(E,e,R,D)=>E===d.REMOVED&&!D&&!e&&!M(E,R),h:E=>R(E)||D(E)||m(E)||o(E),i:E=>R(E)||D(E),s:M}}));
SML.dm("ae18b1320",["iconc33661e6"],(async e=>{var n,t;!function(e){e.Regular="regular",e.Semibold="semibold"}(n||(n={})),function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(t||(t={})),t.Small,e.I.ExtraSmall,t.Medium,e.I.Small,t.Large,e.I.Medium;const i={sm:"text-12",md:"text-14",lg:"text-16"},a={always:"underline",hover:"hover:underline",none:"no-underline hover:no-underline"},r={primary:"",secondary:"text-secondary-plain hover:text-secondary-plain-hover no-visited visited:text-secondary-plain","plain-weak":"text-secondary-plain-weak hover:text-secondary-plain-hover no-visited visited:text-secondary-plain-weak",media:"text-media-onbackground no-visited visited:text-media-onbackground",inverted:"text-inverted-secondary-plain hover:text-inverted-secondary-plain-hover no-visited visited:text-neutral-background-weak"};return{get A(){return t},a:({attributes:n,children:t,fontWeight:o="regular",size:d,suppressVisitedStyle:l=!1,underline:s="hover",visited:m,appearance:c="primary",trailingIcon:u})=>{const{html:v,createElement:p}=e.g(),g=v`${t}${u?v`<span class="ml-2xs align-middle">${u}</span>`:""}`,x=`${n?.className||""} a cursor-pointer\n  ${c?r[c]:""}\n  ${d?i[d]:""}\n  ${"semibold"===o?"font-semibold":""}\n  ${l?"no-visited":""}\n  ${s?a[s]:""}\n  ${m?"visited":""}`;return p("a",{...n,rpl:!0,className:x},g)},get b(){return n}}}));
SML.dm("index192b5d82",[],(async()=>{const t=t=>{let r=t.title??"";return t.text&&(r.length&&(r+="\n\n"),r+=t.text),t.url&&(r.length&&(r+="\n\n"),r+=t.url),r};var r;!function(t){t[t.NativeShare=0]="NativeShare",t[t.Clipboard=1]="Clipboard"}(r||(r={}));var a=async(a,e=!0,n=t)=>{if("function"==typeof window.navigator.share&&!e){try{await window.navigator.share(a)}catch(t){}return r.NativeShare}try{await navigator.clipboard.writeText(n(a))}catch(t){}return r.Clipboard};return{get S(){return r},get s(){return a}}}));
SML.dm("keywordsfa9c4196",["shelle48e5956","agegatestandaloneclientjsb13e879d"],(async(t,e)=>{var a;!function(t){t[t.Hour=0]="Hour",t[t.Day=1]="Day",t[t.Month=2]="Month",t[t.Year=3]="Year"}(a||(a={}));const o=t=>({unit:a.Day,value:-t}),s=t=>({unit:a.Month,value:-t});var n,r;!function(t){t[t.Yesterday=0]="Yesterday",t[t.LastWeek=1]="LastWeek",t[t.LastMonth=2]="LastMonth",t[t.Last3Months=3]="Last3Months",t[t.Last6Months=4]="Last6Months",t[t.LastYear=5]="LastYear"}(n||(n={})),function(t){t.Yesterday="day",t.LastWeek="week",t.LastMonth="month",t.Last3Months="last-3-months",t.Last6Months="last-6-months",t.LastYear="year"}(r||(r={})),new Set([r.LastWeek,r.LastMonth,r.Last3Months]),a.Day;const i={[n.LastWeek]:r.LastWeek,[n.LastMonth]:r.LastMonth,[n.Last3Months]:r.Last3Months,[n.Last6Months]:r.Last6Months},d=[{type:n.LastWeek,value:i[n.LastWeek],offset:o(7)},{type:n.LastMonth,value:i[n.LastMonth],offset:o(30)},{type:n.Last3Months,value:i[n.Last3Months],offset:s(3)},{type:n.Last6Months,value:i[n.Last6Months],offset:s(6)}],h=new Map(d.map((({value:t,offset:e})=>[t,e]))),l=r.LastMonth;var c;h.get(l),r.LastWeek,t.hf.Week,r.LastMonth,t.hf.Month,r.Last3Months,t.hf.Months_3,r.Last6Months,t.hf.Months_6,r.LastYear,t.hf.Month,r.Yesterday,t.hf.Month,r.Yesterday,t.hg.Day,r.LastWeek,t.hg.Week,r.LastMonth,t.hg.Month,r.Last3Months,t.hg.Months_3,r.Last6Months,t.hg.Months_3,r.LastYear,t.hg.Months_3,function(t){t.ProfileCreation="profile_creation_step",t.OnboardingComplete="profile_creation_onboarding_complete"}(c||(c={}));const L=async(e,a)=>{const o=await t.B({operation:t.O.SetBrandAnalyticsKeywords,variables:{input:{keywords:a,redditorId:e}}});f(o)},M=async e=>{const a=await t.B({operation:t.O.ProfileKeywords,variables:{id:e}});f(a);const{redditor:o}=a.data;if("Redditor"!==o?.__typename)throw new Error("Couldn't find Redditor");const s=o.profile?.brandAnalytics?.keywords;if(!s)throw new Error("Couldn't retrieve keywords");return s},f=t=>{if(t.errors&&t.errors.length>0)throw new Error(t.errors[0].message)},p=async(t,e)=>{const a=new URL(e);t&&a.searchParams.set("keyword",t),await y(a.href)};let y=async t=>{await e.Y(1e3),window.location.href=t};return{A:"reddit-pro-account-stats-content-id",get D(){return a},O:"overview-box-value",P:"profile-active-subreddits-modal",get R(){return r},S:"REDDIT_PRO_SHARE_BUTTON_COACHMARK",T:"trend-monitoring-add-keyword-modal",a:"profile-contributions-modal",b:"profile-dashboard-performance-overview-content",c:l,d:"t",e:async(t,e)=>{const a=(await M(t)).map((({id:t})=>t));a.includes(e)||await L(t,[...a,e])},f:async(e,a,o,s=window.location.href)=>{e.dispatchEvent(t.c("faceplate-alert",{level:t.x.success,message:`"${a}" added`})),await p(o,s)},g:"reddit_pro_recommended_keywords",h:(e,a)=>{window.Sentry?.captureError?.(a),e.dispatchEvent(t.c("faceplate-alert",{level:t.x.error,cause:t.aI(a),message:a.message}))},i:"reddit-pro-recommended-keywords",j:"/profiles",k:"trend-monitoring-manage-keywords-modal",l:"delete-keyword-confirmation-modal",m:"REDDIT_PRO_PROFILE_PIN_POST_COACHMARK",n:"reddit_pro_onboarding",o:"profile-creation-add-description-event",p:"skip-profile-creation",q:"submit-profile-creation",r:"profile-creation-submit-event",s:L,get t(){return c},u:"profile-followers-modal",v:d}}));
SML.dm("withshared1523f2d",["shelle48e5956","iconc33661e6","ae18b1320","contentactionbutton6a45f903","expandablesectionheader41e0cfd1","index192b5d82","keywordsfa9c4196","agegatestandaloneclientjsb13e879d","utils93db03dd","awards2379b181","headeractionitemchatclientjsb3335fba","rplcoachmark4e17786a","rplcoachmarkcard5c5498b1","tooltipbaseaa9651a3","selectcontroller4c63b3e8"],(async(e,t,s,o,a,r,i,n,l,c)=>{const h="share-menu-template",p="share-menu-copy-link-option",u="share-menu-crosspost-option",d="share-menu-embed-option",m="share-dropdown-menu",E=e=>({target:t,placement:s})=>k({...e,target:t,placement:s??e.placement}),S=({content:s,experienceName:o,source:a})=>t.x`<rpl-coachmark-card auto-close appearance="inverted" slot="content" class="${"whitespace-nowrap"}"> ${(({experienceName:s,source:o})=>{const a='closest([slot="close-button"])';return t.x` ${e.r({attributes:{type:"button","aria-label":"Close",slot:"close-button"},appearance:"plainInverted",leadingIcon:t.C({size:t.I.Small}),size:e.s.Small})} <ac-track san="${o}|click|close_button" trigger-elem="${a}"> </ac-track> ${_({action:e.a8.Dismiss,experienceName:s,triggerElem:a})} `})({experienceName:o,source:a})} <span slot="title" class="font-[500]">${s}</span> <ac-track trigger="view" san="${a}|view|card"></ac-track> ${_({action:e.a8.View,experienceName:o,trigger:"view"})} </rpl-coachmark-card> `,_=({action:t,experienceName:s,trigger:o,triggerElem:a})=>n.bc({operation:e.O.StoreUxtargetingAction,trigger:o,triggerElem:a,variables:{input:{action:t,eligibleExperience:{experienceName:s,experience:e.a7.StringIdExperience}}}}),k=({content:s,experienceName:o,placement:a,source:r,target:i})=>t.x` <rpl-coachmark open no-animate trigger="manual" appearance="inverted" placement="${t.l(a)}" id="reddit-pro-coachmark" label="${s}"> ${(({experienceName:s,target:o,source:a})=>t.x` <span> ${o} <ac-call target="closest(#reddit-pro-coachmark)" method="hide()"> </ac-call> <ac-track san="${a}|click|target"></ac-track> ${_({action:e.a8.Click,experienceName:s})} </span> `)({experienceName:o,source:r,target:i})} ${S({content:s,experienceName:o,source:r})} </rpl-coachmark> `,T=E({experienceName:i.S,content:"Share your favorite content to your profile",source:"reddit_pro_share_menu_coachmark",placement:l.P.Top}),g=({source:t,noun:s})=>e.b({source:t||"share",action:"click",noun:s}),y=({source:e}={})=>g({source:e,noun:"share_crosspost"}),D=({source:e}={})=>g({source:e,noun:"share_profile_crosspost"}),b=()=>e.b({source:"comment",action:"click",noun:"share_as_post"},{action_info:{reason:"share_sheet"}}),C=Symbol("mixins/with-share");const w=(e,t,s)=>{const o=["click","keydown"],a=e.querySelector(`.${t}`);for(const e of o)a?.addEventListener(e,s)};return{C:"comment-share-menu-template",E:d,S:h,W:function(i){if(e.ea(i,C))return i;const n=i;class l extends n{constructor(){super(...arguments),this.permalink="",this.sourceId="",this.source=void 0,this.isCrosspostable=!1,this.isEmbeddable=!1,this.disabled=!1,this.isDesktopViewport=!1,this.hideButtonText=!1,this.hideButtonIcon=!1,this.shouldAllowPropagation=!1,this.shareMenuFeatureName=e.aV,this.shareMenuTemplateId=h,this.translationLanguage="",this.showShareMenuProfileCoachmark=!1,this.isShareMenuInitiated=!1,this.isShareDropdownOpened=!1,this.activateShareMenuFeature=()=>{const t={};return this.isCrosspostable&&(t.isCrosspostable=!0,this.sourceId&&(t.postId=this.sourceId)),this.isEmbeddable&&(t.isEmbeddable=!0),e.k({name:this.shareMenuFeatureName,queryParams:t,renderMode:e.o.Contents})},this.isAllowedEvent=e=>!e||(e instanceof PointerEvent||e instanceof MouseEvent||["Enter"," "].includes(e.key)),this.handleMobileShareClick=async e=>{this.isAllowedEvent(e)&&await this._copyLink()},this.handleDesktopShareClick=async e=>{if(!this.isAllowedEvent(e))return;if(this.isShareMenuInitiated)return;let t=!1;try{t=Boolean(await this.activateShareMenuFeature())}catch(t){return void this.handleCopyLinkClick(e)}const s=document.querySelector(`#${this.shareMenuTemplateId}`)?.content;if(!s)return void this.handleCopyLinkClick(e);const o=this.getShareDropdownMenus();o?.length&&(o.forEach((e=>{if(e.querySelector("faceplate-menu"))return;const o=s.cloneNode(!0);e.appendChild(o),w(e,p,this.handleCopyLinkClick),w(e,u,this.handleCrosspostClick),w(e,d,this.handleEmbedClick),w(e,"klp-copy-link",this.handleKlpCopyLinkClick),w(e,"share-menu-profile-crosspost-option",this.handleProfileCrosspostClick),t&&e.show?.()})),t&&this.handleShareDropdownOpen(),this.isShareMenuInitiated=!0)},this.handleShareDropdownOpen=()=>{this.isShareDropdownOpened||(this.isShareDropdownOpened=!0,e.a(this,(({source:t}={})=>e.b({source:t||"share",action:"view",noun:"custom_share_sheet"}))({source:this.source})))},this.handleShareDropdownClose=()=>{this.isShareDropdownOpened=!1,e.a(this,(({source:t}={})=>e.b({source:t||"share",action:"dismiss",noun:"custom_share_sheet"}))({source:this.source}))},this.getShareDropdownMenus=()=>{const e=this.shadowRoot?.querySelectorAll(`.${m}`);if(e?.length)return e;const t=this.querySelectorAll(`faceplate-dropdown-menu.${m}`);if(t?.length)return t;const s=this.querySelectorAll("slot");for(const e of s){const t=e.assignedElements?.();if(t?.length){const e=Array.from(t).find((e=>e.classList?.contains(m)||e.querySelector(`.${m}`)));if(e)return[e.classList?.contains(m)?e:e.querySelector(`.${m}`)]}}},this.closeShareMenu=()=>{this.getShareDropdownMenus()?.forEach((e=>e.close?.()))},this.handleCopyLinkClick=async t=>{this.shouldAllowPropagation||t?.stopPropagation(),this.isAllowedEvent(t)&&(e.a(this,(({source:e}={})=>g({source:e,noun:"copy_link"}))({source:this.source})),this.closeShareMenu(),await this._copyLink())},this.handleKlpCopyLinkClick=async e=>{this.isAllowedEvent(e)&&(this.closeShareMenu(),await this._copyLink())},this.handleKlpNotUsefulClick=e=>{this.isAllowedEvent(e)&&this._notUseful()},this.handleKlpUsefulClick=e=>{this.isAllowedEvent(e)&&this._useful()},this.handleCrosspostClick=t=>{const s=c.a(this.sourceId)?b:y;this._handlePostComposerClick(t,`${e.ee.CrosspostSourceId}=${this.sourceId}`,s)},this.handleProfileCrosspostClick=t=>{this._handlePostComposerClick(t,`${e.ee.CrosspostSourceId}=${this.sourceId}&${e.ee.CrosspostTarget}=profile`,D)},this.handleEmbedClick=t=>{t.stopPropagation(),this.isAllowedEvent(t)&&(e.a(this,(({source:e}={})=>g({source:e,noun:"embed"}))({source:this.source})),this.closeShareMenu(),window.open(`https://publish.reddit.com/embed?url=https://www.reddit.com${this.permalink}`,"RedditEmbed"))},this._handlePostComposerClick=(t,s,o)=>{t.stopPropagation(),this.isAllowedEvent(t)&&(e.a(this,o({source:this.source})),this.closeShareMenu(),window.open(`/submit?${s}`,"_blank"))},this._copyLink=async()=>{if(!this.permalink||!location.origin)return;const t={url:this._buildShareUrl(location.origin,this.permalink)};if(r.S.Clipboard===await r.s(t,this.isDesktopViewport)){const t=e.c("faceplate-alert",{level:e.x.success,message:"Link copied"});this.dispatchEvent(t)}},this._notUseful=()=>{const t=e.c("faceplate-alert",{level:e.x.notice,message:"Thanks for letting us know"});this.dispatchEvent(t)},this._useful=()=>{const t=e.c("faceplate-alert",{level:e.x.notice,message:"Thanks for letting us know"});this.dispatchEvent(t)},this._buildShareUrl=(e,t)=>{const s=t.includes("?"),o=t.includes("tl=");return e+t+this._getShareQueryParams({source:this.source,term:"1",permalinkHasQuery:s,permalinkHasTlQuery:o})},this._getShareQueryParams=({permalinkHasQuery:e=!1,permalinkHasTlQuery:t=!1,source:s="share",term:o})=>{const a=this._getShareUTMParams({source:s,term:o}),r=t?"":this._getShareTranslationLanguageQueryParams();return e?`&${a}${r}`:`?${a}${r}`},this._getShareTranslationLanguageQueryParams=()=>this.translationLanguage?`&share_tl=${this.translationLanguage}`:"",this._getShareUTMParams=({source:t="share",term:s})=>{const o=e.by();return`utm_source=${t}&utm_medium=${o}&utm_name=${o}css&utm_term=${s}&utm_content=share_button`},this.renderShareDropdown=({handleShareClick:a,size:r=e.s.Small,appearance:i="plain",attributes:n={},shareButtonText:l})=>{const c=l||"Share",h="link"===i,p=t.x` <faceplate-dropdown-menu class="${m} relative ${h?"inline":""}" position="bottom-start" .onopen="${this.isDesktopViewport?this.handleShareDropdownOpen:void 0}" .onclose="${this.isDesktopViewport?this.handleShareDropdownClose:void 0}"> ${h?s.a({attributes:{onclick:a,onkeydown:a,...n},children:this.hideButtonText?void 0:c,suppressVisitedStyle:!0}):o.c({size:r,appearance:i,attributes:{type:"button",onclick:a,onkeydown:a,...n},leadingIcon:this.hideButtonIcon?void 0:t.a$({size:o.I[r],attributes:{className:"icon-share","aria-hidden":"true"}}),screenReaderContent:this.hideButtonText?c:void 0,children:this.hideButtonText?void 0:c})} </faceplate-dropdown-menu>`;return this.showShareMenuProfileCoachmark?T({target:p}):p},this.renderOnlyShareButton=({handleShareClick:s,size:a=e.s.Small,appearance:r="plain",attributes:i={},showFullButtons:n=!1})=>{const l="Copy link",c="link"===r;return t.x` ${c?t.A:o.c({size:a,appearance:r,attributes:{type:"button",onclick:s,onkeydown:s,...i,className:`${i.className} relative`},screenReaderContent:l,children:t.x` <span class="justify-center ${n?"flex s:hidden":"flex"}">${t.O({size:t.I.Small})}</span> <span class="${n?"hidden s:flex":"hidden"}"> ${l} </span> `})}`},this.renderOnlyShareMenuItem=({handleShareClick:e,menuSize:s=a.L.Medium})=>a.l({leadingIcon:t.O(),label:"Copy link",size:s,onClick:e})}}return l[C]=!0,e._([e.n({type:String})],l.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"source-id"})],l.prototype,"sourceId",void 0),e._([e.n({type:String,attribute:"source"})],l.prototype,"source",void 0),e._([e.n({type:Boolean,attribute:"is-crosspostable"})],l.prototype,"isCrosspostable",void 0),e._([e.n({type:Boolean,attribute:"is-embeddable"})],l.prototype,"isEmbeddable",void 0),e._([e.n({type:Boolean})],l.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],l.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"hide-button-text"})],l.prototype,"hideButtonText",void 0),e._([e.n({type:Boolean,attribute:"hide-button-icon"})],l.prototype,"hideButtonIcon",void 0),e._([e.n({type:Boolean,attribute:"should-allow-propagation"})],l.prototype,"shouldAllowPropagation",void 0),e._([e.n({type:String,attribute:"share-menu-feature-name"})],l.prototype,"shareMenuFeatureName",void 0),e._([e.n({type:String,attribute:"share-menu-template-id"})],l.prototype,"shareMenuTemplateId",void 0),e._([e.n({type:String,attribute:"translation-language"})],l.prototype,"translationLanguage",void 0),e._([e.n({type:Boolean,attribute:"show-share-menu-profile-coachmark"})],l.prototype,"showShareMenuProfileCoachmark",void 0),l},a:m,b:p,c:u,d:E}}));
SML.dm("shredditcommentsharebutton10fe44fe",["shelle48e5956","iconc33661e6","expandablesectionheader41e0cfd1","withshared1523f2d","agegatestandaloneclientjsb13e879d"],(async(e,t,s,n,i)=>{const o=n.W(t.s);let a=class extends o{constructor(){super(...arguments),this.permalink="",this.disabled=!1,this.isDesktopViewport=!1,this.isListItem=!1,this.ssr=!1,this.shareMenuFeatureName=e.bo,this.shareMenuTemplateId=n.C,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.menuSize=s.L.Medium}static get styles(){return[e.t,e.z("/*\n * :host and button.share-button-list-item is necessary to increase specificity to override the default styles of the button\n */\n:host button.share-button-list-item {\n  padding: 0;\n  height: 2rem !important;\n  border: none;\n  border-radius: 0;\n  color: var(--color-secondary);\n  background-color: transparent;\n  /*\n   * This CSS was added to fix the flex gap spacing when re-styling the share button component as a list item in the comment action overflow menu.\n   * It needs to be added here as we cannot otherwise directly target the span's styling.\n   */\n}\n:host button.share-button-list-item > span.flex {\n  font-weight: normal;\n}\n:host button.share-button-list-item > span.flex > span:first-child {\n  width: 2rem;\n  display: flex;\n  justify-content: center;\n  margin-right: 0.5rem;\n}\n")]}handleCommentShareClick(e){this.isAllowedEvent(e)&&(!this.isListItem&&this.isDesktopViewport?this.handleCommentDesktopShareClick(e):this.handleCommentMobileShareClick(e),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}handleCommentDesktopShareClick(t){e.a(this,i.T()),this.handleDesktopShareClick(t)}handleCommentMobileShareClick(t){e.a(this,i.U()),this.handleMobileShareClick(t)}render(){return this.ssr?t.x`<slot name="ssr-share-button" @click="${this.handleCommentShareClick}" @keydown="${this.handleCommentShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handleCommentShareClick,menuSize:this.menuSize}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handleCommentShareClick,attributes:{disabled:this.disabled,className:"font-semibold"},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handleCommentShareClick,size:this.isListItem?e.s.Large:e.s.Small,appearance:this.isListItem?"plain":"plain-weak",attributes:{disabled:this.disabled,className:this.isListItem?"share-button-list-item w-full":"font-semibold"}})}};e._([e.n({type:String})],a.prototype,"permalink",void 0),e._([e.n({type:Boolean})],a.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],a.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"is-list-item"})],a.prototype,"isListItem",void 0),e._([e.n({type:Boolean,attribute:"ssr"})],a.prototype,"ssr",void 0),e._([e.n({type:String,attribute:"share-menu-feature-name"})],a.prototype,"shareMenuFeatureName",void 0),e._([e.n({type:String,attribute:"share-menu-template-id"})],a.prototype,"shareMenuTemplateId",void 0),e._([e.n({type:Boolean,attribute:"use-button"})],a.prototype,"useButton",void 0),e._([e.n({type:Boolean,attribute:"use-menu"})],a.prototype,"useMenu",void 0),e._([e.n({type:Boolean,attribute:"show-full-buttons"})],a.prototype,"showFullButtons",void 0),e._([e.n({type:String})],a.prototype,"menuSize",void 0),a=e._([e.e("shreddit-comment-share-button")],a)}));
SML.dm("shredditpostsharebutton64b8d78b",["shelle48e5956","iconc33661e6","expandablesectionheader41e0cfd1","withshared1523f2d"],(async(t,e,s,i)=>{const a=i.W(e.s);let o=class extends a{constructor(){super(...arguments),this.shareButtonText="",this.permalink="",this.size=t.s.Medium,this.menuSize=s.L.Medium,this.buttonClass="",this.isDesktopViewport=!1,this.ssr=!1,this.appearance="secondary",this.shareMenuFeatureName=t.aV,this.shareMenuTemplateId=i.S,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.translationLanguage=""}static get styles(){return[t.t]}handlePostShareClick(t){this.isAllowedEvent(t)&&(this.isDesktopViewport?this.handleDesktopShareClick(t):this.handleMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}render(){return this.ssr?e.x`<slot name="ssr-share-button" @click="${this.handlePostShareClick}" @keydown="${this.handlePostShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handlePostShareClick,menuSize:this.menuSize,attributes:{className:this.buttonClass}}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handlePostShareClick,size:this.size,attributes:{className:this.buttonClass},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handlePostShareClick,appearance:this.appearance,size:this.size,shareButtonText:this.shareButtonText,attributes:{className:this.buttonClass}})}};t._([t.n({type:String,attribute:"share-button-text"})],o.prototype,"shareButtonText",void 0),t._([t.n({type:String})],o.prototype,"permalink",void 0),t._([t.n({type:String})],o.prototype,"size",void 0),t._([t.n({type:String})],o.prototype,"menuSize",void 0),t._([t.n({type:String,attribute:"button-class"})],o.prototype,"buttonClass",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],o.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],o.prototype,"ssr",void 0),t._([t.n({type:String})],o.prototype,"appearance",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],o.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],o.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],o.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],o.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],o.prototype,"showFullButtons",void 0),t._([t.n({type:String})],o.prototype,"translationLanguage",void 0),o=t._([t.e("shreddit-post-share-button")],o)}));
SML.dm("allchatspagerecommendationsclientjs6f0a19fc",["shelle48e5956","agegatestandaloneclientjsb13e879d","iconc33661e6"],(async(e,t)=>{class i extends HTMLElement{constructor(){super(),this.childAnchor=null,this.chatUrl=null,this.mobilePermalink=null,this.handleAnchorClick=async e=>{if(!this.chatUrl)return;if(e.preventDefault(),this.mobilePermalink){const e=new URL(this.mobilePermalink,window.location.href).searchParams.get("r"),i=document.querySelector(`faceplate-modal[name="${t.cL}"]`),a=i?.querySelector("a.app-link");if(a?.href){const t=new URL(a.href);e&&t.searchParams.set("r",e),t.searchParams.set("$android_deeplink_path",`reddit${this.mobilePermalink}`),t.searchParams.set("$deeplink_path",this.mobilePermalink),t.searchParams.set("$og_redirect",`${CLIENT_CONFIG.ORIGIN}${this.mobilePermalink}`),t.searchParams.set("base_url",this.mobilePermalink),a.setAttribute("href",t.toString())}return void this.dispatchEvent(new CustomEvent(t.cL,{bubbles:!0}))}let i=document.querySelector("reddit-chat-host");i||(await this.activateFeature(),i=document.querySelector("reddit-chat-host")),i.openChatUrl(this.chatUrl)}}async activateFeature(){try{await e.k({name:e.dz})}catch(t){if(!t.message?.endsWith(`${e.dz} not found`))throw t}}connectedCallback(){const e=this.querySelector(":scope > a, :scope > li > a"),i=e?.href;this.mobilePermalink=this.getAttribute("permalink");((e,i=!1)=>!!e&&(e.startsWith(t.ai)||e.startsWith(t.cK)||i&&e.startsWith("/c/")))(i||this.mobilePermalink||void 0,!!this.mobilePermalink)&&(this.childAnchor=e,!i&&this.mobilePermalink?this.chatUrl=this.mobilePermalink:i&&i.startsWith(t.ai)?this.chatUrl="/"+i.replace(t.ai,""):i&&(this.chatUrl="/"+i.replace(t.cK,"")),this.childAnchor?.addEventListener("click",this.handleAnchorClick))}disconnectedCallback(){this.childAnchor?.removeEventListener("click",this.handleAnchorClick)}}return customElements.define("reddit-chat-anchor",i),{a:e=>`${t.ai}room/${e}`,g:(e,i)=>`${t.ai}room/${e}/event/${i}`}}));
SML.dm("rplbadgee6d3a44a",["shelle48e5956","iconc33661e6"],(async(r,a)=>{const n={Neutral:"neutral",Success:"success",Warning:"warning",Danger:"danger",Alert:"alert",Plain:"plain",Disabled:"disabled"};class o extends r.Q{constructor(){super(...arguments),this.appearance=n.Neutral,this.outline=!1,this._hasContent=!1}render(){return a.x`<span class="container"> <slot class="${r.U({"with-content":this._hasContent,"without-content":!this._hasContent})}" @slotchange="${r=>{this._hasContent=!!r.target.assignedNodes().length}}"></slot> </span>`}}r._([r.n({type:String,reflect:!0})],o.prototype,"appearance",void 0),r._([r.n({type:Boolean})],o.prototype,"outline",void 0),r._([r.d()],o.prototype,"_hasContent",void 0);var e=a.a`${r.V}:host{border-radius:var(--radius-full);display:inline-flex}.with-content{min-width:inherit;min-height:var(--size-md);display:inline-block}.without-content{width:inherit;height:var(--size-xs)}.container{font-weight:600;display:inline-block;font-size:var(--rem10);text-align:center;padding:0 var(--spacer-2xs);line-height:var(--rem16);min-width:var(--size-xs);min-height:var(--size-xs)}:host([outline]){border:solid var(--line-md) var(--color-neutral-background)}:host([appearance=warning]){background:var(--color-warning-background);color:var(--color-neutral-background)}:host([appearance=alert]){background:var(--color-global-orangered);color:var(--color-primary-onBackground)}:host([appearance=danger]){background:var(--color-danger-background);color:var(--color-primary-onBackground)}:host([appearance=success]){background:var(--color-success-background);color:var(--color-primary-onBackground)}:host([appearance=neutral]){background:var(--color-neutral-content);color:var(--color-neutral-background)}:host([appearance=plain]){background:var(--color-neutral-background);color:var(--color-neutral-content)}:host([appearance=disabled]){background:var(--color-interactive-content-disabled);color:var(--color-neutral-background)}`;let t=class extends o{};return t.styles=e,t=r._([r.e("rpl-badge")],t),{R:n}}));
SML.dm("modactionscontrollerd935e6bc",["shelle48e5956","chatmobilexpromoclientjs5e1c145c","modremovalreasonformclientjsba8e4d27","awards2379b181","moderation461324fc","distinguishedtags1c4757ea","postFlair51562697","modbulkactionsb972488b","agegatestandaloneclientjsb13e879d","previousactionsclientjs3044bbd0","iconc33661e6","rendersavedresponsetemplatebysubredditidb78cebab","faceplateformcff507f5","communitypickerf331f77f","comment5b02ad76","overflowmenuactionsf8d12b95","links22118b0c","rplfilterchip3ad19f7c","headeractionitemchatclientjsb3335fba","tooltipbaseaa9651a3","utils93db03dd","faceplateselecttextinputbad79e01","tablepagination77cf692d","selectcontroller4c63b3e8","userflairfe275854","constants9e09f052","utils57a7018c","textinput9c3f45be","faceplateoption7a297e33","rplcoachmark4e17786a","rplcoachmarkcard5c5498b1","faceplatetextareainput29f541e5","smartescalationsproviderclientjs1b1b1602","communityonboardingcompletedmodalclientjsf4f5192c","huiuserdrawerclientjs91e856a7","TinyGesture26737d23","expandablesectionheader41e0cfd1"],(async(t,e,s,i,a,o,n,r,h)=>{const l=(e,s,i)=>{const a=i===t.a9.Post;switch(e){case o.M.MarkSpoiler:return s?a?"Post has been marked spoiler.":"Comment has been marked spoiler.":a?"There was an error marking the post spoiler. Please try again.":"There was an error marking the comment spoiler. Please try again.";case o.M.UnmarkSpoiler:return s?a?"Post has been unmarked spoiler.":"Comment has been unmarked spoiler.":"There was an error unmarking the post spoiler. Please try again.";case o.M.MarkNsfw:return s?a?"Post has been marked nsfw.":"Comment has been marked nsfw.":a?"There was an error marking the post nsfw. Please try again.":"There was an error marking the comment nsfw. Please try again.";case o.M.UnmarkNsfw:return s?a?"Post has been unmarked nsfw.":"Comment has been unmarked nsfw.":"There was an error unmarking the post nsfw. Please try again.";case o.M.IgnoreReports:return s?a?"Reports ignored and post approved.":"Reports ignored and comment approved.":a?"There was an error ignoring the post's reports. Please try again.":"There was an error ignoring the comment's reports. Please try again.";case o.M.UnignoreReports:return s?a?"Reports unignored.":"Reports successfully restored.":a?"There was an error unignoring the post's reports. Please try again.":"There was an error unignoring the comment's reports. Please try again.";case o.M.Distinguish:return s?a?"Post is marked as distinguished.":"Comment is marked as distinguished.":a?"There was an error distinguishing the post. Please try again.":"There was an error distinguishing the comment. Please try again.";case o.M.Undistinguish:return s?a?"Post is marked as undistinguished.":"Comment is marked as undistinguished.":a?"There was an error undistinguishing the post. Please try again.":"There was an error undistinguishing the comment. Please try again.";case o.M.Sticky:return s?a?"Post has been stickied.":"Comment has been stickied.":a?"There was an error stickying the post. Please try again.":"There was an error stickying the comment. Please try again.";case o.M.Unsticky:return s?a?"Post has been unstickied.":"Comment has been unstickied.":a?"There was an error unstickying the post. Please try again.":"There was an error unstickying the comment. Please try again.";case o.M.Lock:return s?a?"Post has been locked.":"Comment has been locked.":a?"There was an error locking the post. Please try again.":"There was an error locking the comment. Please try again.";case o.M.Unlock:return s?a?"Post has been unlocked.":"Comment has been unlocked.":a?"There was an error unlocking the post. Please try again.":"There was an error unlocking the comment. Please try again.";case o.M.ApproveContent:if(s)switch(i){case t.a9.Award:return"Award approved.";case t.a9.Comment:return"Comment approved.";case t.a9.Post:return"Post approved.";default:return""}switch(i){case t.a9.Award:return"There was an error approving the award. Please try again.";case t.a9.Comment:return"There was an error approving the comment. Please try again.";case t.a9.Post:return"There was an error approving the post. Please try again.";default:return""}case o.M.ConfirmRemoval:case o.M.RemoveContent:if(s)switch(i){case t.a9.Award:return"Award removed.";case t.a9.Comment:return"Comment removed.";case t.a9.Post:return"Post removed.";default:return""}switch(i){case t.a9.Award:return"There was an error removing the award. Please try again.";case t.a9.Comment:return"There was an error removing the comment. Please try again.";case t.a9.Post:return"There was an error removing the post. Please try again.";default:return""}case o.A.Distinguish:return s?a?"Post is marked as distinguished as admin.":"Comment is marked as distinguished as admin.":a?"There was an error distinguishing the post as admin. Please try again.":"There was an error distinguishing the comment as admin. Please try again.";case o.A.Undistinguish:return s?a?"Post is marked as undistinguished as admin.":"Comment is marked as undistinguished as admin.":a?"There was an error undistinguishing the post as admin. Please try again.":"There was an error undistinguishing the comment as admin. Please try again.";case o.M.RemoveHighlightedPost:return s?"Highlight removed":"There was an error removing the post from community highlights. Please try again.";default:return""}};return{ModActionsController:class{constructor(l,{getThingIdFn:d,focusChatTextareaFn:m}){this.publishEvent=(t,e)=>{a.p(this._getThingId(),t,e)},this.modActionMenuClickEvent=e=>{let s="",i="";switch(this.itemType){case t.a9.Award:s="awardOnContentId",i="award";break;case t.a9.Comment:s="commentId",i="comment";break;case t.a9.Post:default:s="postId",i="post"}return t.b({source:"moderator",action:"click",noun:e},{[s]:this._getThingId(),[i]:{id:this._getThingId()},action_info:{reason:this.modPartialPath}})},this._getHandleReportToggle=e=>async()=>{const s=e===o.M.IgnoreReports,a=s?i.p:i.q,n=s?i.t:i.w;t.a(this._host,this.isPost?a():n());try{const t=[this._getThingId()],i=await(s?this.modBulkActions.modBulkIgnore(t):this.modBulkActions.modBulkUnignore(t));if(!i?.ok)throw new Error("Operation failed");return this.publishEvent(e,s),this.showSuccessToast(e),s}catch{return this.showErrorToast(e),!s}},this._getHandleDistinguishToggle=e=>async()=>{const s=e===o.M.Distinguish,i=s?"distinguish_as_mod":"undistinguish_as_mod";t.a(this._host,this.modActionMenuClickEvent(i));let a=!0;this.publishEvent(e,s);try{const i=await this.updateDistinguishState(s?t.eU.ModDistinguished:t.eU.None);if(!i?.ok)throw new Error("Operation failed");this.showSuccessToast(e)}catch{this.publishEvent(e,!s),this.showErrorToast(e),a=!1}return this._host.requestUpdate(),a?s:!s},this._getHandleStickyToggle=e=>async()=>{const s=e===o.M.Sticky,i=s?"sticky":"unsticky";t.a(this._host,this.modActionMenuClickEvent(i));let a=!0;this.publishEvent(e,s);try{const t=await this.updateStickyState(s);if(!t?.ok)throw new Error("Operation failed");this.showSuccessToast(e)}catch{this.publishEvent(e,!s),this.showErrorToast(e),a=!1}return this._host.requestUpdate(),a?s:!s},this._getHandleLockedToggle=e=>async()=>{const s=e===o.M.Lock,i=s?"lock":"unlock";t.a(this._host,this.modActionMenuClickEvent(i));let a=!0;this.publishEvent(e,s);try{let i;if(this.isPost){const t=[this._getThingId()];i=await(s?this.modBulkActions.modBulkLock(t):this.modBulkActions.modBulkUnlock(t))}else i=await this.updateLockedState(s?t.eV.Locked:t.eV.None);if(!i?.ok)throw new Error("Operation failed");this.showSuccessToast(e)}catch{this.publishEvent(e,!s),this.showErrorToast(e),a=!1}return this._host.requestUpdate(),a?s:!s},this._getHandleMarkNsfwToggle=e=>async()=>{let s=!0;const i=e===o.M.MarkNsfw;if(!this.isPost)return!i;const a=i?"mark_nsfw":"unmark_nsfw";t.a(this._host,this.modActionMenuClickEvent(a));const n=[this._getThingId()],r=await(i?this.modBulkActions.modBulkMarkNSFW(n):this.modBulkActions.modBulkUnmarkNSFW(n));return r?.ok?(this.showSuccessToast(e),this.publishEvent("isPostNsfw",i)):(this.showErrorToast(e),s=!1),this._host.requestUpdate(),s?i:!i},this._getHandleMarkSpoilerToggle=e=>async()=>{let s=!0;const i=e===o.M.MarkSpoiler;if(!this.isPost)return!i;const a=i?"mark_spoiler":"unmark_spoiler";t.a(this._host,this.modActionMenuClickEvent(a));const n=[this._getThingId()],r=await(i?this.modBulkActions.modBulkMarkSpoiler(n):this.modBulkActions.modBulkUnmarkSpoiler(n));return r?.ok?(this.showSuccessToast(e),this.publishEvent("isPostSpoiler",i)):(this.showErrorToast(e),s=!1),this._host.requestUpdate(),s?i:!i},this.handleApproveContentOptimistic=()=>{this.publishEvent(o.M.ApproveContentOptimistic,!0)},this._getHandleModApproval=e=>async()=>{this.handleApproveContentOptimistic(),t.a(this._host,this.modActionMenuClickEvent("approve"));try{const t=await this.modBulkActions.modBulkApprove([this._getThingId()]);return t?.ok?(this.publishEvent(e,!0),this._resetAddRemovalReasonForm(),!0):(this.showErrorToast(e),!1)}catch{return this.showErrorToast(e),!1}},this._getShareToModChat=t=>async t=>(await this._focusChatTextarea(),!0),this._getViewChatThread=t=>async t=>(await this._focusChatTextarea(!0),!0),this.handleRemoveContentOptimistic=()=>{this.publishEvent(o.M.RemoveContentOptimistic,!0)},this.handleRemoveContentAsSpamOptimistic=()=>{this.publishEvent(o.M.RemoveContentAsSpamOptimistic,!0)},this.handleConfirmRemovalOptimistic=()=>{this.publishEvent(o.M.ConfirmRemovalOptimistic,!0)},this._getHandleModRemoval=e=>async()=>{switch(e){case o.M.RemoveContent:this.handleRemoveContentOptimistic();break;case o.M.RemoveContentAsSpam:this.handleRemoveContentAsSpamOptimistic();break;case o.M.ConfirmRemoval:this.handleConfirmRemovalOptimistic()}const s=e===o.M.RemoveContentAsSpam;let i=e===o.M.ConfirmRemoval?"confirm_removal":"remove";e===o.M.RemoveContentAsSpam&&(i="spam"),t.a(this._host,this.modActionMenuClickEvent(i));try{const t=await this.modBulkActions.modBulkRemove([this._getThingId()],s);return t?.ok?(this.publishEvent(e,!0),this.dispatchRequestReload(),!0):(this.showErrorToast(e),!1)}catch{return this.showErrorToast(e),!1}},this._getHandleOpenEditPostFlairModal=()=>async()=>{const e=this._getThingId();if(e){t.a(this._host,this.modActionMenuClickEvent("flair")),await this._activateFeature({name:t.dJ,queryParams:{isLoggedin:!0,selectedIds:e},renderMode:t.o.Contents});const s=document.getElementById(n.g(e));s?.showModal()}},this._getHandleAddToHighlights=()=>async()=>{const e=this._getThingId();e&&await this._activateFeature({name:t.cY,routeParams:{postId:e},renderMode:t.o.Contents})},this._getHandleRemoveFromHighlights=()=>async()=>{const e=this._getThingId();if(e){this.publishEvent(o.M.RemoveHighlightedPost,!1);try{await this.removeHighlightedPost(e),this.showSuccessToast(o.M.RemoveHighlightedPost),t.a(this._host,i.u(e,t.X())),t.p(t.T.ReloadHighlights)}catch(t){this.showErrorToast(o.M.RemoveHighlightedPost),this.publishEvent(o.M.RemoveHighlightedPost,!0)}}},this._resetAddRemovalReasonForm=()=>{this._host.dispatchEvent(new s.A(""))},this.handleIgnoreReports=this._getHandleReportToggle(o.M.IgnoreReports),this.handleUnignoreReports=this._getHandleReportToggle(o.M.UnignoreReports),this.handleDistinguish=this._getHandleDistinguishToggle(o.M.Distinguish),this.handleUndistinguish=this._getHandleDistinguishToggle(o.M.Undistinguish),this.handleSticky=this._getHandleStickyToggle(o.M.Sticky),this.handleUnsticky=this._getHandleStickyToggle(o.M.Unsticky),this.handleUpdateHighlightedPost=this._getHandleAddToHighlights(),this.handleRemoveHighlightedPost=this._getHandleRemoveFromHighlights(),this.handleLock=this._getHandleLockedToggle(o.M.Lock),this.handleUnlock=this._getHandleLockedToggle(o.M.Unlock),this.handleMarkNsfw=this._getHandleMarkNsfwToggle(o.M.MarkNsfw),this.handleUnmarkNsfw=this._getHandleMarkNsfwToggle(o.M.UnmarkNsfw),this.handleMarkSpoiler=this._getHandleMarkSpoilerToggle(o.M.MarkSpoiler),this.handleUnmarkSpoiler=this._getHandleMarkSpoilerToggle(o.M.UnmarkSpoiler),this.handleConfirmRemoval=this._getHandleModRemoval(o.M.ConfirmRemoval),this.handleRemoveContent=this._getHandleModRemoval(o.M.RemoveContent),this.handleRemoveContentAsSpam=this._getHandleModRemoval(o.M.RemoveContentAsSpam),this.handleApproveContent=this._getHandleModApproval(o.M.ApproveContent),this.handleShareToModChat=this._getShareToModChat(o.M.ShareToModChat),this.handleViewChatThread=this._getViewChatThread(o.M.ViewChatThread),this.handleOpenEditPostFlairModal=this._getHandleOpenEditPostFlairModal(),this.handleSnoozeReporter=()=>{},this.handleUnsnoozeReporter=()=>{},this.handleAddRemovalReason=()=>{this._host.dispatchEvent(new s.A(this._getThingId())),t.a(this._host,this.modActionMenuClickEvent("add_removal_reason"))},this.handleAdjustCrowdControl=()=>{this._host.dispatchEvent(t.c(e.O,{postId:this._getThingId()}))},this.handleRemoveContentMenu=()=>this._getHandleModRemoval(o.M.RemoveContent)(),this._activateFeature=async e=>t.k(e),this._getThingId=d,this._host=l,this._focusChatTextarea=m??h.bC,this.modBulkActions=new r.M,this._host?.addController(this)}get isPost(){return this.itemType===t.a9.Post}get itemType(){return a.i(this._getThingId())}get modPartialPath(){switch(this.itemType){case t.a9.Award:case t.a9.Comment:case t.a9.Post:return this.itemType.toLowerCase();default:return""}}hostConnected(){Object.keys(o.M).forEach((t=>{this._host.addEventListener(o.M[t],this[`handle${t}`])}))}hostDisconnected(){Object.keys(o.M).forEach((t=>{this._host.removeEventListener(o.M[t],this[`handle${t}`])}))}dispatchFaceplateAlertEvent(e,s,i=""){const a=t.c("faceplate-alert",{level:e,message:s,sourceElement:`modqueue-${this.itemType?.toLowerCase()}`,cause:i});this._host.dispatchEvent(a)}showSuccessToast(e){this.itemType&&this.dispatchFaceplateAlertEvent(t.x.success,l(e,!0,this.itemType),`success-${e}`)}showErrorToast(e){this.itemType&&this.dispatchFaceplateAlertEvent(t.x.error,l(e,!1,this.itemType),`failed-${e}`)}dispatchRequestReload(){this.itemType===t.a9.Comment&&this._host.dispatchEvent(new CustomEvent("reload-shreddit-comment",{bubbles:!0,composed:!0}))}async updateDistinguishState(e){if(this.isPost){const s={input:{postId:this._getThingId(),distinguishType:e,distinguishState:e===t.eU.None?t.eW.None:t.eW.Distinguished}},{data:i}=await t.B({operation:t.O.UpdatePostDistinguishedState,variables:s});return i?.updatePostDistinguishState}{const s={input:{commentId:this._getThingId(),distinguishType:e,distinguishState:e===t.eU.None?t.eX.None:t.eX.Distinguished}},{data:i}=await t.B({operation:t.O.UpdateCommentDistinguishedState,variables:s});return i?.updateCommentDistinguishState}}async updateStickyState(e){if(this.isPost){const s={input:{postId:this._getThingId(),sticky:e,toProfile:!1}},{data:i}=await t.B({operation:t.O.UpdatePostStickyState,variables:s});return i?.updatePostStickyState}{const s={input:{commentId:this._getThingId(),sticky:e}},{data:i}=await t.B({operation:t.O.UpdateCommentStickyState,variables:s});return i?.updateCommentStickyState}}async updateLockedState(e){if(this.isPost){const s={input:{postId:this._getThingId(),lockedState:e}},{data:i}=await t.B({operation:t.O.UpdatePostLockedState,variables:s});return i?.updatePostLockedState}{const s={input:{commentId:this._getThingId(),lockedState:e}},{data:i}=await t.B({operation:t.O.UpdateCommentLockedState,variables:s});return i?.updateCommentLockedState}}async removeHighlightedPost(t){return i.r({postId:t})}}}}));
SML.dm("faceplatebottomsheetheadere0488abf",["shelle48e5956","iconc33661e6"],(async(e,t)=>{let r=class extends t.s{constructor(){super(...arguments),this.hasDivider=!1,this.render=()=>t.x` <slot name="leading"></slot> <slot></slot> <slot name="trailing"></slot> `}static get styles(){return t.a`:host{align-items:center;box-sizing:border-box;display:flex;font-weight:700;height:var(--rem64);min-height:var(--rem64);padding:0 var(--spacer-md);position:relative;width:100%}:host([has-divider])::after{border-bottom:1px solid var(--color-neutral-border);bottom:0;content:'';position:absolute;inset-inline-end:var(--spacer-md);inset-inline-start:var(--spacer-md)}:host>slot:not([name]){display:flex;flex-grow:1;padding:0 var(--spacer-sm);font-size:1rem}`}};return e._([e.n({type:Boolean,reflect:!0,attribute:"has-divider"})],r.prototype,"hasDivider",void 0),r=e._([e.e("faceplate-bottom-sheet-header")],r),{get F(){return r}}}));
SML.dm("moddropdowncloser6b014290",["shelle48e5956","iconc33661e6"],(async(e,l)=>{let o=class extends l.s{constructor(){super(...arguments),this.handleScroll=()=>{this.dropdownMenu?.[0]?.close()}}connectedCallback(){super.connectedCallback(),document.querySelector('[slot="pdp-panel"]')?.addEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.addEventListener("scroll",this.handleScroll)}disconnectedCallback(){super.disconnectedCallback(),document.querySelector('[slot="pdp-panel"]')?.removeEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.removeEventListener("scroll",this.handleScroll)}render(){return l.x`<slot></slot>`}};e._([e.j({slot:"",selector:"faceplate-dropdown-menu"})],o.prototype,"dropdownMenu",void 0),o=e._([e.e("mod-dropdown-closer")],o)}));
SML.dm("modactionsmenue9062f75",["shelle48e5956","iconc33661e6","expandablesectionheader41e0cfd1","contentactionbutton6a45f903","communityhighlightscb59b3d8","rplbadgee6d3a44a","links22118b0c","modverdict58953687","modactionscontrollerd935e6bc","allchatspagerecommendationsclientjs6f0a19fc","utils93db03dd","tooltipbaseaa9651a3","agegatestandaloneclientjsb13e879d","selectcontroller4c63b3e8","tablepagination77cf692d","appselectorclientjs9964d0b0","faceplatebottomsheetheadere0488abf","moddropdowncloser6b014290","shredditcommentsharebutton10fe44fe","shredditpostsharebutton64b8d78b","headeractionitemchatclientjsb3335fba","rplcoachmarkcard5c5498b1","rplcoachmark4e17786a"],(async(t,e,o,i,s,n,a,r,l,d,h,c,p)=>{const m="modQueue",u="modQueueChat",g="overflow",C="inline";let E=class extends e.s{constructor(){super(...arguments),this.location=C,this.viewContext=void 0,this.COACHMARK_LABELS={[m]:"NEW! Chat about items in the queue",[u]:"Jump back in",[g]:"NEW! Chat about content",[C]:"Jump back in"},this.COACHMARK_BODY={[m]:"Share content in the queue directly with your mod team",[u]:"Get back to chat threads from the queue",[g]:"Share content directly with your mod team",[C]:"Get back to chat threads from the content"},this.COACHMARK_POSITION={[m]:h.P.Top,[u]:h.P.Top,[g]:h.P.Left,[C]:h.P.Left},this.LOCAL_STORAGE_KEYS={[m]:t.L.ShareToModChatCoachMarkMQSeen,[u]:t.L.ShareToModChatCoachMarkMQChatSeen,[g]:t.L.ShareToModChatCoachMarkOverflowSeen,[C]:t.L.ShareToModChatCoachMarkInlineSeen},this._showShareToModChatBanner=!t.l.getItem(this.getLocalStorageKey()),this.closeCoachmark=()=>{this._showShareToModChatBanner=!1}}getLocalStorageKey(){return this.LOCAL_STORAGE_KEYS[this.location]}connectedCallback(){super.connectedCallback();const e=t.l.getItem(this.getLocalStorageKey());this.location===g&&this.viewContext&&[a.P.ModQueue,a.P.ModQueueAll].includes(this.viewContext)||e?this._showShareToModChatBanner=!1:(t.l.setItem(this.getLocalStorageKey(),"true"),this._showShareToModChatBanner=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return e.x`<rpl-coachmark placement="${this.COACHMARK_POSITION[this.location]}" appearance="${c.a.Inverted}" ?open="${this._showShareToModChatBanner}"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${c.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> <div>${this.COACHMARK_LABELS[this.location]}</div> </div> ${t.r({attributes:{className:"close-btn",slot:"close-button",onclick:t=>{t.stopPropagation(),this.closeCoachmark()}},appearance:"plainInverted",size:t.s.Small,leadingIcon:e.C({size:e.I.Small})})} <div class="text-12 w-[170px] mb-sm">${this.COACHMARK_BODY[this.location]}</div> </rpl-coachmark-card> </rpl-coachmark>`}};E.styles=[t.t],t._([t.n({type:String,attribute:"location"})],E.prototype,"location",void 0),t._([t.n({type:String,attribute:"view-context"})],E.prototype,"viewContext",void 0),t._([t.d()],E.prototype,"_showShareToModChatBanner",void 0),E=t._([t.e("share-to-mod-chat-coachmark")],E);const S=e.s;class A extends S{constructor(){super(...arguments),this.size=o.L.Medium,this.appearance="content-action",this.viewContext=a.P.CommentsPage,this.feedViewType=t.al.ModQueueCompactView,this.itemState=r.M.UNMODERATED,this.verdict=void 0,this.isCurrentUserAuthor=!1,this.isDeleted=!1,this.isRemoved=!1,this.isModModeEnabled=!1,this.isAdmin=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isReportingIgnored=!1,this.areHighlightsEnabled=!1,this.hasReports=!1,this.hasRemovalReason=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.isSpamFilteredPost=!1,this.isDesktop=!1,this.permalink="",this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=p.bC,this.pubsub=new t.P(this),this.modActionsController=new l.ModActionsController(this,{getThingIdFn:()=>this.thingId||""}),this.getListItemClickHandler=t=>()=>(this.dropdownMenu?.close(),t())}get isPost(){return a.l(this.thingId||"")}get shouldAlwaysShowAction(){return!this.isModModeEnabled&&!this.isOnModqueuePage}shouldAlwaysShowApproveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==r.M.APPROVED&&this.shouldShowActionInMenu}shouldAlwaysShowRemoveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==r.M.REMOVED&&this.shouldShowActionInMenu}get isOnModqueuePage(){return this.viewContext===a.P.ModQueue||this.viewContext===a.P.ModQueueAll}get isApproved(){return this.itemState===r.M.APPROVED}get shouldShowConfirmRemoval(){return r.s(this.itemState,this.isSpamFilteredPost)}get shouldShowActionInMenu(){return!r.a(this.viewContext,this.feedViewType)||"hover-menu"===this.appearance}get isDistinguishable(){return this.isCurrentUserAuthor&&!this.isDeleted}get isStickyable(){return!(this.viewContext===a.P.ProfileFeed||this.viewContext===a.P.ProfileFeed2||this.isDeleted)}get isModVerdictVisible(){return r.h(this.verdict)&&!this.hasReports&&this.itemState!==r.M.FILTERED}renderApproveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===r.M.UNMODERATED||this.shouldAlwaysShowApproveAction()&&r.b(this.itemState)?o.l({leadingIcon:e.P(),label:"Approve",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleApproveContent)}):null}renderRemoveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===r.M.UNMODERATED||this.shouldAlwaysShowRemoveAction()&&r.c(this.itemState)?o.l({leadingIcon:e.C(),label:"Remove",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContent)}):null}renderConfirmRemovalAction(){return this.shouldAlwaysShowRemoveAction()&&this.shouldShowConfirmRemoval?o.l({leadingIcon:e.bo(),label:"Confirm Removal",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleConfirmRemoval)}):null}renderSpamAction(){return r.d({moderationState:this.itemState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInMenu?o.l({leadingIcon:e.bp(),label:"Mark as Spam",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContentAsSpam)}):null}renderShareToModChatAction(t){if(!r.e({isPromotedPost:this.isPromotedPost})||!this.shouldShowActionInMenu||!t?.modChatChannel||t?.modContentDiscussion)return null;const i=t?.modContentDiscussion?`${d.g(t.modContentDiscussion.chatChannel?.roomId,t.modContentDiscussion.chatMessage?.id)}/thread`:d.a(t?.modChatChannel?.roomId);return e.x` <faceplate-tracker source="moderator" action="click" noun="${t?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:t?.eventContext?.subredditId,name:t?.eventContext?.subredditName},action_info:{setting_value:t?.eventContext?.roomId},post:{id:t?.eventContext?.postId},...t?.eventContext?.commentId&&{comment:{id:t?.eventContext?.commentId}}})}"> <reddit-chat-anchor> <a href="${i}?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}" class="no-underline"> ${o.l({leadingIcon:e.aw(),trailingSlot:e.x` <rpl-badge appearance="${n.R.Alert}">NEW</rpl-badge>`,label:"Share to mod chat",size:this.size,onClick:async()=>{t.modContentDiscussion||await this.focusChatTextareaFn()}})} </a> </reddit-chat-anchor> </faceplate-tracker>`}renderIgnoreReportsAction(){return this.isReportingIgnored||!this.hasReports?null:o.l({leadingIcon:e.bq(),label:"Ignore reports and approve",size:this.size,onClick:this.getListItemClickHandler((()=>{this.modActionsController.handleIgnoreReports(),this.modActionsController.handleApproveContent()}))})}renderUnignoreReportsAction(){return this.isReportingIgnored?o.l({leadingIcon:e.br(),label:"Unignore reports",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnignoreReports)}):null}renderAddRemovalReasonAction(){return r.f(this.itemState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)&&this.shouldShowActionInMenu?o.l({leadingIcon:e.u(),label:"Add Removal Reason",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAddRemovalReason)}):null}renderDistinguishAction(){return this.isDistinguishable&&this.distinguishedAs!==t.at.Moderator?o.l({leadingIcon:e.bs(),label:"Show mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleDistinguish)}):null}renderUndistinguishAction(){return this.isDistinguishable&&this.distinguishedAs===t.at.Moderator?o.l({leadingIcon:e.bt(),label:"Hide mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUndistinguish)}):null}renderStickyAction(t){return!this.isStickyable||this.isStickied||!this.shouldShowActionInMenu||this.areHighlightsEnabled||this.isPromotedPost?null:o.l({leadingIcon:e.bu(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleSticky)})}renderUnstickyAction(t){return this.isStickyable&&this.isStickied&&this.shouldShowActionInMenu&&!this.areHighlightsEnabled&&!this.isPromotedPost?o.l({leadingIcon:e.ak(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnsticky)}):null}renderAddToHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&s.H.has(this.viewContext)&&!this.isHighlighted?o.l({leadingIcon:e.bu(),label:"Add to highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUpdateHighlightedPost)}):null}renderRemoveFromHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&s.H.has(this.viewContext)&&this.isHighlighted?o.l({leadingIcon:e.ak(),label:"Remove from highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveHighlightedPost)}):null}renderLockAction(t){return this.isLocked||!this.shouldShowActionInMenu?null:o.l({leadingIcon:e.bv(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleLock)})}renderUnlockAction(t){return this.isLocked&&this.shouldShowActionInMenu?o.l({leadingIcon:e.aj(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnlock)}):null}renderEditPostFlairAction(t){return!this.shouldShowActionInMenu||this.isPromotedPost||this.isDeleted?null:o.l({leadingIcon:e.aA(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleOpenEditPostFlairModal)})}renderCopyLinkAction(){return"hover-menu"!==this.appearance?null:this.isPost?e.x`<shreddit-post-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-post-share-button>`:e.x`<shreddit-comment-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-comment-share-button>`}closeModal(){this.bottomSheetMenu?.close()}openModal(){this.bottomSheetMenu?.showModal()}renderMenuTrigger(){const o={leadingIcon:e.bw({size:e.I.Small}),screenReaderContent:"Moderation actions menu",appearance:"secondary",attributes:{type:"button",onclick:()=>{this.openModal()},slot:"trigger"},size:t.s.Small};return e.x` <faceplate-tracker source="moderator" action="click" noun="mod_shield_menu"> ${"hover-menu"===this.appearance?t.r({...o,appearance:"secondary"}):i.c({...o,appearance:"plain"})} </faceplate-tracker> `}renderMobileActionsMenu(o){return e.x` ${this.renderMenuTrigger()} <faceplate-bottom-sheet> <faceplate-bottom-sheet-header slot="header" has-divider> <span slot="trailing" @click="${this.closeModal}"> ${t.r({attributes:{"aria-label":"Close"},appearance:"secondary",leadingIcon:e.C({size:e.I.Small}),size:t.s.Small})}</span> <span>Mod actions</span> </faceplate-bottom-sheet-header> <faceplate-menu class="w-full nd:hidden" @click="${this.closeModal}"> ${o} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-bottom-sheet> `}renderActionsMenu(t){return this.isContentLevelModsCommsEnabled&&!this.modContentDiscussionContext?.modContentDiscussion?e.x` <mod-dropdown-closer> <share-to-mod-chat-coachmark location="${g}" view-context="${this.viewContext}"> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs nd:hidden max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${t} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </share-to-mod-chat-coachmark> </mod-dropdown-closer>`:e.x` <mod-dropdown-closer> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${t} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </mod-dropdown-closer>`}render(){if(this.viewContext===a.P.AggregateFeed)return e.A;const t=this.renderActions();return 0===t.length||t.every((t=>null===t))?e.x``:this.isDesktop?this.renderActionsMenu(t):this.renderMobileActionsMenu(t)}}return A.styles=[t.t],t._([t.n({type:String,attribute:"thing-id"})],A.prototype,"thingId",void 0),t._([t.n({type:String,attribute:"user-id"})],A.prototype,"userId",void 0),t._([t.n({type:String})],A.prototype,"size",void 0),t._([t.n({type:String})],A.prototype,"appearance",void 0),t._([t.n({type:String,attribute:"view-context"})],A.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"feed-view-type"})],A.prototype,"feedViewType",void 0),t._([t.n({type:String,attribute:"item-state",reflect:!0})],A.prototype,"itemState",void 0),t._([t.n({type:String,attribute:"distinguished-as"})],A.prototype,"distinguishedAs",void 0),t._([t.n({type:String,attribute:"verdict"})],A.prototype,"verdict",void 0),t._([t.n({type:String,attribute:"verdict-by"})],A.prototype,"verdictBy",void 0),t._([t.n({type:Boolean,attribute:"current-user-author"})],A.prototype,"isCurrentUserAuthor",void 0),t._([t.n({type:Boolean,attribute:"deleted"})],A.prototype,"isDeleted",void 0),t._([t.n({type:Boolean,attribute:"removed"})],A.prototype,"isRemoved",void 0),t._([t.n({type:Boolean,attribute:"mod-mode"})],A.prototype,"isModModeEnabled",void 0),t._([t.n({type:Boolean,attribute:"is-admin"})],A.prototype,"isAdmin",void 0),t._([t.n({type:Boolean,attribute:"locked"})],A.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],A.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],A.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"reporting-ignored"})],A.prototype,"isReportingIgnored",void 0),t._([t.n({type:Boolean,attribute:"highlights-enabled"})],A.prototype,"areHighlightsEnabled",void 0),t._([t.n({type:Boolean,attribute:"has-reports"})],A.prototype,"hasReports",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason"})],A.prototype,"hasRemovalReason",void 0),t._([t.n({type:Boolean,attribute:"is-profile-post"})],A.prototype,"isProfilePost",void 0),t._([t.n({type:Boolean,attribute:"is-promoted-post"})],A.prototype,"isPromotedPost",void 0),t._([t.n({type:Boolean,attribute:"is-spam-filtered-post"})],A.prototype,"isSpamFilteredPost",void 0),t._([t.n({type:Boolean,attribute:"is-desktop"})],A.prototype,"isDesktop",void 0),t._([t.n({type:String,attribute:"permalink"})],A.prototype,"permalink",void 0),t._([t.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],A.prototype,"isContentLevelModsCommsEnabled",void 0),t._([t.n({type:Object,attribute:"mod-content-discussion-context"})],A.prototype,"modContentDiscussionContext",void 0),t._([t.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],A.prototype,"isFeedNoApproveEnabled",void 0),t._([t.n({attribute:!1})],A.prototype,"focusChatTextareaFn",void 0),t._([t.y("faceplate-dropdown-menu")],A.prototype,"dropdownMenu",void 0),t._([t.y("faceplate-bottom-sheet")],A.prototype,"bottomSheetMenu",void 0),{M:A}}));
SML.dm("postFlair51562697",["shelle48e5956"],(async t=>{const e=/(\.|\/\/)(reddit\.com|snoo\.dev|redditstatic\.com|redd\.it|redditmedia\.com)$/;class i extends t.bC{constructor(e,i){super(e),this.events=new t.E(this,(()=>this._host)),this.handleMouseClick=(t,e)=>{if(t.isLinkClickHandled)return;const i=t.composedPath();for(const n of i){if(!(n instanceof HTMLAnchorElement))continue;const i=n.getAttribute("href")||"";if(this.isOutboundUrl(i))return this.trackOutboundLinkClick(i,e),void(t.isLinkClickHandled=!0)}},this.events.define("click",(t=>{this.handleMouseClick(t,i())}))}isOutboundUrl(t){if(t.startsWith("/"))return!1;try{return null==new URL(t).origin.match(e)}catch(t){return!1}}trackOutboundLinkClick(t,e){this._host.trackEvent(this.outboundLinkClickEvent(t,e))}outboundLinkClickEvent(e,i){return t.b({source:"link",action:"click",noun:"outbound_link"},{outbound:{url:e},action_info:{page_type:i.pageType},...i.postId?{post:{id:i.postId}}:{},...i.subredditId?{subreddit:{id:i.subredditId}}:{},...i.commentId?{comment:{id:i.commentId}}:{}})}}var n,r;!function(t){t.FocusSearchBar="focusSearchBar",t.RegisterAuth="registerAuth",t.UpvoteAuth="upvoteAuth"}(n||(n={})),function(t){t.Sort="sort",t.Filter="filter",t.EntityFilterId="entityFilterId",t.InlineRefresh="inline-refresh",t.SctTopLevelComment="sct-top-level-comment"}(r||(r={}));return{get M(){return n},O:i,get P(){return r},R:"remove-flair",S:"#subreddit-right-rail-tabs",a:"right-rail-entity-panel-root",b:"pdp-chained-right-rail-related-posts",g:function(t){return`update-post-flair-modal-${t}`}}}));
SML.dm("previousactionsclientjs3044bbd0",["shelle48e5956","iconc33661e6","expandablesectionheader41e0cfd1","selectcontroller4c63b3e8","tablepagination77cf692d","userflairfe275854","agegatestandaloneclientjsb13e879d"],(async(e,t,r)=>{const o=t.s;let a=class extends o{constructor(){super(...arguments),this.hasRemovalReasonAdded=!1,this._feedbackSubmitted=!1,this._trackingContext={}}get reportKey(){return`post-guidance-feedback-${this.reportId}`}getShredditPostData(){const e=this.getRootNode();if(e instanceof ShadowRoot){const t=e.host;if(t&&"SHREDDIT-POST"===t.tagName)return{id:t.id,postTitle:t.getAttribute("post-title"),contentHref:t.getAttribute("content-href"),authorId:t.getAttribute("author-id")}}return null}connectedCallback(){super.connectedCallback(),this._feedbackSubmitted="true"===sessionStorage.getItem(this.reportKey);const e=this.getShredditPostData();e&&(this._trackingContext={action_info:{post_id:e.id,post_title:e.postTitle,post_url:e.contentHref,author_id:e.authorId}})}handleFeedbackSubmit(t){if(t.target&&t.target instanceof HTMLElement){const r=t.target.closest("button"),o="yes"===r?.value,a=e.b({source:"moderator",action:"click",noun:o?"filter_is_correct":"filter_is_incorrect",...this._trackingContext});e.a(this,a),this._feedbackSubmitted=!0,sessionStorage.setItem(this.reportKey,"true")}}handleFeedbackUndo(){this._feedbackSubmitted=!1;const t=e.b({source:"moderator",action:"click",noun:"undo_filter",...this._trackingContext});e.a(this,t),sessionStorage.removeItem(this.reportKey)}renderFeedbackForm(){return t.x`<div class="border border-solid border-neutral-border p-sm flex flex-col gap-xs rounded-2 flex-1"> <div class="text-14 w-full"> Was this automation accurate? </div> <div class="flex gap-2xs"> ${e.r({children:"Yes",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"yes"}})} ${e.r({children:"No",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"no"}})} </div> </div>`}renderFeedbackSubmitted(){return t.x` <div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> Got it. You helped train your automation. </div> <faceplate-dropdown-menu id="post-guidance-feedback-dropdown-menu"> ${e.r({appearance:"plain",attributes:{type:"button"},leadingIcon:t.ai({size:t.I.ExtraSmall}),screenReaderContent:"More options"})} <faceplate-menu slot="menu" dropdown> ${r.l({label:"Undo",attributes:{role:"option",onclick:this.handleFeedbackUndo}})} </faceplate-menu> </faceplate-dropdown-menu> </div>`}renderRemovalReasonAdded(){return t.x`<div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> Your removal reason helped train your automation. </div> </div>`}render(){return this.hasRemovalReasonAdded?this.renderRemovalReasonAdded():this._feedbackSubmitted?this.renderFeedbackSubmitted():this.renderFeedbackForm()}};a.styles=[e.t],e._([e.n({type:String,attribute:"report-id"})],a.prototype,"reportId",void 0),e._([e.n({type:Boolean,attribute:"has-removal-reason-added"})],a.prototype,"hasRemovalReasonAdded",void 0),e._([e.d()],a.prototype,"_feedbackSubmitted",void 0),a=e._([e.e("post-guidance-feedback")],a)}));
SML.dm("modinlineactionsclientjs60c44b08",["shelle48e5956","iconc33661e6","contentactionbutton6a45f903","agegatestandaloneclientjsb13e879d","distinguishedtags1c4757ea","awards2379b181","moderation461324fc","communityhighlightscb59b3d8","modbulkactionsb972488b","comment5b02ad76","links22118b0c","overflowmenuactionsf8d12b95","modverdict58953687","allchatspagerecommendationsclientjs6f0a19fc","modactionsmenue9062f75","expandablesectionheader41e0cfd1","modlogtakedownpreviewclientjsd3af86b9","commentlinkpostclientjs115fae0d","selectcontroller4c63b3e8","tablepagination77cf692d","faceplateshimmer9894306d","faceplatetooltipf30979fb","shredditcommentsharebutton10fe44fe","shredditpostsharebutton64b8d78b","userflairfe275854","withshared1523f2d","ae18b1320","index192b5d82","headeractionitemchatclientjsb3335fba","tooltipbaseaa9651a3","utils93db03dd","keywordsfa9c4196","rplcoachmark4e17786a","rplcoachmarkcard5c5498b1","rplbadgee6d3a44a","modactionscontrollerd935e6bc","chatmobilexpromoclientjs5e1c145c","modremovalreasonformclientjsba8e4d27","rendersavedresponsetemplatebysubredditidb78cebab","faceplateformcff507f5","communitypickerf331f77f","rplfilterchip3ad19f7c","faceplateselecttextinputbad79e01","constants9e09f052","utils57a7018c","textinput9c3f45be","faceplateoption7a297e33","faceplatetextareainput29f541e5","smartescalationsproviderclientjs1b1b1602","communityonboardingcompletedmodalclientjsf4f5192c","huiuserdrawerclientjs91e856a7","TinyGesture26737d23","postFlair51562697","previousactionsclientjs3044bbd0","appselectorclientjs9964d0b0","faceplatebottomsheetheadere0488abf","moddropdowncloser6b014290"],(async(t,e,i,o,s,n,a,r,d,l,c,h,m,p,u,E)=>{let b=class extends e.s{constructor(){super(...arguments),this.buttonAppearance="secondary",this.buttonSize=t.s.Small,this.showFullButtons=!1,this.ariaLabel="",this.thingId="",this.smartEscalationsTracking=!1,this.isLargerThanSmallWindow=!0,this._handleModActionClick=e=>{this.dataModAction===s.M.AddRemovalReason&&e.stopPropagation(),this.dataModAction&&(this.dispatchEvent(t.c(this.dataModAction)),e.target&&this.noun&&t.a(e.target,t.b({source:"moderator",action:"click",noun:this.noun})))},this.mediaWatcher=null,this.handleMediaChange=t=>{this.isLargerThanSmallWindow=t.matches},this.renderWithTooltip=()=>e.x`<faceplate-tooltip appearance="inverted" position="top"> ${this.renderButton()} <slot name="text"></slot> </faceplate-tooltip>`,this.renderButton=()=>{const s=o.ab()?i.c:t.r,a=this.smartEscalationsTracking?e.x` <ac-track trigger="click" san="moderator|click|remove" data-faceplate-tracking-context="${JSON.stringify({action_info:{source_name:"smart-escalations"},...this.thingId&&n.i(this.thingId)&&{post:{id:this.thingId}},...this.thingId&&n.a(this.thingId)&&{comment:{id:this.thingId}}})}"></ac-track>`:"";return e.x`${s({appearance:this.buttonAppearance,attributes:{onclick:this._handleModActionClick,className:"relative",slot:"trigger"},size:this.buttonSize,children:this.showFullButtons&&this.isLargerThanSmallWindow?e.x` <span> ${a} <slot name="text"></slot> </span> `:"",leadingIcon:this.showFullButtons&&this.isLargerThanSmallWindow?"":e.x` <span class="flex justify-center items-center"> ${a} <slot name="icon"></slot> </span> `,screenReaderContent:this.ariaLabel})}`}}connectedCallback(){super.connectedCallback(),this.showFullButtons&&(this.mediaWatcher=window.matchMedia("(min-width: 768px)"),this.mediaWatcher.addEventListener("change",this.handleMediaChange))}disconnectedCallback(){super.disconnectedCallback(),this.mediaWatcher?.removeEventListener("change",this.handleMediaChange)}render(){return this.showFullButtons?this.renderButton():this.renderWithTooltip()}};b.styles=[t.t],t._([t.n({type:String,attribute:"data-mod-action"})],b.prototype,"dataModAction",void 0),t._([t.n({type:String,attribute:"event-noun"})],b.prototype,"noun",void 0),t._([t.n({type:String,attribute:"button-appearance"})],b.prototype,"buttonAppearance",void 0),t._([t.n({type:String,attribute:"button-size"})],b.prototype,"buttonSize",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],b.prototype,"showFullButtons",void 0),t._([t.n({type:String,attribute:"aria-label"})],b.prototype,"ariaLabel",void 0),t._([t.n({type:String,attribute:"thing-id"})],b.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"smart-escalations-tracking"})],b.prototype,"smartEscalationsTracking",void 0),t._([t.d()],b.prototype,"isLargerThanSmallWindow",void 0),b=t._([t.e("mod-action-button")],b);let T=class extends(t.C(e.s)){constructor(){super(...arguments),this.feedViewType=t.al.ModQueueCompactView,this.viewContext=c.P.CommentsPage,this.itemState=m.M.UNMODERATED,this.hasReports=!1,this.isModMode=!1,this.isRemoved=!1,this.isDeleted=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isCurrentUserAuthor=!1,this.hasParent=!1,this.isIconOnly=!1,this.hasRemovalReason=!1,this.permalink="",this.isDesktopViewport=!1,this.isSpamFilteredPost=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.hasFlairPermissions=!1,this.areHighlightsEnabled=!1,this.hideInlineActions=!1,this.isSmartEscalations=!1,this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=o.bC,this.moderationState=m.M.UNMODERATED,this._handleThingUpdate=t=>{let e="";if("awardOnContentId"in t?e=t.awardOnContentId:"commentId"in t?e=t.commentId:"postId"in t&&(e=t.postId),e!==this.thingId)return;const{value:i}=t;switch(t.action){case h.a.approve:case l.C.approve:case d.A.approve:case l.C.approveOptimistic:this.hasRemovalReason=!1,this.isRemoved=!1,this.moderationState=m.M.APPROVED;break;case h.a.remove:case h.a.removeAsSpam:case h.a.confirmRemoval:case l.C.remove:case l.C.removeAsSpam:case l.C.confirmRemoval:case d.A.remove:case d.A.confirmRemoval:case l.C.removeOptimistic:case l.C.removeAsSpamOptimistic:case l.C.confirmRemovalOptimistic:this.isRemoved=!0,this.moderationState=m.M.REMOVED;break;case h.a.addRemovalReason:case l.C.addRemovalReason:this.hasRemovalReason=!0;break;case h.a.updateHighlightedPost:this.isHighlighted=i;break;case h.a.lock:case l.C.lock:this.isLocked=i;break;case h.a.delete:this.isDeleted=i;break;case h.a.sticky:case l.C.sticky:this.isStickied=i}}}get itemType(){return this.thingId?a.i(this.thingId):null}get isPost(){return this.itemType===t.a9.Post}get isCompactView(){return this.feedViewType===t.al.CompactView}get isOnModqueuePage(){return this.viewContext===c.P.ModQueue||this.viewContext===c.P.ModQueueAll}get isApproved(){return this.moderationState===m.M.APPROVED}get shouldShowConfirmRemoval(){return m.s(this.moderationState,this.isSpamFilteredPost)}get shouldShowActionInline(){return m.a(this.viewContext,this.feedViewType)&&!this.isIconOnly&&!this.hideInlineActions}get isStickyable(){const t=!(this.viewContext===c.P.ProfileFeed||this.viewContext===c.P.ProfileFeed2),e=this.isCurrentUserAuthor&&!this.hasParent;return this.isPost?t:t&&e}get itemTopic(){switch(this.itemType){case t.a9.Award:return t.T.AwardOnContentUpdated;case t.a9.Comment:return t.T.CommentUpdated;case t.a9.Post:return t.T.PostUpdated;default:return null}}connectedCallback(){super.connectedCallback(),this.moderationState=this.itemState,this.itemTopic&&this.subscribe(this.itemTopic,this._handleThingUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.itemTopic&&this.unsubscribe(this.itemTopic,this._handleThingUpdate)}getApproveButtonAppearance(){const t=o.ab()?"bordered":"secondary";return this.isCompactView?t:this.shouldShowConfirmRemoval||this.hasReports?"primary":(this.moderationState,m.M.REMOVED,t)}renderApproveAction(){return(this.isModMode||this.isOnModqueuePage)&&m.b(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===m.M.UNMODERATED?null:e.x` <mod-action-button aria-label="Approve content" data-mod-action="${s.M.ApproveContent}" button-appearance="${this.getApproveButtonAppearance()}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${e.P({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text">Approve</span> </mod-action-button> `:null}renderRemoveAction(){return(this.isModMode||this.isOnModqueuePage)&&m.c(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===m.M.UNMODERATED?null:e.x` <mod-action-button aria-label="Remove content" data-mod-action="${s.M.RemoveContent}" button-appearance="${o.ab()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${e.C({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> Remove </span> </mod-action-button> `:null}renderConfirmRemovalAction(){return(this.isModMode||this.isOnModqueuePage)&&this.shouldShowConfirmRemoval?e.x` <mod-action-button aria-label="Confirm Removal" data-mod-action="${s.M.ConfirmRemoval}" button-appearance="${o.ab()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}" thing-id="${e.l(this.thingId)}" ?smart-escalations-tracking="${this.isSmartEscalations}"> <span slot="icon" class="flex justify-center">${e.C({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> Confirm Removal </span> </mod-action-button> `:null}renderSpamAction(){return m.d({moderationState:this.moderationState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInline?e.x` <mod-action-button aria-label="Remove content as spam" data-mod-action="${s.M.RemoveContentAsSpam}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${e.bp({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> Spam </span> </mod-action-button> `:null}renderShareToModChatAction(){if(!m.e({isPromotedPost:this.isPromotedPost})||!this.isContentLevelModsCommsEnabled||!this.modContentDiscussionContext?.modChatChannel||!this.isOnModqueuePage||this.isOnModqueuePage&&!this.shouldShowActionInline&&!this.modContentDiscussionContext.modContentDiscussion)return null;let t=this.modContentDiscussionContext?.modContentDiscussion?`${p.g(this.modContentDiscussionContext.modContentDiscussion.chatChannel?.roomId,this.modContentDiscussionContext.modContentDiscussion.chatMessage?.id)}/thread`:p.a(this.modContentDiscussionContext?.modChatChannel?.roomId);this.modContentDiscussionContext?.modContentDiscussion||(t+=`?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}`);const i=this.modContentDiscussionContext?.modContentDiscussion?s.M.ViewChatThread:s.M.ShareToModChat,o=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat",n=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat";return e.x` <faceplate-tracker source="moderator" action="click" noun="${this.modContentDiscussionContext?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:this.modContentDiscussionContext?.eventContext?.subredditId,name:this.modContentDiscussionContext?.eventContext?.subredditName},post:{id:this.modContentDiscussionContext?.eventContext?.postId},...this.modContentDiscussionContext?.eventContext?.roomId&&{chat:{id:this.modContentDiscussionContext?.eventContext?.roomId}},...this.modContentDiscussionContext?.eventContext?.commentId&&{comment:{id:this.modContentDiscussionContext?.eventContext?.commentId}}})}" slot="mod-share-to-mod-chat"> <share-to-mod-chat-coachmark location="${this.modContentDiscussionContext?.modContentDiscussion?"modQueueChat":"modQueue"}" view-context="${this.viewContext}"> <reddit-chat-anchor> <a href="${t}"> <div class="relative"> <mod-action-button aria-label="${o}" button-appearance="plain" data-mod-action="${i}"> <span slot="icon" class="flex justify-center"> ${e.aw({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${n} </span> </mod-action-button> </div> </a> </reddit-chat-anchor> </share-to-mod-chat-coachmark> </faceplate-tracker> `}renderFlairAction(){return this.isPost&&this.shouldShowActionInline?e.x` <mod-action-button aria-label="Open post flair modal" data-mod-action="${s.M.OpenEditPostFlairModal}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${e.aA({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> Flair </span> </mod-action-button>`:null}renderAddRemovalReasonAction(){return(this.isModMode||this.isOnModqueuePage)&&this.itemType!==t.a9.Award&&m.f(this.moderationState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)?e.x` <mod-action-button aria-label="Add removal reason" data-mod-action="${s.M.AddRemovalReason}" button-appearance="${o.ab()?"bordered":"secondary"}" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center">${e.u({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> Add removal reason </span> </mod-action-button> ${this.isIconOnly?e.x`<div class="separator"></div>`:null} `:null}renderCopyLinkAction(){return this.shouldShowActionInline?this.isPost?e.x`<shreddit-post-share-button ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" size="${t.s.Small}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-post-share-button>`:e.x`<shreddit-comment-share-button slot="comment-share" ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-comment-share-button>`:null}renderLockAction(){if(!this.shouldShowActionInline||this.isLocked)return null;const t="Lock";return e.x` <mod-action-button aria-label="${t}" data-mod-action="${s.M.Lock}" event-noun="lock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.bv({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderUnlockAction(){if(!this.shouldShowActionInline||!this.isLocked)return null;const t="Unlock";return e.x` <mod-action-button aria-label="${t}" data-mod-action="${s.M.Unlock}" event-noun="unlock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.aj({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderStickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||this.isStickied||this.areHighlightsEnabled)return null;const t="Sticky";return e.x` <mod-action-button aria-label="${t}" data-mod-action="${s.M.Sticky}" event-noun="sticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.bu({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderUnstickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.isStickied||this.areHighlightsEnabled)return null;const t="Unsticky";return e.x` <mod-action-button aria-label="${t}" data-mod-action="${s.M.Unsticky}" event-noun="unsticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.ak({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderAddToHighlightsAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.areHighlightsEnabled||!r.H.has(this.viewContext)||this.isHighlighted)return null;const t="Add to highlights";return e.x` <mod-action-button aria-label="${t}" data-mod-action="${s.M.UpdateHighlightedPost}" event-noun="highlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.bu({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderRemoveFromHighlightsAction(){if(!(this.isStickyable&&this.shouldShowActionInline&&this.areHighlightsEnabled&&r.H.has(this.viewContext)&&this.isHighlighted))return null;const t="Remove from highlights";return e.x` <mod-action-button aria-label="${t}" data-mod-action="${s.M.RemoveHighlightedPost}" event-noun="unhighlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.ak({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}render(){return e.x` ${this.renderAddRemovalReasonAction()} ${this.renderApproveAction()} ${this.renderRemoveAction()} ${this.renderConfirmRemovalAction()} ${this.renderShareToModChatAction()} ${this.renderSpamAction()} ${this.renderFlairAction()} ${this.renderLockAction()} ${this.renderUnlockAction()} ${this.renderCopyLinkAction()} ${this.renderStickyAction()} ${this.renderUnstickyAction()} ${this.renderAddToHighlightsAction()} ${this.renderRemoveFromHighlightsAction()} `}};T.styles=[t.t,e.a`:host{display:flex;gap:var(--spacer-xs)}.separator{border-left:1px solid rgb(0,0,0,.1);width:1px;height:32px}`],t._([t.n({type:String,attribute:"thing-id"})],T.prototype,"thingId",void 0),t._([t.n({type:String,attribute:"feed-view-type"})],T.prototype,"feedViewType",void 0),t._([t.n({type:String,attribute:"view-context"})],T.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"item-state"})],T.prototype,"itemState",void 0),t._([t.n({type:Boolean,attribute:"has-reports"})],T.prototype,"hasReports",void 0),t._([t.n({type:Boolean,attribute:"mod-mode"})],T.prototype,"isModMode",void 0),t._([t.n({type:Boolean,attribute:"removed"})],T.prototype,"isRemoved",void 0),t._([t.n({type:Boolean,attribute:"deleted"})],T.prototype,"isDeleted",void 0),t._([t.n({type:Boolean,attribute:"locked"})],T.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],T.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],T.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"current-user-author"})],T.prototype,"isCurrentUserAuthor",void 0),t._([t.n({type:Boolean,attribute:"has-parent"})],T.prototype,"hasParent",void 0),t._([t.n({type:Boolean,attribute:"icon-only"})],T.prototype,"isIconOnly",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason"})],T.prototype,"hasRemovalReason",void 0),t._([t.n({type:String,attribute:"permalink"})],T.prototype,"permalink",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],T.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-spam-filtered-post"})],T.prototype,"isSpamFilteredPost",void 0),t._([t.n({type:Boolean,attribute:"is-profile-post"})],T.prototype,"isProfilePost",void 0),t._([t.n({type:Boolean,attribute:"is-promoted-post"})],T.prototype,"isPromotedPost",void 0),t._([t.n({type:Boolean,attribute:"has-flair-permissions"})],T.prototype,"hasFlairPermissions",void 0),t._([t.n({type:Boolean,attribute:"highlights-enabled"})],T.prototype,"areHighlightsEnabled",void 0),t._([t.n({type:Boolean,attribute:"hide-inline-actions"})],T.prototype,"hideInlineActions",void 0),t._([t.n({type:Boolean,attribute:"smart-escalations"})],T.prototype,"isSmartEscalations",void 0),t._([t.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],T.prototype,"isContentLevelModsCommsEnabled",void 0),t._([t.n({type:Object,attribute:"mod-content-discussion-context"})],T.prototype,"modContentDiscussionContext",void 0),t._([t.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],T.prototype,"isFeedNoApproveEnabled",void 0),t._([t.n({attribute:!1})],T.prototype,"focusChatTextareaFn",void 0),t._([t.d()],T.prototype,"moderationState",void 0),T=t._([t.e("shreddit-mod-inline-actions")],T);let v=class extends u.M{constructor(){super(...arguments),this.hasParent=!1,this.pubsub=new t.P(this),this.handleCommentUpdate=({commentId:e,action:i,value:o})=>{if(e===this.thingId)switch(i){case l.C.lock:this.isLocked=Boolean(o);break;case l.C.sticky:this.isStickied=Boolean(o);break;case l.C.distinguishAsMod:this.distinguishedAs=o?t.at.Moderator:void 0;break;case l.C.distinguishAsAdmin:this.distinguishedAs=o?t.at.Admin:void 0;break;case l.C.approve:case l.C.approveOptimistic:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=t.am.ModApproved,this.itemState=m.M.APPROVED,this.hasReports=!1;break;case l.C.remove:case l.C.removeAsSpam:case l.C.confirmRemoval:case l.C.removeOptimistic:case l.C.removeAsSpamOptimistic:case l.C.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=t.am.ModRemoved,this.itemState=m.M.REMOVED,this.hasReports=!1;break;case l.C.addRemovalReason:this.hasRemovalReason=Boolean(o);break;case l.C.ignoreReports:this.isReportingIgnored=Boolean(o),o&&(this.isRemoved=!1,this.verdict=t.am.ModApproved,this.itemState=m.M.APPROVED)}}}get isStickyable(){return super.isStickyable&&this.isCurrentUserAuthor&&!this.hasParent}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.CommentUpdated,this.handleCommentUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.pubsub.unsubscribe(t.T.CommentUpdated,this.handleCommentUpdate)}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky comment"),this.renderUnstickyAction("Unsticky comment"),this.renderLockAction("Lock comment"),this.renderUnlockAction("Unlock comment"),this.renderCopyLinkAction()]}};t._([t.n({type:Boolean,attribute:"has-parent"})],v.prototype,"hasParent",void 0),v=t._([t.e("shreddit-comment-mod-actions-menu")],v);let R=class extends u.M{constructor(){super(...arguments),this.isNsfw=!1,this.isSpoiler=!1,this.pubsub=new t.P(this),this._handlePostUpdate=({postId:e,action:i,value:o})=>{if(e===this.thingId)switch(i){case h.a.lock:this.isLocked=Boolean(o);break;case h.a.sticky:this.isStickied=Boolean(o);break;case h.a.updateHighlightedPost:this.isHighlighted=Boolean(o);break;case h.a.distinguishAsMod:this.distinguishedAs=o?t.at.Moderator:void 0;break;case h.a.approveOptimistic:case h.a.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=t.am.ModApproved,this.itemState=m.M.APPROVED,this.hasReports=!1,this.requestUpdate();break;case h.a.remove:case h.a.removeAsSpam:case h.a.confirmRemoval:case h.a.removeOptimistic:case h.a.removeAsSpamOptimistic:case h.a.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=t.am.ModRemoved,this.itemState=m.M.REMOVED,this.hasReports=!1;break;case h.a.addRemovalReason:this.hasRemovalReason=Boolean(o);break;case h.a.markAsNsfw:this.isNsfw=Boolean(o);break;case h.a.markAsSpoiler:this.isSpoiler=Boolean(o);break;case h.a.ignoreReports:this.isReportingIgnored=Boolean(o),o&&(this.isRemoved=!1,this.verdict=t.am.ModApproved,this.itemState=m.M.APPROVED)}}}get isStickyable(){return super.isStickyable}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.PostUpdated,this._handlePostUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.pubsub.unsubscribe(t.T.PostUpdated,this._handlePostUpdate)}renderMarkAsNsfwAction(){return this.isDeleted||this.isNsfw?null:E.l({leadingIcon:e.bD(),label:"Add NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkNsfw)})}renderUnmarkAsNsfwAction(){return this.isDeleted||!this.isNsfw?null:E.l({leadingIcon:e.w(),label:"Remove NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkNsfw)})}renderMarkAsSpoilerAction(){return this.isDeleted||this.isSpoiler?null:E.l({leadingIcon:e.a3(),label:"Add spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkSpoiler)})}renderUnmarkAsSpoilerAction(){return this.isDeleted||!this.isSpoiler?null:E.l({leadingIcon:e.z(),label:"Remove spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkSpoiler)})}renderAdjustCrowdControlAction(){return this.isPromotedPost?null:E.l({leadingIcon:e.bY(),label:"Adjust crowd control",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAdjustCrowdControl)})}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky post"),this.renderUnstickyAction("Unsticky post"),this.renderAddToHighlightsAction(),this.renderRemoveFromHighlightsAction(),this.renderLockAction("Lock comments"),this.renderUnlockAction("Unlock comments"),this.renderEditPostFlairAction("Edit post flair"),this.renderMarkAsNsfwAction(),this.renderUnmarkAsNsfwAction(),this.renderMarkAsSpoilerAction(),this.renderUnmarkAsSpoilerAction(),this.renderAdjustCrowdControlAction(),this.renderCopyLinkAction()]}};t._([t.n({type:Boolean,attribute:"nsfw"})],R.prototype,"isNsfw",void 0),t._([t.n({type:Boolean,attribute:"spoiler"})],R.prototype,"isSpoiler",void 0),R=t._([t.e("shreddit-post-mod-actions-menu")],R);const S=t.C(e.s);let A=class extends S{constructor(){super(...arguments),this.isEnoughParentWidth=!1,this.removed=!1,this.thingId="",this.shouldIgnoreParentWidth=!1,this.minWidthToShowLabel=460,this.onCommentUpdateAction=t=>{if(t.commentId!==this.thingId)return;const{action:e}=t;switch(e){case l.C.approve:case l.C.approveOptimistic:this.removed=!1;break;case l.C.remove:case l.C.removeAsSpam:case l.C.confirmRemoval:case l.C.removeOptimistic:case l.C.removeAsSpamOptimistic:case l.C.confirmRemovalOptimistic:this.removed=!0}},this.onPostUpdateAction=t=>{if(t.postId!==this.thingId)return;const{action:e}=t;switch(e){case h.a.approve:case h.a.approveOptimistic:this.removed=!1;break;case h.a.remove:case h.a.removeAsSpam:case h.a.confirmRemoval:case h.a.removeOptimistic:case h.a.removeAsSpamOptimistic:case h.a.confirmRemovalOptimistic:this.removed=!0}},this.onAwardOnContentUpdateAction=t=>{if(t.awardOnContentId!==this.thingId)return;const{action:e}=t;switch(e){case d.A.approve:this.removed=!1;break;case d.A.remove:case d.A.confirmRemoval:this.removed=!0}}}connectedCallback(){this.initializeResizeObserver(),this.subscribe(t.T.PostUpdated,this.onPostUpdateAction),this.subscribe(t.T.CommentUpdated,this.onCommentUpdateAction),this.subscribe(t.T.AwardOnContentUpdated,this.onAwardOnContentUpdateAction),super.connectedCallback()}disconnectedCallback(){this.resizeObserver?.disconnect(),this.unsubscribe(t.T.PostUpdated,this.onPostUpdateAction),this.unsubscribe(t.T.CommentUpdated,this.onCommentUpdateAction),this.unsubscribe(t.T.AwardOnContentUpdated,this.onAwardOnContentUpdateAction),super.disconnectedCallback()}initializeResizeObserver(){const t=a.g(this);t&&(this.resizeObserver=new ResizeObserver((t=>{for(const e of t){const t=e.contentRect.width>=this.minWidthToShowLabel;t!==this.isEnoughParentWidth&&(this.isEnoughParentWidth=t)}})),this.resizeObserver.observe(t))}render(){return e.x` <span class="inline-flex items-center gap-xs text-12 text-neutral-content w-full"> <div class="relative"> <slot name="verdict-indicator-avatar"></slot> <div aria-hidden="true" class="absolute bottom-0 -right-px flex justify-center items-center h-md w-md rounded-full border-solid border-md border-neutral-background scale-75 origin-bottom-right translate-y-px ${this.removed?"bg-red-200 text-red-700":"bg-kiwigreen-200 text-kiwigreen-700"}"> ${this.removed?e.aG({size:e.I.ExtraSmall}):e.E({size:e.I.ExtraSmall})} </div> </div> ${this.shouldShowLabel?e.x`<slot name="verdict-indicator-label"></slot>`:""} </span> `}get shouldShowLabel(){return this.shouldIgnoreParentWidth||this.isEnoughParentWidth}};A.styles=[t.t],t._([t.d()],A.prototype,"isEnoughParentWidth",void 0),t._([t.n({type:Boolean,reflect:!0})],A.prototype,"removed",void 0),t._([t.n({type:String,attribute:"thing-id"})],A.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"ignore-parent-width"})],A.prototype,"shouldIgnoreParentWidth",void 0),A=t._([t.e("mod-verdict-indicator-component")],A);let C=class extends e.s{constructor(){super(...arguments),this.iconOnly=!1,this.pubsub=new t.P(this),this.handleCommentUpdate=({commentId:t,action:e,value:i})=>{if(t===this.thingId)switch(e){case l.C.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case l.C.approve:case l.C.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case l.C.remove:case l.C.removeAsSpam:case l.C.removeOptimistic:case l.C.removeAsSpamOptimistic:case l.C.confirmRemovalOptimistic:this.hasRemovalReason=!1,this.isRemoved=!0}},this.handlePostUpdate=({postId:t,action:e,value:i})=>{if(t===this.thingId)switch(e){case h.a.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case h.a.approve:case h.a.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case h.a.remove:case h.a.removeAsSpam:case h.a.removeOptimistic:case h.a.removeAsSpamOptimistic:case h.a.confirmRemovalOptimistic:this.isRemoved=!0,this.hasRemovalReason=!1}},this.updateModVerdict=t=>{const e=this.closest('[slot="mod-verdict"]');t&&this.isRemoved?e?.setAttribute("show-removal-reason-cta",""):e?.removeAttribute("show-removal-reason-cta")},this.shouldShowCta=()=>{const t=this.isRemoved?m.M.REMOVED:m.M.UNMODERATED;return m.f(t,!!this.hasRemovalReason,!!this.isContentSpamFilteredPost,this.isProfilePost)}}connectedCallback(){super.connectedCallback();const e=a.g(this);this.resizeObserver=new ResizeObserver((t=>{for(const e of t)e.contentRect.width<500?this.iconOnly=!0:this.iconOnly=!1})),e&&this.resizeObserver.observe(e),this.pubsub.subscribe(t.T.CommentUpdated,this.handleCommentUpdate),this.pubsub.subscribe(t.T.PostUpdated,this.handlePostUpdate),this.updateModVerdict(!this.hasRemovalReason)}disconnectedCallback(){super.disconnectedCallback();const e=a.g(this);e&&this.resizeObserver.unobserve(e),this.resizeObserver.disconnect(),this.pubsub.unsubscribe(t.T.CommentUpdated,this.handleCommentUpdate),this.pubsub.unsubscribe(t.T.PostUpdated,this.handlePostUpdate)}updated(t){super.updated(t),t.has("hasRemovalReason")&&this.updateModVerdict(!this.hasRemovalReason)}render(){return this.hasRemovalReason||!this.shouldShowCta()?e.A:e.x` <mod-action-button aria-label="Add removal reason" data-mod-action="${s.M.AddRemovalReason}" button-appearance="secondary" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center"> ${e.u({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text" class="flex"> ${this.iconOnly?e.u({attributes:{"aria-hidden":"true"},size:e.I.Small}):"Add removal reason"} </span> </mod-action-button> `}};C.styles=[t.t],t._([t.n({type:String,attribute:"thing-id"})],C.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason"})],C.prototype,"hasRemovalReason",void 0),t._([t.d()],C.prototype,"iconOnly",void 0),t._([t.n({type:Boolean,attribute:"is-removed"})],C.prototype,"isRemoved",void 0),t._([t.n({type:Boolean,attribute:"is-content-spam-filtered-post"})],C.prototype,"isContentSpamFilteredPost",void 0),t._([t.n({type:Boolean,attribute:"is-profile-post"})],C.prototype,"isProfilePost",void 0),C=t._([t.e("responsive-add-removal-reason-cta")],C)}));
SML.dm("flexnavcf006431",[],(async()=>{var n;!function(n){n.Collapsed="0",n.Expanded="1"}(n||(n={}));const e={[n.Collapsed]:"flex-nav-collapsed",[n.Expanded]:"flex-nav-expanded"},a=Object.values(n);return{F:{LeftSidebarContainer:"left-sidebar-container",ContainerDiv:"flex-left-nav-container",ContentsDiv:"flex-left-nav-contents",ButtonsContainer:"flex-nav-buttons",ExpandButton:"flex-nav-expand-button",CollapseButton:"flex-nav-collapse-button",SubgridContainer:"subgrid-container"},a:"hui_flex_nav_expanded_state",get b(){return n},c:e,i:n=>!!n&&a.includes(n)}}));
SML.dm("flexleftnavcontainer8d5b755d",["shelle48e5956","agegatestandaloneclientjsb13e879d","flexnavcf006431","iconc33661e6"],(async(t,e,n,i)=>{let s=class extends t.Q{constructor(){super(...arguments),this.isHovered=!1,this.hoverDelayStart=150,this.hoverDelayEnd=150,this.preventNextAnimations=!1,this.containerElement=null,this.contentsElement=null,this.expandButton=null,this.collapseButton=null,this.gridTransitionPromise=null,this.gridTransitioning=!1,this.trigger="hover",this.interactionController=new e.aS(this,{hoverDelayStart:()=>this.hoverDelayStart,hoverDelayEnd:()=>this.hoverDelayEnd,isInteractedWith:t=>t.isHovered}),this.noAnimate=!1,this.parentGridSelector=".grid-container",this.hotkeysController=new t.dx(this),this.handleSlotChange=t=>{const e=document.getElementById(n.F.ContainerDiv),i=document.getElementById(n.F.ContentsDiv),s=document.getElementById(n.F.ExpandButton),a=document.getElementById(n.F.CollapseButton);i&&this.contentsElement!==i&&(this.contentsElement?.removeEventListener("mouseenter",this.interactionController.handleMouseEnter),i.addEventListener("mouseenter",this.interactionController.handleMouseEnter),this.contentsElement=i,this.isExpanded||(this.contentsVisibility=!1)),e&&this.containerElement!==e&&(this.containerElement=e),a&&a!==this.collapseButton&&(this.collapseButton?.removeEventListener("click",this.toggleState),this.collapseButton=a,a.addEventListener("click",this.toggleState)),s&&s!==this.expandButton&&(this.expandButton?.removeEventListener("click",this.toggleState),this.expandButton?.removeEventListener("keydown",this.handleExpandKeydown),this.expandButton=s,s.addEventListener("click",this.toggleState),s.addEventListener("mouseover",this.handleExpandButtonMouseOver),s.addEventListener("keydown",this.handleExpandKeydown))},this.handleExpandKeydown=async t=>{if("Tab"!==t.key)return;t.preventDefault();const e=document.querySelector("reddit-skip-to-sidebar")?.shadowRoot?.querySelector("a");if(e)return this.emitter.dispatch("focus-delegate",{detail:{el:e}}),e.focus();const n=document.getElementById("shreddit-skip-link");n instanceof HTMLElement&&(this.emitter.dispatch("focus-delegate",{detail:{el:n}}),n.focus())},this.handleExpandButtonMouseOver=t=>{this.isHovered?this.interactionController.handleMouseEnter(t):t.stopImmediatePropagation()},this.toggleStateViaHotkey=()=>{this.toggleState(void 0,{viaHotkey:!0})},this.toggleState=(e,i)=>{const s=document.querySelector(this.parentGridSelector);var a,l;void 0!==this.country&&void 0!==this.expanded&&s&&(this.emitTrackingEvent(this.isExpanded?"collapse":"expand",i),this.expanded=this.isExpanded?n.b.Collapsed:n.b.Expanded,s instanceof HTMLElement&&(this.gridTransitioning=!0,this.gridTransitionPromise=this.preventNextAnimations?r():o(s).then((()=>{this.gridTransitioning=!1})),s.classList.remove(...Object.values(n.c)),s.classList.add(n.c[this.expanded])),a=this.expanded,l=this.country,t.$({name:n.a,value:a,country:l}))}}get isExpanded(){return this.expanded===n.b.Expanded}set contentsVisibility(t){this.contentsElement&&(this.contentsElement.hidden=!t)}emitTrackingEvent(e,n){let i;n?.viaHotkey&&(i={action_info:{trigger_type:t.d_.HOTKEY}});const[s,a,o]={expand:["nav","click","open_community_nav"],collapse:["nav","click","close_community_nav"],hover:["nav","hover","open_community_nav"],unhover:["nav","hover","close_community_nav"]}[e];return t.a(this,{source:s,action:a,noun:o,...i})}async stopAnimations(){const e=[];this.containerElement&&e.push(t.cE(this.containerElement)),this.contentsElement&&e.push(t.cE(this.contentsElement)),await Promise.all(e)}async runAnimations(e,n){if(this.preventNextAnimations)return;const i=[],s=t.cF(this,`flex-left-nav-container.${e}-${n}`),a=t.cF(this,`flex-left-nav-contents.${e}-${n}`);this.containerElement&&i.push(t.cG(this.containerElement,s.keyframes,s.options)),this.contentsElement&&i.push(t.cG(this.contentsElement,a.keyframes,a.options)),await Promise.all(i)}async connectedCallback(){super.connectedCallback(),await this.syncFlexNavStateNoAnimate(),this.isExpanded||this.updateComplete.then((()=>this.contentsVisibility=!1)),this.addEventListener("mouseleave",this.interactionController.handleMouseLeave),"enabled"===t.dw("shreddit_hotkeys_m1")&&this.hotkeysController.subscribe(t.dy.OPEN_NAVIGATION,this.toggleStateViaHotkey)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("mouseleave",this.interactionController.handleMouseLeave),"enabled"===t.dw("shreddit_hotkeys_m1")&&this.hotkeysController.unsubscribe(t.dy.OPEN_NAVIGATION,this.toggleStateViaHotkey)}willUpdate(t){t.has("expanded")&&this.hasUpdated&&this.handleExpandedStateChanged(),super.willUpdate(t)}updated(){}focusContents(){this.isExpanded?this.collapseButton?.focus():this.expandButton?.focus()}async syncFlexNavStateNoAnimate(){const e=(()=>{const e=t.v.get(n.a);return n.i(e)?e:null})();null!==e&&this.expanded!==e&&(this.preventAnimationsForUpdate(),this.toggleState(),await this.updateComplete)}async preventAnimationsForUpdate(){this.preventNextAnimations=!0;const t=document.querySelector(this.parentGridSelector);t instanceof HTMLElement&&(t.style.transition="none"),this.setAttribute("skip-animation",""),await Promise.all([this.updateComplete,r()]),this.removeAttribute("skip-animation"),t instanceof HTMLElement&&(t.style.transition=""),this.preventNextAnimations=!1}async handleExpandedStateChanged(){this.emitter.dispatch(this.isExpanded?"expand":"collapse");const t=this.updateComplete,e=(this.isExpanded?this.collapseButton:this.expandButton)?.parentElement,n=(this.isExpanded?this.expandButton:this.collapseButton)?.parentElement;if(a(e)&&(e.disabled=!0),a(n)&&n.hide?.(),t.then((async()=>{this.focusContents()})),await this.stopAnimations(),this.isExpanded&&(this.contentsVisibility=!0),!this.isHovered&&this.containerElement){const t=this.isExpanded?"show":"hide";await this.runAnimations("expand",t)}else this.gridTransitioning&&this.gridTransitionPromise?.then((()=>{this.emitter.dispatch("after-grid-transition"),this.isHovered=!1,this.classList.remove("hovered")}));this.isExpanded||(this.contentsVisibility=!1),a(e)&&(e.disabled=!1),this.emitter.dispatch(this.isExpanded?"after-expand":"after-collapse")}async startInteraction(){this.isExpanded||this.isHovered||this.gridTransitioning||(this.emitTrackingEvent("hover"),this.emitter.dispatch("hover"),await this.stopAnimations(),this.classList.add("hover-started"),this.contentsVisibility=!0,this.isHovered=!0,await this.runAnimations("hover","show"),this.classList.remove("hover-started"),this.classList.add("hovered"),this.emitter.dispatch("after-hover"))}async finishInteraction(){!this.isExpanded&&this.isHovered&&(this.emitTrackingEvent("unhover"),this.emitter.dispatch("unhover"),await this.stopAnimations(),await this.runAnimations("hover","hide"),this.classList.remove("hovered"),this.isHovered=!1,this.contentsVisibility=!1,this.emitter.dispatch("after-unhover"))}render(){return i.x` <slot @slotchange="${this.handleSlotChange}"></slot> ${this.isExpanded?i.A:i.x`<div class="hoverable-target ${this.isHovered?"hovered":""}" @mouseenter="${this.interactionController.handleMouseEnter}"></div>`} `}};s.styles=i.a`:host(.hover-started),:host(.hovered){z-index:10!important;border-top:1px solid var(--color-neutral-border)!important}.hoverable-target{position:fixed;top:calc(var(--shreddit-header-height) + 72px);width:calc(var(--flex-nav-closed-size) + 16px);bottom:0;z-index:calc(var(--flex-nav-z-index) + 1)}.hoverable-target.hovered{z-index:calc(var(--flex-nav-z-index) - 1);top:var(--shreddit-header-height);width:calc(var(--flex-nav-expanded-size) + 16px)}`,t._([t.d()],s.prototype,"isHovered",void 0),t._([t.n({type:String,reflect:!0})],s.prototype,"expanded",void 0),t._([t.n({type:String})],s.prototype,"country",void 0),t._([t.n({type:Boolean})],s.prototype,"noAnimate",void 0),t._([t.n({type:String})],s.prototype,"parentGridSelector",void 0),s=t._([t.e("flex-left-nav-container")],s);const a=t=>"rpl-tooltip"===t?.tagName.toLowerCase(),o=(t,e=1200)=>{const n=t=>new Promise((n=>{t.addEventListener("transitionend",n),setTimeout(n,e)}));return Array.isArray(t)?Promise.all(t.map(n)):n(t)},r=()=>new Promise((t=>requestAnimationFrame(t)));return t.cC("flex-left-nav-container.expand-show",{keyframes:[{transform:"translateX(var(--closed-floating-translation))"},{transform:"translateX(var(--open-floating-translation))"}],options:{duration:250,easing:"cubic-bezier(0.65, 0, 0.35, 1)"}}),t.cC("flex-left-nav-container.expand-hide",{keyframes:[{transform:"translateX(var(--open-floating-translation))"},{transform:"translateX(var(--closed-floating-translation))"}],options:{duration:300,easing:"cubic-bezier(0.87, 0, 0.13, 1)"}}),t.cC("flex-left-nav-container.hover-show",{keyframes:[{boxShadow:"var(--left-nav-box-shadow-none)",transform:"translateX(var(--closed-floating-translation))"},{boxShadow:"var(--left-nav-box-shadow-hover)",transform:"translateX(var(--open-floating-translation))"}],options:{duration:250,easing:"cubic-bezier(0.65, 0, 0.35, 1)"}}),t.cC("flex-left-nav-container.hover-hide",{keyframes:[{boxShadow:"var(--left-nav-box-shadow-hover)",transform:"translateX(var(--open-floating-translation))"},{boxShadow:"var(--left-nav-box-shadow-none)",transform:"translateX(var(--closed-floating-translation))"}],options:{duration:300,easing:"cubic-bezier(0.87, 0, 0.13, 1)"}}),t.cC("flex-left-nav-contents.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250,easing:"linear"}}),t.cC("flex-left-nav-contents.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:300,easing:"linear"}}),{get F(){return s}}}));

SML.dm("contenttags9bd7e916",["iconc33661e6","shelle48e5956"],(async e=>{var a;!function(e){e.APP="APP",e.GAME="GAME",e.NSFW="NSFW",e.ORIGINAL="ORIGINAL",e.SPOILER="SPOILER",e.QUARANTINED="QUARANTINED"}(a||(a={}));return{get C(){return a},c:({attributes:n,children:t,appearance:c})=>{const{html:s,createElement:l}=e.g(),r={size:e.I.Small,attributes:{className:"inline-block",style:"vertical-align: text-bottom"}},i={[a.APP]:{className:"text-ai-plain",icon:e.r(r)},[a.GAME]:{className:"text-ai-plain",icon:e.v(r)},[a.NSFW]:{className:"text-category-nsfw",icon:e.w(r)},[a.ORIGINAL]:{className:"text-primary",icon:e.y(r)},[a.SPOILER]:{className:"text-category-spoiler",icon:e.z(r)},[a.QUARANTINED]:{className:"text-warning-content",icon:e.D(r)}},N=s`<span class="inline-block" aria-hidden="true">${[i[c].icon]}</span> <span class="font-semibold text-12 uppercase">${t}</span>`;return l("span",{...n,className:`flex items-center gap-2xs ${[i[c].className]}`,rpl:!0},N)},g:()=>({[a.NSFW]:{children:"NSFW",appearance:a.NSFW},[a.APP]:{children:"APP",appearance:a.APP},[a.GAME]:{children:"GAME",appearance:a.GAME},[a.SPOILER]:{children:"SPOILER",appearance:a.SPOILER},[a.QUARANTINED]:{children:"QUARANTINED",appearance:a.QUARANTINED},[a.ORIGINAL]:{children:"ORIGINAL",appearance:a.ORIGINAL}})}}));
SML.dm("modpostlistclientjsa6825fc7",["shelle48e5956","iconc33661e6","contenttags9bd7e916","overflowmenuactionsf8d12b95","distinguishedtags1c4757ea"],(async(t,e,s,n)=>{let i=class extends e.s{constructor(){super(),this.postId="",this.spoiler=!1,this.nsfw=!1,this.quarantined=!1,this.game=!1,this.app="",this.onPostUpdateAction=({postId:t,action:e,value:s})=>{if(this.postId===t)switch(e){case n.a.markAsNsfw:this.nsfw=s;break;case n.a.markAsSpoiler:this.spoiler=s}},this.pubsubController=new t.P(this)}connectedCallback(){super.connectedCallback(),this.pubsubController.subscribe(t.T.PostUpdated,this.onPostUpdateAction)}disconnectedCallback(){super.disconnectedCallback(),this.pubsubController.unsubscribe(t.T.PostUpdated,this.onPostUpdateAction)}renderContentTag(t){const n=s.c(s.g()[t]);return e.x`<span class="h-lg inline-block">${n}</span>`}render(){return this.nsfw||this.spoiler||this.quarantined||this.app?e.x` <div class="content-tags inline-flex gap-xs"> ${this.nsfw?this.renderContentTag(s.C.NSFW):""} ${this.app?e.x`<a target="_blank" href="https://developers.reddit.com/apps/${this.app}?utm=watermark_v1" @click="${()=>this.dispatchEvent(new CustomEvent("tag-click",{detail:{type:s.C.APP}}))}">${this.renderContentTag(this.game?s.C.GAME:s.C.APP)}</a>`:""} ${this.spoiler?this.renderContentTag(s.C.SPOILER):""} ${this.quarantined?this.renderContentTag(s.C.QUARANTINED):""} </div> `:""}};i.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],i.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"spoiler",reflect:!0})],i.prototype,"spoiler",void 0),t._([t.n({type:Boolean,attribute:"nsfw",reflect:!0})],i.prototype,"nsfw",void 0),t._([t.n({type:Boolean,attribute:"quarantined",reflect:!0})],i.prototype,"quarantined",void 0),t._([t.n({type:Boolean})],i.prototype,"game",void 0),t._([t.n({type:String})],i.prototype,"app",void 0),i=t._([t.e("shreddit-content-tags")],i)}));
SML.dm("shredditmedialightboxlistener13c26692",["shelle48e5956","iconc33661e6"],(async(t,i)=>{t.cj(i.a`#shreddit-media-lightbox .lightboxed-content{display:flex;align-items:center;justify-content:center;width:100%;height:100%}#shreddit-media-lightbox .non-lightboxed-content{display:none}#shreddit-media-lightbox .media-lightbox-img{max-height:none}#shreddit-media-lightbox::part(panel){max-width:100svw;max-height:100svh;width:100svw;height:100svh;border-radius:0}`);let e=class extends i.s{constructor(){super(...arguments),this._isConnected=!1,this._push=t.ck,this._lightboxUrl=void 0,this.pubsub=new t.P(this),this.templateRef=t.aq(),this.contentRef=t.aq(),this._hideCloseButtonOnIdle=!1,this.disableAnimations=!1,this.isIdle=!1,this.lightboxOpenHandler=({element:t,attributes:i={}})=>{const e=i.permalink??window.location.href;try{const s=e.startsWith("http")?e:`${window.location.origin}${e}`;this._lightboxUrl=new URL(`${s}#lightbox`),this._push(this._lightboxUrl.href,{onForwardNav:()=>this.showModal({element:t,attributes:i}),onBackNav:()=>this.dialog?.hide()})}catch(s){this.showModal({element:t,attributes:i}),window.Sentry?.captureException?.(`shreddit-media-lightbox: Error parsing permalink ${e}`,s)}},this.showModal=({element:i,attributes:e={}})=>{if(this.dialog?.open)return;const{hideCloseButtonOnIdle:s,onAfterClose:o}=e;this._hideCloseButtonOnIdle=s??!1,this._onAfterClose=o,this._originalParent=i,this._originalParentHeight=i.offsetHeight,this.dialog?.showModal(),this.pubsub.publish(t.T.LightboxOpened)},this.onAfterShow=()=>{const t=document.createElement("div");t.style.height=`${this._originalParentHeight}px`,this.contentRef?.value?.replaceChildren(...this._originalParent?.children||[]),this._originalParent?.appendChild(t),this._startIdleTimer(),this.isIdle=!1},this.lightboxCloseHandler=()=>{this.dialog?.open&&this.dialog?.hide()},this.onDialogHide=()=>{this.pubsub.publish(t.T.LightboxClosed),this.contentRef?.value?.children&&this._originalParent&&(this._originalParent.replaceChildren(...this.contentRef.value.children),this.contentRef.value.innerHTML=""),this._originalParent=void 0,this._hideCloseButtonOnIdle=!1,this._idleTimeout=void 0,this.isIdle=!1;const i=window.navigation?.currentEntry?.url!==this._lightboxUrl?.href;window.navigation?.canGoBack&&!i&&(this._lightboxUrl=void 0,window.navigation.back())},this.onAfterHide=()=>{this._onAfterClose&&(this._onAfterClose(),this._onAfterClose=void 0)},this._startIdleTimer=()=>{this._hideCloseButtonOnIdle&&(this._stopIdleTimer(),this._idleTimeout=window.setTimeout((()=>{this.isIdle=!0}),1500))}}static get styles(){return[t.t]}connectedCallback(){super.connectedCallback();Array.from(document.getElementsByTagName("shreddit-media-lightbox")).some((t=>t._isConnected))||(this._isConnected=!0,this.pubsub.subscribe(t.T.LightboxOpen,this.lightboxOpenHandler,!1),this.pubsub.subscribe(t.T.LightboxClose,this.lightboxCloseHandler,!1))}firstUpdated(){this.dialog&&this.disableAnimations&&function(i){const e={keyframes:[],options:{duration:0}};["dialog.show","dialog.hide","dialog.denyClose","dialog.overlay.show","dialog.overlay.hide"].forEach((s=>{t.cl(i,s,e)}))}(this.dialog)}disconnectedCallback(){super.disconnectedCallback(),this._isConnected&&(this.dialog?.open&&this.dialog?.hide(),this.pubsub.unsubscribe(t.T.LightboxOpen,this.lightboxOpenHandler),this.pubsub.unsubscribe(t.T.LightboxClose,this.lightboxCloseHandler),this._isConnected=!1)}_stopIdleTimer(){window.clearTimeout(this._idleTimeout),this._idleTimeout=void 0,this.isIdle=!1}render(){if(this._isConnected){const e=i.x`<div data-testid="lightbox-template" class="relative h-full w-full" @mousemove="${this._startIdleTimer}" @click="${this._startIdleTimer}" @keydown="${this._startIdleTimer}" ${t.as(this.templateRef)}> <div data-testid="lightbox-template-content" class="h-full w-full max-h-dvh" ${t.as(this.contentRef)}></div> ${t.r({size:t.s.Large,appearance:"media",shape:"pill",attributes:{"data-testid":"close-button",className:"absolute top-sm right-sm z-10 duration-300 "+(this.isIdle?"opacity-0 invisible":"opacity-100"),"aria-label":"Close lightbox",onclick:()=>{this.dialog?.hide()}},children:i.aG({size:i.I.Medium})})} </div>`;return i.x` <rpl-dialog dialog-id="${"shreddit-media-lightbox"}" @rpl-dialog:after-show="${this.onAfterShow}" @rpl-dialog:hide="${this.onDialogHide}" @rpl-dialog:after-hide="${this.onAfterHide}" .litTemplateChildren="${e}"> </rpl-dialog> `}return""}};t._([t.n({type:Boolean,attribute:"disable-animations"})],e.prototype,"disableAnimations",void 0),t._([t.d()],e.prototype,"isIdle",void 0),t._([t.y("rpl-dialog")],e.prototype,"dialog",void 0),e=t._([t.e("shreddit-media-lightbox")],e);let s=class extends i.s{constructor(){super(...arguments),this.pubsub=new t.P(this),this.handleInteraction=i=>{t.f(i)&&this.openLightbox()},this.handleTrigger=({postId:t})=>{t===this.postId&&this.openLightbox()},this.openLightbox=()=>{this.pubsub.publish(t.T.LightboxOpen,{element:this,attributes:{permalink:this.permalink}})}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.TriggerLightboxOpen,this.handleTrigger,!1)}disconnectedCallback(){this.pubsub.unsubscribe(t.T.TriggerLightboxOpen,this.handleTrigger),super.disconnectedCallback()}render(){return i.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};s.styles=[i.a`:host{cursor:pointer}`,t.t],t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:String,attribute:"permalink"})],s.prototype,"permalink",void 0),s=t._([t.e("shreddit-media-lightbox-listener")],s)}));
SML.dm("imageobserver51925d1c",["shelle48e5956","iconc33661e6"],(async(e,i)=>{let t=class extends i.s{constructor(){super(...arguments),this._imageElem=null,this._traceCompleted=!1,this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0,this._observer=new e.c6,this._hasBeenInView=!1,this.placement="image_post",this.onEnter=()=>{this._hasBeenInView=!0,this._imageStartTiming||(this._imageStartTiming=Date.now()),this.applyListeners(),this._timeoutTimer||(this._timeoutTimer=setTimeout((()=>{this._imageElem?.complete&&this._imageElem?.naturalWidth||this.sendImageMetric("download_fail")}),6e4))},this.onLeave=()=>{if(this._traceCompleted||!this._hasBeenInView||!this._imageStartTiming)return;const e=Date.now()-this._imageStartTiming>=150;!this._imageReadyTiming&&e&&this.sendImageMetric("exit_before_visible")},this.onLoad=()=>{this._imageLoadedTiming=Date.now(),this.poll()},this.onError=()=>{this.sendImageMetric("download_fail")},this.checkStatus=e=>{if(e.naturalWidth&&!this._imageReadyTiming)return this._imageLoadedTiming||(this._imageLoadedTiming=Date.now()),this._imageReadyTiming=Date.now(),this.sendImageMetric(),!0;e.complete&&!this._imageLoadedTiming&&(this._imageLoadedTiming=Date.now(),this.poll());const i=Date.now()-this._imageLoadedTiming;return this._pollVisibleInterval&&i>1e4&&this.sendImageMetric("download_fail"),!1}}connectedCallback(){if(super.connectedCallback(),this._traceCompleted)return;if(this._imageElem=this.previousElementSibling,!this._imageElem.tagName.includes("IMG"))throw new Error("<image-observer> must be immediately after the observed <img> in the DOM");this.checkStatus(this._imageElem)||(this._observer.observe(this._imageElem),this._imageElem.addEventListener("faceplate-enter",this.onEnter),this._imageElem.addEventListener("faceplate-leave",this.onLeave))}disconnectedCallback(){super.disconnectedCallback(),this._observer.unobserve(this._imageElem),this._imageElem?.removeEventListener("faceplate-enter",this.onEnter),this._imageElem?.removeEventListener("faceplate-leave",this.onLeave),this.cleanup()}applyListeners(){if(!this._imageElem)return;this.checkStatus(this._imageElem)||(this._imageElem.addEventListener("load",this.onLoad,{once:!0}),this._imageElem.addEventListener("error",this.onError,{once:!0}))}cleanup(){clearInterval(this._pollVisibleInterval),clearTimeout(this._timeoutTimer),this._imageElem?.removeEventListener("load",this.onLoad),this._imageElem?.removeEventListener("error",this.onError),this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0}poll(){!this._pollVisibleInterval&&this._hasBeenInView&&(this._pollVisibleInterval=setInterval((()=>{this.checkStatus(this._imageElem)}),25))}sendImageMetric(i=void 0){const t=this._getPostInfo(),s=this._getGalleryInfo();let a,n;t&&({position:n,...a}=t);const m=this._imageStartTiming||this._imageLoadedTiming||this._imageReadyTiming||Date.now(),o=this._imageReadyTiming||Date.now(),r={source:"image",action:"trace",noun:"performance",client_timestamp:Date.now(),image_trace:{get_image_start_timestamp:m,image_ready_timestamp:o,view_visibile_timestamp:m},media:{width:this._imageElem?.naturalWidth,height:this._imageElem?.naturalHeight,url:this._imageElem?.src,placement:this.placement},action_info:{position:n,reason:i,page_type:e.X()}};a&&(r.post=a),s&&(r.gallery=s),this._sendEvent(r),this.cleanup(),"exit_before_visible"!==i&&(this._traceCompleted=!0)}_getPostInfo(){const i=this.closest("shreddit-post, shreddit-ad-post");if(i)return{id:i.id,promoted:i.nodeName.includes("AD"),nsfw:i.nsfw,view_type:i.viewType===e.al.CompactView?"classic":"card",position:i.feedIndex}}_getGalleryInfo(){if(!this.closest("gallery-carousel"))return;const e=this.closest("li")?.getAttribute("slot");return e?{position:Number(e.split("-")[1])-1}:void 0}_sendEvent(i){e.a(this,i)}createRenderRoot(){return this}};e._([e.n()],t.prototype,"placement",void 0),t=e._([e.e("image-observer")],t)}));
SML.dm("numbera5d31186",["agegatestandaloneclientjsb13e879d"],(async t=>{let n=function(){try{return"1E4 bits"===new Intl.NumberFormat("en",{style:"unit",unit:"bit",unitDisplay:"long",notation:"scientific"}).format(1e4)}catch(t){return!1}}();const e=1e3,o=1e6,a=1e9,i=t=>t>=99999999949?`${Math.floor(t/a)}b`:t>=999999949&&t<99999999949?`${(t/a).toFixed(1)}b`:t>=99999949&&t<999999949?`${Math.floor(t/o)}m`:t>=999949&&t<99999949?`${(t/o).toFixed(1)}m`:t>=99949&&t<999949?`${Math.floor(t/e)}k`:t>=e&&t<99949?`${(t/e).toFixed(1)}k`:String(t);return{_:i,f:function(e,o,a){if(n){const n=(null==a?void 0:a.options)||{notation:(null==a?void 0:a.short)?"compact":"standard"};return t.f(o,n).format(e)}return i(e)}}}));
SML.dm("shopgallerydatafetcherclientjs777c4af0",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d","numbera5d31186"],(async(t,e,o,r)=>{let n=class extends e.s{constructor(){super(...arguments),this.number=0,this.locale="",this.pretty=!1}getLocale(){return this.locale||o.ci()}createRenderRoot(){return this}render(){const t=this.formatOptions?{options:this.formatOptions}:{short:this.pretty};return r.f(this.number,this.getLocale(),t)}};t._([t.n({type:Number})],n.prototype,"number",void 0),t._([t.n({type:String})],n.prototype,"locale",void 0),t._([t.n({type:Object})],n.prototype,"formatOptions",void 0),t._([t.n({type:Boolean})],n.prototype,"pretty",void 0),n=t._([t.e("faceplate-number")],n)}));
SML.dm("scrolltocomments57babb9e",["shelle48e5956"],(async e=>{var t,o;class r{static get instance(){return e.gc(t,t,"f",o)||e.gd(t,t,new t,"f",o),e.gc(t,t,"f",o)}getCorrelationId(){return this._correlationId}setCorrelationId(){return this._correlationId=crypto.randomUUID(),this._correlationId}getPostType(){return this._postType}setPostType(e){return this._postType=e,this._postType}}t=r,o={value:void 0};return{a:r.instance,s:async function(e){const t=document.querySelector("shreddit-comments-page-tools, comment-body-header"),o=document.querySelector("nav")?.offsetHeight??0,r=document.querySelector("shreddit-comment-tree");if(!t||!r)return;await r.updateComplete;const s=t.offsetTop;await requestAnimationFrame((()=>{window.scrollTo({top:s-o,behavior:e})}))}}}));
SML.dm("awardcontroller351c7b93",["shelle48e5956","scrolltocomments57babb9e"],(async(e,i)=>{class t{constructor(i){this.isActivatingExplainer=!1,this.handleExplainerClosed=({explainerId:e,dismissed:i})=>{this.resolver&&this.resolver.explainerId===e&&(this.resolver.resolve({dismissed:i}),this.resolver=void 0)},(this.host=i).addController(this),this.pubsub=new e.P(this.host)}hostConnected(){this.pubsub.subscribe(e.T.ExplainerClosed,this.handleExplainerClosed,!1)}hostDisconnected(){this.pubsub.unsubscribe(e.T.ExplainerClosed,this.handleExplainerClosed)}getExplainerDialogByExplainerId(e){return document.querySelector(`[dialog-id=explainer-dialog][data-explainer-id="${e}"]`)}async showExplainer({explainerExperience:i,explainerId:r,explainerVariantId:s,correlationId:n}){if(this.isActivatingExplainer||t.activatedExplainers.has(r))return{dismissed:!1};try{this.isActivatingExplainer=!0,await e.k({name:e.b7,routeParams:{explainerId:r},queryParams:{...null!=i&&{explainerExperience:i},...null!=s&&{explainerVariantId:s},...null!=n&&{correlationId:n}},renderMode:e.o.Contents});if(!this.getExplainerDialogByExplainerId(r))throw new Error(`Explainer dialog for explainer ID \`${r}\` not found after activation`);t.activatedExplainers.add(r)}catch(e){window.Sentry?.captureError?.(e)}finally{this.isActivatingExplainer=!1}return t.activatedExplainers.has(r)?new Promise((e=>this.resolver={explainerId:r,resolve:e})):{dismissed:!1}}}t.activatedExplainers=new Set;return{A:class{constructor(i,r){this.isActivatingDialog=!1,this.handleAwardContent=({thingId:e,award:i})=>{e===this.getThingId()&&this.onAward?.(i)},(this.host=i).addController(this),this.pubsub=new e.P(this.host),this.explainerController=new t(this.host),this.getThingId=r.getThingId,this.getAwardsPromoConfig=r.getAwardsPromoConfig,this.onAward=r.onAward}hostConnected(){this.onAward&&this.pubsub.subscribe(e.T.AwardContent,this.handleAwardContent,!1)}hostDisconnected(){this.pubsub.unsubscribe(e.T.AwardContent,this.handleAwardContent)}async activateDialog(){if(!this.isActivatingDialog)try{this.isActivatingDialog=!0;const{experience:t,variantId:r,id:s,type:n}=this.getAwardsPromoConfig?.()??{},a=t&&r&&s&&n===e.b8.EducationalModule?await this.explainerController.showExplainer({explainerExperience:t,explainerVariantId:r,explainerId:s,correlationId:i.a.getCorrelationId()}):void 0;a?.dismissed||await e.k({name:e.b9,routeParams:{thingId:this.getThingId()},renderMode:e.o.Contents})}finally{this.isActivatingDialog=!1}}}}}));
SML.dm("awards8d1217c9",[],(async()=>{var e,a,r;return function(e){e.GoldPurchasePaymentForm="award-gold-purchase-payment-form",e.GoldTopupPaymentForm="award-gold-topup-payment-form"}(e||(e={})),function(e){e.SelectionSheet="selection-sheet",e.Leaderboard="leaderboard",e.GoldPurchase="gold-purchase",e.GoldTopUp="gold-top-up"}(a||(a={})),Object.values(a),function(e){e.Limited="award:limited",e.Free="award:free",e.Community="award:community",e.Highlighted="award:highlighted",e.Iconic="award:iconic",e.Branded="award:branded"}(r||(r={})),{get A(){return a},get a(){return r}}}));
SML.dm("index43b39749",["shelle48e5956","iconc33661e6","contentactionbutton6a45f903","awardcontroller351c7b93","agegatestandaloneclientjsb13e879d","awards2379b181","scrolltocomments57babb9e","awards8d1217c9","shopgallerydatafetcherclientjs777c4af0"],(async(e,t,n,o,a,r,s,i)=>{function l(e,t){return e.tags?.includes(t)}i.a.Limited,i.a.Community,i.a.Free;let c=class extends(e.g(t.s)){constructor(){super(...arguments),this.size=e.s.Medium,this.disabled=!1,this.count=0,this.hasEnteredViewport=!1,this.awardController=new o.A(this,{getThingId:()=>this.thingId,onAward:e=>{this.count++,this.isAwardedByUser=!0,e&&(this.awardId=e.id,this.iconUrl=e.staticIcon.url,this.hasIconicAward||(this.hasIconicAward=function(e){return l(e,i.a.Iconic)}(e)),this.hasBrandedAward||(this.hasBrandedAward=function(e){return l(e,i.a.Branded)}(e)))}}),this.handleEnterViewport=()=>{this.hasEnteredViewport=!0,this.observerController&&(this.observerController=e.K(this,this.observerController))},this.handleClick=()=>{const e=s.a.setCorrelationId(),t=s.a.setPostType(this.postType);this.trackEvent(r.o({awardId:this.awardId,thingId:this.thingId,subredditId:this.subredditId,postId:this.postId,topAwardIconUrl:this.iconUrl,animatedAwardIconUrls:this.iconUrls,correlationId:e,position:this.feedIndex,postType:t,postScore:this.postScore,score:this.score,numberComments:this.commentCount})),this.awardController.activateDialog()}}connectedCallback(){super.connectedCallback(),this.observerController=e.ej(this,this,this.handleEnterViewport,{rootMargin:"0px"})}disconnectedCallback(){super.disconnectedCallback(),this.observerController&&(this.observerController=e.K(this,this.observerController))}renderGlow(){return t.x`<span class="glow" style="${t.l(this.isAwardedByUser?"--fade-out: none":void 0)}"> ${Array.from({length:8}).map(((e,n)=>t.x`<span class="sunbeam" style="${t.o({"--n":n})}"></span>`))} </span>`}renderStream(){if(a.q())return t.A;const{iconUrls:e}=this;if(!e)return t.A;const n=[1,-1,0,-1],o=Number(e[0]===this.iconUrl);return t.x`<span class="stream"> ${Array.from({length:16}).map(((a,r)=>t.x`<img style="${t.o({"--n":r,"--offset":n[r%n.length]})}" src="${e[(r+o)%e.length]}" width="16" height="16" alt="">`))} </span>`}render(){if(!this.thingId)return t.A;const o=n.I[this.size],r=(this.hasIconicAward||this.hasBrandedAward)&&!this.noGoldenBorder;return n.c({appearance:this.appearance,attributes:{type:"button",className:a.o("overflow-visible",r&&"border-sm border-global-gold",this.buttonClass),disabled:this.disabled,onclick:this.handleClick,"aria-label":0===this.count?"Give award":e.h({one:`Give award, ${this.count} award given`,other:`Give award, ${this.count} awards given`,count:this.count})},size:this.size,leadingIcon:this.iconUrl?t.x`<span class="${a.o("flex relative",this.disabled&&"opacity-25")}" aria-hidden="true"> ${this.hasEnteredViewport?this.renderGlow():t.A} ${this.hasEnteredViewport?this.renderStream():t.A} <img src="${this.iconUrl}" alt="" class="relative" width="${t.bj[o]}" height="${t.bj[o]}"> </span>`:t.bk({attributes:{"aria-hidden":"true"},size:o}),children:this.count?t.x`<faceplate-number number="${this.count}" pretty aria-hidden="true"></faceplate-number>`:this.withInitialStateText?t.x`<span aria-hidden="true">Award</span>`:void 0})}};var p;c.styles=[e.t,e.z("@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes rotate-clockwise {\n  0% {\n    transform: rotate(45deg);\n  }\n  100% {\n    transform: rotate(135deg);\n  }\n}\n@keyframes sunbeam-even {\n  0% {\n    transform: scaleX(1) scaleY(1);\n  }\n  50% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n  100% {\n    transform: scaleX(1) scaleY(1);\n  }\n}\n@keyframes sunbeam-odd {\n  0% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n  50% {\n    transform: scaleX(1) scaleY(1);\n  }\n  100% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n}\n.glow {\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0;\n  height: 0;\n  perspective: 5em;\n  animation: 3s ease-out 1.5s both rotate-clockwise, 0.5s ease-in 1.5s backwards fade-in, var(--fade-out, 0.5s ease-out 5s reverse forwards fade-in);\n}\n.glow::before {\n  content: '';\n  display: block;\n  position: absolute;\n  left: -1em;\n  top: -1em;\n  background: radial-gradient(rgba(245, 214, 87, 0.9), rgba(245, 214, 87, 0) 50%);\n  width: 2em;\n  height: 2em;\n}\n.glow > .sunbeam {\n  display: block;\n  transform: rotate(calc(var(--n) * 45deg)) rotateX(-45deg);\n}\n.glow > .sunbeam::before {\n  content: '';\n  display: block;\n  background: no-repeat linear-gradient(rgba(245, 214, 87, 0.9), rgba(245, 214, 87, 0));\n  height: 1em;\n  width: 0.3em;\n  position: absolute;\n  transform: rotate(180deg) translateX(50%);\n  transform-origin: 50% 0px;\n  animation: 1.5s linear 1.5s 2 both sunbeam-even;\n  animation-composition: add;\n}\n.glow > .sunbeam:nth-child(odd)::before {\n  animation-name: sunbeam-odd;\n}\n"),e.z("@keyframes stream {\n  0% {\n    transform: scale(0);\n  }\n  20% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  100% {\n    offset-distance: 100%;\n    opacity: 0;\n  }\n}\n.stream {\n  pointer-events: none;\n  position: absolute;\n  bottom: calc(100px + 50%);\n  left: 50%;\n}\n.stream > img {\n  animation: 2s ease-in both stream;\n  animation-delay: calc(var(--n) * 0.2s);\n  offset-path: path('M2.5,100 q-5,-10,0,-20 t 0-20 0-20 0-20 0-20');\n  offset-rotate: 0deg;\n  position: absolute;\n  translate: calc(var(--offset) * 8px);\n}\n")],e._([e.n({type:String})],c.prototype,"appearance",void 0),e._([e.n({type:String})],c.prototype,"size",void 0),e._([e.n({type:String,attribute:"button-class"})],c.prototype,"buttonClass",void 0),e._([e.n({type:Boolean,reflect:!0})],c.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"no-golden-border"})],c.prototype,"noGoldenBorder",void 0),e._([e.n({type:Boolean,attribute:"with-initial-state-text"})],c.prototype,"withInitialStateText",void 0),e._([e.n({type:Boolean,attribute:"is-logged-in"})],c.prototype,"isLoggedIn",void 0),e._([e.n({type:Boolean,reflect:!0,attribute:"is-awarded-by-user"})],c.prototype,"isAwardedByUser",void 0),e._([e.n({type:String,attribute:"thing-id"})],c.prototype,"thingId",void 0),e._([e.n({type:Number,attribute:"feed-index"})],c.prototype,"feedIndex",void 0),e._([e.n({type:String,attribute:"subreddit-id"})],c.prototype,"subredditId",void 0),e._([e.n({type:String,attribute:"post-id"})],c.prototype,"postId",void 0),e._([e.n({type:String,attribute:"post-type"})],c.prototype,"postType",void 0),e._([e.n({type:Number,attribute:"post-score"})],c.prototype,"postScore",void 0),e._([e.n({type:Number})],c.prototype,"score",void 0),e._([e.n({type:Number,attribute:"comment-count"})],c.prototype,"commentCount",void 0),e._([e.n({type:Number,reflect:!0})],c.prototype,"count",void 0),e._([e.n({type:String,reflect:!0,attribute:"award-id"})],c.prototype,"awardId",void 0),e._([e.n({type:String,reflect:!0,attribute:"icon-url"})],c.prototype,"iconUrl",void 0),e._([e.n({type:Array,attribute:"icon-urls"})],c.prototype,"iconUrls",void 0),e._([e.n({type:Boolean,reflect:!0,attribute:"has-iconic-award"})],c.prototype,"hasIconicAward",void 0),e._([e.n({type:Boolean,reflect:!0,attribute:"has-branded-award"})],c.prototype,"hasBrandedAward",void 0),e._([e.d()],c.prototype,"hasEnteredViewport",void 0),c=e._([e.e("award-button")],c),function(e){e.Upvote="upvote",e.Downvote="downvote"}(p||(p={}));const d=({appearance:e,active:t})=>`group button flex justify-center aspect-square p-0 border-0 ${n.A[e]} ${!t&&"disabled:text-interactive-content-disabled"} ${t&&"secondary"===e?"":"button-plain"}  inline-flex items-center`,u=({size:n})=>({size:n===e.s.Small||n===e.s.ExtraSmall?t.I.Small:t.I.Medium}),b=({size:t})=>`flex mx-xs ${e.ay[t]}`,m=e=>{let t="bg-transparent text-global-white hover:text-global-white";switch(e){case p.Downvote:t+=" hover:bg-downvote-background-hover";break;case p.Upvote:t+=" hover:bg-upvote-background-hover"}return t};var h;!function(e){e.Upvote="upvote",e.Downvote="downvote"}(h||(h={}));const v=e=>`group button flex justify-center p-0 border-0 ${n.A[e]} inline-flex items-center`,w=({size:n})=>({attributes:{classname:"rpl-vote-button-icon"},size:n===e.s.Small||n===e.s.ExtraSmall?t.I.Small:t.I.Medium}),g=({size:t})=>`flex mx-xs ${e.ay[t]}`,f=(e,t)=>"secondary"===t?{upvote:"bg-action-upvote text-global-white border-action-upvote ",downvote:"bg-action-downvote text-global-white border-action-downvote "}[e]:"",y={secondary:"bg-interactive-background-disabled text-[color:var(--color-button-secondary-text-disabled)] border-transparent",plain:"bg-[color:var(--color-button-plain-background-disabled)] text-[color:var(--color-button-plain-text-disabled)] border-transparent",bordered:"","plain-weak":"text-interactive-content-disabled"},x=({voteType:e,appearance:t})=>null==e?y[t]:"opacity-40 text-global-white";const $=(e,t)=>{if("post"===t){const t=e;return{ok:t.data?.updatePostVoteState?.ok,errors:t.data?.updatePostVoteState?.errors,voteStateResult:t.data?.updatePostVoteState?.voteState}}const n=e;return{ok:n.data?.updateCommentVoteState?.ok,errors:n.data?.updateCommentVoteState?.errors,voteStateResult:n.data?.updateCommentVoteState?.voteState}},E=(t,n,o)=>"post"===n?{operation:e.O.UpdatePostVoteState,variables:{input:{postId:t,voteState:o}}}:{operation:e.O.UpdateCommentVoteState,variables:{input:{commentId:t,voteState:o}}};return{get V(){return p},a:({attributes:o,voteCount:a,voteType:r,upvoteButton:s,downvoteButton:i,size:l=e.s.Medium,appearance:c="plain",initialStateText:p})=>{const{html:d,createElement:u}=t.g(),b=d`${s} ${null==a?p:d`<span> <faceplate-number number="${a}" pretty></faceplate-number> </span>`} ${i}`;return u("span",{...o,className:`${o?.className||""} ${r?f(r,c):""}\n      p-0 ${n.g({size:l,appearance:c,selected:!0})} button-shell overflow-visible font-semibold flex items-center cursor-auto ${o?.disabled?x({voteType:r,appearance:c}):""}`,rpl:!0},b)},b:({attributes:o,size:a=e.s.Medium,appearance:r="plain",screenReaderContent:s,voteType:i,onClick:l})=>{const{html:c,createElement:h}=t.g(),v=null!=i,w=i===p.Upvote,g=d({appearance:r,active:v});return h("button",{rpl:!0,upvote:!0,onclick:l,...o,className:`${o?.className||""} ${g} ${{plain:w?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote",secondary:v?m(i):"hover:text-action-upvote focus-visible:text-action-upvote",bordered:w?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote","plain-weak":w?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote"}[r]}`,style:`height: ${n.B[a]};`,"aria-pressed":w},c`<span class="${b({size:a})}"> ${(w?t.bn:t.b7)(u({size:a}))} </span> ${s&&c`<faceplate-screen-reader-content> ${s||"Upvote"} </faceplate-screen-reader-content>`}`)},c:({attributes:o,size:a=e.s.Medium,appearance:r="plain",screenReaderContent:s,voteType:i,onClick:l})=>{const{html:c,createElement:h}=t.g(),v=null!=i,w=i===p.Downvote,g=d({appearance:r,active:v});return h("button",{rpl:!0,downvote:!0,...o,onclick:l,className:`${o?.className||""} ${g} ${{plain:w?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote",secondary:v?m(i):"hover:text-action-downvote focus-visible:text-action-downvote",bordered:w?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote","plain-weak":w?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote"}[r]}`,style:`height: ${n.B[a]};`,"aria-pressed":w},c`<span class="${b({size:a})}"> ${(w?t.bl:t.bm)(u({size:a}))} </span> ${s&&c`<faceplate-screen-reader-content> ${s||"Downvote"} </faceplate-screen-reader-content>`}`)},d:o=>{const{html:a,createElement:r}=t.g(),{appearance:s="plain",attributes:i,size:l=e.s.Medium,screenReaderContent:c,voteType:p,onClick:d}=o,u=l===e.s.Small,b=p===h.Downvote,m=i?.href;return r(null!=m?"a":"button",{rpl:!0,downvote:!0,...i,onclick:d,className:`\n        ${i?.className||""} \n        rounded-none\n        ${u?"rounded-l-[8px]":"rounded-l-[12px]"}\n        ${v(s)} \n      `,style:`height: ${n.B[l]};`,"aria-pressed":b},a`<span class="${u?"mr-sm":"mr-md"} ${"plain"===s?"ml-[3px]":"ml-xs"} ${g({size:l})}"> ${(b?t.bl:t.bm)(w({size:l}))} </span> ${c&&a`<faceplate-screen-reader-content> ${c||"Downvote"} </faceplate-screen-reader-content>`}`)},g:function(e,t){return!e&&t===p.Upvote||e===p.Downvote&&t===p.Downvote?1:!e&&t===p.Downvote||e===p.Upvote&&t===p.Upvote?-1:e===p.Downvote&&t===p.Upvote?2:e===p.Upvote&&t===p.Downvote?-2:0},o:async function(t,n,o){let a=e.ek.None;o&&(a=o===p.Upvote?e.ek.Up:e.ek.Down);const r=await e.B(E(t,n,a)),{ok:s,errors:i,voteStateResult:l}=$(r,n);if(s){const t=l;if(t===e.ek.None)return;return t===e.ek.Up?p.Upvote:p.Downvote}if(i?.[0]){const e=i[0]?.message??"Something went wrong";throw new Error(e)}return o},u:o=>{const{html:a,createElement:r}=t.g(),{appearance:s="plain",attributes:i,initialStateText:l,onClick:c,screenReaderContent:p,size:d=e.s.Medium,voteCount:u,voteType:b}=o,m=d===e.s.Small,f=b===h.Upvote,y=i?.href;return r(null!=y?"a":"button",{rpl:!0,upvote:!0,onclick:c,...i,className:`\n        ${i?.className||""} \n        rounded-none \n        ${m?"rounded-r-[8px]":"rounded-r-[12px]"}\n        ${v(s)}\n      `,style:`height: ${n.B[d]};`,"aria-pressed":f},a` <span class="${m?"ml-sm":"ml-md"} mr-[6px] ${g({size:d})}"> ${(f?t.bn:t.b7)(w({size:d}))} </span> ${p&&a`<faceplate-screen-reader-content> ${p||"Upvote"} </faceplate-screen-reader-content>`} ${null==u?l?a`<span class="rpl-vote-button-group-label ${"plain"===s?"pr-[3px]":"pr-[10px]"}">${l}</span>`:"":a`<span class="rpl-vote-button-group-label ${"plain"===s?"pr-[3px]":"pr-[10px]"}"> <faceplate-number number="${u}" pretty></faceplate-number> </span>`} `)},v:({attributes:o,voteType:a,upvoteButton:r,downvoteButton:s,size:i=e.s.Medium,appearance:l="plain"})=>{const{html:c,createElement:p}=t.g(),d=c`${r} ${(()=>{if("plain"===l)return"";const t=i===e.s.Small?"h-md":"h-[20px]";return c`<span class="rpl-vote-button-group-divider rounded-1 ml-[-2px] translate-x-px w-px ${t}"></span>`})()} ${s}`;return p("span",{...o,className:`\n      rpl-vote-button-group p-0 button-shell overflow-hidden font-semibold flex items-center cursor-auto\n      ${o?.className||""} \n      ${a??""}\n      ${n.g({size:i,appearance:l})}`,rpl:!0},d)}}}));
SML.dm("promotepostactionscontroller30d2105c",["shelle48e5956","contentactionbutton6a45f903","iconc33661e6","utils93db03dd"],(async(t,s,o,e)=>{var i;let d=i=class extends o.s{constructor(){super(...arguments),this.authorId="",this.postId="",this.subredditName="",this.viewType=t.al.CardView,this.boostPostPageExp=!1,this.isAmaPost=!1,this.isLoaded=!1,this.hasAnalytics=!1,this.promotedAdAccounts=[],this.pubsub=new t.P(this),this.handlePromotePostSuccess=({adAccount:s,postId:o})=>{if(o===this.postId&&this.viewType===t.al.CardView){this.hasAnalytics||(this.hasAnalytics=!0);this.promotedAdAccounts.find((t=>t.id===s.id))||this.promotedAdAccounts.push(s)}},this.handleClick=()=>{this.viewType===t.al.CardView&&this.hasAnalytics&&!this.isAmaPost?this.dispatchEvent(t.c("toggle-promote-post-insights",{promotedAdAccounts:this.promotedAdAccounts})):this.identity&&(this.boostPostPageExp?e.v(this.postId):e.c.activateAndOpenPromotePostModal({postId:this.postId,postType:this.postType,subredditName:this.subredditName,identity:this.identity})),t.a(this,e.a({source:"post",action:"click",noun:"promote_button"},this.postId,this.subredditName))}}static get styles(){return[t.t]}async connectedCallback(){super.connectedCallback?.(),this.pubsub.subscribe(t.T.PromotePostSuccess,this.handlePromotePostSuccess,!1);const s=t.B({operation:t.O.BoostedPostAdInsights,variables:{profileId:this.authorId,postId:this.postId,includeIdentity:!i.queryWithIdentityPromise,includeAdAccounts:!i.queryWithIdentityPromise}});i.queryWithIdentityPromise||(i.queryWithIdentityPromise=s);const o=await i.queryWithIdentityPromise,{adAccounts:d,email:a,isOnboarded:n}=e.g(o);this.identity={adAccounts:d,email:a,isOnboarded:n};const h=await s;if(h.data.adInsights){this.hasAnalytics=!!h.data.adInsights.edges.length;const t=new Set(h.data.adInsights.edges.map((t=>t?.node?.adAccountId)));this.promotedAdAccounts=Array.from(t).map((t=>d.find((s=>s.id===t))))}t.a(this,e.a({source:"post",action:"view",noun:"promote_button"},this.postId,this.subredditName)),this.isLoaded=!0}async disconnectedCallback(){super.disconnectedCallback?.(),this.pubsub.unsubscribe(t.T.PromotePostSuccess,this.handlePromotePostSuccess)}createRenderRoot(){return this}render(){return o.x`<span class="relative"> ${s.c({appearance:"secondary",leadingIcon:o.cl({size:s.I[t.s.Small],attributes:{className:"icon-promote-post","aria-hidden":"true"}}),attributes:{name:"promote-post-button","data-post-click-location":t.dS.PROMOTE_POST_BUTTON,onclick:this.handleClick,className:"ml-auto mr-0 pr-[6px] pl-[6px]",disabled:!this.isLoaded},size:t.s.Small,screenReaderContent:"Promote Post"})} </span>`}};t._([t.n({attribute:"author-id"})],d.prototype,"authorId",void 0),t._([t.n({attribute:"post-id"})],d.prototype,"postId",void 0),t._([t.n({attribute:"post-type"})],d.prototype,"postType",void 0),t._([t.n({attribute:"subreddit-name"})],d.prototype,"subredditName",void 0),t._([t.n({attribute:"view-type"})],d.prototype,"viewType",void 0),t._([t.n({type:Boolean,attribute:"boost-post-page-exp"})],d.prototype,"boostPostPageExp",void 0),t._([t.n({type:Boolean,attribute:"is-ama-post"})],d.prototype,"isAmaPost",void 0),t._([t.d()],d.prototype,"isLoaded",void 0),t._([t.d()],d.prototype,"hasAnalytics",void 0),t._([t.d()],d.prototype,"identity",void 0),t._([t.d()],d.prototype,"promotedAdAccounts",void 0),d=i=t._([t.e("promote-post-button")],d);class a{constructor(s){this.handlePromotePostSuccess=({adAccount:t,postId:s})=>{if(s===this.host.postId){this.host.hasPromotedPostAnalytics||(this.host.hasPromotedPostAnalytics=!0);this.host.promotedAdAccounts.find((s=>s.id===t.id))||this.host.promotedAdAccounts.push(t)}},this.handleClick=()=>{t.a(document.body,e.a({source:"post",action:"click",noun:"promote_button"},this.host.postId,this.host.subredditPrefixedName)),this.host.hasPromotedPostAnalytics&&!this.host.isAma?this.host.dispatchEvent(t.c("toggle-promote-post-insights",{promotedAdAccounts:this.host.promotedAdAccounts})):this.host.promotePostIdentity&&(this.host.boostPostPageExp?e.v(this.host.postId):e.c.activateAndOpenPromotePostModal({postId:this.host.postId,postType:this.host.postType,subredditName:this.host.subredditPrefixedName??"",identity:this.host.promotePostIdentity}))},this.load=async()=>{try{const s=t.B({operation:t.O.BoostedPostAdInsights,variables:{profileId:this.host.authorId,postId:this.host.postId,includeIdentity:!a.queryWithIdentityPromise,includeAdAccounts:!a.queryWithIdentityPromise}});a.queryWithIdentityPromise||(a.queryWithIdentityPromise=s);const o=await a.queryWithIdentityPromise,{adAccounts:i,email:d,isOnboarded:n}=e.g(o);this.host.promotePostIdentity={adAccounts:i,email:d,isOnboarded:n};const h=await s;if(h.data.adInsights){this.host.hasPromotedPostAnalytics=!!h.data.adInsights.edges.length;const t=new Set(h.data.adInsights.edges.map((t=>t?.node?.adAccountId)));this.host.promotedAdAccounts=Array.from(t).map((t=>i.find((s=>s.id===t))))}}catch(t){this.host.promotePostIdentity={adAccounts:[],email:"",isOnboarded:!1},this.host.hasPromotedPostAnalytics=!1,this.host.promotedAdAccounts=[]}this.host.hasLoadedPromotedPostAnalytics=!0},this.host=s,this.host.addController(this)}async hostConnected(){this.host.isPromoteablePost&&(this.host.pubsub.subscribe(t.T.PromotePostSuccess,this.handlePromotePostSuccess,!1),await this.load())}hostDisconnected(){this.host.isPromoteablePost&&this.host.pubsub.unsubscribe(t.T.PromotePostSuccess,this.handlePromotePostSuccess)}}return{P:a,get a(){return d}}}));
SML.dm("v2events64802d88",["shelle48e5956"],(async e=>{const r="devplatform",a=r=>{switch(r){case e.w.PostDetail:return"pdp";case e.w.Profile:return"profile";case e.w.Community:return"subreddit";case e.w.Embed:return"embed";case e.w.Home:case e.w.Popular:case e.w.All:case e.w.CustomFeed:case e.w.GeoCuratedFeed:case e.w.UserPosts:case e.w.ModQueue:case e.w.ModQueueAll:case e.w.SearchResults:return"feed";default:return""}};var t;!function(e){e.all="all",e.arena="arena",e.conversation="conversation",e.custom="custom",e.embed="embed",e.home="home",e.modQueue="mod_queue",e.modQueueAll="mod_queue_all",e.news="news",e.popular="popular",e.profile="profile",e.promotedSearchTrend="promoted_search_trend",e.read="read",e.search="search",e.subreddit="subreddit",e.user="user",e.watch="watch"}(t||(t={}));const s=r=>{switch(r){case e.w.All:return t.all;case e.w.ArenaFeed:return t.arena;case e.w.Community:return t.subreddit;case e.w.CustomFeed:case e.w.GeoCuratedFeed:return t.custom;case e.w.Embed:return t.embed;case e.w.Home:return t.home;case e.w.ModQueue:return t.modQueue;case e.w.ModQueueAll:return t.modQueueAll;case e.w.Popular:return t.popular;case e.w.Profile:return t.profile;case e.w.SearchResults:return t.search;case e.w.UserPosts:return t.user;default:return""}};return{D:r,a:(e,r)=>{if(URL.canParse(e)){const a=new URL(e);return a.searchParams.set("entry_point",r),a.toString()}return e},c:e=>({source:r,action:e.action,noun:e.noun,devplatform_custom_post_info:{post_id:e.postId,subreddit_id:e.subredditId,block_type:e.blockType,presentation_context:e.pageType?a(e.pageType):"",feed_type:e.pageType?s(e.pageType):"",watermark:e.watermark,post_chrome:e.post_chrome},devplatform:{runtime:"web",installation_id:e.appInstallationId,app_id:e.appId,app_slug:e.appSlug,app_name:e.appSlug,app_version_number:e.appVersionNumber,public_api_version:e.appPublicApiVersion,internal_entry_point:e.internalEntryPoint||"",app_recommendation_criteria:e.appRecommendationCriteria||""},request:{user_agent:e.userAgent},post:e.post})}}));
SML.dm("faceplatecarousele02bc9b8",["shelle48e5956","iconc33661e6","TinyGesture26737d23","agegatestandaloneclientjsb13e879d","shouldconttruncated81ee171"],(async(t,e,i,n,s)=>{var a;!function(t){t.PLAIN="plain",t.MEDIA="media"}(a||(a={}));const o=12;let r=class extends e.s{constructor(){super(...arguments),this.pages=0,this.pageIndex=0,this.appearance=a.PLAIN,this.animationDuration=0,this.containerLabel="",this.numVisible=2,this.centerIndexPosition=3,this.setTransitionDuration=async()=>{this._dotsContainer&&(await this.updateComplete,this._dotsContainer.style.setProperty("--pagination-transition-duration",`${this.animationDuration}ms`))},this.animateInfiniteCurrentPage=t=>{if(this._currentPageIndicator){const e=[{transform:t?`translate3d(${o*this.pages}px, 0,0)`:"translate3d(-12px, 0,0)",opacity:0},{opacity:0,transform:t?"translate3d(-12px, 0,0)":`translate3d(${o*this.pages}px, 0,0)`},{opacity:1,transform:t?"translate3d(0px, 0,0)":`translate3d(${o*(this.pages-1)}px, 0,0)`}],i={duration:this.animationDuration,fill:"forwards",iterations:1};this.setDotsTrackTransform(!t),this._currentPageIndicator.animate(e,i)}},this.animateCurrentPage=async()=>{this.setDotsTrackTransform(),this.animateCurrentPageNumber()},this.animateCurrentPageNumber=()=>{if(this._currentPageIndicator){const t=[{width:"var(--rem6)"},{width:"var(--rem18)",borderRadius:"4px"},{width:"var(--rem6)",transform:`translate3d(${o*this.pageIndex}px, 0,0)`}],e={duration:this.animationDuration,fill:"forwards",iterations:1};this._currentPageIndicator.animate(t,e)}},this.onSelect=t=>{const e=new CustomEvent("pagination-click",{detail:{pageIndex:t},bubbles:!0,composed:!0});this.dispatchEvent(e)},this.isEdgeDot=t=>{if(this.pages>=6){const e=t===this.pageIndex-3,i=t===this.pageIndex+3;return e||i}return!1},this.getDotButton=i=>{const n=Math.abs(i-this.pageIndex),s=t=>t===this.pageIndex?`(${this.currentPageLabel??"Current Page"})`:"",a=this.getPageLabels?`${this.getPageLabels(i)} ${s(i)}`:`Page ${i+1} ${s(i)}`,o=0===n||1===n;return e.x`<button class="${t.U({dot:!0,edge:this.isEdgeDot(i)})}" aria-hidden="${!o}" tabindex="${o?0:-1}" @click="${t=>{0===t.target.tabIndex&&this.onSelect(i)}}" @keydown="${t=>{"Enter"!==t.key&&"Space"!==t.key||this.onSelect(i)}}"> <faceplate-screen-reader-content>${a}</faceplate-screen-reader-content> </button>`},this.render=()=>{if(0!==this.pages)return e.x` <div id="dots-container"> <div class="dots-track-container"> <div id="dots-track" role="group" aria-label="${this.containerLabel}"> ${this.currentPageIndicator} ${[...Array(this.pages).keys()].map(((t,e)=>this.getDotButton(e)))} </div> </div> </div> `}}static get styles(){return e.a`:host{display:inline-flex;height:var(--rem16,1rem);width:100%;justify-content:center}:host #dots-container{display:inline-flex;position:relative;height:100%;overflow:hidden;align-items:center;border-radius:var(--rem8,.5rem);padding:0 var(--rem2,.125rem);transition:width ease-in-out var(--pagination-transition-duration)}:host .dots-track-container{position:relative;height:100%;width:100%;display:flex;align-items:center}:host #dots-track{display:flex;position:absolute;left:0;height:var(--rem12,.75rem);overflow:hidden;box-sizing:border-box;font-size:var(--rem10,.625rem);align-items:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host([appearance=media]) #dots-container{background-color:var(--color-media-background)}:host([appearance=media]) .dot{background-color:var(--color-media-onbackground-disabled)}:host .dot:focus-visible{outline:solid 1px var(--color-global-focus)}:host([appearance=media]) #current-page-indicator.number{color:var(--color-media-onbackground)}:host([appearance=media]) #current-page-indicator.dot{background-color:var(--color-media-onbackground)}:host #current-page-indicator{z-index:2;position:absolute}:host #current-page-indicator.number{color:var(--color-neutral-content);display:flex;align-items:center;justify-content:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host #current-page-indicator.dot{background-color:var(--color-neutral-content)}:host .dot{height:var(--rem6,.375rem);width:var(--rem6,.375rem);border-radius:50%;box-sizing:content-box;display:inline-block;margin:calc(var(--rem2,.125rem) + var(--rem1,.0625rem));padding:0;border:none}:host #current-page-indicator.number{height:var(--rem15,.9375rem);width:var(--rem16,1rem);margin:0}:host .dot{background-color:var(--color-neutral-border);background-clip:content-box;transition:all ease-in-out var(--pagination-transition-duration)}:host .dot[tabindex='0']{cursor:pointer}:host .dot:focus{transition:none}:host .dot.edge{height:calc(var(--rem2) + var(--rem1));width:calc(var(--rem2) + var(--rem1));margin:.28125rem;flex-shrink:0}`}willUpdate(t){t.has("pageIndex")&&(this.pageIndex<0||this.pageIndex>this.pages-1)&&(this.pageIndex=0)}async updated(t){await this.updateComplete,(t.has("pageIndex")||t.has("pages"))&&this.shrinkOrStretch();const e=t.get("pageIndex")===this.pages-1&&0===this.pageIndex,i=0===t.get("pageIndex")&&this.pageIndex===this.pages-1;e||i?this.animateInfiniteCurrentPage(e):t.has("pageIndex")&&await this.animateCurrentPage(),t.has("animationDuration")&&this.setTransitionDuration()}shrinkOrStretch(){this.pages>=6?0===this.pageIndex||this.pageIndex===this.pages-1?this.numVisible=4:1===this.pageIndex||this.pageIndex===this.pages-2?this.numVisible=5:2===this.pageIndex||this.pageIndex===this.pages-3?this.numVisible=6:this.pageIndex>=3&&this.pageIndex<=this.pages-4&&(this.numVisible=7):this.numVisible=this.pages,this._dotsContainer&&(this._dotsContainer.style.width=`calc(var(--rem12, 0.75rem) * ${this.numVisible})`)}setDotsTrackTransform(t){const e=this.pageIndex-this.centerIndexPosition,i=e>0?e:0;if(this._dotsTrack){const e=`translate3d(${o*i*-1}px, 0,0)`;e!==this._dotsTrack.style.transform?this._dotsTrack.style.transform=e:t&&"translate3d(0px, 0,0)"!==this._dotsTrack.style.transform&&(this._dotsTrack.style.transform="translate3d(0px, 0,0)")}}get currentPageIndicator(){return e.x`<span id="current-page-indicator" class="dot" aria-hidden="true"></span>`}};t._([t.n({type:Number})],r.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],r.prototype,"pageIndex",void 0),t._([t.n({type:String})],r.prototype,"appearance",void 0),t._([t.n({type:Number,attribute:"animation-duration"})],r.prototype,"animationDuration",void 0),t._([t.n({type:String,attribute:"current-page-label"})],r.prototype,"currentPageLabel",void 0),t._([t.n()],r.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"container-label"})],r.prototype,"containerLabel",void 0),t._([t.y("#dots-container")],r.prototype,"_dotsContainer",void 0),t._([t.y("#dots-track")],r.prototype,"_dotsTrack",void 0),t._([t.y("#current-page-indicator")],r.prototype,"_currentPageIndicator",void 0),t._([t.bj(".dot")],r.prototype,"_dots",void 0),r=t._([t.e("faceplate-pagination-indicator")],r);let l=class extends e.s{constructor(){super(...arguments),this.appearance=a.PLAIN,this.autoplay=0,this.pages=0,this.pageIndex=0,this.isAnimationFinished=!1,this._currentAnimation=null,this.handleAutoplayInterruption=async t=>{this.cancelAnimation(t)},this.cancelAnimation=async t=>{const e=await this._autoplayPillContainer;if(e){const{children:i}=e;if(i[t]?.firstElementChild){const e=i[t]?.firstElementChild?.getAnimations().map((t=>(t.cancel(),t.ready)));e&&await Promise.all(e)}}},this.resetAnimations=async()=>{const t=await this._autoplayPillContainer;if(t){const{children:e}=t;for(let t=0;t<e.length;t++)this.cancelAnimation(t)}},this.animatePill=async()=>{this.isAnimationFinished=!1;try{await this.updateComplete,this._currentAnimation?.cancel();const t=[{backgroundColor:"var(--color-neutral-border-medium)",width:0,height:"var(--rem4)"},{backgroundColor:"var(--color-neutral-border-medium)",width:"100%",height:"var(--rem4)"}],e={duration:this.autoplay,fill:"forwards",iterations:1},{children:i}=await this._autoplayPillContainer,n=i?.[this.pageIndex]?.firstElementChild;this._currentAnimation=n?.animate(t,e),await(this._currentAnimation?.finished),this.isAnimationFinished=!0}catch(t){t instanceof DOMException&&"AbortError"===t.name||console.error(t)}},this.pauseAnimation=()=>{this._currentAnimation?.pause()},this.resumeAnimation=()=>{this._currentAnimation?.play()},this.render=()=>{if(0!==this.pages)return e.x` <div class="pagination-container"> <div class="${t.U({"pagination-controls":!0,plain:this.appearance===a.PLAIN,media:this.appearance===a.MEDIA,autoplay:this.autoplay})}"> <span id="autoplay-pill-container">${[...Array(this.pages).keys()].map(((i,n)=>e.x`<span class="${t.U({track:!0,"in-view":this.pageIndex===n})}"> <span class="${t.U({autoplayPill:!0,"in-view":this.pageIndex===n,viewed:n<this.pageIndex,plain:this.appearance===a.PLAIN,media:this.appearance===a.MEDIA})}"></span> </span>`))}</span> </div> </div> `}}static get styles(){return e.a`:host{display:block;box-sizing:border-box}.pagination-container{display:flex;justify-content:center}.track.in-view{height:var(--rem4,.25rem);border-radius:var(--rem2,.125rem)}.autoplayPill,.track{height:var(--rem2,.125rem);display:inline-block;border-radius:var(--rem2,.0625);width:100%}.autoplayPill{position:absolute}.track{background-color:var(--color-neutral-border);flex:1;margin:0 var(--rem2,.125rem);display:inline-block;position:relative}#autoplay-pill-container{display:flex;width:100%;align-items:center}.autoplayPill.viewed{background-color:var(--color-neutral-border-medium)}.pagination-controls.autoplay{width:90%}.pagination-controls.media.autoplay{position:absolute;bottom:var(--rem12,.75rem);z-index:2}.pagination-controls{display:flex;align-items:center;justify-content:center}.pagination-controls.plain .current-page-indicator{color:var(--color-media-onbackground)}.pagination-controls.media .current-page-indicator{color:var(--color-neutral-content)}`}updated(t){t.has("pageIndex")&&!this.isAnimationFinished&&this.handleAutoplayInterruption(t.get("pageIndex"))}};var h,d,c,p,u;t._([t.n({type:String,attribute:"appearance"})],l.prototype,"appearance",void 0),t._([t.n({type:Number})],l.prototype,"autoplay",void 0),t._([t.n({type:Number})],l.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],l.prototype,"pageIndex",void 0),t._([t.d()],l.prototype,"isAnimationFinished",void 0),t._([t.g0("#autoplay-pill-container")],l.prototype,"_autoplayPillContainer",void 0),l=t._([t.e("faceplate-carousel-pagination")],l),function(t){t.OUTSIDE="outside",t.INSIDE="inside",t.OFF="off"}(h||(h={})),function(t){t.NEXT="next",t.BOTH="both",t.OFF="off"}(d||(d={})),function(t){t.INSIDE="inside",t.OUTSIDE="outside",t.OFF="off"}(c||(c={})),function(t){t.FORWARDS="forwards",t.BACKWARDS="backwards"}(p||(p={})),function(t){t.LEFT="left",t.CENTER="center",t.OFF="off"}(u||(u={}));let g=class extends e.s{constructor(){super(...arguments),this.navPlacement=c.OUTSIDE,this.paginationPlacement=h.OUTSIDE,this.autoplay="default",this.advanceAnimation=!1,this.numVisible=1,this.infinite=!1,this.inset=d.OFF,this.startIndex=0,this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this.hasBeenInteractedWith=!1,this._childCount=0,this._autoplayTimeoutId=null,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0,this._prevButtonHidden=!1,this._isNextButtonHidden=!1,this._gap=0,this._gapTotal=0,this._autoplayPaginationRef=t.aq(),this._carouselListRef=t.aq(),this._gesture=null,this.firstRender=!0,this.autoplayInProgress=!1,this.hidePrevButton=!1,this.hideNextButton=!1,this.emitter=n.J(this),this._animationStartTime=0,this._animationRemainingTime=0,this.generateAriaLiveMsg=({pageIndex:t,numVisible:e,pageCount:i})=>{const n=t*e+1;return e>1?`Items ${n} through ${n+e-1} of ${i}`:`Item ${n} of ${i}`},this.updated=async t=>{(t.has("numVisible")||t.has("infinite")||t.has("inset")||t.has("autoplay")||t.has("navPlacement")||t.has("paginationPlacement")||t.has("pageWidth"))&&((t.has("inset")||t.has("navPlacement"))&&(this.cachedDimensions=null),this.firstRender||this.resetAndInitialize()),(t.has("_pageIndex")||t.has("infinite"))&&this.toggleDisabledProgressButtons()},this.resetAndInitialize=()=>{this.resetCarousel(),this.initializeCarousel()},this.initializeResize=()=>{this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((async()=>{if(!this.firstRender){this.cachedDimensions=null,await new Promise((t=>requestAnimationFrame(t)));const t=this.getCarouselDimensions();t&&await this.showFirstChild(t.width)}})),this.resizeObserver.observe(this)},this.intersectionCallback=t=>{t.forEach((t=>{t.target.style.visibility=t.isIntersecting?"visible":"hidden"}));const e=new CustomEvent("__TEST-ONLY_carousel-intersection");this.dispatchEvent(e)},this.initializeIntersectionObserver=()=>{if(this._intersectionObserver=new IntersectionObserver(this.intersectionCallback,{root:this._carouselListRef?.value}),this.carouselSlot.children)for(const t of Array.from(this.carouselSlot.children))this._intersectionObserver.observe(t)},this.onPaginationClick=t=>{this.goToPage(t.detail.pageIndex,!0)},this.initializeCarousel=()=>{if(this.isCarouselInitialized)return;const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this.handleAutoPlay(),this._isInsetBothAllowed=this._childCount>=3&&(this.inset===d.BOTH||this.alignment===u.CENTER),this.infinite&&this.cloneBoundElements({children:t});if(this.navPlacement===c.INSIDE&&this.paginationPlacement===h.INSIDE||!this.firstRender){const t=this.getCarouselDimensions();t&&this.showFirstChild(t.width)}this.firstRender=!1,this.isCarouselInitialized=!0,this.initListMutationObserver(),this.initializeVisibility(),this.initializeIntersectionObserver(),this.toggleDisabledProgressButtons(),this._paginationCounter?.[0]&&(this._paginationCounter[0].style.visibility=this.pageCount<=5?"hidden":"visible");const e=new CustomEvent("__TEST-ONLY_carousel-initialized");this.dispatchEvent(e)},this.showFirstChild=async t=>{!this.hasBeenInteractedWith&&this.startIndex&&(this._pageIndex=this.startIndex),await this.setChildDimensions(t),this.goToPage(this.pageIndex,!1);const e=new CustomEvent("__TEST-ONLY_carousel-children-ready",{bubbles:!0});this.dispatchEvent(e)},this.handleAutoPlay=async()=>{"off"===this.autoplay||isNaN(this._autoplaySpeed)||(this.autoplayInProgress&&this.clearAnimationTimeout(),this.autoplayInProgress=!0,(this.infinite||this._pageIndex<this.pageCount-1)&&(this._animationStartTime=Date.now(),this._autoplayPaginationRef?.value?.animatePill(),this._autoplayTimeoutId=setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._autoplaySpeed)))},this.cachedDimensions=null,this.getCarouselDimensions=()=>{if(this.cachedDimensions)return this.cachedDimensions;const t=this._carouselListRef.value?.getBoundingClientRect();if(t){const{width:e}=t;return this.cachedDimensions={width:e,height:t.height},this.cachedDimensions}},this.calcChildWidth=t=>{if(this.pageWidth)return"string"==typeof this.pageWidth&&this.pageWidth.endsWith("%")?t*(parseInt(this.pageWidth)/100):this.pageWidth;let e=0;this._gapTotal=this._gap*(this.numVisible-1)||0,this.inset!==d.OFF&&(e=48*(this.inset===d.NEXT?1:2),this._gapTotal=this._gap*(this.inset===d.NEXT?this.numVisible:this.numVisible+1));return(t-this._gapTotal-e)/this.numVisible},this.setChildDimensions=async t=>{this._gap=parseInt(getComputedStyle(this.carouselSlot).getPropertyValue("gap"))||0;for(const e of Array.from(this.carouselSlot.children)){const{width:i}=e.getBoundingClientRect(),n=e;if(n.style.boxSizing="border-box",t){const e=this.calcChildWidth(t);e!==i&&(n.style.width="number"==typeof e?`${e}px`:e)}"100%"!==n.style.height&&(n.style.height="100%"),"hidden"!==n.style.overflow&&(n.style.overflow="hidden")}},this.prepareNextSlideVisibility=t=>{for(let e=t;e<t+this.numVisible;e++)this.carouselSlot.children[e].style.visibility="visible"},this.handleTranslateXWithOffset=async({element:t,startIndex:e})=>{this.prepareNextSlideVisibility(e);let i="";const n=this.insetWidth(t);if(this._isInsetBothAllowed)switch(e){case 0:i=this.exceedMarginAllowed?`calc(-1 * ${t.offsetLeft}px + 1rem)`:`calc(-1 * ${t.offsetLeft}px)`;break;case this.pageCount-1:i=this.exceedMarginAllowed?`calc(\n              -1 * (${t.offsetLeft}px - ${2*n}px - ${this._gap*this.numGaps}px)\n              - 1rem)`:`calc(\n                -1 * (${t.offsetLeft}px - ${2*n}px - ${this._gap*this.numGaps}px))`;break;default:i=`calc(-1 * (${t.offsetLeft}px - ${n}px - ${this._gap}px))`}else{const e=getComputedStyle(this.carouselSlot),n=parseInt(e.paddingLeft||"0"),s=parseInt(e.paddingRight||"0"),a=this.carouselSlot.scrollWidth-(this.carouselSlot.clientWidth-s),o=t.offsetLeft===n?0:t.offsetLeft;i=-Math.min(o,a)+"px"}return this.carouselSlot.style.transform=`translate3d(${i}, 0,0)`,await Promise.all(this.carouselSlot.getAnimations().map((t=>t.finished))).catch((t=>{t instanceof DOMException&&"AbortError"===t.name||console.error(t)}))},this.slideCarousel=async({isWithinBounds:t,direction:e,requestedIndex:i,allowAnimations:n,onSuccessfulSlide:s})=>{const{children:a}=this.carouselSlot;let o=!1;if(this.firstRender||(this.carouselSlot.style.transitionDuration=`${n?this.animationDuration:0}ms`),t){let t=i*this.numVisible+this._lowerBoundOffset;const e=this.carouselSlot.children.length;if(t+this.numVisible>e){const n=i-1,s=t+this.numVisible-e;t=n*this.numVisible+(this.numVisible-s)}await this.handleTranslateXWithOffset({element:a[t],startIndex:t}),o=!0}else this.infinite&&(await this.handleInfiniteSlide({children:a,direction:e}),o=!0);o&&(this.hasBeenInteractedWith||(this.hasBeenInteractedWith=!0),s?.());const r=new CustomEvent("faceplate-carousel:slide",{detail:{prevPositionIndex:this._pageIndex,currPositionIndex:i,direction:e,num_items:this._childCount},bubbles:!0});this.dispatchEvent(r)},this.cloneBoundElements=({children:t})=>{let e=0;const i=this._childCount-1,n=this._isInsetBothAllowed?1:0;for(let e=0;e<this.numVisible+n;e++){const i=t[e]?.cloneNode(!0);i instanceof HTMLElement&&(i.dataset.fpUiCarouselMarker="true",i.id=Math.random().toString(16).slice(2),i.role="presentation",this.carouselSlot.append(i),++this._upperBoundOffset)}const s=this._isInsetBothAllowed?1:0;for(let n=0;n<this.numVisible+s;n++){const s=t[i-n+e++]?.cloneNode(!0);s instanceof HTMLElement&&(s.dataset.fpUiCarouselMarker="true",s.id=Math.random().toString(16).slice(2),s.role="presentation",this.carouselSlot.prepend(s),++this._lowerBoundOffset)}},this.handleInfiniteSlide=async({children:t,direction:e})=>{this.carouselSlot.style.transitionDuration="0s";let i=this._isInsetBothAllowed?1:0;e===p.BACKWARDS&&(i=t.length-this._upperBoundOffset),await this.handleTranslateXWithOffset({element:t[i],startIndex:i}),this.carouselSlot.style.transitionDuration=`${this.animationDuration}ms`;const n=e===p.BACKWARDS?i-this.numVisible:i+this.numVisible;await this.handleTranslateXWithOffset({element:t[n],startIndex:n})},this.setNavButtonVisibility=({type:t,hidden:e})=>{this.navPlacement!==c.OFF&&("next"===t?(this.hideNextButton=e,this._isNextButtonHidden=e):(this.hidePrevButton=e,this._prevButtonHidden=e))},this.toggleDisabledProgressButtons=()=>{if(!this.infinite){const t=0===this.pageIndex,e=this.pageIndex===Math.ceil(this._childCount/this.numVisible)-1,i=0===this._childCount;this.setNavButtonVisibility({type:"previous",hidden:i||t}),this.setNavButtonVisibility({type:"next",hidden:i||e})}},this.resetCarousel=()=>{this.resetChildren(),this.cancelAutoPlay(),this.resetDisabledProgressButtons(),this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0;const t=new CustomEvent("__TEST-ONLY_carousel-reset");this.dispatchEvent(t)},this.resetChildren=()=>{const{children:t}=this.carouselSlot;let e=0;const i=t.length;for(let n=0;n<i;n++){const i=t[e];i instanceof HTMLElement&&i.dataset.fpUiCarouselMarker?i.remove():e++}},this.clearAnimationTimeout=t=>{"number"==typeof this._autoplayTimeoutId&&(window.clearTimeout(this._autoplayTimeoutId),this.autoplayInProgress=!1,t&&t())},this.cancelAutoPlay=()=>{this.clearAnimationTimeout(this._autoplayPaginationRef?.value?.resetAnimations)},this.onListItemKeydown=t=>{"ArrowLeft"===t.key?this.slideBackwards(t):"ArrowRight"===t.key&&this.slideForwards(t)},this.goToPage=(t,e)=>{if(t<0||t>=this.pageCount)return;let i=p.BACKWARDS;t>this._pageIndex&&(i=p.FORWARDS),this._pageIndex=t,this.slideCarousel({isWithinBounds:!0,direction:i,requestedIndex:t,allowAnimations:e})},this.swipeLeft=t=>{this.slideForwards(t),this.dispatchSwipeEvent(p.FORWARDS)},this.swipeRight=t=>{this.slideBackwards(t),this.dispatchSwipeEvent(p.BACKWARDS)},this.onInterruptedAutoplay=async t=>{await t(),this.handleAutoPlay()},this.slideHelper=async({navButtonDisabled:t,slide:e,e:i})=>{t||(this._autoplayTimeoutId&&i?this.onInterruptedAutoplay(e):await e())},this.slideForwards=async t=>{const e=this._pageIndex+1,i=e<this.pageCount;await this.slideHelper({navButtonDisabled:this._isNextButtonHidden,slide:async()=>{this._pageIndex=i?e:0,this.slideCarousel({isWithinBounds:i,direction:p.FORWARDS,requestedIndex:e,allowAnimations:!0})},e:t})},this.onKeyDown=(t,e)=>{"Enter"!==t.key&&"Space"!==t.key||(t.preventDefault(),e(t))},this.slideBackwards=async t=>{const e=this._pageIndex-1,i=e>=0;await this.slideHelper({navButtonDisabled:this._prevButtonHidden,slide:async()=>{this._pageIndex=i?e:this.pageCount-1,this.slideCarousel({isWithinBounds:i,direction:p.BACKWARDS,requestedIndex:e,allowAnimations:!0})},e:t})},this.onListItemFocusIn=()=>{this.autoplay&&"off"!==this.autoplay&&(this._animationRemainingTime=this._autoplaySpeed-(Date.now()-this._animationStartTime),this.clearAnimationTimeout(),this.autoplayInProgress=!1,this._autoplayPaginationRef?.value?.pauseAnimation())},this.onListItemBlur=()=>{this.autoplay&&"off"!==this.autoplay&&(this._autoplayPaginationRef?.value?.resumeAnimation(),setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._animationRemainingTime))}}static get styles(){return e.a`:host{display:flex;position:relative;width:inherit;isolation:isolate;--carousel-gap:var(--spacer-xs, 0.5rem);--carousel-padding:0;--carousel-margin:0}.carousel-container{display:flex;height:auto;align-items:center;position:relative;width:100%}::slotted(:not([slot])){height:100%;display:grid;grid-auto-flow:column;transition:transform;transition-timing-function:ease-out;margin:var(--carousel-margin)!important;padding:var(--carousel-padding)!important;list-style:none;position:relative;gap:var(--carousel-gap)}::slotted([slot=nextButton]),::slotted([slot=prevButton]){display:inline-block}.content-nav-buttons{display:inline-block;position:relative;z-index:2}.content-nav-buttons.hide{visibility:hidden}.content-nav-buttons.left{position:absolute;left:var(--spacer-sm,.75rem)}.content-nav-buttons.outside.right{padding:0 var(--spacer-sm,.75rem)}.content-nav-buttons.inside{position:absolute;top:50%;transform:translateY(-50%)}.content-nav-buttons.inside.left{left:var(--spacer-xs,.5rem)}.content-nav-buttons.inside.right{right:var(--spacer-xs,.5rem)}#carousel-window{position:relative;overflow:hidden;contain:content;display:flex;flex-direction:column;height:100%;flex:1}#carousel-list{height:100%;overflow:hidden;position:relative}:host([pagination-placement=outside]) #pagination-container{padding-top:var(--spacer-xs,.5rem)}:host(:not([nav-placement])) #carousel-window,:host([nav-placement=outside]) #carousel-window{margin-left:var(--rem56,3.5rem)}:host([pagination-placement=inside]) #pagination-container{position:absolute;bottom:var(--rem16,1rem);left:0;right:0;margin:0 auto;width:fit-content}.carousel-actions{position:absolute;right:var(--rem12,.5rem);display:inline-flex;align-items:center;gap:var(--rem12,.75rem)}.carousel-actions.top{top:var(--rem12,.5rem)}.carousel-actions.bottom{bottom:var(--rem16,.1rem)}.hidden{visibility:hidden}.visible{visibility:visible;transition:visibility ease-in}`}get pageIndex(){return this._pageIndex}get carouselSlot(){return this._children.reduce(((t,e)=>e.assignedSlot&&"UL"===e.nodeName?e:t),document.createElement("ul"))}connectedCallback(){if(super.connectedCallback(),this._gesture=new i.T(this,{mouseSupport:!1}),this._gesture.on("swipeleft",this.swipeLeft),this._gesture.on("swiperight",this.swipeRight),this.initializeResize(),this.isCarouselInitialized){const t=this._pageIndex;this.resetAndInitialize(),this._pageIndex!==t&&this.goToPage(t,!1)}}disconnectedCallback(){super.disconnectedCallback(),this._gesture?.destroy(),this.resizeObserver?.disconnect(),this._listMutationObserver?.disconnect(),this._intersectionObserver?.disconnect()}firstUpdated(){this.initializeCarousel()}async handleChildRemoval(){const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this._firstViewableIndex>this._childCount-1&&this.slideBackwards(),this._childCount||this.toggleDisabledProgressButtons();const e=new CustomEvent("__TEST-ONLY_carousel-children-reset");this.dispatchEvent(e)}get _firstViewableIndex(){return this.infinite?this.pageIndex*this.numVisible+this._lowerBoundOffset:this.pageIndex*this.numVisible}initListMutationObserver(){this._listMutationObserver&&this._listMutationObserver.disconnect(),this._listMutationObserver=new MutationObserver((t=>{for(const e of t)"childList"===e.type&&this.isCarouselInitialized&&(e.removedNodes.length>0?this.handleChildRemoval():e.addedNodes.length>0&&this.handleChildrenAddition())})),this.carouselSlot&&this._listMutationObserver.observe(this.carouselSlot,{childList:!0})}setChildAndPageCount(t){this._childCount=t.length,this.pageCount=Math.ceil(this._childCount/this.numVisible)}async handleChildrenAddition(){const t=this._childCount,{children:e}=this.carouselSlot;this.setChildAndPageCount(e);const i=this.getCarouselDimensions();i&&await this.setChildDimensions(i.width),this._childCount>t&&this.toggleDisabledProgressButtons()}get _autoplaySpeed(){switch(this.autoplay){case"off":return 0;case"default":return 5e3;default:return parseInt(this.autoplay)}}get animationDuration(){return this.advanceAnimation&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches?250:0}get numInsets(){return this.inset===d.BOTH||this.alignment===u.CENTER?2:this.inset===d.NEXT||this.alignment===u.LEFT?1:0}get numGaps(){return this.numVisible+this.numInsets-1}insetWidth(t){const e=this.getCarouselDimensions();if(e){return(e.width-t.getBoundingClientRect().width*this.numVisible-this._gap*this.numGaps)/this.numInsets}return 0}resetDisabledProgressButtons(){this.setNavButtonVisibility({type:"next",hidden:!1}),this.setNavButtonVisibility({type:"previous",hidden:!1})}initializeVisibility(){for(const t of Array.from(this.carouselSlot.children))t.dataset.fpUiCarouselMarker||(t.style.visibility="hidden")}dispatchSwipeEvent(t){const e=new CustomEvent("faceplate-carousel:swipe",{detail:{currPositionIndex:this._pageIndex,direction:t},bubbles:!0});this.dispatchEvent(e)}render(){return e.x` <div class="carousel-container"> <div id="carousel-window"> <div id="carousel-list" ${t.as(this._carouselListRef)}> <slot @keydown="${this.onListItemKeydown}" @focusin="${this.onListItemFocusIn}" @focusout="${this.onListItemBlur}"></slot> <span class="carousel-actions top"> <slot name="paginationCounter"></slot> <slot name="closeButton"></slot> </span> <span class="carousel-actions bottom"> <slot name="addButton"></slot> </span> </div> <div id="pagination-container" class="${t.U({inside:this.paginationPlacement===h.INSIDE})}"> ${this.paginationPlacement===h.OFF?null:this._autoplaySpeed?e.x`<faceplate-carousel-pagination ${t.as(this._autoplayPaginationRef)} pages="${this.pageCount}" page-index="${this._pageIndex}" autoplay="${this._autoplaySpeed}" appearance="${this.paginationPlacement===h.INSIDE?a.MEDIA:a.PLAIN}"> </faceplate-carousel-pagination>`:e.x`<faceplate-pagination-indicator @pagination-click="${this.onPaginationClick}" .getPageLabels="${this.getPageLabels}" numbered current-page-label="${e.l(this.currentPageLabel)}" appearance="${this.paginationPlacement===h.INSIDE?a.MEDIA:a.PLAIN}" animation-duration="${this.animationDuration}" pages="${this.pageCount}" page-index="${this._pageIndex}" container-label="${e.l(this.paginationContainerLabel)}"></faceplate-pagination-indicator>`} </div> </div> <slot class="content-nav-buttons left ${t.U({hide:this.navPlacement===c.OFF||this.hidePrevButton,outside:this.navPlacement===c.OUTSIDE,inside:this.navPlacement===c.INSIDE})}" name="prevButton" @click="${this.slideBackwards}" @keydown="${t=>this.onKeyDown(t,this.slideBackwards)}"> </slot> <slot class="content-nav-buttons right ${t.U({hide:this.navPlacement===c.OFF||this.hideNextButton,outside:this.navPlacement===c.OUTSIDE,inside:this.navPlacement===c.INSIDE})}" name="nextButton" @click="${this.slideForwards}" @keydown="${t=>this.onKeyDown(t,this.slideForwards)}"> </slot> </div> <faceplate-screen-reader-content aria-live="polite" aria-atomic="true"> ${this.currentAriaLiveMsg??this.generateAriaLiveMsg({pageIndex:this.pageIndex,pageCount:this.pageCount,numVisible:this.numVisible})} </faceplate-screen-reader-content> `}};return g.navButton=({placement:i,progress:n,ariaLabel:s})=>{const a=n===p.FORWARDS?"Next Page":"Previous Page";return t.r({appearance:i===c.INSIDE?"media":"secondary",size:t.s.Small,leadingIcon:n===p.FORWARDS?e.c5({size:e.I.Small}):e.c6({size:e.I.Small}),attributes:{"aria-label":s??a}})},g.closeButton=({attributes:i})=>t.r({appearance:"media",size:t.s.Small,leadingIcon:e.aG({size:e.I.Small}),attributes:i}),g.addButton=({children:i,attributes:n})=>t.r({appearance:"media",size:t.s.Small,leadingIcon:e.c7({size:e.I.Small}),attributes:n,children:i}),g.paginationCounter=({attributes:t,pageIndex:e,pageCount:i})=>s.b({appearance:s.B.MEDIA,content:`${e+1} / ${i}`,attributes:t}),t._([t.n({type:String,attribute:"nav-placement",reflect:!0})],g.prototype,"navPlacement",void 0),t._([t.n({type:String,attribute:"pagination-placement",reflect:!0})],g.prototype,"paginationPlacement",void 0),t._([t.n({type:String})],g.prototype,"autoplay",void 0),t._([t.n({type:Boolean,attribute:"advance-animation"})],g.prototype,"advanceAnimation",void 0),t._([t.n({type:Number,attribute:"num-visible"})],g.prototype,"numVisible",void 0),t._([t.n({type:Boolean})],g.prototype,"infinite",void 0),t._([t.n({type:String})],g.prototype,"inset",void 0),t._([t.n({type:String,attribute:"pagination-counter-label"})],g.prototype,"paginationCounterLabel",void 0),t._([t.n({type:Number,attribute:"start-index"})],g.prototype,"startIndex",void 0),t._([t.n()],g.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"current-page-label"})],g.prototype,"currentPageLabel",void 0),t._([t.n({type:String,attribute:"current-aria-live-msg"})],g.prototype,"currentAriaLiveMsg",void 0),t._([t.n({type:String,attribute:"pagination-container-label"})],g.prototype,"paginationContainerLabel",void 0),t._([t.n({type:String,attribute:"page-width"})],g.prototype,"pageWidth",void 0),t._([t.n({type:String})],g.prototype,"alignment",void 0),t._([t.n({type:Boolean,attribute:"exceed-margin-allowed"})],g.prototype,"exceedMarginAllowed",void 0),t._([t.d()],g.prototype,"_pageIndex",void 0),t._([t.d()],g.prototype,"pageCount",void 0),t._([t.d()],g.prototype,"isCarouselInitialized",void 0),t._([t.d()],g.prototype,"hasBeenInteractedWith",void 0),t._([t.aP({flatten:!0})],g.prototype,"_children",void 0),t._([t.aP({slot:"paginationCounter",flatten:!0})],g.prototype,"_paginationCounter",void 0),t._([t.d()],g.prototype,"firstRender",void 0),t._([t.d()],g.prototype,"autoplayInProgress",void 0),t._([t.d()],g.prototype,"hidePrevButton",void 0),t._([t.d()],g.prototype,"hideNextButton",void 0),g=t._([t.e("faceplate-carousel")],g),{get C(){return p},get F(){return g},get I(){return d},get N(){return c},get P(){return h}}}));
SML.dm("gallery554c6dec",["shelle48e5956","links22118b0c","faceplatecarousele02bc9b8"],(async(a,e,t)=>{var r;!function(a){a.Forward="forward",a.Backward="backward"}(r||(r={}));const i=(t,r,i)=>a.b({source:"gallery",action:"view",noun:"media"},{...e.g(t),gallery:{num_items:i,position:r}}),l=(t,r,i,l)=>a.b({source:"gallery",action:"click",noun:r},{...e.g(t),gallery:{num_items:l,position:i}});return{get G(){return r},a:i,g:l,h:(a,e,n)=>{const o=l(a,e.detail.direction===t.C.FORWARDS?r.Forward:r.Backward,e.detail.prevPositionIndex,e.detail.num_items),s=i(a,e.detail.currPositionIndex,e.detail.num_items);n&&(o.ad_metadata={impression_id:n},s.ad_metadata={impression_id:n}),a.trackEvent(o),a.trackEvent(s)}}}));
SML.dm("passwordrecoveryfc50288b",["shelle48e5956"],(async e=>{function t(e){localStorage.removeItem(function(e){return`chat:${e}`}(e))}function o(){(function(){let e=["access-token","matrix-user-id","matrix-access-token"];for(let o of e)t(o)})(),function(){try{window.indexedDB.deleteDatabase("matrix-js-sdk:reddit-chat-sync")}catch{}}()}function n(){e.v.remove(e.gg),e.v.remove(e.az),e.v.remove(e.dM),e.v.remove(e.gf),e.v.remove(e.gh),o()}const r="comment-draft-items-";var c;!function(e){e[e.Submit=0]="Submit",e[e.Discard=1]="Discard",e[e.Other=2]="Other"}(c||(c={}));let a=window.location;return{C:r,get D(){return c},a:function(e){return new Promise(((t,o)=>{e?window.google?.accounts?.id?window.google.accounts.id.revoke(e,(({successful:e,error:n})=>{e?t():o(n)})):o("Google API is not ready"):o("Google account id is not available")}))},b:(t,o)=>e.b({source:t,action:"view",noun:"banner"},{action_info:{reason:o}}),e:(t,o)=>e.b({source:t,action:"submit",noun:"email"},{action_info:{success:o}}),g:()=>!!document.querySelector("shreddit-app")?.hasAttribute?.("user-logged-in"),l:async function(){await fetch(e.bh.Logout,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({0:"1",csrf_token:e.v.get("csrf_token")})}),window.google?.accounts?.id?.disableAutoSelect?.(),e.v.remove(e.hi),e.v.remove(e.hj),e.l.removeItem(e.L.RecentPages),e.l.removeItem(e.L.RecentCommunities),e.l.removeItem(e.L.RecentSearches),n(),Object.keys(localStorage).filter((e=>e.startsWith(r))).forEach((e=>localStorage.removeItem(e))),localStorage.removeItem(e.L.DraftsCoachMarkSeen),a.reload()},p:function(e){try{return new URL(e,"https://www.reddit.com")}catch(e){return}},r:()=>e.b({source:e.aY.ResetPassword,action:"submit",noun:"reset_complete"}),s:()=>{e.l.setItem(e.L.LoginTime,(new Date).toString())}}}));
SML.dm("qrcodemodalupsellclientjsbd428344",["shelle48e5956","iconc33661e6"],(async(e,t)=>{const i=e=>e instanceof HTMLButtonElement||e instanceof HTMLAnchorElement||["button","link","menuitem","tab","checkbox","combobox","gridcell","application","treeitem"].includes(e?.getAttribute("role")??"");class n extends e.Q{constructor(){super(...arguments),this._triggerElement=null,this.keydown=!1,this.dialogId="",this.noModal=!1,this.handleClick=()=>{this.keydown||this.sendActivatedEvent()},this.handleKeydown=e=>{"Enter"===e.key&&(this.keydown=!0)},this.handleKeyup=e=>{"Enter"===e.key&&!0===this.keydown&&(this.keydown=!1,this.sendActivatedEvent())},this.handleBlur=()=>{this.keydown=!1}}set triggerElement(t){const i=this._triggerElement?.getAttribute("aria-expanded")??!1,n=this._triggerElement,r=t;n&&(n?.removeAttribute("aria-haspopup"),n?.removeAttribute("aria-expanded"),n?.removeEventListener("click",this.handleClick),n?.removeEventListener("keydown",this.handleKeydown),n?.removeEventListener("keyup",this.handleKeyup),n?.addEventListener("blur",this.handleBlur)),r&&(this.action!==e.gq.Hide&&(r.setAttribute("aria-haspopup","dialog"),r.setAttribute("aria-expanded",`${i}`)),r.addEventListener("click",this.handleClick),r.addEventListener("keydown",this.handleKeydown),r.addEventListener("keyup",this.handleKeyup),r.addEventListener("blur",this.handleBlur),this._triggerElement=r)}get triggerElement(){return this._triggerElement}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),"action"===e&&(this.triggerElement=this._triggerElement)}addOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","true")}removeOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","false")}handleSlotChange(){this.triggerElement=((e,t=5)=>{let n=e??null,r=0;if(i(n))return n;for(;n&&r<t;){if(n=n?.assignedElements?n?.assignedElements()?.[0]??null:n?.children[0]??null,i(n))return n;r++}return null})(this.slottedElements?.[0]??null)}sendActivatedEvent(){if(this.triggerElement?.hasAttribute("disabled"))return;if(!this.dialogId)return void console.warn("No dialogId set on rpl-dialog-trigger, unable to trigger");const e={dialogId:this.dialogId,triggerElement:this,noModal:this.noModal,action:this.action};this.emitter.dispatch("trigger-clicked",{bubbles:!0,composed:!0,detail:e})}render(){return t.x`<slot @slotchange="${this.handleSlotChange}"></slot>`}}e._([e.n({type:String,reflect:!0,attribute:"dialog-id"})],n.prototype,"dialogId",void 0),e._([e.n({type:Boolean,reflect:!0,attribute:"no-modal"})],n.prototype,"noModal",void 0),e._([e.n({type:String,reflect:!0})],n.prototype,"action",void 0),e._([e.j()],n.prototype,"slottedElements",void 0);var r=t.a`:host{display:contents}`;let l=class extends n{};l.styles=r,l=e._([e.e("rpl-dialog-trigger")],l)}));
SML.dm("partialfeedpostclientjs25890fbe",["shelle48e5956","iconc33661e6","index43b39749","utils93db03dd","tooltipbaseaa9651a3","contenttags9bd7e916","contentactionbutton6a45f903","postFlair51562697","withshared1523f2d","agegatestandaloneclientjsb13e879d","overflowmenuactionsf8d12b95","links22118b0c","v2events64802d88","modverdict58953687","gallery554c6dec","shouldconttruncated81ee171","passwordrecoveryfc50288b","index751e2b35","scrolltocomments57babb9e","modlogtakedownpreviewclientjsd3af86b9","shopgallerydatafetcherclientjs777c4af0","faceplateshimmer9894306d","headeractionitemchatclientjsb3335fba","rplcoachmark4e17786a","rplcoachmarkcard5c5498b1","modpostlistclientjsa6825fc7","shredditpostsharebutton64b8d78b","promotepostactionscontroller30d2105c","translationinterventionmodal407043a2","qrcodemodalupsellclientjsbd428344","numbera5d31186","awardcontroller351c7b93","awards2379b181","awards8d1217c9","distinguishedtags1c4757ea","expandablesectionheader41e0cfd1","ae18b1320","index192b5d82","keywordsfa9c4196","selectcontroller4c63b3e8","userflairfe275854","translationsa30aa3ad","chatmobilexpromoclientjs5e1c145c","appselectorclientjs9964d0b0","TinyGesture26737d23","faceplatecarousele02bc9b8"],(async(t,e,o,s,i,n,r,a,l,d,p,h,c,u,m,b,v,E,g)=>{const y=72e6,C=[y,y,1296e5,216e6,216e6],T=()=>{const e=localStorage.getItem(t.L.CrosspostingUpsellExperiment);if(e)return JSON.parse(e)},S=e=>{localStorage.setItem(t.L.CrosspostingUpsellExperiment,JSON.stringify(e))},w=async e=>{if((()=>{const t=T();if(!t)return!1;const{timer:e,snoozes:o,savedDate:s}=t;return o>=C.length||(new Date).getTime()-s<e})())return;const o=await t.B({operation:t.O.WhereToCrosspostNewModSuggestions,variables:{postId:e}}),s=o.data?.whereToCrosspostSuggestions?.edges;return s&&s?.length>0&&"Subreddit"===s[0]?.node?.subredditInfo.__typename?s[0]?.node?.subredditInfo:void 0};function _(t,e=!0){t=t||"";const[o,s]=t.split("?");let i=`https://www.reddit.com${("/"!==o[0]&&o.length>0?"/":"")+o}`;return e&&!i.endsWith("/")&&(i+="/"),s&&(i+=`?${s}`),i}let P=class extends e.s{constructor(){super(),this.name="",this.prefixedName="",this.subredditId="",this.isNsfw=!1,this.postId="",this.isOpen=!1,this.wasSeen=!1,this.trackExperimentEvent=(e,o,s)=>{t.a(this,t.b({source:e,action:o,noun:s},{subreddit:{id:this.subredditId,name:this.name,nsfw:this.isNsfw},post:{id:this.postId||""}}))},this.onShareClick=()=>{S({timer:18e5,snoozes:1,savedDate:(new Date).getTime()}),this.isOpen=!1,this.wasSeen=!0,this.trackExperimentEvent("crosspost_prompt","share","button")},this.onSkipClick=()=>{this.onMaybeSetCooldown(),this.isOpen=!1},new t.ar(this,this,{threshold:[.5]})}connectedCallback(){t.aS.subscribe(this.onMaybeSetCooldown,{shouldBeCalledFirst:!0}),super.connectedCallback(),this.addEventListener("faceplate-leave",this.onMaybeSetCooldown),this.trackExperimentEvent("crosspost_prompt","view","coachmark"),setTimeout((()=>{this.onMaybeSetCooldown()}),3e5)}disconnectedCallback(){super.disconnectedCallback(),t.aS.unsubscribe(this.onMaybeSetCooldown),this.removeEventListener("faceplate-leave",this.onMaybeSetCooldown)}onMaybeSetCooldown(){this.wasSeen||this.saveNoShareTimer()}saveNoShareTimer(){const t=T(),e=t?.snoozes||0;S({snoozes:e+1,timer:C[e],savedDate:(new Date).getTime()}),this.trackExperimentEvent("crosspost_prompt","hide","button"),this.wasSeen=!0}render(){return e.x`<rpl-coachmark ?open="${this.isOpen}" placement="${s.P.TopEnd}" appearance="${i.a.Inverted}"> <slot></slot> <rpl-coachmark-card slot="content" appearance="${i.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> Share with your newly created community </div> <div class="text-12"> ${this.prefixedName} might enjoy this post, try sharing it in your community. </div> ${t.r({attributes:{slot:"primary-button",href:_(`${this.prefixedName}/submit/?source_id=${this.postId}&crosspost_experiment_referral=true`),target:"_blank",rel:"noopener noreferrer",onclick:this.onShareClick},children:"Share",appearance:"plainInverted",size:t.s.Small})} ${t.r({attributes:{slot:"secondary-button",onclick:this.onSkipClick},children:"Skip",appearance:"plainInverted",size:t.s.Small})} </rpl-coachmark-card> </rpl-coachmark>`}};P.styles=[t.t],t._([t.n({type:String,attribute:"name"})],P.prototype,"name",void 0),t._([t.n({type:String,attribute:"prefixed-name"})],P.prototype,"prefixedName",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],P.prototype,"subredditId",void 0),t._([t.n({type:Boolean,attribute:"nsfw"})],P.prototype,"isNsfw",void 0),t._([t.n({type:String,attribute:"post-id"})],P.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"open",reflect:!0})],P.prototype,"isOpen",void 0),t._([t.d()],P.prototype,"wasSeen",void 0),P=t._([t.e("crosspost-upsell-coachmark")],P);class x{constructor(t){this.handleTogglePostInsights=t=>{if(!this.host.displayPostAnalytics){const e=t.detail.promotedAdAccounts;s.c.activatePromotePostInsights({authorId:this.host.authorId,postId:this.host.id,postType:this.host.postType,subredditName:this.host.subredditPrefixedName,adAccounts:e})}this.host.displayPostAnalytics=!this.host.displayPostAnalytics},this.renderPromotePostInsightsPanelSlot=()=>this.host.isPromoteablePost?e.x`<div class="${this.host.displayPostAnalytics?"":"hidden"}"> <slot name="promote-post-insights-panel"></slot> </div>`:e.x``,this.host=t,this.host.addController(this)}hostConnected(){this.host.isPromoteablePost&&this.host.addEventListener("toggle-promote-post-insights",this.handleTogglePostInsights)}hostDisconnected(){this.host.isPromoteablePost&&this.host.removeEventListener("toggle-promote-post-insights",this.handleTogglePostInsights)}maybeRenderPromotePostButton(){return this.host.isPromoteablePost?e.x`<promote-post-button author-id="${this.host.authorId}" post-id="${this.host.id}" post-type="${this.host.postType}" subreddit-name="${e.l(this.host.subredditPrefixedName)}" view-type="${this.host.viewType}" ?boost-post-page-exp="${this.host.boostPostPageExp}" ?is-ama-post="${this.host.isAma}"></promote-post-button>`:e.x``}}let k=class extends e.s{constructor(){super(...arguments),this.translationContextValue=t.aw,this.postId="",this.href="",this.withIntervention=!1,this.isImmersiveVisit=!1}canShowInterventionModal(){const e=!!t.l.getItem(t.L.I18nTranslationInterventionShown);return!!this.translationContextValue?.isTranslationActive&&this.withIntervention&&!e}onShowOriginalClick(t){t.preventDefault?.(),t.stopPropagation?.(),this.canShowInterventionModal()?this.translationInterventionModal.handleTranslationOverride({isTranslationActive:!1,id:this.postId}):this.navigateToOriginal()}navigateToOriginal(){window.location.href=this.href}render(){const t=e.x`<translation-intervention-modal mode="mtseo-post" page-type="pdp" ?is-immersive-visit="${this.isImmersiveVisit}" @translation-intervention-modal:close="${this.navigateToOriginal}"></translation-intervention-modal>`;return e.x`<a href="${this.href}" class="flex cursor-pointer my-xs pl-md xs:px-0 text-primary text-decoration-none" @click="${this.onShowOriginalClick}"> See original </a> ${this.canShowInterventionModal()?t:e.A}`}};k.styles=[t.t],t._([t.av({context:t.ax,subscribe:!0}),t.d()],k.prototype,"translationContextValue",void 0),t._([t.y("translation-intervention-modal")],k.prototype,"translationInterventionModal",void 0),t._([t.n({type:String,attribute:"post-id"})],k.prototype,"postId",void 0),t._([t.n({type:String,attribute:"href"})],k.prototype,"href",void 0),t._([t.n({type:Boolean,attribute:"with-intervention"})],k.prototype,"withIntervention",void 0),t._([t.n({type:Boolean,attribute:"isImmersiveVisit"})],k.prototype,"isImmersiveVisit",void 0),k=t._([t.e("mtseo-show-original-link")],k);const f="toggle__expando",O="toggle__expando-button";class I{constructor(e){this.initialized=!1,this.handleToggleEvent=e=>{t.f(e)&&this.toggleExpando()},(this.host=e).addController(this)}get expandoElement(){return this.host.isCompactView?this.host.querySelector(`.${f}`):this.host.shadowRoot?.querySelector('slot[name="expando"]')??null}get hasExpandoContent(){return this.host.isCompactView?!!this.host.querySelector(`.${f}`):!!this.host.shadowRoot?.querySelector('slot[name="expando"]')?.assignedElements().length}get toggleElement(){return(this.host.isCompactView?this.host.querySelector(`button.${O}`)||this.host.shadowRoot?.querySelector(`button.${O}`):this.host.shadowRoot?.querySelector('slot[name="thumbnail"]'))??null}async hostConnected(){await this.host.updateComplete,this.initializeListeners()}hostDisconnected(){this.toggleElement?.removeEventListener("click",this.handleToggleEvent),this.toggleElement?.removeEventListener("keydown",this.handleToggleEvent),this.initialized=!1}async hostUpdated(){await this.host.updateComplete,this.initialized||this.initializeListeners()}initializeListeners(){this.initialized||this.expandoElement&&this.hasExpandoContent&&this.toggleElement&&(this.toggleElement?.addEventListener("click",this.handleToggleEvent),this.toggleElement?.addEventListener("keydown",this.handleToggleEvent),this.initialized=!0)}toggleExpando(){this.expandoElement&&this.hasExpandoContent&&(this.host.showExpando=!this.host.showExpando,this.expandoElement.classList.toggle("hidden",!this.host.showExpando),this.expandoElement.classList.toggle("block",this.host.showExpando))}renderExpandoButton(){const t={attributes:{className:"icon-expand","aria-hidden":"true"},size:r.I[this.host.defaultActionButtonSize]},o=this.host.showExpando?e.C(t):e.e6(t),s=this.hasExpandoContent?"":"disabled pointer-all";return e.x` ${r.c({appearance:d.ab()?"bordered":"secondary",attributes:{type:"button",className:`${O} ${this.host.defaultActionButtonClassnames} ${s}`,disabled:!this.hasExpandoContent,"aria-expanded":this.host.showExpando?"true":"false","aria-label":"post content","aria-controls":`${this.host.id}-expando-content`},size:this.host.defaultActionButtonSize,leadingIcon:o,screenReaderContent:"Expand content"})} `}}class D{constructor(e){this.initializeHotkeys=()=>{"enabled"===t.dw("shreddit_hotkeys_m1")&&this.host.viewContext===h.P.CommentsPage&&(this.subscriberController?.subscribe(t.dy.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(t.dy.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(t.dy.UPVOTE,this.upvote),this.subscriberController?.subscribe(t.dy.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(t.dy.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.subscribe(t.dy.HIDE_POST,this.onToggleHide),this.subscriberController?.subscribe(t.dy.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.subscribe(t.dy.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.subscribe(t.dy.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.subscribe(t.dy.SUBMIT,this.onSubmitComment))},this.findShredditPost=t=>t instanceof L?t:t?.querySelector("shreddit-post, shreddit-ad-post"),this.cleanupHotkeys=()=>{"enabled"===t.dw("shreddit_hotkeys_m1")&&this.host.viewContext===h.P.CommentsPage&&(this.subscriberController?.unsubscribe(t.dy.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(t.dy.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(t.dy.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(t.dy.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(t.dy.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.unsubscribe(t.dy.HIDE_POST,this.onToggleHide),this.subscriberController?.unsubscribe(t.dy.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.unsubscribe(t.dy.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.unsubscribe(t.dy.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.unsubscribe(t.dy.SUBMIT,this.onSubmitComment))},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(E.P.NEXT);const t=this.postOrCommentTraversalController?.current instanceof L?"post":"comment";this.host.trackEvent(h.S("next",t))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(E.P.PREV);const t=this.postOrCommentTraversalController?.current instanceof L?"post":"comment";this.host.trackEvent(h.S("previous",t))},this.upvote=()=>{this.onVote(o.V.Upvote)},this.downvote=()=>{this.onVote(o.V.Downvote)},this.onFocus=t=>{this.host.viewContext===h.P.CommentsPage?this.host.shadowRoot?.querySelector(".shreddit-post-container")?.focus(t):this?.host.querySelector("[slot=full-post-link]")?.focus(t)},this.onVote=async t=>{let e;if(!this.postOrCommentTraversalController?.current)return;e=this.postOrCommentTraversalController?.isCurrentComment?(this.postOrCommentTraversalController?.current).commentActionRow:this.postOrCommentTraversalController?.current;const s=void 0;e&&(e.interactionFromHotkey=!0,t===o.V.Upvote?await e.handleUpvote(s):await e.handleDownvote(s),e.interactionFromHotkey=!1)},this.customPostTraversal=(t,e)=>{if(t===E.P.NEXT){const t=e?.querySelector("shreddit-comment-tree");if(t||"shreddit-comment-tree"===e?.tagName.toLowerCase())return e?.querySelector("shreddit-comment")}else if(!e?.previousElementSibling&&"shreddit-comment-tree"===e?.parentElement?.tagName.toLowerCase())return document.querySelector("shreddit-post")},this.onReplyToComment=()=>{this.postOrCommentTraversalController?.isCurrentPost?this.host.handleClickCommentsButton():this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row")?.focusOnCommentComposer()},this.onToggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentComment){const t=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((t=>"save"===t.id));t?.onClick?.()}else this.postOverflowActions?.find((t=>"save"===t.id))?.onClick()},this.onToggleHide=()=>{(this.postOrCommentTraversalController?.isCurrentPost||this.host.isFeed)&&this.postOverflowActions?.find((t=>"hide"===t.id))?.onClick()},this.onCopyLink=()=>{let t;t=this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController?.current?.shareButton:this.host.shareButtonRef?.value,t?.handleCopyLinkClick()},this.onCommentToggleCollapse=()=>{this.postOrCommentTraversalController?.isCurrentComment&&this.postOrCommentTraversalController.current.handleCollapse?.()},this.onSubmitComment=()=>{this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController.current?.shredditComposer?.form?.submit():document.querySelector("shreddit-composer")?.form?.submit()},this.host=e,e.addController(this)}hostConnected(){this.subscriberController=new t.dx(this.host),this.postOrCommentTraversalController=new E.a(this.host,{type:E.b.COMMENTS_PAGE,getFirstElement:()=>this.host,customPostOrCommentDetection:this.findShredditPost,customTraversal:(t,e)=>this.customPostTraversal(t,e)}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}get postOverflowActions(){return this.host.querySelector("shreddit-post-overflow-menu")?.overflowActions}onToggleExpando(){this.host._expandoController?.toggleExpando()}}const M=l.W(t.W(t.g(e.s)));let L=class extends M{get readMoreButton(){return this.querySelector(`#${this.id}-read-more-button`)??void 0}constructor(){super(),this.archived=!1,this.deleted=!1,this.hidden=!1,this.id="",this.game=!1,this.nsfw=!1,this.promoted=!1,this.spoiler=!1,this.subredditId=void 0,this.isSubscribed=!1,this.postLanguage="",this.translationLanguage="",this.isTranslationOn=!1,this.commentCount=0,this.permalink="",this.viewContext=h.P.AggregateFeed,this.viewType=t.al.CardView,this.isSlimCard=!1,this.isDesktopViewport=!1,this.isReportingEnabled=!1,this.isLinkPost=!1,this.isAma=!1,this.isEmbed=!1,this.isNotBrandSafe=!1,this.isCrosspost=!1,this.isCrosspostable=!1,this.isEmbeddable=!1,this.isUserLoggedIn=!1,this.disabled=!1,this.showFullContent=!1,this.isTranslatable=!1,this.isTranslationFetched=!1,this.isPostTranslated=!1,this.isPostBodyTranslated=!1,this.isMTSEOUserPage=!1,this.hasMTSEOTranslationInterruption=!1,this.morePostsCursor=void 0,this.isPostLeaveEventsEnabled=!1,this.isLocked=!1,this.isBanned=!1,this.isContestMode=!1,this.pdpTarget="_self",this.isPromoteablePost=!1,this.boostPostPageExp=!1,this.previousActionsFeature=!1,this.updateAnimation=void 0,this.itemState=u.M.UNMODERATED,this.areReportsExpandable=!1,this.isCompactUIExp=!1,this.isPostCommentTapExp=!1,this.isPdpSeekerM1LO=!1,this.shareButtonSSR=!1,this.interactionFromHotkey=!1,this.applyFeedsSimplification=!1,this.showPostRemovalBanner=!0,this.showExpando=!1,this.useShortHiddenPostForm=!1,this.isThumbnailSet=!1,this.isUpdatingPostBody=!1,this.displayPostAnalytics=!1,this.isCrosspostingCoachmarkOpen=!1,this.eligibleCrosspostingSubreddit=void 0,this.hasBeenViewed=!1,this.hasBeenConsumed=!1,this.getScrollContainerSelector=()=>[h.P.ModQueue,h.P.ModQueueAll].includes(this.viewContext)?'[slot="mod-queue-feed"]':this.viewContext===h.P.CommentsPage?'[slot="pdp-panel"]':void 0,this._partialUpdateController=null,this._events=new t.E(this),this._promotePostButtonController=new x(this),this._outboundLinkTrackingController=new a.O(this,(()=>({pageType:t.X(),postId:this.id,subredditId:this.subredditId}))),this._expandoController=new I(this),this.editController=null,this.pubsub=new t.P(this),this.shareButtonRef=t.aq(),this.onSubscriptionChange=async e=>{let o;this.subredditName===e.name&&(o=e.subscribed&&this.isSubscribed!==e.subscribed,this.isSubscribed=e.subscribed),o&&this.isEligibleForRelatedCommunityRecommendations&&await this._activateFeature({name:t.gS,queryParams:{subredditId:this.subredditId||"",pageType:String(this._getPageType())},root:(this.isHomeFeed||this.isPopularFeed)&&this.parentElement||document,renderMode:this.isHomeFeed||this.isPopularFeed?t.o.Append:void 0})},this.handleVisibilityChange=t=>{this.isPostInViewport&&t&&(this._hasPageUnloaded=!1,this.isPDP||(this.handleView(h.m(this,this.isTranslatable),!0),this.becameVisibleOnScreenTimestamp=Date.now()))},this.handleCalledFirstVisibilityChange=t=>{this.isPostInViewport&&(t||this._hasPageUnloaded||(this.handleConsume(),this.isPostLeaveEventsEnabled&&this.trackEvent(h.U(this))))},this.renderTabUpdateActionComponent=t=>this.isPDP?e.x`<ac-set trigger-elem="${e.l(t)}" target="${a.S}" attribute="pageindex" value="1"></ac-set>`:e.A,this._activateFeature=async e=>t.k(e),this._getPageType=t.X,this.showShortHiddenPostForm=()=>this.hidden&&this.useShortHiddenPostForm,this.handleLoadMorePosts=async()=>{const t=document.querySelector(`#partial-more-posts-${this.morePostsCursor}`);t&&"true"!==t?.getAttribute("hasBeenLoaded")&&(t?.setAttribute("hasBeenLoaded","true"),await(t?.load()))},this.trackConsume=()=>{this.trackEvent(h.V(this,this.isTranslatable))},this.handleRsvpClick=t=>{this.trackEvent(h.J(this))},this.handleUnRsvpClick=t=>{this.trackEvent(h.K(this))},this._getPostScoreDelta=t=>o.g(this.postVoteType,t),this._onUpdatePostVoteType=async()=>await o.o(this.id,"post",this.postVoteType),this.handleClickReadMore=()=>{"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&(this.revealTruncatedContent(),this.trackReadMoreClick())},this.revealTruncatedContent=()=>{if("enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools)return;this.querySelector(`#${this.id}-overflow-cover`)?.classList?.add(h.C),this.readMoreButton?.classList?.remove(h.j),this.readMoreButton?.classList?.add(h.C);const t=this.querySelector(`#${this.id}-post-rtjson-content`);t?.classList?.remove(...h.k.split(" "))},this.trackReadMoreClick=()=>{this.trackEvent(h.W(this))},this.onBeforeUnloadCallback=()=>{this.onBeforeUnload()},this.handleCustomPostSnapshotEvent=async()=>{const e=this.querySelector("shreddit-devvit-ui-loader"),o=e?await e.captureSafetyReport():"";this.dispatchEvent(t.c("stage-devplatform-snapshot",{postId:this.id,encodedData:o}))},this.setStateApproved=()=>{this.showPostRemovalBanner=!1,this.itemState=u.M.APPROVED},this.setStateRemoved=()=>{this.showPostRemovalBanner=!0,this.itemState=u.M.REMOVED},this.onPostUpdateAction=({postId:t,action:e,value:o})=>{if(this.id===t)switch(e){case p.a.markAsNsfw:this.nsfw=o;break;case p.a.markAsSpoiler:this.spoiler=o;break;case p.a.delete:this.deleted=o;break;case p.a.hide:this.applyHideChanges(o);break;case p.a.lock:this.isLocked=Boolean(o);break;case p.a.edit:"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&this.editController?.setEditing(o);break;case p.a.approve:case p.a.approveOptimistic:this.setStateApproved();break;case p.a.remove:case p.a.removeAsSpam:case p.a.confirmRemoval:case p.a.addRemovalReason:case p.a.removeOptimistic:case p.a.removeAsSpamOptimistic:case p.a.confirmRemovalOptimistic:this.setStateRemoved();break;case p.a.updatePostBodyPending:"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&(this.isUpdatingPostBody=o);break;case p.a.updateContent:"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&(this.dispatchEvent(new CustomEvent(h.b)),this.editController?.resetEditing())}},this.applyHideChanges=t=>{this.useShortHiddenPostForm=t,this.hidden=t},this.unhidePost=async()=>{try{await p.n(this.id,!0);const e=t.c("faceplate-alert",{level:t.x.success,message:"Removed from hidden"});this.dispatchEvent(e);const o={postId:this.id,action:p.a.hide,value:!1};this.pubsub.publish(t.T.PostUpdated,o),this.trackEvent(h.H(this.viewContext))}catch(e){const o=t.c("faceplate-alert",{level:t.x.error,sourceElement:"unhide-post",cause:"uncategorized",message:"Unable to unhide post"});this.dispatchEvent(o)}},this.addEventListener("click",this.handleClickPost),new t.ar(this,this,{threshold:[.5]})}static get styles(){return[t.t,t.z(".rpl-vote-button-group {\n  /* APPEARANCE AGNOSTIC STYLES */\n  /* PLAIN APPEARANCE */\n  /* SECONDARY APPEARANCE */\n  /* BORDERED APPEARANCE */\n  --vote-button-divider-color: var(--color-neutral-border-weak);\n  /* MEDIA APPEARANCE */\n}\n.rpl-vote-button-group:not([disabled]) .rpl-vote-button-group-label {\n  color: var(--vote-button-label-color);\n}\n.rpl-vote-button-group:not([disabled]):hover.rpl-vote-button-group-label {\n  color: var(--vote-button-label-color-hover);\n}\n.rpl-vote-button-group .rpl-vote-button-group-divider {\n  background-color: var(--vote-button-divider-color);\n}\n.rpl-vote-button-group[disabled] button[rpl]:disabled {\n  --button-color-background-disabled: transparent;\n}\n.rpl-vote-button-group.button-plain {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-plain button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-plain.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-plain.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n  --vote-button-divider-color: var(--color-neutral-border);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary.upvote,\n.rpl-vote-button-group.button-secondary.upvote button[rpl] {\n  --button-color-text-default: var(--color-upvote-onBackground);\n  --button-color-text-hover: var(--color-upvote-onBackground);\n  --button-color-text-disabled: var(--color-upvote-disabled);\n  --button-color-text-activated: var(--color-upvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.upvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.upvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-upvote-background);\n  --button-color-background-hover: var(--color-upvote-background-hover);\n  --button-color-background-active: var(--color-upvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote,\n.rpl-vote-button-group.button-secondary.downvote button[rpl] {\n  --button-color-text-default: var(--color-downvote-onBackground);\n  --button-color-text-hover: var(--color-downvote-onBackground);\n  --button-color-text-disabled: var(--color-downvote-disabled);\n  --button-color-text-activated: var(--color-downvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.downvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-downvote-background);\n  --button-color-background-hover: var(--color-downvote-background-hover);\n  --button-color-background-active: var(--color-downvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-bordered-cab {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-media-cab {\n  --vote-button-label-color: var(--color-media-onBackground);\n  --vote-button-label-color-hover: var(--color-media-onBackground);\n  --vote-button-divider-color: var(--color-media-border-weak);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-upvote-onStrongScrim-disabled);\n}\n.rpl-vote-button-group.button-media-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-downvote-onStrongScrim-disabled);\n}\n.pdp-flair-slot::slotted(*) {\n  margin: var(--size-2xs) 0;\n}\n.feed-flair-slot::slotted(*) {\n  margin-bottom: var(--size-xs);\n}\n.text-decoration-none {\n  text-decoration: none;\n}\n:host([item-state~='APPROVED']),\n:host([item-state~='REMOVED']) {\n  background-color: var(--color-neutral-background-weak);\n}\n:host([updateAnimation~='light']) {\n  animation: realtimeFade 3s;\n  animation-timing-function: ease-out;\n}\n:host([updateAnimation~='dark']) {\n  animation: realtimeFadeNight 3s;\n  animation-timing-function: ease-out;\n}\n@keyframes realtimeFade {\n  from {\n    background-color: #fff2bd;\n    border: 1px solid #dbaf00;\n  }\n  to {\n    background-color: #f0f5f9;\n    border: 1px solid transparent;\n  }\n}\n@keyframes realtimeFadeNight {\n  from {\n    background-color: #665505;\n    border: 1px solid #382d03;\n  }\n  to {\n    background-color: #030303;\n    border: 1px solid #343536;\n  }\n}\n.condensed-post-title-heading {\n  margin: 0;\n}\n")]}connectedCallback(){super.connectedCallback(),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_pdp_no_mod_js_lo?v.g()&&this.initModActionsController():this.initModActionsController(),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools?this.querySelector("shreddit-post-text-body")?.addEventListener(h.R,this.trackReadMoreClick):this.initEditTools(),this.isObserved||this.enableObserver({rootMargin:"0px"}),this.postVoteType=this.voteType,this.postScore=this.score,this.isPDP&&!this.showFullContent&&this.readMoreButton&&this.readMoreButton.addEventListener("click",this.handleClickReadMore),this.gallery&&this.addEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.addEventListener("faceplate-hovercard:open",this.handleHovercardOpen),this.addEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent),t.aS.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0}),t.aT(this.handleVisibilityChange,{immediate:!0}),t.aT(this.handleCalledFirstVisibilityChange,{immediate:!0,shouldBeCalledFirst:!0}),this.pubsub.subscribe(t.T.PostUpdated,this.onPostUpdateAction),this.addEventListener(p.e,this.handleClickCommentsButton),this.addEventListener(p.f,this.handleShareButtonInteraction),this.addEventListener(p.b,this.handleRsvpClick),this.addEventListener(p.E,this.handleUnRsvpClick),this.pubsub.subscribe(t.T.SubredditSubscriptionChange,this.onSubscriptionChange),"enabled"===t.dw("shreddit_hotkeys_m1")&&(this.hotkeyController=new D(this))}async initModActionsController(){const{ModActionsController:t}=await SML.di("./mod-actions-controller-d935e6bc.js",import.meta.url,"modactionscontrollerd935e6bc");new t(this,{getThingIdFn:()=>this.id})}async initEditTools(){const{EditController:t}=await SML.di("./edit-d0b416d5.js",import.meta.url,"editd0b416d5").then((function(t){return t.e}));this.editController=new t(this,{getPostId:()=>this.id,getViewContext:()=>this.viewContext});const{PartialUpdateController:e}=await SML.di("./partial-update-cef6f8bf.js",import.meta.url,"partialupdatecef6f8bf");this._partialUpdateController=new e(this,{getPostId:()=>this.id,getViewContext:()=>this.viewContext,getViewType:()=>this.viewType,getSubredditPrefixedName:()=>this.subredditPrefixedName}),this.checkPostEditMode()}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.listingBelowConsumeTimer),this.isObserved&&this.disableObserver(),this.hasBeenViewed=!1,this.isPostInViewport=!1,this.readMoreButton&&this.readMoreButton.removeEventListener("click",this.handleClickReadMore),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&this.querySelector("shreddit-post-text-body")?.removeEventListener(h.R,this.trackReadMoreClick),this.gallery&&this.removeEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.removeEventListener("faceplate-hovercard:open",this.handleHovercardOpen),t.aS.unsubscribe(this.onBeforeUnloadCallback),t.aU(this.handleVisibilityChange),t.aU(this.handleCalledFirstVisibilityChange),this.pubsub.unsubscribe(t.T.PostUpdated,this.onPostUpdateAction),this.removeEventListener(p.e,this.handleClickCommentsButton),this.removeEventListener(p.f,this.handleShareButtonInteraction),this.removeEventListener(p.b,this.handleRsvpClick),this.removeEventListener(p.E,this.handleUnRsvpClick),this.removeEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent),this.pubsub.unsubscribe(t.T.SubredditSubscriptionChange,this.onSubscriptionChange)}get isFeed(){return h.a(this.viewContext)}get isPopularFeed(){return this.isFeed&&h.X(this._getPageType())}get isHomeFeed(){return this.isFeed&&h.Y(this._getPageType())}get isPDP(){return h.i(this.viewContext)}get isBrandConversations(){return h.Z(this.viewContext)}get isCardView(){return d.cW(this.viewType)}get isCompactView(){return d.cp(this.viewType)}get isEligibleForRelatedCommunityRecommendations(){return this.isUserLoggedIn&&!!this.subredditId&&(this.isPDP&&!this.isDesktopViewport||this.isHomeFeed||this.isPopularFeed)}renderThumbnail(){return e.x` <slot name="thumbnail" @slotchange="${this.handleThumbnailSlotChange}"></slot>`}renderExpando(){return e.x`<slot class="hidden col-span-2 w-full mb-xs xs:my-xs" name="expando"></slot>`}renderCommentsButton(){const o=this.isFeed?{className:this.defaultActionButtonClassnames,onclick:this.handleClickCommentsButton,name:"comments-action-button","data-post-click-location":t.dS.COMMENTS_BUTTON,href:this.permalink,target:this.pdpTarget}:{type:"button",className:this.defaultActionButtonClassnames,onclick:this.handleClickCommentsButton,name:"comments-action-button","data-post-click-location":t.dS.COMMENTS_BUTTON};return e.x`${r.c({appearance:d.ab()?"bordered":"secondary",attributes:o,size:this.defaultActionButtonSize,children:e.x`${this.renderTabUpdateActionComponent("closest(button)")}<faceplate-number number="${this.commentCount}" pretty></faceplate-number>${!this.isUserLoggedIn&&this.isPostCommentTapExp?d.d3({triggerElem:"closest(button)",target:"closest(button)",eventName:"reply"}):e.A}`,leadingIcon:e.a8({attributes:{className:"icon-comment","aria-hidden":"true"},size:r.I[this.defaultActionButtonSize]}),screenReaderContent:"Go to comments"})}`}renderAwardButton(){return!this.isAwardable||this.applyFeedsSimplification?e.A:e.x`<award-button appearance="${d.ab()?"bordered":"secondary"}" size="${this.defaultActionButtonSize}" button-class="${this.defaultActionButtonClassnames}" thing-id="${this.id}" count="${e.l(this.awardCount)}" award-id="${e.l(this.awardId)}" icon-url="${e.l(this.hideAwardIcon?void 0:this.awardIconUrl)}" icon-urls="${e.l(this.hideAwardIcon?void 0:JSON.stringify(this.awardIconUrls))}" ?is-awarded-by-user="${this.isAwardedByUser}" ?has-iconic-award="${this.hasIconicAward}" ?has-branded-award="${this.hasBrandedAward}" subreddit-id="${e.l(this.subredditId)}" post-id="${this.id}" feed-index="${e.l(this.feedIndex)}" post-type="${e.l(this.postType)}" score="${e.l(this.postScore)}" comment-count="${this.commentCount}"></award-button>`}get defaultActionButtonSize(){return t.s.Small}get defaultActionButtonClassnames(){return d.o("flex flex-row justify-center items-center","h-xl","font-semibold","relative")}renderVoteButton(){const s=d.bM(),i=s?o.v:o.a,n=s?o.u:o.b,r=s?o.d:o.c,a=this.postScore,l="Vote",p={voteType:this.postVoteType||null,appearance:d.ab()?"bordered":"secondary",size:this.defaultActionButtonSize,attributes:{disabled:this.archived}},h=n({...p,voteCount:a,initialStateText:l,screenReaderContent:"Upvote",onClick:this.handleUpvote}),c=r({...p,screenReaderContent:"Downvote",onClick:this.handleDownvote});return e.x` <span class="relative leading-[0] ${this.disabled?"disabled":""}"> ${this.renderTabUpdateActionComponent()} ${i({attributes:{"data-post-click-location":t.dS.VOTE,className:this.defaultActionButtonClassnames},voteCount:a,voteType:this.postVoteType,upvoteButton:h,downvoteButton:c,appearance:p.appearance,size:p.size,initialStateText:l})} </span> `}renderShareButton(){if(this.applyFeedsSimplification)return e.A;const o=e.x` <shreddit-post-share-button data-post-click-location="${t.dS.SHARE}" permalink="${this.permalink}" source-id="${this.id}" ?is-crosspostable="${this.isCrosspostable}" ?is-embeddable="${this.isEmbeddable}" ?is-desktop-viewport="${this.isDesktopViewport}" ?ssr="${this.shareButtonSSR}" ?hide-button-text="${!this.isDesktopViewport}" ?show-share-menu-profile-coachmark="${this.showShareMenuProfileCoachmark}" size="${this.defaultActionButtonSize}" button-class="${this.defaultActionButtonClassnames}" @click="${this.handleShareButtonInteraction}" @keydown="${this.handleShareButtonInteraction}" appearance="${d.ab()?"bordered":"secondary"}" data-faceplate-tracking-context="${JSON.stringify({post:{id:this.id}})}" ${t.as(this.shareButtonRef)}> ${this.shareButtonSSR?e.x`<slot name="ssr-share-button" slot="ssr-share-button"></slot>`:e.A} </shreddit-post-share-button> `;return this.isCrosspostingV2Enabled&&this.isCrosspostingCoachmarkOpen&&"Subreddit"===this.eligibleCrosspostingSubreddit?.__typename?e.x`<slot name="share-button"> <crosspost-upsell-coachmark post-id="${this.id}" name="${this.eligibleCrosspostingSubreddit?.name}" prefixed-name="${this.eligibleCrosspostingSubreddit?.prefixedName}" subreddit-id="${this.eligibleCrosspostingSubreddit?.id}" ?open="${this.isCrosspostingCoachmarkOpen}"> ${o} </crosspost-upsell-coachmark> </slot> `:e.x` <slot name="share-button"> ${o} </slot> `}renderExpandoButton(){return this.isDesktopViewport?this._expandoController.renderExpandoButton():""}renderReportButton(){const o="Report";return e.x` ${r.c({appearance:"secondary",attributes:{onclick:()=>{var e,o;this.trackEvent((e="post",t.b({source:e,action:"click",noun:"report"}))),this.dispatchEvent((o=this.id,t.c(t.j$,{thingId:o})))},type:"button",className:this.defaultActionButtonClassnames},size:this.defaultActionButtonSize,children:this.isDesktopViewport?o:"",leadingIcon:e.cg({attributes:{className:"icon-report","aria-hidden":"true"},size:r.I[this.defaultActionButtonSize]}),screenReaderContent:o})} `}renderActionRowWhitespace(){return e.x`<slot name="action-row-whitespace"></slot>`}renderActionRow(){if(this.isPDP&&this.isPdpSeekerM1LO)return this.renderSeekerPostInfoRow();const o=["shreddit-post-container flex gap-sm flex-row items-center flex-nowrap justify-start"];this.isPDP?this.isCompactUIExp?o.push("py-xs px-md xs:px-0"):o.push("h-2xl mt-md px-md xs:px-0"):this.isCardView&&!this.promoted&&!this.isCrosspost&&this.isEmbed&&o.push("pt-xs");const s="enabled"===t.dw("shreddit_hotkeys_m1");return e.x`<div class="${o.join(" ")}" data-testid="action-row" tabindex="${s?"0":"-1"}" aria-label="Actions available for this post"> ${this.renderVoteButton()} ${this.renderCommentsButton()} ${this.renderAwardButton()} ${this.renderShareButton()} ${this.isReportingEnabled&&!this.isFeed?this.renderReportButton():""} <div class="ms-auto flex flex-row"> <slot name="mod-content-actions"></slot> ${this.isDesktopViewport?this._promotePostButtonController.maybeRenderPromotePostButton():e.A} </div> ${this.renderActionRowWhitespace()} </div>`}renderSeekerPostInfoRow(){return e.x` <div class="px-md xs:px-0 py-xs truncate text-neutral-content-weak text-12 flex items-center gap-2xs font-semibold" data-testid="seeker-post-info-row"> ${void 0!==this.postScore?e.x` ${e.b7({size:e.I.Small})} <faceplate-number number="${this.postScore}" pretty></faceplate-number> ${e.bm({size:e.I.Small})} `:e.A} ${this.postScore&&this.commentCount?e.x`<span data-testid="seeker-post-info-row-divider">\u00B7</span>`:e.A} ${this.commentCount?e.x` ${e.a8({size:e.I.Small})} <faceplate-number number="${this.commentCount}" pretty></faceplate-number> `:e.A} </div> `}renderMessageBanner(){return e.x` ${this.isLocked?e.x`<slot name="post-locked-banner"></slot>`:null} ${this.isBanned?e.x`<slot name="post-banned-banner"></slot>`:null} <slot name="post-archived-banner"></slot> ${this.showPostRemovalBanner?e.x`<slot name="post-removed-banner"></slot>`:null} ${this.isContestMode?e.x`<slot name="post-contest-mode-banner"></slot>`:null} `}getMaxTextBodyHeight(t){return this.isPDP?Math.max(t,253):208}trackContentTagClick(t){t.detail.type===n.C.APP&&this.trackWatermarkEvent("v1_badge")}trackWatermarkEvent(e){const o=t.b(c.c({postId:this.id||"",subredditId:this.subredditId||"",blockType:"",pageType:t.X(),action:"click",noun:"watermark",appId:this.appId||"",appInstallationId:this.appInstallationId||"",appVersionNumber:this.appVersionNumber||"",appPublicApiVersion:this.appPublicApiVersion||"",appName:this.appSlug||"",appSlug:this.appSlug||"",userAgent:window.navigator?.userAgent.toLowerCase()||"unknown",watermark:e}));this.trackEvent(o)}hideTextPostContentOverflow(){const t=this.querySelector(`#${this.id}-post-rtjson-content`);if(!t)return;const e=this.querySelector(".post-content")||this.querySelector('div[slot="text-body"]'),o=e?.querySelectorAll("faceplate-img"),s=.2*window.innerHeight,i=(o?.length||0)*s,n=this.getMaxTextBodyHeight(t.clientHeight),r=t.scrollHeight+i>n;if(r&&r){if(!this.shouldContTruncate())return void this.revealTruncatedContent();this.querySelector(`#${this.id}-overflow-cover`)?.classList?.remove(h.C),this.readMoreButton?.classList?.remove(h.C),this.readMoreButton?.classList?.add(h.j)}}shouldContTruncate(){return"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&b.s(this.readMoreButton?.dataset)}renderPostHeader(){return e.x` <slot name="credit-bar"></slot> ${this.isEligibleForRelatedCommunityRecommendations?e.x`<slot name="related-community-recommendation"></slot>`:e.x``} <div id="content-tag-container" class="flex justify-between gap-xs ${t.U({"px-md":this.isPDP,"xs:px-0":this.isPDP})}"> ${this.renderContentTags()} ${this.renderAppPrivacyButton()} </div> ${this.renderPostLinkForMTSEO()} `}renderAppPrivacyButton(){return this.appName?e.x`<rpl-dialog-trigger dialog-id="${this.appSlug}-privacy-dialog"> ${t.r({appearance:"plain",attributes:{onclick:()=>(this.trackWatermarkEvent("v1_privacy_link"),this._activateFeature({name:t.k0,routeParams:{appSlug:this.appSlug,appName:this.appName,appOwnerId:this.appOwnerId||"null",postId:this.id,subredditId:this.subredditId},renderMode:t.o.Contents})),className:"flex gap-xs"},children:"Privacy",leadingIcon:e.$({size:e.I.ExtraSmall}),size:t.s.ExtraSmall})} </rpl-dialog-trigger>`:e.A}renderPostLinkForMTSEO(){if(!this.isMTSEOUserPage)return"";const o=new RegExp(/[^?]+/),s=this.permalink?.match(o);if(!s||0===s.length)return"";const i=t.cd(s[0],t.k2,t.k1);return e.x` <mtseo-show-original-link post-id="${this.id}" href="${i}" ?with-intervention="${this.hasMTSEOTranslationInterruption}"></mtseo-show-original-link> `}renderTitle(){const t=e.x`<slot name="title"></slot>`;return this.showFullContent||this.isPDP?t:e.x`<h2 class="condensed-post-title-heading">${t}</h2>`}renderTextBody(){if("enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools)return e.x`<slot name="text-body"></slot>`;if(this.isUpdatingPostBody)return e.x` <faceplate-shimmer class="h-[200px] w-full px-md xs:px-0" shape="pill"></faceplate-shimmer> `;if(this.editController?.isEditing)return this.editController.renderEditor();return e.x`<slot @slotchange="${this.handleTextBodySlotChange}" name="${"text-body"}"></slot>`}renderPostMediaContainer(t){return e.x` <slot @slotchange="${this.handleContentSlotChange}" name="post-media-container" class="${t??""}"></slot> `}renderFeedFlair(){return this.isPDP?"":e.x`<div> <slot name="post-flair" class="feed-flair-slot"></slot> </div>`}renderPDPFlair(){const t=this.isCompactUIExp?"leading-none":"xs:px-0";return this.isPDP?e.x`<div class="px-md ${t}"> <slot name="post-flair" class="pdp-flair-slot"></slot> </div>`:""}renderDeletedPost(){return e.x` <div class="deleted-post h-3xl flex items-center"> <p class="font-semibold text-neutral-content-strong text-14"> Post deleted </p> </div> `}renderHiddenPost(){return e.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> Post hidden </p> </div> ${t.r({attributes:{onclick:this.unhidePost},size:t.s.Medium,appearance:"secondary",children:"Undo"})} </div> `}renderCompactView(){const t="grid grid-cols-[1fr_min-content] grid-rows-[auto_auto_auto_auto_auto] xs:grid-cols-[min-content_1fr] xs:grid-rows-[auto_auto_auto_auto]",o="col-start-1 col-end-3 row-start-1 row-end-2 xs:col-start-1 xs:col-end-3 xs:row-start-1 xs:row-end-2",s="col-start-2 col-end-3 row-start-2 row-end-3 xs:col-start-1 xs:col-end-2 xs:row-start-2 xs:row-end-4",i="col-start-1 col-end-2 row-start-2 row-end-3 xs:col-start-2 xs:col-end-3 xs:row-start-2 xs:row-end-3 overflow-hidden",n="col-start-1 col-end-3 row-start-3 row-end-4 xs:hidden",r="col-start-1 col-end-3 row-start-4 row-end-5 xs:col-start-2 xs:col-end-3 xs:row-start-3 xs:row-end-4",a="col-start-1 col-end-3 row-start-5 row-end-6 xs:col-start-2 xs:col-end-3 xs:row-start-4 xs:row-end-5 overflow-hidden",l="col-start-1 col-end-3 row-start-6 row-end-7 xs:col-start-2 xs:col-end-3 xs:row-start-5 xs:row-end-6";return e.x` <slot name="full-post-link"></slot> <div class="${d.o("grid",t)}"> <div class="${o}"> <slot name="recommendation-bar"></slot> </div> <div class="${d.o(s,"mt-2xs ml-xs xs:my-2xs xs:ml-0 xs:mr-md")}"> <slot name="thumbnail"></slot> </div> <div class="${d.o(i,"mt-2xs")}"> <div class="mb-2xs xs:mb-0"> <slot name="credit-bar"></slot> </div> <div class="overflow-hidden"> ${this.renderTitle()} <slot name="content-tags"></slot> <slot name="app-privacy"></slot> <slot name="post-flair"></slot> </div> <div> <slot name="mod-content-state-indicators"></slot> <slot name="mod-content-actions"></slot> </div> <div> <slot name="desktop-cta-row"></slot> </div> </div> <div class="${n}"> <slot name="mobile-cta-row"></slot> </div> <div class="${d.o(r,"flex gap-2xs overflow-hidden items-center mb-2xs mt-xs xs:mt-[2px]")}"> <slot name="action-bar-ad-cta"></slot> ${this.renderExpandoButton()}${this.renderVoteButton()} <slot name="overflow-menu-bar" class="grow overflow-hidden block"></slot> </div> <div class="${a}"> <slot name="expando-content"></slot> </div> <div class="${l}">${this.renderPostStatsEntryPoint()}</div> </div> ${this._promotePostButtonController.renderPromotePostInsightsPanelSlot()} ${this.renderPostStatsContainer()} `}renderPostStatsContainer(){return e.x`<slot name="post-insights-panel"></slot>`}renderPostStatsEntryPoint(){return e.x`<slot name="post-stats-entry-point"></slot>`}renderCardViewPostFooter(){return e.x` ${this.renderMessageBanner()} ${this.renderActionRow()} ${this._promotePostButtonController.renderPromotePostInsightsPanelSlot()} ${this.renderPostStatsEntryPoint()} ${this.renderPostStatsContainer()} `}renderContentTags(){return e.x`<shreddit-content-tags post-id="${this.id}" ?nsfw="${this.nsfw}" ?spoiler="${this.spoiler}" app="${this.appSlug}" ?game="${this.game}" @tag-click="${t=>this.trackContentTagClick(t)}"></shreddit-content-tags>`}renderSlimCardPost(){return e.x` <slot name="full-post-link"></slot> <slot></slot> <div class="pt-xs">${this.renderCardViewPostFooter()}</div> `}renderCardView(){const t=this.isThumbnailSet?"ml-xs xs:ml-sm":void 0;return e.x` <slot name="full-post-link"></slot> ${this.renderPostHeader()} <div class="flex"> <div class="flex flex-col grow max-w-full"> ${this.renderTitle()} ${this.renderPDPFlair()} <slot name="mod-content-state-indicators"></slot> ${this.isPDP?null:this.renderTextBody()} ${this.renderFeedFlair()} </div> <div class="${e.l(t)}">${this.renderThumbnail()}</div> </div> ${this.renderPostMediaContainer("xs:pt-md")} ${this.isPDP?this.renderTextBody():null} <slot></slot> ${this.renderCardViewPostFooter()} `}render(){return this.deleted?this.renderDeletedPost():this.showShortHiddenPostForm()?this.renderHiddenPost():this.isCompactView?this.renderCompactView():this.isSlimCard?this.renderSlimCardPost():this.renderCardView()}handleView(t,e,o){!e&&this.isPDP||h._(this.viewContext)&&this.hasBeenViewed||this.trackEvent(t),this.gallery&&this.trackEvent(m.a(this,0,o)),this.morePostsCursor&&this.handleLoadMorePosts()}handleConsume(){!this.isPDP&&this.becameVisibleOnScreenTimestamp&&Date.now()-this.becameVisibleOnScreenTimestamp>h.c&&!h._(this.viewContext)&&this.trackConsume()}handleClick(t,e){t&&this.trackEvent(t),e&&this.dispatchEvent(e)}handleShareButtonInteraction(){this.isDesktopViewport?this.handleClick(h.$(this)):this.handleClick(h.a0(this))}_navigateToUrl(t,e){"_self"===e?window.location.href=t:window.open(t,e)}handleClickCommentsButton(t){if(this.trackEvent(h.n(this)),this.isFeed)return;this.isPostCommentTapExp||g.s("smooth");if((t?.currentTarget?.querySelector("faceplate-number")?.number??0)>0&&!this.isPostCommentTapExp){const t=document.querySelector("shreddit-comments-sort-dropdown")?.querySelector("shreddit-sort-dropdown")?.shadowRoot?.querySelector("faceplate-dropdown-menu")?.querySelector("button");t?.focus()}else{if(!this.isUserLoggedIn&&this.isPostCommentTapExp)return;const t=document.querySelector("comment-body-header comment-composer-host");this.isPostCommentTapExp&&t?.scrollIntoView({behavior:"smooth",block:"center"}),t?.focus()}}handleClickPost(t){const e=h.a1(t,this);this.handleClick(e)}handleCarouselArrowClick(t){t.preventDefault();const e=t;m.h(this,e)}async handleUpdatePostVote(e){const s=this.postScore,i=this.postVoteType;if(void 0!==this.postScore){const t=this._getPostScoreDelta(e);this.postScore=this.postScore+t}this.postVoteType=e===this.postVoteType?void 0:e;try{await this._onUpdatePostVoteType(),this.postVoteType&&this.pubsub.publish(this.postVoteType===o.V.Upvote?t.T.PostUpvoted:t.T.PostDownvoted,{postId:this.id})}catch(o){this.postScore=s,this.postVoteType=i,this.dispatchEvent(t.c("faceplate-alert",{level:t.x.warning,message:o,sourceElement:e,cause:`failed-${e}`}))}}async handleCrosspostingV2Experiment(){const t=await w(this.id);this.eligibleCrosspostingSubreddit=t,this.isCrosspostingCoachmarkOpen=!!t}async handleUpvote(e){const s=this.postVoteType===o.V.Upvote;if(this.isUserLoggedIn)return this.handleClick(s?h.a2(this):h.a3(this)),await this.handleUpdatePostVote(o.V.Upvote),!s&&this.isCrosspostingV2Enabled&&this.handleCrosspostingV2Experiment(),void(this.isAma&&!s&&this.pubsub.publish(t.T.TriggerAmaRemindMeModal,{postId:this.id}));this.disabled?(this.dispatchEvent(t.c(t.aD.upvoteTry)),this.trackEvent(h.a4(this))):this.handleClick(h.a3(this),t.c(t.aD.upvote))}async handleDownvote(e){if(this.isUserLoggedIn)return this.handleClick(this.postVoteType===o.V.Downvote?h.a2(this):h.a5(this)),void await this.handleUpdatePostVote(o.V.Downvote);this.disabled?(this.dispatchEvent(t.c(t.aD.downvoteTry)),this.trackEvent(h.a4(this))):this.handleClick(h.a5(this),t.c(t.aD.downvote))}onBeforeUnload(){this._hasPageUnloaded=!0,this.isPostInViewport&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&this.trackEvent(h.U(this)))}handleHovercardOpen(t){if(!(t.target instanceof HTMLElement&&"id"in t.target.dataset))return;const e=t.target.dataset.id;"community-hover-card"===e&&this.trackEvent(h.a6(this)),"user-hover-card"===e&&this.trackEvent(h.a7(this))}handleTextBodySlotChange(t){this.showFullContent||requestAnimationFrame((()=>this.hideTextPostContentOverflow()))}handleContentSlotChange(t){this.showFullContent||requestAnimationFrame((()=>this.hideTextPostContentOverflow()))}handleThumbnailSlotChange(t){const e=t.target?.assignedElements();this.isThumbnailSet=e.length>0}observerIsIntersectingCallback(e){this.isNotBrandSafe&&e.target===this&&window.dispatchEvent(t.c(t.hw,{postId:this.id,isInView:!0})),this.isPostInViewport||(this.isPostInViewport=!0,this.becameVisibleOnScreenTimestamp=Date.now(),this.handleView(h.m(this,this.isTranslatable),!this.isPDP),this.hasBeenViewed=!0,h._(this.viewContext)&&(this.listingBelowConsumeTimer=setTimeout(this.trackConsume,h.c)))}observerIsNotIntersectingCallback(e){clearTimeout(this.listingBelowConsumeTimer),this.isNotBrandSafe&&e.target===this&&window.dispatchEvent(t.c(t.hw,{postId:this.id,isInView:!1}));const o=this.isPostInViewport;this.isPostInViewport=!1,o&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&this.trackEvent(h.U(this)))}checkPostEditMode(){const e=new URLSearchParams(window.location.search);if(e.get(p.c)){this.pubsub.publish(t.T.PostUpdated,{postId:this.id,action:p.a.edit,value:!0}),e.delete(p.c);const o=e.toString(),s=window.location.pathname+(o.length?"?":"")+o;window.history.replaceState({},document.title,s)}}};return t._([t.n({type:Boolean})],L.prototype,"archived",void 0),t._([t.n({type:Boolean})],L.prototype,"deleted",void 0),t._([t.n({type:Boolean,reflect:!0})],L.prototype,"hidden",void 0),t._([t.n({type:String,attribute:"author-id"})],L.prototype,"authorId",void 0),t._([t.n({type:String,attribute:"created-timestamp"})],L.prototype,"createdTimestamp",void 0),t._([t.n({type:String})],L.prototype,"domain",void 0),t._([t.n({type:String,attribute:"content-href"})],L.prototype,"contentHref",void 0),t._([t.n({type:String})],L.prototype,"id",void 0),t._([t.n({type:String,attribute:"user-id"})],L.prototype,"userId",void 0),t._([t.n({type:String,attribute:"app-id"})],L.prototype,"appId",void 0),t._([t.n({type:String,attribute:"app-slug"})],L.prototype,"appSlug",void 0),t._([t.n({type:Boolean})],L.prototype,"game",void 0),t._([t.n({type:String,attribute:"app-installation-id"})],L.prototype,"appInstallationId",void 0),t._([t.n({type:String,attribute:"app-name"})],L.prototype,"appName",void 0),t._([t.n({type:String,attribute:"app-owner-id"})],L.prototype,"appOwnerId",void 0),t._([t.n({type:String,attribute:"app-version-number"})],L.prototype,"appVersionNumber",void 0),t._([t.n({type:String,attribute:"app-public-api-version"})],L.prototype,"appPublicApiVersion",void 0),t._([t.n({type:Boolean,reflect:!0})],L.prototype,"nsfw",void 0),t._([t.n({type:Boolean})],L.prototype,"promoted",void 0),t._([t.n({type:Number})],L.prototype,"score",void 0),t._([t.n({type:Boolean,reflect:!0})],L.prototype,"spoiler",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],L.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],L.prototype,"subredditName",void 0),t._([t.n({type:Boolean,attribute:"is-subscribed"})],L.prototype,"isSubscribed",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],L.prototype,"subredditPrefixedName",void 0),t._([t.n({type:String,attribute:"post-title"})],L.prototype,"postTitle",void 0),t._([t.n({type:String,attribute:"post-type"})],L.prototype,"postType",void 0),t._([t.n({type:String,attribute:"recommendation-source"})],L.prototype,"recommendationSource",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-id"})],L.prototype,"recommendationSubredditId",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-name"})],L.prototype,"recommendationSubredditName",void 0),t._([t.n({type:String,attribute:"post-language"})],L.prototype,"postLanguage",void 0),t._([t.n({type:String,attribute:"translation-language"})],L.prototype,"translationLanguage",void 0),t._([t.n({type:Boolean,attribute:"is-translation-on",reflect:!0})],L.prototype,"isTranslationOn",void 0),t._([t.n({type:Number})],L.prototype,"feedIndex",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],L.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],L.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"crossposting-v2-enabled"})],L.prototype,"isCrosspostingV2Enabled",void 0),t._([t.n({type:Number,attribute:"comment-count"})],L.prototype,"commentCount",void 0),t._([t.n({type:Boolean,attribute:"is-awardable"})],L.prototype,"isAwardable",void 0),t._([t.n({type:Number,attribute:"award-count"})],L.prototype,"awardCount",void 0),t._([t.n({type:String,attribute:"award-id"})],L.prototype,"awardId",void 0),t._([t.n({type:String,attribute:"award-icon-url"})],L.prototype,"awardIconUrl",void 0),t._([t.n({type:Array,attribute:"award-icon-urls"})],L.prototype,"awardIconUrls",void 0),t._([t.n({type:Boolean,attribute:"hide-award-icon"})],L.prototype,"hideAwardIcon",void 0),t._([t.n({type:Boolean,attribute:"is-awarded-by-user"})],L.prototype,"isAwardedByUser",void 0),t._([t.n({type:Boolean,attribute:"has-iconic-award"})],L.prototype,"hasIconicAward",void 0),t._([t.n({type:Boolean,attribute:"has-branded-award"})],L.prototype,"hasBrandedAward",void 0),t._([t.n({type:String})],L.prototype,"permalink",void 0),t._([t.n({type:Boolean})],L.prototype,"gallery",void 0),t._([t.n({type:String,attribute:"view-context"})],L.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],L.prototype,"viewType",void 0),t._([t.n({type:Boolean,attribute:"is-slim-card"})],L.prototype,"isSlimCard",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],L.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-reporting-enabled"})],L.prototype,"isReportingEnabled",void 0),t._([t.n({type:Boolean,attribute:"is-link-post"})],L.prototype,"isLinkPost",void 0),t._([t.n({type:Boolean,attribute:"is-ama"})],L.prototype,"isAma",void 0),t._([t.n({type:Boolean,attribute:"is-embed"})],L.prototype,"isEmbed",void 0),t._([t.n({type:Boolean,attribute:"is-not-brand-safe"})],L.prototype,"isNotBrandSafe",void 0),t._([t.n({type:Boolean,attribute:"is-crosspost"})],L.prototype,"isCrosspost",void 0),t._([t.n({type:Boolean,attribute:"is-crosspostable"})],L.prototype,"isCrosspostable",void 0),t._([t.n({type:Boolean,attribute:"is-embeddable"})],L.prototype,"isEmbeddable",void 0),t._([t.n({type:Boolean,attribute:"user-logged-in"})],L.prototype,"isUserLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"disabled"})],L.prototype,"disabled",void 0),t._([t.n({type:String,attribute:"vote-type"})],L.prototype,"voteType",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],L.prototype,"showFullContent",void 0),t._([t.n({type:Boolean,attribute:"is-translatable"})],L.prototype,"isTranslatable",void 0),t._([t.n({type:Boolean,attribute:"is-translation-fetched",reflect:!0})],L.prototype,"isTranslationFetched",void 0),t._([t.n({type:Boolean,attribute:"is-post-translated",reflect:!0})],L.prototype,"isPostTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-post-body-translated",reflect:!0})],L.prototype,"isPostBodyTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-mt-seo-user-page",reflect:!0})],L.prototype,"isMTSEOUserPage",void 0),t._([t.n({type:Boolean,attribute:"has-mt-seo-translation-interruption"})],L.prototype,"hasMTSEOTranslationInterruption",void 0),t._([t.n({type:String,attribute:"more-posts-cursor"})],L.prototype,"morePostsCursor",void 0),t._([t.n({type:Boolean,attribute:"should-track-post-leave-events"})],L.prototype,"isPostLeaveEventsEnabled",void 0),t._([t.n({type:Boolean,attribute:"locked",reflect:!0})],L.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"banned",reflect:!0})],L.prototype,"isBanned",void 0),t._([t.n({type:Boolean,attribute:"is-contest-mode",reflect:!0})],L.prototype,"isContestMode",void 0),t._([t.n({type:String,attribute:"pdp-target"})],L.prototype,"pdpTarget",void 0),t._([t.n({type:Boolean,attribute:"is-promoteable-post"})],L.prototype,"isPromoteablePost",void 0),t._([t.n({type:Boolean,attribute:"boost-post-page-exp"})],L.prototype,"boostPostPageExp",void 0),t._([t.n({type:String,attribute:"moderation-verdict"})],L.prototype,"moderationVerdict",void 0),t._([t.n({type:Boolean,attribute:"previous-actions-feature"})],L.prototype,"previousActionsFeature",void 0),t._([t.n({type:String,reflect:!0})],L.prototype,"updateAnimation",void 0),t._([t.n({type:String,attribute:"item-state",reflect:!0})],L.prototype,"itemState",void 0),t._([t.n({type:Boolean,attribute:"are-reports-expandable"})],L.prototype,"areReportsExpandable",void 0),t._([t.n({type:Boolean,attribute:"compact-ui-experiment"})],L.prototype,"isCompactUIExp",void 0),t._([t.n({type:Boolean,attribute:"post-comment-tap-exp"})],L.prototype,"isPostCommentTapExp",void 0),t._([t.n({type:Boolean,attribute:"is-pdp-seeker-m1-lo"})],L.prototype,"isPdpSeekerM1LO",void 0),t._([t.n({type:Boolean,attribute:"share-button-ssr"})],L.prototype,"shareButtonSSR",void 0),t._([t.n({type:Boolean,attribute:"interaction-from-hotkey"})],L.prototype,"interactionFromHotkey",void 0),t._([t.n({type:Boolean,attribute:"apply-feeds-simplification"})],L.prototype,"applyFeedsSimplification",void 0),t._([t.d()],L.prototype,"showPostRemovalBanner",void 0),t._([t.d()],L.prototype,"showExpando",void 0),t._([t.d()],L.prototype,"postVoteType",void 0),t._([t.d()],L.prototype,"postScore",void 0),t._([t.d()],L.prototype,"useShortHiddenPostForm",void 0),t._([t.d()],L.prototype,"isThumbnailSet",void 0),t._([t.d()],L.prototype,"isUpdatingPostBody",void 0),t._([t.d()],L.prototype,"displayPostAnalytics",void 0),t._([t.d()],L.prototype,"isCrosspostingCoachmarkOpen",void 0),t._([t.d()],L.prototype,"eligibleCrosspostingSubreddit",void 0),L=t._([t.e("shreddit-post")],L),{get S(){return L}}}));
SML.dm("shredditpostflair5ab36abd",["shelle48e5956","iconc33661e6"],(async(t,s)=>{const e=t.C(s.s),i=new DOMParser;let r=class extends e{constructor(){super(...arguments),this.postId="",this.flairClass="",this.onPostFlairChange=t=>{t.postId===this.postId&&this.renderUpdatedFlair(t.updatedHtml)}}connectedCallback(){super.connectedCallback(),requestAnimationFrame((()=>{this.subscribe(t.T.PostFlairUpdated,this.onPostFlairChange)}))}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(t.T.PostFlairUpdated,this.onPostFlairChange)}renderUpdatedFlair(t){const s=this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0];if(!t&&s)return void s.remove();const e=i.parseFromString(t,"text/html").body.firstChild;if(e){if(this.flairClass&&e instanceof HTMLElement){const t=this.flairClass.split(" ").filter((t=>!!t));e.classList.add(...t)}s?s.replaceWith(e):this.appendChild(e)}}render(){return s.x`<slot></slot>`}};r.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"flair-class"})],r.prototype,"flairClass",void 0),r=t._([t.e("shreddit-post-flair")],r)}));
SML.dm("shreddittweetembedc1a19ee2",["shelle48e5956","iconc33661e6","links22118b0c"],(async(e,t,i)=>{const s=e.g(t.s),o=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ");let r=class extends s{constructor(){super(...arguments),this.postId="",this.limitHeight=!1,this.onMessage=e=>{const{data:t}=e;if(!e.source||e.source!==this.iframe?.contentWindow||"tweet-measured"!==t?.action||i.e(t?.id36)!==this.postId)return;this.iframe.height=`${t?.height}px`,this.limitHeight&&t?.height>550?(this.renderRoot?.querySelector(`#${this.postId}-tweet-overflow`)?.classList.remove("hidden"),this?.style.setProperty("height","550px")):this?.style.setProperty("height",`${t?.height+4}px`),this.renderRoot?.querySelector(`#${this.postId}-tweet-loading-placeholder`)?.remove();const s=document.querySelector(`#${this.postId}-post-media-container`),o=s?.querySelector(`#${this.postId}-aspect-ratio`);if(o){const e=this.offsetHeight/this.offsetWidth;o?.style.setProperty("--aspect-ratio",`${e}`);const t=this.offsetHeight-o.offsetHeight;o?.style.setProperty("height",`${t}px`)}}}static get styles(){return[e.t]}connectedCallback(){super.connectedCallback(),window.addEventListener("message",this.onMessage)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("message",this.onMessage)}onIframeLoad(){this.iframe?.contentWindow?.postMessage("twitter-measure-requested","https://www.redditmedia.com")}render(){const e=`${i.d(this.postId)}?responsive=true&is_nightmode=${matchMedia("(prefers-color-scheme: dark)").matches}`;return t.x` <div id="${this.postId}-tweet-loading-placeholder" class="${this.className} bg-neutral-background-weak absolute left-0 right-0 top-0 bottom-0"></div> <div class="overflow-hidden flex justify-center w-100 ${this.limitHeight?"max-h-[550px] ":""}"> <iframe id="${this.postId}-tweet-iframe" scrolling="no" allowfullscreen class="items-center overflow-hidden b-0 border-transparent justify-center bg-neutral-background-weak max-w-[550px] rounded-[14px]" max-width="${"550px"}" width="100%" title="${this.title}" aria-label="Tweet: ${this.title}" src="${e}" sandbox="${o}" @load="${this.onIframeLoad}" allowtransparency="true"></iframe> </div> ${this.limitHeight?t.x`<div id="${this.postId}-tweet-overflow" class="h-[66px] mt-[-66px] w-100 from-[color:var(--color-neutral-background-weak)] bg-gradient-to-t hidden isolate pointer-events-none"></div>`:""} `}};e._([e.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),e._([e.n({type:Boolean,attribute:"limit-height"})],r.prototype,"limitHeight",void 0),e._([e.y("iframe")],r.prototype,"iframe",void 0),r=e._([e.e("shreddit-tweet-embed")],r)}));
SML.dm("shredditpubsubpublisher59526190",["shelle48e5956","iconc33661e6"],(async(t,e)=>{let s=class extends e.s{constructor(){super(...arguments),this.handleInteraction=e=>{t.f(e)&&this.handleAction()}}static get styles(){return e.a`:host{display:contents}`}handleAction(){this.topic&&t.p(this.topic,this.data)}render(){return e.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};t._([t.n({type:String})],s.prototype,"topic",void 0),t._([t.n({type:Object})],s.prototype,"data",void 0),s=t._([t.e("shreddit-pubsub-publisher")],s)}));
SML.dm("followbutton2b20c54e",["shelle48e5956","iconc33661e6"],(async(t,o)=>{let e=class extends o.s{constructor(){super(...arguments),this.isDesktop=!1,this.isLoggedIn=!1,this.isFollowed=!1,this.trackingSource="profile",this.toggleLoadingIcon=()=>{const t=this.isFollowed?".unfollow-button":".follow-button",o=this.querySelector(`${t} .loading-icon`),e=this.querySelector(`${t} .button-leading-icon`)?.parentElement;if(o?.classList.toggle("hidden"),e?.classList.toggle("hidden"),!this.isDesktop){const o=this.querySelector(`${t} .button-text`);o?.classList.toggle("hidden")}}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick)}async onClick(){if(this.redditorId&&this.isLoggedIn){const o={input:{accountId:this.redditorId,state:this.isFollowed?t.au.None:t.au.Followed}};this.toggleLoadingIcon();try{const e=await t.B({operation:t.O.UpdateProfileFollowState,variables:o});return this.toggleLoadingIcon(),void(e.data.updateProfileFollowState?.ok&&!e.data.updateProfileFollowState?.errors&&(this.isFollowed=!this.isFollowed))}catch(t){return window.Sentry?.captureError?.(t),void this.toggleLoadingIcon()}}}render(){return o.x`<slot name="button-${this.isFollowed?"unfollow":"follow"}"></slot>`}};e.styles=[t.t],t._([t.n({type:Boolean,attribute:"is-desktop"})],e.prototype,"isDesktop",void 0),t._([t.n({type:Boolean,attribute:"is-logged-in"})],e.prototype,"isLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"is-followed"})],e.prototype,"isFollowed",void 0),t._([t.n({type:String,attribute:"redditor-id"})],e.prototype,"redditorId",void 0),t._([t.n({type:Object,attribute:"tracking-source"})],e.prototype,"trackingSource",void 0),e=t._([t.e("follow-button")],e)}));
SML.dm("clicklocationtracker6f864270",["shelle48e5956","agegatestandaloneclientjsb13e879d","iconc33661e6"],(async(t,c,l)=>{const e=t.g(l.s);let i=class extends e{constructor(){super(...arguments),this.clickLocation=t.A.UNKNOWN}handleClick(t){"auxclick"===t.type&&1!==t.button||c.t({el:this,clickLocation:this.clickLocation})}render(){return l.x`<slot @click="${this.handleClick}" @contextmenu="${this.handleClick}" @auxclick="${this.handleClick}"></slot>`}};i.styles=[t.t],t._([t.n({type:String,attribute:"click-location"})],i.prototype,"clickLocation",void 0),i=t._([t.e("click-location-tracker")],i)}));
SML.dm("userhovercardclientjsc70bab8c",["passwordrecoveryfc50288b","rendersavedresponsetemplatebysubredditidb78cebab","followbutton2b20c54e","allchatspagerecommendationsclientjs6f0a19fc","clicklocationtracker6f864270","shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async e=>{e.g()&&(SML.di("./achievements-entrypoint-a0cc6299.js",import.meta.url,"achievementsentrypointa0cc6299"),SML.di("./mod-note-overflow-menu-d1b5690a.js",import.meta.url,"modnoteoverflowmenud1b5690a"),SML.di("./mod-user-summary-feedback-5f0fcf92.js",import.meta.url,"modusersummaryfeedback5f0fcf92"))}));
SML.dm("authorflaireventhandler1ad78656",["shelle48e5956","iconc33661e6"],(async(t,s)=>{const e=t.C(s.s),o=new DOMParser;let i=class extends e{constructor(){super(...arguments),this.userId="",this.subredditId="",this.onUpdateFlairEvent=({html:t,subredditId:s,userId:e,isEnabled:i})=>{if(this.userId===e&&this.subredditId===s){const s=t&&i,e=s?t:'<span class="hidden"></span>',d=o.parseFromString(e,"text/html").body.firstChild;d&&(this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0].replaceWith(d),s?this.showHost():this.hideHost())}}}static get styles(){return s.a`:host{--display:flex;display:var(--display);overflow:hidden}`}onSlotChanged(t){const s=t.target?.assignedElements({flatten:!0});s?.some((t=>"SPAN"===t.nodeName&&t.classList.contains("hidden")))&&this.hideHost()}connectedCallback(){super.connectedCallback(),this.subscribe(t.T.CommunityAuthorFlairUpdated,this.onUpdateFlairEvent)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(t.T.CommunityAuthorFlairUpdated,this.onUpdateFlairEvent)}hideHost(){(this.shadowRoot?.host).style.setProperty("--display","none")}showHost(){(this.shadowRoot?.host).style.setProperty("--display","flex")}render(){return s.x`<slot @slotchange="${this.onSlotChanged}"></slot>`}};t._([t.n()],i.prototype,"userId",void 0),t._([t.n()],i.prototype,"subredditId",void 0),i=t._([t.e("author-flair-event-handler")],i)}));
SML.dm("modnotesopener281d7fc7",["shelle48e5956","modnotesf373dea5","iconc33661e6"],(async(e,t,s)=>{const r=e.C(s.s);let i=class extends r{constructor(){super(...arguments),this.subredditName="",this.userName="",this.thingId="",this.subredditId="",this.userId="",this.forceOpen=!1,this.postId="",this.isUserDeleted=!1,this.triggerSource=t.d.USERNAME,this.openModNotes=async t=>{const{subredditName:s,userName:r,thingId:i,subredditId:o,userId:d,triggerSource:n,postId:u}=this,p=t??n;this.publish(e.T.ModNotesRailOpen,{subredditName:s,userName:this.isUserDeleted?"deleted":r,thingId:i,subredditId:o,userId:this.isUserDeleted?"deleted":d,triggerSource:p,postId:u})},this.handleAnchorClick=e=>{e instanceof MouseEvent&&0!==e.button||e.ctrlKey||e.metaKey||(e.preventDefault(),this.openModNotes())},this.preventAnchorClick=e=>{const t=e.target;if(t instanceof HTMLSlotElement){t.assignedElements().forEach((e=>{(e instanceof HTMLAnchorElement||this.forceOpen||this.isUserDeleted)&&(e.onclick=this.handleAnchorClick,e.ontouchstart=this.handleAnchorClick)}))}}}render(){return this.isUserDeleted||this.subredditName&&this.subredditId&&this.userName&&this.userId?s.x` <slot @slotchange="${this.preventAnchorClick}"></slot> `:s.x`<slot></slot>`}};return e._([e.n({type:String,attribute:"subreddit-name"})],i.prototype,"subredditName",void 0),e._([e.n({type:String,attribute:"user-name"})],i.prototype,"userName",void 0),e._([e.n({type:String,attribute:"thing-id"})],i.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"subreddit-id"})],i.prototype,"subredditId",void 0),e._([e.n({type:String,attribute:"user-id"})],i.prototype,"userId",void 0),e._([e.n({type:Boolean,attribute:"force-open"})],i.prototype,"forceOpen",void 0),e._([e.n({type:String,attribute:"post-id"})],i.prototype,"postId",void 0),e._([e.n({type:Boolean,attribute:"is-user-deleted"})],i.prototype,"isUserDeleted",void 0),e._([e.n({type:String,attribute:"trigger-source"})],i.prototype,"triggerSource",void 0),i=e._([e.e("mod-notes-opener")],i),{get ModNotesOpener(){return i}}}));
SML.dm("faceplatehovercard98735488",["shelle48e5956","iconc33661e6","userflairfe275854","agegatestandaloneclientjsb13e879d","faceplatetooltipf30979fb"],(async(e,t,s,i,o)=>{const n=new WeakSet,r=async(t,{includeShadowRoot:s=!1}={})=>{const i="faceplate-partial",o=Array.from(t.querySelectorAll(i));s&&o.push(...Array.from(t.shadowRoot?.querySelectorAll(i)??[]));return(await Promise.all(o.map((async t=>!t||n.has(t)||t.loading!==e.I.Programmatic?Promise.resolve(!1):(n.add(t),t.load().then((()=>!0))))))).filter(Boolean).length>0},a=e=>t=>(e(t),t);let l=class extends o.FaceplateTooltip{constructor(){super(...arguments),this.mouseEnterDelay=750,this.mouseLeaveDelay=500,this.closeOnTrack=!1,this.disableTouchActivation=!1,this.partialLoading=e.I.Action,this.label="",this.mouseOnly=!1,this.sleepAfterEscape=!1,this.enterTimeout=-1,this.leaveTimeout=-1,this._popperController=new s.P(this,{position:this.position,referenceElementKey:"referenceElement",popperElementKey:"_tooltip"}),this._isHandlingTouch=!1,this.cleanupTimeouts=()=>{this.enterTimeout=this.leaveTimeout=-1},this.triggerEvent="hover",this.emitter=i.J(this),this.handleFocusOut=e=>{const t=e.relatedTarget;this.hidden||this.hasUserInteraction(t)||(this.close(),this.anchorEl&&(this.sleepAfterEscape=!0,this.anchorEl?.focus({preventScroll:!0})))},this.rplHovercardShowHandler=e=>{e.target===this||this.hidden||this.close()},this.onEscape=e=>{"Escape"===e.key&&(this.sleepAfterEscape=!0,this.close(),this.trigger?.focus())},this.mouseOverTrigger=e=>{this.setAttribute("trigger","mouse"),this.handleMouseenter(e)},this.handleClick=e=>{"hover"===this.triggerEvent&&this._isHandlingTouch&&this.disableTouchActivation&&(this.cleanupTimeouts(),this._isHandlingTouch=!1),super.handleClick(e)},this.handleTouchstart=()=>{this._isHandlingTouch=!0},this.handleMouseenter=t=>{if(this.mouseOnly&&"focusin"===t?.type)return;if(this.sleepAfterEscape)return void(this.sleepAfterEscape=!1);if(!this.hidden)return this.cleanupTimeouts();this.emitter.dispatch("entered"),this.partialLoading===e.I.Intent&&this.load();const s=window.setTimeout((()=>{s===this.enterTimeout&&this.hasUserInteraction()&&this.show()}),this.mouseEnterDelay);this.enterTimeout=s,document.addEventListener("keydown",this.onEscape),t?.currentTarget?.addEventListener("mouseleave",this.handleMouseleave,{once:!0})},this.handleMouseleave=()=>{if(this.hidden)return this.cleanupTimeouts();const e=window.setTimeout((()=>{e===this.leaveTimeout&&this.close()}),this.mouseLeaveDelay);this.leaveTimeout=e},this.handleMouseEnterTooltip=()=>{this.cleanupTimeouts()},this.handleMouseLeaveTooltip=()=>{this.handleMouseleave(),document.removeEventListener("keydown",this.onEscape)},this.handleFaceplateTrack=()=>{this.closeOnTrack&&this.close()},this.handleSlotChange=()=>{this.initializeFocusManager(),!this.hidden&&this.focusManager?.focus()},this.initializeFocusManager=()=>{this.content&&(this.focusManager=new e.aF(this,this.content))},this.render=()=>{const e=this._popperController.actualPosition||this.position;return t.x` <slot aria-describedby="faceplate-tooltip" faceplate-popper-trigger @click="${this.handleClick}" @touchstart="${this.handleTouchstart}" @mouseenter="${this.mouseOverTrigger}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <div aria-label="${t.l((this.label||this.ariaLabel)??void 0)}" id="faceplate-tooltip" role="dialog" part="content-container" position="${e}" @keydown="${this.handleKeydown}" @mouseenter="${this.handleMouseEnterTooltip}" @mouseleave="${this.handleMouseLeaveTooltip}" @focusin="${this.handleMouseEnterTooltip}" @focusout="${this.handleMouseLeaveTooltip}" @slotchange="${this.handleSlotChange}" faceplate-popper-content> <slot name="content" @faceplate-track="${this.handleFaceplateTrack}"></slot> </div> `}}get content(){return this.contents[0]??null}get trigger(){return this.anchorEl??this.triggers[0]??null}get anchorEl(){try{if(this.anchor&&"string"==typeof this.anchor){return this.getRootNode().getElementById(this.anchor)}return this.anchor instanceof HTMLElement?this.anchor:null}catch{return null}}get referenceElement(){return this.trigger??this}setupAnchorElListeners(){const{anchorEl:e}=this;e&&(e.addEventListener("click",this.handleClick),e.addEventListener("touchstart",this.handleTouchstart),e.addEventListener("mouseenter",this.mouseOverTrigger),e.addEventListener("mouseleave",this.handleMouseleave),e.addEventListener("focusin",this.handleMouseenter),e.addEventListener("focusout",this.handleMouseleave))}cleanupAnchorElListeners(){const{anchorEl:e}=this;e&&(e.removeEventListener("click",this.handleClick),e.removeEventListener("touchstart",this.handleTouchstart),e.removeEventListener("mouseenter",this.mouseOverTrigger),e.removeEventListener("mouseleave",this.handleMouseleave),e.removeEventListener("focusin",this.handleMouseenter),e.removeEventListener("focusout",this.handleMouseleave))}hasUserInteraction(e){const t=Boolean(this.querySelector(":hover")||this.trigger?.matches(":hover")),s=Boolean(e&&(this.contains(e)||this.trigger?.contains(e))||this.querySelector(":focus")||this.trigger?.matches(":focus"));return t||s}hovercardShowHandler(e){e.target!==this&&this.close()}load(){return r(this).then(a(this._popperController.reposition)).then(a((e=>{this.hidden||e&&(this.focusManager?.refresh(),this.focusManager?.focus())})))}async show(){super.show(),this.partialLoading===e.I.Action&&this.load(),await this._popperController.currentState.animationFinished,this.focusManager?.focus(),this.addEventListener("focusout",this.handleFocusOut),document.addEventListener(this.emitter.eventId("open"),this.hovercardShowHandler),document.addEventListener("rpl-hovercard:show",this.rplHovercardShowHandler),this.cleanupTimeouts()}async close(){const e=super.close();document.removeEventListener(this.emitter.eventId("open"),this.hovercardShowHandler),document.removeEventListener("rpl-hovercard:show",this.rplHovercardShowHandler),this.cleanupTimeouts(),await e,this.removeTrigger()}removeTrigger(){this.removeAttribute("trigger")}handleKeydown(){this.removeTrigger()}connectedCallback(){super.connectedCallback(),this.setupAnchorElListeners()}disconnectedCallback(){this.cleanupAnchorElListeners(),super.disconnectedCallback(),this.cleanupTimeouts()}static get styles(){return[...super.styles,t.a`:host{display:contents}#faceplate-tooltip{display:flex;flex-direction:column;width:fit-content;justify-content:flex-start;align-items:flex-start;box-sizing:border-box;border-radius:1rem;box-shadow:var(--elevation-md);z-index:var(--faceplate-hovercard-z-index,1)}#faceplate-tooltip::after{display:none}`]}};e._([e.n({type:String})],l.prototype,"anchor",void 0),e._([e.j({slot:""})],l.prototype,"triggers",void 0),e._([e.j({slot:"content"})],l.prototype,"contents",void 0),e._([e.n({type:Number,attribute:"enter-delay"})],l.prototype,"mouseEnterDelay",void 0),e._([e.n({type:Number,attribute:"leave-delay"})],l.prototype,"mouseLeaveDelay",void 0),e._([e.n({type:Boolean,attribute:"close-on-track"})],l.prototype,"closeOnTrack",void 0),e._([e.n({type:Boolean,attribute:"disable-touch-activation",reflect:!0})],l.prototype,"disableTouchActivation",void 0),e._([e.n({type:String,attribute:"partial-loading"})],l.prototype,"partialLoading",void 0),e._([e.n({type:String})],l.prototype,"label",void 0),e._([e.n({type:Boolean,attribute:"mouse-only"})],l.prototype,"mouseOnly",void 0),e._([e.d()],l.prototype,"sleepAfterEscape",void 0),l=e._([e.e("faceplate-hovercard")],l);var h=Object.freeze({__proto__:null,get FaceplateHovercard(){return l}});return{get F(){return l},get f(){return h},l:r,s:a}}));
SML.dm("communitystatustelemetry34dd7aad",[],(async()=>{var t,T,e;return function(t){t.MODERATOR="moderator",t.COMMUNITY_STATUS="community_status"}(t||(t={})),function(t){t.VIEW="view",t.CLICK="click"}(T||(T={})),function(t){t.STATUS_EDIT="status_edit",t.STATUS_CANCEL="status_cancel",t.STATUS_CREATE="status_create",t.STATUS_DELETE="status_delete",t.STATUS_LINK="status_link",t.STATUS_DISPLAY="status_display",t.STATUS_SUB_LINK="subreddit_link"}(e||(e={})),{get A(){return T},get N(){return e},get S(){return t}}}));
SML.dm("communitystatusbottomsheet7af52cb6",["shelle48e5956","iconc33661e6","communitystatustelemetry34dd7aad","faceplatehovercard98735488","appselectorclientjs9964d0b0"],(async(t,e,s)=>{var o;!function(t){t.small="small",t.medium="medium"}(o||(o={}));let i=class extends e.s{constructor(){super(...arguments),this.size=o.medium}render(){return e.x` <button class="flex items-center justify-center p-0 m-0 border-none rounded-1 h-[var(--emote-btn-size)] w-[var(--emote-btn-size)] bg-transparent hover:bg-neutral-background-hover cursor-pointer"> <slot class="emote"></slot> </button> `}};function a({pageType:t,url:e}){return{page_type:t,...e?{pane_name:e}:{}}}function r({subredditId:t,subredditName:e}){return{id:t,...e?{name:e}:{}}}i.styles=[e.a`:host{--emote-btn-size:2.25rem;--emote-size:1.75rem;display:block}:host([size=small]){--emote-btn-size:1.25rem;--emote-size:1.25rem}.emote::slotted(img){width:var(--emote-size);height:var(--emote-size);object-fit:contain;margin:0!important;padding:0!important}`,t.t],t._([t.n({type:String,reflect:!0})],i.prototype,"size",void 0),i=t._([t.e("community-status")],i);const n=e=>t.b({source:s.S.COMMUNITY_STATUS,action:s.A.CLICK,noun:s.N.STATUS_LINK},{action_info:a(e),subreddit:r(e)}),l=e.s;let d=class extends l{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.handleClick=()=>{this.hovercard?.close()},this.handleKeyUp=t=>{"Enter"===t.key&&this.handleClick()},this.handleStatusClicks=e=>{const s=e.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&t.a(this,n({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=t.X}render(){return e.x` <faceplate-hovercard position="bottom" appearance="inverted"> <span> <slot name="trigger"></slot> </span> <article slot="content" class="flex flex-col relative py-sm w-[184px]"> <div class="absolute right-2xs top-2xs"> <slot name="edit-btn" @click="${this.handleClick}" @keyup="${this.handleKeyUp}"></slot> </div> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 mt-md line-clamp-12 text-12"> <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> </article> </faceplate-hovercard> `}};d.styles=[e.a`slot[name=emote]::slotted(img){max-height:140px;max-width:148px!important;margin-bottom:0!important}faceplate-hovercard::part(content-container){background:var(--color-neutral-content-strong)}`,t.t],t._([t.n({type:String,attribute:"subreddit-id"})],d.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],d.prototype,"subredditName",void 0),t._([t.y("faceplate-hovercard")],d.prototype,"hovercard",void 0),d=t._([t.e("community-status-tooltip")],d);const c=e.s;let m=class extends c{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.open=()=>{this.bottomSheet?.showModal()},this.close=()=>{this.bottomSheet?.close()},this.handleKeyUp=t=>{"Enter"!==t.key&&"Space"!==t.key||this.close()},this.handleStatusClicks=e=>{const s=e.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&t.a(this,n({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=t.X}render(){return e.x` <button @click="${this.open}" class="m-0 p-0 border-none bg-transparent"> <slot name="trigger"></slot> </button> <faceplate-bottom-sheet id="bottom-sheet"> <div class="flex flex-col w-full box-border px-md py-xl"> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 line-clamp-8 text-14 font-semibold"> <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> <slot @click="${this.close}" @keyup="${this.handleKeyUp}" name="primary-btn"></slot> ${t.r({appearance:"secondary",attributes:{onclick:this.close,className:"mt-sm",id:"close-button"},children:"Close"})} </div> </faceplate-bottom-sheet> `}};m.styles=[e.a`:host{display:inline-flex}slot[name=emote]::slotted(img){max-height:148px;margin-bottom:32px!important}slot[name=primary-btn]::slotted(*){margin-top:24px}`,t.t],t._([t.n({type:String,attribute:"subreddit-id"})],m.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],m.prototype,"subredditName",void 0),t._([t.y("#bottom-sheet")],m.prototype,"bottomSheet",void 0),m=t._([t.e("community-status-bottom-sheet")],m)}));
SML.dm("modnotesf373dea5",["shelle48e5956","iconc33661e6"],(async(a,e)=>{const{svg:t}=e.g();var l=e.d(t`<path d="M10 19.99a4.6 4.6 0 0 1-3.27-1.354l-5.366-5.365a4.627 4.627 0 0 1 0-6.542L6.73 1.364a4.627 4.627 0 0 1 6.542 0l5.365 5.364a4.627 4.627 0 0 1 0 6.542l-5.364 5.365A4.601 4.601 0 0 1 10 19.99Zm0-18.73a3.353 3.353 0 0 0-2.386.988L2.25 7.614a3.374 3.374 0 0 0 0 4.772l5.366 5.366a3.46 3.46 0 0 0 4.772 0l5.365-5.366a3.374 3.374 0 0 0 0-4.772L12.386 2.25A3.35 3.35 0 0 0 10 1.26Zm3.92 10.258c.066.112.1.24.1.37a.8.8 0 0 1-.094.35.7.7 0 0 1-.633.375.83.83 0 0 1-.387-.105c-.2-.116-1.033-.734-2.5-1.852.219 1.75.328 2.734.328 2.953.02.238-.043.476-.176.674a.651.651 0 0 1-.539.217c-.476 0-.714-.289-.714-.867 0-.242.11-1.226.328-2.953l-.364.27c-1.192.905-1.902 1.425-2.128 1.558a.85.85 0 0 1-.4.105.739.739 0 0 1-.715-.727.72.72 0 0 1 .1-.369.748.748 0 0 1 .287-.276c.234-.133 1.187-.547 2.86-1.242-1.67-.694-2.623-1.107-2.859-1.24a.859.859 0 0 1-.287-.282.673.673 0 0 1-.1-.352.681.681 0 0 1 .094-.363.756.756 0 0 1 .27-.287.658.658 0 0 1 .351-.1.829.829 0 0 1 .4.117c.226.134.937.653 2.132 1.56l.364.268c-.22-1.726-.328-2.706-.328-2.94a1.039 1.039 0 0 1 .175-.663.653.653 0 0 1 .54-.217.649.649 0 0 1 .544.217c.13.204.19.444.17.685 0 .22-.11 1.2-.328 2.942 1.462-1.116 2.295-1.734 2.5-1.852a.829.829 0 0 1 .4-.117c.124 0 .246.034.351.1.114.07.207.17.27.287a.68.68 0 0 1 .094.363.673.673 0 0 1-.1.352.86.86 0 0 1-.287.281c-.2.118-1.145.532-2.836 1.242l.844.363c1.047.438 1.711.731 1.992.88.117.064.214.16.281.275Z"></path>`,"0 0 20 20","nsfw-language-outline");const{svg:s}=e.g();var n=e.d(s`<path d="M17.626 1.744a2.255 2.255 0 0 0-1.482-.912 2.228 2.228 0 0 0-2.568 1.7l-.824 3.506-1.139-4.19A2.277 2.277 0 0 0 7.525 1.2a2.028 2.028 0 0 0-.274 1.567L8 5.987a2.095 2.095 0 0 0-.436-.046h-.221a2.124 2.124 0 0 0-1.916 1.22 2.111 2.111 0 0 0-1.084-.307h-.218A2.128 2.128 0 0 0 2 8.979v4.247a6.863 6.863 0 0 0 7.034 6.625l.685.008h.007c.019 0 .036-.01.056-.011a6.851 6.851 0 0 0 6.893-6.618v-2.95L17.97 3.3a2.038 2.038 0 0 0-.344-1.556ZM6.469 8.979v-.913a.874.874 0 0 1 .874-.874h.219a.875.875 0 0 1 .874.874v1.276a2.34 2.34 0 0 0-.778.923c-.21.459-.257.975-.135 1.464h-.18a.875.875 0 0 1-.874-.875V8.979Zm-3.218 0a.876.876 0 0 1 .874-.874h.218a.876.876 0 0 1 .874.874v2.788a.876.876 0 0 1-.874.875h-.218a.876.876 0 0 1-.874-.875V8.979Zm6.381 9.626h-.013l-.576-.005a5.661 5.661 0 0 1-5.766-4.888c.267.118.556.18.848.18h.218a2.125 2.125 0 0 0 1.916-1.221 2.1 2.1 0 0 0 1.084.307h.219c.214 0 .426-.034.629-.1.227.214.493.384.783.5l2.673 1.064a.637.637 0 0 0 .232.044.625.625 0 0 0 .231-1.2l-2.674-1.069a1.162 1.162 0 0 1-.662-.638 1 1 0 0 1 .021-.793 1.281 1.281 0 0 1 1.637-.593l4.257 1.694a1.14 1.14 0 0 1 .7.762c.01.022.02.044.032.065v.516a5.614 5.614 0 0 1-5.789 5.375Zm5.674-7.8c-.053-.026-.1-.061-.154-.083L10.9 9.032a2.6 2.6 0 0 0-.951-.182L8.468 2.481a.787.787 0 0 1 .109-.608.97.97 0 0 1 .638-.42.982.982 0 0 1 1.185.7L12.154 8.6l.18.486 1-.054L14.8 2.785a.974.974 0 0 1 1.145-.719 1 1 0 0 1 .66.4.8.8 0 0 1 .137.6l-1.436 7.739Z"></path>`,"0 0 20 20","peace-outline");const o="mod-notes-rail",r=`/svc/shreddit/${o}/r/:subredditName/u/:userName/:subredditId/:userId/:thingId/:triggerSource/:postId`;var i,b;!function(a){a.USERNAME="username",a.USER_HOVER_CARD="user-hover-card"}(i||(i={})),function(a){a.Overview="overview",a.Log="log",a.Posts="posts",a.Comments="comments"}(b||(b={}));const c=[{getButtonText:()=>"Overview",slot:b.Overview},{getButtonText:()=>"Log",slot:b.Log},{getButtonText:()=>"Posts",slot:b.Posts},{getButtonText:()=>"Comments",slot:b.Comments}],m={[a.bD.HelpfulUser]:()=>"Helpful",[a.bD.SolidContributor]:()=>"Good Contributor",[a.bD.SpamWatch]:()=>"Spam Watch",[a.bD.SpamWarning]:()=>"Spam Warning",[a.bD.AbuseWarning]:()=>"Abuse Warning",[a.bD.Ban]:()=>"Ban",[a.bD.BotBan]:()=>"Bot ban",[a.bD.PermaBan]:()=>"Perma ban",[a.bD.UserSummary]:()=>"Summary"};return{M:"mod-notes-rail-loading",N:[{label:()=>"None",icon:()=>""},{label:m[a.bD.HelpfulUser],icon:(a=e.I.Medium,t)=>n({size:a,attributes:{className:t}}),gqlLabel:a.bD.HelpfulUser},{label:m[a.bD.SolidContributor],icon:(a=e.I.Medium,t)=>e.a2({size:a,attributes:{className:t}}),gqlLabel:a.bD.SolidContributor},{label:m[a.bD.SpamWatch],icon:(a=e.I.Medium,t)=>l({size:a,attributes:{className:t}}),gqlLabel:a.bD.SpamWatch},{label:m[a.bD.SpamWarning],icon:(a=e.I.Medium,t)=>e.a3({size:a,attributes:{className:t}}),gqlLabel:a.bD.SpamWarning},{label:m[a.bD.AbuseWarning],icon:(a=e.I.Medium,t)=>e.a3({size:a,attributes:{className:t}}),gqlLabel:a.bD.AbuseWarning}],a:o,b:r,get c(){return b},get d(){return i},e:c,f:20}}));
SML.dm("feedpostclientjsd6421ad5",["shelle48e5956","iconc33661e6","modpostlistclientjsa6825fc7","shredditmedialightboxlistener13c26692","imageobserver51925d1c","partialfeedpostclientjs25890fbe","shredditpostflair5ab36abd","shreddittweetembedc1a19ee2","shredditpubsubpublisher59526190","userhovercardclientjsc70bab8c","authorflaireventhandler1ad78656","modnotesopener281d7fc7","communitystatusbottomsheet7af52cb6","commentlinkpostclientjs115fae0d","headeractionitemchatclientjsb3335fba","contenttags9bd7e916","overflowmenuactionsf8d12b95","distinguishedtags1c4757ea","modlogtakedownpreviewclientjsd3af86b9","agegatestandaloneclientjsb13e879d","shopgallerydatafetcherclientjs777c4af0","numbera5d31186","faceplateshimmer9894306d","index43b39749","contentactionbutton6a45f903","awardcontroller351c7b93","scrolltocomments57babb9e","awards2379b181","awards8d1217c9","rplcoachmark4e17786a","tooltipbaseaa9651a3","utils93db03dd","rplcoachmarkcard5c5498b1","shredditpostsharebutton64b8d78b","expandablesectionheader41e0cfd1","withshared1523f2d","ae18b1320","index192b5d82","keywordsfa9c4196","selectcontroller4c63b3e8","userflairfe275854","postFlair51562697","promotepostactionscontroller30d2105c","translationinterventionmodal407043a2","translationsa30aa3ad","chatmobilexpromoclientjs5e1c145c","appselectorclientjs9964d0b0","TinyGesture26737d23","links22118b0c","v2events64802d88","modverdict58953687","gallery554c6dec","faceplatecarousele02bc9b8","shouldconttruncated81ee171","passwordrecoveryfc50288b","qrcodemodalupsellclientjsbd428344","index751e2b35","rendersavedresponsetemplatebysubredditidb78cebab","followbutton2b20c54e","allchatspagerecommendationsclientjs6f0a19fc","clicklocationtracker6f864270","modnotesf373dea5","faceplatehovercard98735488","faceplatetooltipf30979fb","communitystatustelemetry34dd7aad"],(async(t,e)=>{let a=class extends e.s{constructor(){super(...arguments),this.isTranslationActive=!1,this.isTranslationFetched=!1,this.isOriginalFetched=!0,this.updateTranslationFetchedState=()=>{const t=this.shadowRoot?.querySelector('slot[name="translated"]');this.isTranslationFetched=(t?.assignedNodes().length||0)>0;const e=this.shadowRoot?.querySelector("slot#original");this.isOriginalFetched=(e?.assignedNodes().length||0)>0}}connectedCallback(){super.connectedCallback(),this.updateTranslationFetchedState()}appendTranslation(t){t&&!this.isTranslationFetched&&(t.setAttribute("slot","translated"),this.appendChild(t))}appendOriginalText(t){t&&!this.isOriginalFetched&&(t.removeAttribute("slot"),this.appendChild(t))}render(){const t=this.isTranslationActive&&this.isTranslationFetched;return e.x` <slot id="original" class="${t?"hidden":"contents"}" @slotchange="${this.updateTranslationFetchedState}"></slot> <slot name="translated" class="${t?"contents":"hidden"}" @slotchange="${this.updateTranslationFetchedState}"></slot> `}};a.styles=[t.t],t._([t.n({type:Boolean,attribute:"is-translation-active",reflect:!0})],a.prototype,"isTranslationActive",void 0),t._([t.d()],a.prototype,"isTranslationFetched",void 0),t._([t.d()],a.prototype,"isOriginalFetched",void 0),a=t._([t.e("translatable-text")],a),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&SML.di("./shreddit-post-text-body-a81ad62f.js",import.meta.url,"shredditposttextbodya81ad62f")}));
SML.dm("shredditspoilerd9cdac7e",["shelle48e5956","iconc33661e6"],(async(e,r)=>{let t=class extends r.s{constructor(){super(...arguments),this.revealed=!1,this.blockRevealOnClick=!1}static get styles(){return r.a`.outer{background:var(--color-category-spoiler);border-radius:2px;cursor:pointer;line-height:21px;transition:background ease-out 1s;border:none;padding:0;font:inherit;color:inherit;margin-right:.25rem}.inner{opacity:0;transition:opacity ease-out 1s;margin-right:-.25rem}.revealed.outer{background:0 0}.revealed .inner{opacity:1}`}revealSpoiler(e){this.revealed||e.preventDefault(),this.revealed=!0}handleKeyPress(e){"Enter"!==e.key&&" "!==e.key||this.revealSpoiler(e)}render(){return this.blockRevealOnClick?r.x` <span class="outer"> <span class="inner" aria-hidden="true"> <slot></slot> </span> </span> `:r.x` <span class="outer${this.revealed?" revealed":""}" title="Reveal Spoiler" role="button" @click="${this.revealSpoiler}" @keypress="${this.handleKeyPress}" tabindex="0"> <span class="inner" aria-hidden="${!this.revealed}"> <slot></slot> </span> </span> `}};e._([e.d()],t.prototype,"revealed",void 0),e._([e.n({type:Boolean,attribute:"block-reveal-on-click"})],t.prototype,"blockRevealOnClick",void 0),t=e._([e.e("shreddit-spoiler")],t)}));
SML.dm("shredditdynamicadlink6c4ac877",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(t,e,n)=>{function i(e){e&&t.l.setItem(t.L.AdEvents,JSON.stringify(e))}function r(e){e&&t.l.setItem(t.L.AdUserTargeting,JSON.stringify(e))}const o="noopener nofollow sponsored",s=t.g(e.s);let a=class extends s{constructor(){super(...arguments),this.impressionId="0",this.clickLocation=t.A.UNKNOWN,this.renderAsButton=!1,this.ButtonProps={},this.anchorStyleClass="",this.isOutboundLinkInitialized=!1}static get styles(){return[t.t,t.z("a {\n  color: inherit;\n  text-decoration: none;\n}\nbutton {\n  all: unset;\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  background: transparent;\n  cursor: pointer;\n}\n")]}get effectiveOutboundLink(){const e=this.outboundLinkOverride??(this.outboundLinkUrl||"");return t.cs(e)&&this.metadata?t.ct(e,this.metadata):e}get calculatedTabIndex(){return this.disableKeyboardNav?"-1":""===this.effectiveOutboundLink?"0":void 0}connectedCallback(){super.connectedCallback(),void 0===this.outboundLinkOverride&&(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent(),this.isOutboundLinkInitialized=!0)}updated(t){void 0===this.outboundLinkOverride&&t.has("galleryIndex")&&(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent())}getOutboundLinkUrlFromParent(){const t=n.as(this);if(!t)return;if(void 0===this.galleryIndex)return t.getAttribute("outbound-link-url");const e=t.getAttribute("gallery-items");let i;try{i=JSON.parse(e||"[]")}catch{i=[]}return i[this.galleryIndex]?.outboundUrl}fetchAndUpdateMetadata(){if(!t.cs(this.effectiveOutboundLink))return;const e=n.as(this);if(!e)return;const i=e.getMetadataForPixelEvent(t.cu.CLICK);i&&(this.metadata=i)}handleClick(e){if("auxclick"!==e.type||1===e.button){if(void 0!==this.outboundLinkOverride||this.isOutboundLinkInitialized||(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent(),this.isOutboundLinkInitialized=!0),t.cv(this.effectiveOutboundLink)&&"_blank"===this.target&&t.cw(this.impressionId),this.fetchAndUpdateMetadata(),n.t({el:this,clickLocation:this.clickLocation,galleryIndex:this.galleryIndex}),n.at({el:this,clickLocation:this.clickLocation,outboundUrl:this.effectiveOutboundLink,galleryIndex:this.galleryIndex}),function(e){const n=t=>{try{return t()}catch{return null}};let i=n((()=>new URL(e)));return i||(i=n((()=>new URL(e,location.origin)))),!!i&&"1"===i.searchParams.get(t.cr)}(this.effectiveOutboundLink)){const t=this.closest("shreddit-ad-post");if(!t)return;i({impressionId:this.impressionId,adEvents:t.adEvents,clickRedirectUrl:this.effectiveOutboundLink}),r(t.adUserTargeting)}t.cv(this.effectiveOutboundLink)&&"contextmenu"!==e.type&&t.ci(t.cx)&&(e.preventDefault(),this.fetchAndUpdateMetadata(),window.open(this.effectiveOutboundLink,this.target||"_self"))}}render(){const i=this.effectiveOutboundLink||void 0,r=e.x`<slot></slot>`;if(this.renderAsButton)return t.r({appearance:n.ab()?"secondary":"bordered",children:r,size:t.s.Medium,attributes:{href:i,onclick:this.handleClick,oncontextmenu:this.handleClick,target:this.target,rel:o,className:this.anchorStyleClass},...this.ButtonProps});const s=this.effectiveOutboundLink||"_self"===this.target,a=n.o(this.anchorStyleClass,s?"cursor-pointer":"cursor-default");return e.x`<a class="${a}" href="${e.l(i)}" target="${e.l(this.target)}" tabindex="${e.l(this.calculatedTabIndex)}" @click="${this.handleClick}" @mouseover="${this.fetchAndUpdateMetadata}" @focus="${this.fetchAndUpdateMetadata}" @contextmenu="${this.handleClick}" @auxclick="${this.handleClick}" rel="${o}" role="${i?"link":"button"}" aria-label="${e.l(this.ariaLabel)}"> ${r} </a>`}};return t._([t.n({type:String,attribute:"outbound-link-override",reflect:!0})],a.prototype,"outboundLinkOverride",void 0),t._([t.n({type:String,attribute:"impression-id"})],a.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"click-location"})],a.prototype,"clickLocation",void 0),t._([t.n({type:String,attribute:"post-id"})],a.prototype,"postId",void 0),t._([t.n({type:Number,attribute:"gallery-index",reflect:!0})],a.prototype,"galleryIndex",void 0),t._([t.n({type:String})],a.prototype,"target",void 0),t._([t.n({type:Boolean,attribute:"disable-keyboard-nav"})],a.prototype,"disableKeyboardNav",void 0),t._([t.n({type:Boolean,attribute:"render-as-button"})],a.prototype,"renderAsButton",void 0),t._([t.n({type:Object,attribute:"button-props"})],a.prototype,"ButtonProps",void 0),t._([t.n({type:String,attribute:"anchor-style-class"})],a.prototype,"anchorStyleClass",void 0),t._([t.y("a")],a.prototype,"anchorEl",void 0),t._([t.y("slot")],a.prototype,"slotEl",void 0),t._([t.d()],a.prototype,"outboundLinkUrl",void 0),t._([t.d()],a.prototype,"metadata",void 0),a=t._([t.e("shreddit-dynamic-ad-link")],a),{get S(){return a},a:function(){const e=t.l.getItem(t.L.AdUserTargeting);if(null===e)return null;let n;try{n=JSON.parse(e)}catch{return null}return t.l.removeItem(t.L.AdUserTargeting),n},b:r,g:function(e){const n=t.l.getItem(t.L.AdEvents);if(null===n)return null;let i;try{i=JSON.parse(n)}catch{return null}return i.impressionId!==e?null:(t.l.removeItem(t.L.AdEvents),i)},s:i}}));
SML.dm("activateleadgendialog8ffade1f",["shelle48e5956","iconc33661e6","shredditdynamicadlink6c4ac877"],(async(t,e)=>{let r=class extends e.s{constructor(){super(...arguments),this.postId="",this.impressionId="0",this.clickLocation=t.A.UNKNOWN,this.anchorStyleClass="",this.renderAsButton=!1,this.buttonProps={},this._currGalleryIndex=0,this._currGalleryItemText="",this.handleGalleryNavEvent=t=>{t!==this._currGalleryIndex&&(this._currGalleryIndex=t,this.galleryContent&&(this._currGalleryItemText=this.galleryContent[this._currGalleryIndex]))}}connectedCallback(){super.connectedCallback(),this._currGalleryItemText=this.galleryContent?.[this._currGalleryIndex]}createRenderRoot(){return this}render(){return this.galleryContent&&!this._currGalleryItemText?e.A:e.x` <shreddit-dynamic-ad-link target="_blank" post-id="${this.postId}" impression-id="${this.impressionId}" gallery-index="${this._currGalleryIndex}" click-location="${this.clickLocation}" anchor-style-class="${this.anchorStyleClass}" ?render-as-button="${this.renderAsButton}" .ButtonProps="${this.buttonProps}">${this._currGalleryItemText}</shreddit-dynamic-ad-link>`}};r.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"impression-id"})],r.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"click-location"})],r.prototype,"clickLocation",void 0),t._([t.n({type:String})],r.prototype,"target",void 0),t._([t.n({type:String,attribute:"anchor-style-class"})],r.prototype,"anchorStyleClass",void 0),t._([t.n({type:Boolean,attribute:"render-as-button"})],r.prototype,"renderAsButton",void 0),t._([t.n({type:Object,attribute:"button-props"})],r.prototype,"buttonProps",void 0),t._([t.n({type:Array,attribute:"gallery-content"})],r.prototype,"galleryContent",void 0),t._([t.d()],r.prototype,"_currGalleryIndex",void 0),t._([t.d()],r.prototype,"_currGalleryItemText",void 0),r=t._([t.e("call-to-action-gallery-links")],r);const n=()=>document.getElementById(t.aL);return{a:async({leadGenInfo:e})=>{e&&!n()&&await t.k({name:t.aK})},s:({leadGenInfo:t,postId:e,impressionId:r,onSuccess:i})=>{t&&n()?.showModal({...t,postId:e,impressionId:r,onSuccess:i})}}}));
SML.dm("indexe9f94f78",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d","overflowmenuactionsf8d12b95"],(async(e,i,t,s)=>{const r=e.W(i.s);let n=class extends r{constructor(){super(...arguments),this.id="undefined"}static get styles(){return i.a`:host{display:block}`}connectedCallback(){super.connectedCallback(),this.enableObserver(this.config)}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver()}observerIsIntersectingCallback(i){const t=e.c("io-event-is-intersecting",{id:this.id,details:i});this.dispatchEvent(t)}observerIsNotIntersectingCallback(i){const t=e.c("io-event-is-not-intersecting",{id:this.id,details:i});this.dispatchEvent(t)}render(){return i.x`<slot></slot>`}};e._([e.n({type:String})],n.prototype,"id",void 0),e._([e.n({type:Object})],n.prototype,"config",void 0),n=e._([e.e("shreddit-with-observer-wrapper")],n);const a=new Set(["t3_103b4tl","t3_u1cuyg","t3_103bmpv","t3_xipqoc","t3_xipsi3"]);class o{constructor(i,t){this.isPixelFiringRefactorEnabled=!1,this.impressionTimestamp=0,this.wasEverViewableTimer={fired:!1},this.largeAdFullViewTimer={fired:!1},this.hasDispatchedViewEvent=!1,this.resetTimers=()=>{for(const e of this.pixelTimers.keys())this.clearPixelTimer(e);for(const e of this.continuousTimers.keys())this.unsetContinuousTimer(e);for(const e of this.cumulativeTimers.keys())this.pauseCumulativeTimer(e);this.wasEverViewableTimer.timer&&(clearTimeout(this.wasEverViewableTimer.timer),this.wasEverViewableTimer.timer=void 0),this.largeAdFullViewTimer.timer&&(clearTimeout(this.largeAdFullViewTimer.timer),this.largeAdFullViewTimer.timer=void 0)},this.pixelFiringController=t,this.getFiredRedditPixelsCount=i.getFiredRedditPixelsCount,this.isPixelFiringRefactorEnabled=i.postElement.isPixelFiringRefactorExperimentEnabled,this.postId=i.postId,this.impressionId=i.impressionId,this.postElement=i.postElement,this.galleryItems=i.galleryItems,e.hH.updateEvents({postId:i.postId,impressionId:i.impressionId,events:i.events,galleryItems:i.galleryItems}),this.pixelTimers=new Map,this.cumulativeTimers=new Map,this.continuousTimers=new Map,this.setupUnloadFiring(),this.isProductAd=i.events.some((i=>i.type===e.cu.PRODUCT_CLICK||i.type===e.cu.PRODUCT_IMPRESSION))}setupUnloadFiring(){if(window.addEventListener(e.aS.eventType,(()=>this.handleUnload())),a.has(this.postId)){const i=new URLSearchParams(e.dO.search),t=Number.parseInt(i.get(e.hI)||"");isNaN(t)||window.setTimeout((()=>this.fireUnloadPixel()),t)}}getCumulativeTimes(i){const t=this.updateCumulativeTimer(e.fF.ANY_TOTAL_VIEW_TIME,i),s=this.updateCumulativeTimer(e.fF.FIFTY_TOTAL_VIEW_TIME,i),r=this.updateCumulativeTimer(e.fF.FULL_TOTAL_VIEW_TIME,i),n=this.updateCumulativeTimer(e.fF.EIGHTY_TOTAL_VIEW_TIME,i);return{totalViewTime:t?.cumulativeTime||0,fiftyViewTime:s?.cumulativeTime||0,fullViewTime:r?.cumulativeTime||0,eightyViewTime:n?.cumulativeTime||0}}getContinuousTimes(i){const t=this.updateContinuousTimer(e.fF.ANY_CONTINUOUS_VIEW_TIME,i),s=this.updateContinuousTimer(e.fF.FIFTY_CONTINUOUS_VIEW_TIME,i),r=this.updateContinuousTimer(e.fF.FULL_CONTINUOUS_VIEW_TIME,i),n=this.updateContinuousTimer(e.fF.EIGHTY_CONTINUOUS_VIEW_TIME,i),a=this.updateContinuousTimer(e.fF.THIRTY_CONTINUOUS_VIEW_TIME,i);return{maxAnyViewTime:t?.maxContinuousTime||0,maxFiftyViewTime:s?.maxContinuousTime||0,maxFullViewTime:r?.maxContinuousTime||0,maxEightyViewTime:n?.maxContinuousTime||0,maxThirtyViewTime:a?.maxContinuousTime||0}}getMetadata(i){const t=Date.now(),{totalViewTime:s,fiftyViewTime:r,fullViewTime:n,eightyViewTime:a}=this.getCumulativeTimes(t),{maxAnyViewTime:o,maxFiftyViewTime:l,maxFullViewTime:h,maxEightyViewTime:d,maxThirtyViewTime:u}=this.getContinuousTimes(t),m=this.pixelTimers.get(e.cu.GROUP_M_VIEWABLE)?.fired||i===e.cu.GROUP_M_VIEWABLE,c=i===e.cu.VIEWABLE_IMPRESSION||this.wasEverViewableTimer.fired;i===e.cu.IMPRESSION&&0===this.impressionTimestamp&&(this.impressionTimestamp=t);const E=this.postElement?.getBoundingClientRect(),T=Math.floor(E?.width??0),_=Math.floor(E?.height??0);let I;if(this.isPixelFiringRefactorEnabled)I=this.getFiredRedditPixelsCount?.()||0;else{const i=Object.keys(e.hH.postPixels.get(this.postId)||{}),t=Object.keys(e.hH.postPixels.get(this.impressionId)||{});I=Math.max(i.length,t.length)}const p=new URLSearchParams(e.dO.search).get(e.hJ);return{[e.fF.ANY_TOTAL_VIEW_TIME]:s,[e.fF.FIFTY_TOTAL_VIEW_TIME]:r,[e.fF.EIGHTY_TOTAL_VIEW_TIME]:a,[e.fF.FULL_TOTAL_VIEW_TIME]:n,[e.fF.ANY_CONTINUOUS_VIEW_TIME]:o,[e.fF.FIFTY_CONTINUOUS_VIEW_TIME]:l,[e.fF.THIRTY_CONTINUOUS_VIEW_TIME]:u,[e.fF.EIGHTY_CONTINUOUS_VIEW_TIME]:d,[e.fF.FULL_CONTINUOUS_VIEW_TIME]:h,[e.fF.GLOBAL_COUNT]:I,[e.fF.GROUP_M_VIEWABLE]:m?1:0,[e.fF.AD_LOAD_TIME]:this.impressionTimestamp,[e.fF.TIMESTAMP]:t,[e.fF.WAS_EVER_VIEWABLE]:c?1:0,[e.fF.LARGE_AD_FULL_VIEW]:this.largeAdFullViewTimer.fired?1:0,[e.fF.HEIGHT]:_,[e.fF.WIDTH]:T,[e.fF.SCREEN_HEIGHT]:window.screen.height,[e.fF.SCREEN_WIDTH]:window.screen.width,...null!==p&&{[e.fF.TEST_ID]:p}}}getAdEventDisplayMetadata(){const e=Date.now(),{totalViewTime:i,fiftyViewTime:t,eightyViewTime:s,fullViewTime:r}=this.getCumulativeTimes(e),{maxAnyViewTime:n,maxThirtyViewTime:a,maxFiftyViewTime:o,maxEightyViewTime:l,maxFullViewTime:h}=this.getContinuousTimes(e),d=this.postElement?.getBoundingClientRect(),u=Math.floor(d?.width??0),m=Math.floor(d?.height??0);return{any_total_view_time_ms:Math.floor(i),fifty_total_view_time_ms:Math.floor(t),eighty_total_view_time_ms:Math.floor(s),full_total_view_time_ms:Math.floor(r),any_continuous_view_time_ms:Math.floor(n),thirty_continuous_view_time_ms:Math.floor(a),fifty_continuous_view_time_ms:Math.floor(o),eighty_continuous_view_time_ms:Math.floor(l),full_continuous_view_time_ms:Math.floor(h),height:m,width:u,screen_width:Math.floor(window.screen.width),screen_height:Math.floor(window.screen.height)}}getAdEventVideoMetadata(){}getPixelScalingFields(e){return{encryptedTrackingPayload:this.postElement.encryptedTrackingPayload||"",additionalEventMetadata:this.postElement.additionalEventMetadata?this.postElement.additionalEventMetadata[e||0]:"",impressionId:this.impressionId}}firePixel(i,t){const s=e.hK(i);this.isPixelFiringRefactorEnabled?this.pixelFiringController.firePixel({pixelEventType:i,metadata:this.getMetadata(i),displayMetadata:s?this.getAdEventDisplayMetadata():void 0,videoMetadata:s?this.getAdEventVideoMetadata():void 0,galleryIndex:t}):e.hH.firePixel({pixelEventType:i,postId:this.postId,impressionId:this.impressionId,metadata:this.getMetadata(i),displayMetadata:s?this.getAdEventDisplayMetadata():void 0,videoMetadata:s?this.getAdEventVideoMetadata():void 0,pixelRequestBody:this.getPixelScalingFields(t),galleryIndex:t})}fireClickPixel(){this.firePixel(e.cu.CLICK),this.isProductAd&&this.firePixel(e.cu.PRODUCT_CLICK)}fireUnloadPixel(){this.firePixel(e.cu.UNLOAD)}fireLeadGenerationPixel(){this.firePixel(e.cu.LEAD_GENERATION)}measureViewChange(i){const t=this.postElement?.getBoundingClientRect(),s=Math.floor(t?.width??0),r=Math.floor(t?.height??0),n=r*s,a=n>=242500,o=r>document.documentElement.clientHeight;if(i.intersectionRatio){this.setCumulativeTimer(e.fF.ANY_TOTAL_VIEW_TIME),this.setContinuousTimer(e.fF.ANY_CONTINUOUS_VIEW_TIME),this.measureImpressionPixel(),this.galleryItems?.length?this.measureGalleryItemImpression():this.isProductAd&&this.measureProductImpression(),e.hH.queuePostForUnload(this.postId,this.impressionId,this.isPixelFiringRefactorEnabled,this.getMetadata.bind(this),this.pixelFiringController.firePixel.bind(this),this.getPixelScalingFields.bind(this));const i=this.postElement,t=this.galleryItems;if(!this.hasDispatchedViewEvent&&i&&!i.isBlank){const s=e.c("observe-post-view-ad",{postId:this.postId,post:i,galleryItems:t||[]});this.postElement.dispatchEvent(s),this.hasDispatchedViewEvent=!0}}else this.unsetContinuousTimer(e.fF.ANY_CONTINUOUS_VIEW_TIME),this.pauseCumulativeTimer(e.fF.ANY_TOTAL_VIEW_TIME);if(i.intersectionRatio>=e.hL.LARGE_AD_FULL_VIEW_THRESHOLD?this.setContinuousTimer(e.fF.THIRTY_CONTINUOUS_VIEW_TIME):this.unsetContinuousTimer(e.fF.THIRTY_CONTINUOUS_VIEW_TIME),i.intersectionRatio>=e.hL.VIEWABILITY_THRESHOLD){this.setCumulativeTimer(e.fF.FIFTY_TOTAL_VIEW_TIME),this.setContinuousTimer(e.fF.FIFTY_CONTINUOUS_VIEW_TIME),this.pixelTimers.has(e.cu.VIEWABLE_IMPRESSION)||this.setPixelTimer(e.cu.VIEWABLE_IMPRESSION,1e3),this.wasEverViewableTimer.timer||this.wasEverViewableTimer.fired||(this.wasEverViewableTimer.timer=setTimeout((()=>{this.wasEverViewableTimer.timer&&(this.wasEverViewableTimer.fired=!0,this.wasEverViewableTimer.timer=void 0)}),1e3));const i=this.cumulativeTimers.get(e.fF.FIFTY_TOTAL_VIEW_TIME);i&&(this.pixelTimers.has(e.cu.VENDOR_FULLY_IN_VIEW_5_SECS)||this.setPixelTimer(e.cu.VENDOR_FULLY_IN_VIEW_5_SECS,5e3-i.cumulativeTime),this.pixelTimers.has(e.cu.VENDOR_FULLY_IN_VIEW_15_SECS)||this.setPixelTimer(e.cu.VENDOR_FULLY_IN_VIEW_15_SECS,15e3-i.cumulativeTime))}else this.pixelTimers.has(e.cu.VIEWABLE_IMPRESSION)&&this.clearPixelTimer(e.cu.VIEWABLE_IMPRESSION),this.pixelTimers.has(e.cu.VENDOR_FULLY_IN_VIEW_5_SECS)&&this.clearPixelTimer(e.cu.VENDOR_FULLY_IN_VIEW_5_SECS),this.pixelTimers.has(e.cu.VENDOR_FULLY_IN_VIEW_15_SECS)&&this.clearPixelTimer(e.cu.VENDOR_FULLY_IN_VIEW_15_SECS),this.pauseCumulativeTimer(e.fF.FIFTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(e.fF.FIFTY_CONTINUOUS_VIEW_TIME);i.intersectionRatio>=e.hL.EIGHTY_VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(e.fF.EIGHTY_TOTAL_VIEW_TIME),this.setContinuousTimer(e.fF.EIGHTY_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(e.fF.EIGHTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(e.fF.EIGHTY_CONTINUOUS_VIEW_TIME)),i.intersectionRatio>=e.hL.FULL_VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(e.fF.FULL_TOTAL_VIEW_TIME),this.setContinuousTimer(e.fF.FULL_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(e.fF.FULL_TOTAL_VIEW_TIME),this.unsetContinuousTimer(e.fF.FULL_CONTINUOUS_VIEW_TIME)),i.intersectionRatio<e.hL.VIEWABILITY_THRESHOLD&&this.wasEverViewableTimer.timer&&(clearTimeout(this.wasEverViewableTimer.timer),this.wasEverViewableTimer.timer=void 0);a&&i.intersectionRatio>=e.hL.LARGE_AD_FULL_VIEW_THRESHOLD||i.intersectionRatio>=e.hL.FULL_VIEWABILITY_THRESHOLD?this.largeAdFullViewTimer.timer||this.largeAdFullViewTimer.fired||(this.largeAdFullViewTimer.timer=setTimeout((()=>{this.largeAdFullViewTimer.timer&&(this.largeAdFullViewTimer.fired=!0,this.largeAdFullViewTimer.timer=void 0)}),1e3)):this.largeAdFullViewTimer.timer&&(clearTimeout(this.largeAdFullViewTimer.timer),this.largeAdFullViewTimer.timer=void 0),o?1!==i.intersectionRatio||this.pixelTimers.has(e.cu.GROUP_M_VIEWABLE)?n*i.intersectionRatio<1&&this.pixelTimers.has(e.cu.GROUP_M_VIEWABLE)&&this.clearPixelTimer(e.cu.GROUP_M_VIEWABLE):this.setPixelTimer(e.cu.GROUP_M_VIEWABLE,1e3):i.intersectionRatio>=e.hL.FULL_VIEWABILITY_THRESHOLD?(this.pixelTimers.has(e.cu.GROUP_M_VIEWABLE)||this.setPixelTimer(e.cu.GROUP_M_VIEWABLE,1e3),this.pixelTimers.has(e.cu.VENDOR_FULLY_IN_VIEW)||this.setPixelTimer(e.cu.VENDOR_FULLY_IN_VIEW,100)):(this.pixelTimers.has(e.cu.GROUP_M_VIEWABLE)&&this.clearPixelTimer(e.cu.GROUP_M_VIEWABLE),this.pixelTimers.has(e.cu.VENDOR_FULLY_IN_VIEW)&&this.clearPixelTimer(e.cu.VENDOR_FULLY_IN_VIEW))}clearPixelTimer(e){const i=this.pixelTimers.get(e);i?.timer&&(clearTimeout(i.timer),this.pixelTimers.delete(e))}setPixelTimer(e,i){const t=this.pixelTimers.get(e)?.fired;t||(this.pixelTimers.get(e)?.timer&&this.clearPixelTimer(e),this.pixelTimers.set(e,{timer:setTimeout((()=>{this.pixelTimers.get(e)&&(this.firePixel(e),this.pixelTimers.set(e,{fired:!0,timer:void 0}))}),i)}))}measureUpvote(){this.firePixel(e.cu.UPVOTE)}measureDownvote(){this.firePixel(e.cu.DOWNVOTE)}measureAdReminderRsvp(){this.firePixel(e.cu.ENGAGED_CLICK)}handleClickRedirect(i,t){const s=this.getMetadata(e.cu.CLICK);this.isPixelFiringRefactorEnabled?this.pixelFiringController.fireDebugPixel({pixel:e.ct(i,s),pixelEvent:{url:i,type:e.cu.CLICK,metadata:s},impressionId:this.impressionId,postId:this.postId}):e.hH.fireDebugPixel({pixel:e.ct(i,s),pixelEvent:{url:i,type:e.cu.CLICK,metadata:s},impressionId:this.impressionId,postId:this.postId}),this.isProductAd&&this.firePixel(e.cu.PRODUCT_CLICK,t)}measureImpressionPixel(){this.firePixel(e.cu.IMPRESSION)}measureGalleryItemImpression(i=0){this.firePixel(e.cu.GALLERY_ITEM_IMPRESSION,i),this.isProductAd&&this.firePixel(e.cu.PRODUCT_IMPRESSION,i)}measureProductImpression(){this.firePixel(e.cu.PRODUCT_IMPRESSION)}measureCommentsView(){this.firePixel(e.cu.COMMENTS_VIEW)}measureCommentSubmitted(){this.firePixel(e.cu.COMMENT)}measureCommentUpvote(){this.firePixel(e.cu.COMMENT_UPVOTE)}measureCommentDownvote(){this.firePixel(e.cu.COMMENT_DOWNVOTE)}handleUnload(){e.hH.fireQueuedUnloadPixels()}setCumulativeTimer(e){const i=this.cumulativeTimers.get(e),t=Date.now();if(i&&i.previousDate){const s=t-i.previousDate+i.cumulativeTime;this.cumulativeTimers.set(e,{previousDate:t,cumulativeTime:s})}else this.cumulativeTimers.set(e,{previousDate:t,cumulativeTime:i?.cumulativeTime||0})}updateCumulativeTimer(e,i){const t=this.cumulativeTimers.get(e);if(t&&t.previousDate){const s=i-t.previousDate+(t.cumulativeTime||0);this.cumulativeTimers.set(e,{previousDate:i,cumulativeTime:s})}return this.cumulativeTimers.get(e)}pauseCumulativeTimer(e){const i=this.updateCumulativeTimer(e,Date.now());i&&this.cumulativeTimers.set(e,{previousDate:null,cumulativeTime:i.cumulativeTime||0})}setContinuousTimer(e){const i=this.continuousTimers.get(e),t=Date.now();if(i&&i.previousDate){const s=i.currentContinuousTime+(t-i.previousDate),r=Math.max(s,i.maxContinuousTime);this.continuousTimers.set(e,{previousDate:t,currentContinuousTime:s,maxContinuousTime:r})}else this.continuousTimers.set(e,{previousDate:t,currentContinuousTime:i?.currentContinuousTime||0,maxContinuousTime:i?.maxContinuousTime||0})}updateContinuousTimer(e,i){const t=this.continuousTimers.get(e);if(t&&t.previousDate){const s=t.currentContinuousTime+(i-t.previousDate),r=Math.max(s,t.maxContinuousTime);this.continuousTimers.set(e,{previousDate:i,currentContinuousTime:s,maxContinuousTime:r})}return this.continuousTimers.get(e)}unsetContinuousTimer(e){const i=this.continuousTimers.get(e),t=Date.now();if(i&&i.previousDate){const s=Math.max(i.currentContinuousTime+(t-i.previousDate),i.maxContinuousTime);this.continuousTimers.set(e,{previousDate:null,currentContinuousTime:0,maxContinuousTime:s})}}}function l(e=0){return 1e3*e}class h extends o{get visible(){return!!this.videoIntersectionRatio}get viewable(){return(this.videoIntersectionRatio||0)>=e.hL.VIEWABILITY_THRESHOLD}get currentQuartileState(){switch((this.viewable?1:0)+(this.videoVolume&&this.videoVolume>0?2:0)){case 0:return e.hM.NOT_VISIBLE_NOT_AUDIBLE;case 1:return e.hM.VISIBLE_NOT_AUDIBLE;case 2:return e.hM.AUDIBLE_NOT_VISIBLE;case 3:return e.hM.VISIBLE_AND_AUDIBLE;default:return e.hM.NO_EVENT}}constructor(i,t){super(i,t),this.videoDuration=1/0,this.videoCurrentTime=0,this.seekingInitialized=!1,this.hasSeeked=!1,this.accumulatedWatchedTime=0,this.videoWasFullscreen=!1,this.videoWasVisible=!1,this.quartileState=new Map,this.dimensions=i.dimensions,this.thresholds=e.hN(e.hV)}minTimeRequired({timePercent:e=1/0,time:i=1/0}){const t=Number.isFinite(e)?e*this.videoDuration:1/0,s=Number.isFinite(i)?i:1/0;return Math.min(t,s)}setViewablePixelTimer(e){const i=Date.now(),t=this.pixelTimers.get(e.pixelEvent);if(t?.fired||t?.timer)return;let s=e.time;e.timePercent&&this.videoDuration&&(s=Math.min(this.videoDuration*e.timePercent,e.time));const r=t?.timeLeft?t?.timeLeft:s;this.pixelTimers.set(e.pixelEvent,{timer:setTimeout((()=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0,timer:void 0})}),r),timeLeft:r,lastSetTime:i})}resetViewablePixelTimer(e){const i=this.pixelTimers.get(e.pixelEvent);i?.fired||i&&!i.fired&&this.clearPixelTimer(e.pixelEvent)}pauseViewablePixelTimer(e){const i=this.pixelTimers.get(e.pixelEvent);if(i&&!i?.fired&&void 0!==this.videoCurrentTime&&void 0!==this.videoDuration){const t=Date.now();if(i.timer&&i.lastSetTime){const s=e.time-(t-i.lastSetTime);clearTimeout(i.timer),this.pixelTimers.set(e.pixelEvent,{timeLeft:s})}}}videoStateChange(){this.visible&&!this.videoWasVisible&&(this.videoWasVisible=!0),this.videoPlaying&&(this.updateQuartileState(),this.firePixel(e.cu.VIDEO_STARTED),this.videoVolume&&this.firePixel(e.cu.VIDEO_PLAYED_WITH_SOUND),e.hO.forEach((e=>{this.videoViewabilityStateChange(e)}))),e.hP.forEach((e=>{this.videoWatchedPercentStateChange(e)})),e.hQ.forEach((e=>{this.videoWatchedSecondsStateChange(e)})),this.videoGroupMViewableChange()}videoViewabilityStateChange(e){this.videoIntersectionRatio&&this.videoIntersectionRatio>=e.threshold?this.videoPlaying?this.setViewablePixelTimer(e):this.pauseViewablePixelTimer(e):this.resetViewablePixelTimer({pixelEvent:e.pixelEvent,time:e.time})}videoWatchedPercentStateChange(i){if("number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=i.timePercent&&(i.quartileKey&&!this.quartileState.has(i.quartileKey)&&(i.quartileKey!==e.hR.VIDEO_STATE_Q0||this.videoPlaying)&&this.quartileState.set(i.quartileKey,this.currentQuartileState),e.hS(i)&&this.firePixel(i.pixelEvent))}}updateQuartileState(){e.hP.forEach((e=>{if(e.quartileKey&&"number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=e.timePercent&&e.quartileKey&&!this.quartileState.has(e.quartileKey)&&this.quartileState.set(e.quartileKey,this.currentQuartileState)}}))}videoWatchedSecondsStateChange(e){this.accumulatedWatchedTime>=this.minTimeRequired(e)&&this.firePixel(e.pixelEvent)}setMediaDetails(e){Number.isFinite(e.volume)&&(this.videoVolume=e.muted?0:e.volume),Number.isFinite(e.duration)&&(this.videoDuration=l(e.duration)),Number.isFinite(e.currentTime)&&(this.videoCurrentTime=l(e.currentTime))}updateAccumulatedWatchTime(e){const i=e-this.videoCurrentTime;return this.accumulatedWatchedTime+=i,i}updateThresholds(e){const{visibleThresholds:i}=this.getHiddenAndVisibleThresholds();i.forEach((i=>{this.thresholds[i.key].totalTime+=e,this.thresholds[i.key].currentContinuousTime+=e;const{currentContinuousTime:t,maxContinuousTime:s}=this.thresholds[i.key];t>s&&(this.thresholds[i.key].maxContinuousTime=t)})),this.resetContinuousTimerForHiddenThresholds()}getHiddenAndVisibleThresholds(){const i=[],t=[];return e.hT.forEach((e=>{this.meetsViewabilityRequirements(e)?i.push(e):t.push(e)})),{visibleThresholds:i,hiddenThresholds:t}}resetContinuousTimerForHiddenThresholds(){this.resetContinuousTimerForThresholds(this.getHiddenAndVisibleThresholds().hiddenThresholds)}resetContinuousTimerForThresholds(e){e.forEach((e=>{this.thresholds[e.key].currentContinuousTime=0}))}measureViewChange(i){(i.id===e.hU.IN_FEED_AD_VIDEO||i.id===e.hU.COMMENT_PAGE_AD_VIDEO)&&(this.videoIntersectionRatio=i.intersectionRatio),super.measureViewChange(i),this.videoStateChange(),this.resetContinuousTimerForHiddenThresholds()}measureVideoPlay(e){this.videoPlaying=!0,this.setMediaDetails(e),this.videoStateChange()}measureVideoPause(i){this.videoPlaying=!1,this.setMediaDetails(i),this.videoStateChange(),e.hO.forEach((e=>{this.pauseViewablePixelTimer(e)}))}measureVideoSeek(i){this.hasSeeked=!0,this.seekingInitialized||(this.videoPlaying=!1,this.setMediaDetails(i),e.hO.forEach((e=>{this.resetViewablePixelTimer({pixelEvent:e.pixelEvent,time:e.time})})),this.seekingInitialized=!0)}measureVideoSeeked(e){this.seekingInitialized=!1,this.hasSeeked=!0,this.videoCurrentTime=l(e.currentTime),e.paused||this.measureVideoPlay(e)}measureVolumeChange(i){this.setMediaDetails(i),this.videoStateChange(),i.volume&&!i.muted&&this.videoPlaying&&e.hO.forEach((e=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0})}))}measureFullscreenChange(i){this.videoFullscreen=i.fullscreen,this.videoStateChange(),i.fullscreen&&(this.videoWasFullscreen=!0,this.firePixel(e.cu.VIDEO_PLAYED_EXPANDED),this.videoPlaying&&e.hO.forEach((e=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0})})))}measureVideoTimeUpdate(e){const i=this.updateAccumulatedWatchTime(l(e.currentTime));this.updateThresholds(i),this.videoCurrentTime=l(e.currentTime),this.videoStateChange()}getMetadata(i){const t=super.getMetadata(i),s=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime;return{...t,[e.fG.IS_VIDEO_AD]:1,[e.fG.TOTAL_MRC_VIEWABLE_TIME]:Math.floor(this.thresholds.TOTAL_MRC_VIEWABLE_TIME.totalTime),[e.fG.VIDEO_AD_DURATION]:isFinite(this.videoDuration)?Math.floor(this.videoDuration):0,[e.fG.TOTAL_PLAY_TIME]:Math.floor(this.accumulatedWatchedTime),[e.fG.VOLUME]:Math.floor(100*(this.videoVolume??0)),[e.fG.IS_VISIBLE]:this.visible?1:0,[e.fG.VIDEO_HEIGHT]:this.visible&&this.dimensions?this.dimensions.height:0,[e.fG.TOTAL_AUDIBLE_TIME]:Math.floor(this.thresholds.TOTAL_AUDIBLE_TIME.totalTime),[e.fG.VIDEO_STATE_Q0]:this.quartileState.get(e.hR.VIDEO_STATE_Q0)??e.hM.NO_EVENT,[e.fG.VIDEO_STATE_Q1]:this.quartileState.get(e.hR.VIDEO_STATE_Q1)??e.hM.NO_EVENT,[e.fG.VIDEO_STATE_Q2]:this.quartileState.get(e.hR.VIDEO_STATE_Q2)??e.hM.NO_EVENT,[e.fG.VIDEO_STATE_Q3]:this.quartileState.get(e.hR.VIDEO_STATE_Q3)??e.hM.NO_EVENT,[e.fG.VIDEO_STATE_Q4]:this.quartileState.get(e.hR.VIDEO_STATE_Q4)??e.hM.NO_EVENT,[e.fG.VIDEO_WIDTH]:this.visible&&this.dimensions?this.dimensions.width:0,[e.fG.WAS_FULL_SCREEN]:this.videoWasFullscreen?1:0,[e.fG.HALF_DURATION_80_IN_VIEW_AUDIBLE]:s>=15e3||this.videoDuration&&s>=.5*this.videoDuration?1:0,[e.fG.FULL_IN_VIEW_AUDIBLE_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime),[e.fG.EIGHTY_TOTAL_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.EIGHTY_IN_VIEW_TIME.totalTime),[e.fG.FULL_IN_VIEW_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.totalTime),[e.fG.WAS_FULL_IN_VIEW_1SEC]:this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime>=1e3?1:0,[e.fG.ANY_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.ANY_IN_VIEW_TIME.maxContinuousTime),[e.fG.FIFTY_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.FIFTY_IN_VIEW_TIME.maxContinuousTime),[e.fG.FULL_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime),[e.fG.HAS_SEEKED]:this.hasSeeked?1:0}}getAdEventVideoMetadata(){return{is_video:!0,total_mrc_viewable_time_ms:Math.floor(this.thresholds.TOTAL_MRC_VIEWABLE_TIME.totalTime),video_ad_duration:isFinite(this.videoDuration)?Math.floor(this.videoDuration):0,total_play_time:Math.floor(this.accumulatedWatchedTime),volume:Math.floor(100*(this.videoVolume??0)),total_audible_time:Math.floor(this.thresholds.TOTAL_AUDIBLE_TIME.totalTime),was_full_screen:this.videoWasFullscreen,video_state_q1:(this.quartileState.get(e.hR.VIDEO_STATE_Q1)??e.hM.NO_EVENT).toString(),video_state_q2:(this.quartileState.get(e.hR.VIDEO_STATE_Q2)??e.hM.NO_EVENT).toString(),video_state_q3:(this.quartileState.get(e.hR.VIDEO_STATE_Q3)??e.hM.NO_EVENT).toString(),video_state_q4:(this.quartileState.get(e.hR.VIDEO_STATE_Q4)??e.hM.NO_EVENT).toString(),full_in_view_audible_time_ms:Math.floor(this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime),full_in_view_time_ms:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.totalTime),video_height:this.visible&&this.dimensions?this.dimensions.height:0,video_width:this.visible&&this.dimensions?this.dimensions.width:0,fifty_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.FIFTY_IN_VIEW_TIME.maxContinuousTime),eighty_total_video_view_time_v2_ms:Math.floor(this.thresholds.EIGHTY_IN_VIEW_TIME.totalTime),any_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.ANY_IN_VIEW_TIME.maxContinuousTime),full_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime)}}isAdequatelyInView(e){return!!this.videoFullscreen||(this.videoIntersectionRatio||0)>=e}meetsViewabilityRequirements(e){return this.isAdequatelyInView(e.threshold)&&(!e.playing||this.videoPlaying)&&(!e.withSound||this.videoVolume&&this.videoVolume>0)}videoGroupMViewableChange(){const i=this.dimensions?.height*this.dimensions?.width;let t=this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime;i>=3e5&&(t=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime),t/this.videoDuration>=e.hL.VIEWABILITY_THRESHOLD&&this.firePixel(e.cu.VIDEO_GROUP_M_VIEWABLE)}}const d=(e,{ignoredTags:i=new Set}={})=>{const t=(e=>{const i=window.getComputedStyle(e).borderRadius,t=Number.parseInt(i)/2,s=e.getBoundingClientRect();return document.elementFromPoint(s.left+t,s.top+t)})(e);return{overlappingElement:t,isOverlapped:!(!t||e.isSameNode(t)||e.contains(t)||i.has(t.tagName)||!((e,i)=>{const t=e.getBoundingClientRect(),s=i.getBoundingClientRect();return!(t.top>s.bottom||t.right<s.left||t.bottom<s.top||t.left>s.right)})(e,t))}},u=(e,i)=>{if((e=>{const i=e.getBoundingClientRect();if(i.width*i.height==0)return!0;const t=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight;return i.right<0||i.bottom<0||i.left>t||i.top>s})(e))return 0;const t=e.getBoundingClientRect(),s=i.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=Math.min(r,t.bottom);return Math.max(0,n-s.bottom)/t.height},m="observe-gallery-item-impression",c=(e,i)=>{if(!e||!e.title)return 0;if(!1===e.renderTitleTruncation)return e.title.length;const t=e?.querySelector('[click-location="title"]')?.shadowRoot?.querySelector("a"),s=document.body,r=document.createElement("div");if(r.id="dummyDiv",r.className=t?.className,r.className=r.className.replace(/line-clamp-\d+/,""),r.classList.add("px-md"),i||(r.classList.add("font-normal"),r.classList.add("text-14")),r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",r.style.visibility="hidden",s?.appendChild(r),r.style.width=t?.clientWidth+"px",r.textContent=e.title,r.offsetHeight<=t?.offsetHeight)return r?.remove(),e.title.length;let n=0;r.textContent="…";for(let i=0;i<e.title.length;i++){const s=e.title?.slice(0,i+1);if(r.textContent=s+"…",r.offsetHeight>t?.offsetHeight)break;n+=1}return r?.remove(),n},E=({postId:i,post:s,galleryItems:r,page_request_id:n,adsCorrelationId:a})=>{const o=s?.querySelector(`[click-location=${e.A.MEDIA}]`);let l;o&&(l=o.getBoundingClientRect());const h={post:{id:i,subreddit_id:s?.subredditId,subreddit_name:s?.subredditPrefixedName,author_id:s?.authorId,promoted:!0,title:s?.postTitle||s?.title,domain:s?.domain,nsfw:s?.nsfw,number_comments:s?.commentCount,type:s?.postType,created_timestamp:e.gk(s?.createdTimestamp||""),spoiler:s?.spoiler,url:s?.outboundLinkUrl},ad_metadata:{impression_id:s?.impressionId||"",placement:t.cP({post:s}),ad_correlation_id:a},feed:e.hW(),action_info:{page_request_id:n},screen:{height:window.screen.height,width:window.screen.width}};s&&t.cQ(s)&&(h.action_info||(h.action_info={}),h.action_info.position=s.feedIndex,h.screen||(h.screen={}),h.screen={},h.screen.view_type=e.hX(s.viewType));const d=r&&r.length>0||!1;if(s&&t.cR(s)&&(h.view_stats={characters_displayed:c(s,d)},h.parent={post_id:s?.parentElement?.querySelector("shreddit-post")?.id},h.action_info||(h.action_info={}),h.action_info.position=(i=>{if(i.shouldTrackPosition&&!i.isBlank)return i.placement===e.b1.COMMENTS_PAGE?0:[...document.querySelectorAll('shreddit-comments-page-ad[placement="comments_page"], shreddit-comments-page-ad[placement="comment_trees"], shreddit-comment[depth="0"]')].findIndex((e=>e.id===i.id))||void 0})(s)),r&&r.length>0){const e=r.map((e=>e.media?.id||""));h.gallery={num_items:r.length,media_ids:e,id:r[0].id},h.media={id:r[0].media?r[0].media.id:"",width:r[0].media?r[0].media.width:0,height:r[0].media?r[0].media.height:0}}else l&&(h.media={id:i,height:Math.round(l?.height),width:Math.round(l?.width)});return e.b(e.hY,h)},T=i=>i.map((i=>{const t=e.cu[i.type];return{...i,type:t}}));class _{constructor(i){this.firedPixels=new Set,this.firedRedditPixels=new Set,this.firePixel=({pixelEventType:e,metadata:i,galleryIndex:t,displayMetadata:s,videoMetadata:r})=>{const n=this.postEvents?.get(e)||[];if(this.host.galleryItems){const i=this.getGalleryUrls(e,t)||[];n.push(...i)}const a=this.getPixelScalingFields(t);return this.firePixelsFromEvents({pixelEvents:n,metadata:i,pixelRequestBody:a,displayMetadata:s,videoMetadata:r})},this.fireDebugPixel=i=>{const t=e.c("pixelFired",i);window.dispatchEvent(t)},this.firePixelsFromEvents=({pixelEvents:e,metadata:i,pixelRequestBody:t,displayMetadata:s,videoMetadata:r})=>{const n=[];return e.forEach((e=>{const a=this.firePixelRequest({pixelEvent:e,metadata:i,pixelRequestBody:t,displayMetadata:s,videoMetadata:r});a&&n.push(a)})),n},this.firePixelRequest=({pixelEvent:i,metadata:t,pixelRequestBody:s,displayMetadata:r,videoMetadata:n})=>{if(this.hasPixelAlreadyFired(i,s))return;let a;return e.hZ(this.host,"queued",i),e.h_(i)?a=e.h$({pixelEvent:i,metadata:t,pixelRequestBody:s,target:this.host}):(a=e.i0(i,t,this.host),e.cs(i.url)||i.type!==e.cu.IMPRESSION||e.i1(this.deviceType)),e.hK(i.type)&&e.i2({pixelEvent:i,impressionId:this.host.impressionId,displayMetadata:r,videoMetadata:n,pixelRequestBody:s,target:this.host}),a&&(this.firedPixels.add(a),(e.h_(i)||e.cs(a))&&this.firedRedditPixels.add(a)),e.h_(i)?this.fireDebugPixel({pixel:e.i3(i,s),pixelEvent:{encryptedTrackingId:i.encryptedTrackingId,type:i.type,metadata:t},encryptedTrackingPayload:s.encryptedTrackingPayload,additionalEventMetadata:s.additionalEventMetadata,postId:this.host.postId,impressionId:this.host.impressionId}):this.fireDebugPixel({pixel:i.url,pixelEvent:{url:i.url,type:i.type,metadata:e.cs(i.url)?t:void 0},postId:this.host.postId,impressionId:this.host.impressionId}),a},this.hasPixelAlreadyFired=(i,t)=>e.h_(i)?this.firedPixels.has(e.i3(i,t)):this.firedPixels.has(i.url),this.deviceType=document.querySelector("shreddit-app")?.deviceType||e.D.MOBILE,this.host=i,this.host.addController(this)}hostConnected(){const i=T(this.host.adEvents);this.postEvents=e.i4(i),this.host.galleryItems&&(this.galleryEvents=this.host.galleryItems.map((i=>e.i4(T(i.adEvents||[])))))}get firedRedditPixelsCount(){return this.firedRedditPixels.size}getPixelScalingFields(e){return{encryptedTrackingPayload:this.host.encryptedTrackingPayload||"",additionalEventMetadata:this.host.additionalEventMetadata?this.host.additionalEventMetadata[e||0]:"",impressionId:this.host.impressionId}}getGalleryUrls(i,t){const s=void 0===t&&i===e.cu.IMPRESSION,r=s?0:t;if(void 0===r)return;const n=s?e.cu.GALLERY_ITEM_IMPRESSION:i;return this.galleryEvents?.[r]&&this.galleryEvents[r].get(n)||[]}}const I=Symbol("mixins/with-ad-observer"),p=new Set(["SHREDDIT-APP","FACEPLATE-PARTIAL"]);const v="visibleClassnames",g="hiddenClassnames";var f=Object.freeze({__proto__:null,ToggleableVideoAdController:class{constructor(i,t){this.expandVideoPlayer=()=>{this.toggleElVisibility(this.videoPlayerEl,!0),this.toggleElVisibility(this.thumbnailContainerEl,!1),this.toggleElVisibility(this.thumbnailImageEl,!1),this.toggleElVisibility(this.thumbnailPlayBtnEl,!1),setTimeout((()=>{this.shredditPlayer&&this.updateVideoAdMeasurerDimensions(this.shredditPlayer.offsetHeight,this.shredditPlayer.offsetWidth)}),300)},this.hideVideoPlayer=()=>{this.toggleElVisibility(this.videoPlayerEl,!1),this.toggleElVisibility(this.thumbnailContainerEl,!0),this.toggleElVisibility(this.thumbnailImageEl,!0),this.toggleElVisibility(this.thumbnailPlayBtnEl,!0),this.shredditPlayer?.mediaUI?.hasAttribute(e.ig.PLAYING)&&this.host.dispatchEvent(new CustomEvent(e.i8,{detail:{currentTime:this.shredditPlayer?.videoElement.currentTime,duration:this.shredditPlayer?.videoElement.duration}}))},(this.host=i).addController(this),this.updateVideoAdMeasurerDimensions=t}get videoPlayerEl(){return this.host.querySelector(".toggleable-video-player-element")}get videoPlayerCloseBtnEl(){return this.host.querySelector(".toggleable-video-player-close-btn")}get thumbnailContainerEl(){return this.host.querySelector(".thumbnail-video-toggle-container")}get thumbnailImageEl(){return this.host.querySelector(".thumbnail-image-video-toggle")}get thumbnailPlayBtnEl(){return this.host.querySelector(".thumbnail-playback-action-circle")}get shredditPlayer(){return this.host.querySelector("shreddit-player-2")}toggleElVisibility(e,i){if(null===e)return;const t=i?e.dataset[g]:e.dataset[v];t&&t?.split(" ").forEach((i=>{e.classList.remove(i)}));const s=i?e.dataset[v]:e.dataset[g];s&&s?.split(" ").forEach((i=>{e.classList.add(i)}))}async hostConnected(){this.host.adType===e.b0.VIDEO&&(this.thumbnailContainerEl?.addEventListener("click",this.expandVideoPlayer),this.videoPlayerCloseBtnEl?.addEventListener("click",this.hideVideoPlayer))}hostDisconnected(){this.host.adType===e.b0.VIDEO&&(this.thumbnailContainerEl?.removeEventListener("click",this.expandVideoPlayer),this.videoPlayerCloseBtnEl?.removeEventListener("click",this.hideVideoPlayer))}}});return{C:"product-carousel-item",G:"gallery-images-container",O:m,W:function(i){const t=e.g(i);if(e.ea(t,I))return t;class r extends t{constructor(){super(...arguments),this.eventController=new e.E(this),this.pubsub=new e.P(this),this.isPixelFiringRefactorEnabled=!1,this.isOverlapped=!1,this.isVideo=!1,this.isGallery=!1,this.visibilityChangeHandler=this.onVisibilityChange.bind(this),this.isAdObserved=!1,this.onCommentCreated=()=>{this.adMeasurer?.measureCommentSubmitted()},this.onCommentUpvoted=()=>{this.adMeasurer?.measureCommentUpvote()},this.onCommentDownvoted=()=>{this.adMeasurer?.measureCommentDownvote()},this.onHideAd=({impressionId:e,action:i})=>{this.impressionId===e&&i===s.a.hide&&this.adMeasurer?.resetTimers()},this.checkAndMeasureIfAdIsBeingOverlapped=e.aB((()=>{if(!this.postElement||!this.postElement.isConnected)return;const{hidden:e}=this.getHiddenAndVisibilityChangeForDocument();if(document[e])return void this.measureOutOfViewChange();const{isOverlapped:i,overlappingElement:t}=d(this.postElement,{ignoredTags:p});if(i&&t){this.isOverlapped=!0;const e={intersectionRatio:u(this.postElement,t)};this.adMeasurer?.measureViewChange(e),this.lastIOEvent=e}else this.isOverlapped&&(this.isOverlapped=!1,this.measureBackInViewChange())}),30),this.handleIntersectingEvent=this.eventController.define("io-event-is-intersecting",(e=>{this.isIntersectingChange(e)})),this.handleNotIntersectingEvent=this.eventController.define("io-event-is-not-intersecting",(e=>{this.isIntersectingChange(e)})),this.updateViewChangeDetails=e=>{this.lastIOEvent=e,e.intersectionRatio>0&&(this.lastVisibleIOEvent=e)},this.measureOutOfViewChange=()=>{const e={intersectionRatio:0};if(this.isVideo){const i=this.querySelector("shreddit-with-observer-wrapper")?.id;i&&(e.id=i)}this.adMeasurer?.measureViewChange(e),this.updateViewChangeDetails(e)},this.measureBackInViewChange=()=>{if(this.lastVisibleIOEvent){const e={...this.lastVisibleIOEvent};if(this.isVideo){const i=this.querySelector("shreddit-with-observer-wrapper")?.id;i&&(e.id=i)}this.adMeasurer?.measureViewChange(e),this.updateViewChangeDetails(e)}},this.handleAnalyticEvent=this.eventController.define("track-event",(i=>{const t=i.detail.details;if(t.post?.id!==this.postId)return;const{source:s,action:r,noun:n}=t;if("gallery"===s&&this.isGallery){if("forward"!==n&&"backward"!==n)return;const e="forward"===n?this.galleryIndex+1:this.galleryIndex-1;if(e<0||e>=this.galleryItemLength)return;this.galleryIndex=e,this.adMeasurer?.measureGalleryItemImpression(this.galleryIndex),this.lastIOEvent&&this.adMeasurer?.measureViewChange(this.lastIOEvent)}if("post_detail"===s&&"click"===r)switch(n){case"upvote_comment":this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.COMMENT_UPVOTE):this.adMeasurer?.measureCommentUpvote();break;case"downvote_comment":this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.COMMENT_DOWNVOTE):this.adMeasurer?.measureCommentDownvote();break;case"submit_comment":this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.COMMENT):this.adMeasurer?.measureCommentSubmitted()}if("post"===s&&"click"===r)switch(n){case"comments":this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.COMMENTS_VIEW):this.adMeasurer?.measureCommentsView();break;case"upvote":this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.UPVOTE):this.adMeasurer?.measureUpvote();break;case"downvote":this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.DOWNVOTE):this.adMeasurer?.measureDownvote()}"event_post"===s&&"click"===r&&"rsvp"===n&&(this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.ENGAGED_CLICK):this.adMeasurer?.measureAdReminderRsvp())})),this.handlePostViewAdEvent=this.eventController.define("observe-post-view-ad",(i=>{const t=i.detail.post,{postId:s,galleryItems:r}=i.detail,n=e.cX();this.trackEvent(E({postId:s,post:t,galleryItems:r,page_request_id:n,adsCorrelationId:t.adsCorrelationId}))})),this.handleAdClickEvent=this.eventController.define("observe-ad-click",(i=>{const{postId:t,impressionId:s,outboundUrl:r,galleryIndex:n}=i.detail;if(t!==this.postId&&s!==this.impressionId)return;e.cv(r)&&(this.adMeasurer?.handleClickRedirect(r,n),this.fireAnalyticsEventForClickRedirect({outboundUrl:r,impressionId:s,galleryIndex:n}));const a=n??this.galleryIndex;this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.CLICK,a):this.adMeasurer?.firePixel(e.cu.CLICK,a)})),this.handleLeadGenSubmissionEvent=this.eventController.define(e.dR,(i=>{this.isPixelFiringRefactorEnabled?this.firePixel(e.cu.LEAD_GENERATION):this.adMeasurer?.fireLeadGenerationPixel()}))}getMetadataForPixelEvent(e){return this.adMeasurer?.getMetadata(e)}enableAdObserver(i){try{if(this.isAdObserved)return;const{adType:t,...s}=i;this.postId=i.postId,this.impressionId=i.impressionId,this.postElement=i.postElement,this.isVideo=t===e.b0.VIDEO,Array.isArray(i.galleryItems)&&(this.isGallery=!0,this.galleryIndex=0,this.galleryItemLength=i.galleryItems.length),this.overlappingObserver=new MutationObserver(this.checkAndMeasureIfAdIsBeingOverlapped),this.isPixelFiringRefactorEnabled=i.postElement.isPixelFiringRefactorExperimentEnabled,this.pixelFiringController=new _(i.postElement),s.getFiredRedditPixelsCount=()=>this.pixelFiringController?.firedRedditPixelsCount||0,this.adMeasurer=this.isVideo?new h(s,this.pixelFiringController):new o(s,this.pixelFiringController),this.isVideo&&this.setupVideoEvents(),this.isGallery&&this.setupGalleryEvents(),this.isAdObserved=!0,this.impressionId||this.fireInitializationErrorMetricEvent("missing_impression_id")}catch(e){window.Sentry?.captureException?.(`enableAdObserver | ${e.stack}`),this.fireInitializationErrorMetricEvent("exception")}}connectedCallback(){super.connectedCallback(),this.setupVisibilityTracking(),this.pubsub.subscribe(e.T.AdUpdated,this.onHideAd),this.postElement&&this.postElement.isPDP&&(this.pubsub.subscribe(e.T.CommentCreated,this.onCommentCreated),this.pubsub.subscribe(e.T.CommentUpvoted,this.onCommentUpvoted),this.pubsub.subscribe(e.T.CommentDownvoted,this.onCommentDownvoted))}disconnectedCallback(){super.disconnectedCallback(),this.teardownVisibilityTracking(),this.pubsub.unsubscribe(e.T.AdUpdated,this.onHideAd),this.postElement&&this.postElement.isPDP&&(this.pubsub.unsubscribe(e.T.CommentCreated,this.onCommentCreated),this.pubsub.unsubscribe(e.T.CommentUpvoted,this.onCommentUpvoted),this.pubsub.unsubscribe(e.T.CommentDownvoted,this.onCommentDownvoted)),this.measureOutOfViewChange()}firePixel(i,t){if(!this.adMeasurer||!this.pixelFiringController)return;const s=e.hK(i);this.pixelFiringController.firePixel({pixelEventType:i,metadata:this.adMeasurer.getMetadata(i),displayMetadata:s?this.adMeasurer.getAdEventDisplayMetadata():void 0,videoMetadata:s?this.adMeasurer.getAdEventVideoMetadata():void 0,galleryIndex:t})}measureOutOfViewChangeIgnoringPrompts(e){e.relatedTarget&&this.measureOutOfViewChange()}onVisibilityChange(){const{hidden:e}=this.getHiddenAndVisibilityChangeForDocument();this.lastIOEvent&&(document[e]?this.measureOutOfViewChange():this.measureBackInViewChange())}setupVisibilityTracking(){const{visibilityChange:e}=this.getHiddenAndVisibilityChangeForDocument();document.addEventListener(e,this.visibilityChangeHandler),window.addEventListener("blur",this.measureOutOfViewChangeIgnoringPrompts),window.addEventListener("focus",this.measureBackInViewChange),this.overlappingObserver?.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}teardownVisibilityTracking(){const{visibilityChange:e}=this.getHiddenAndVisibilityChangeForDocument();document.removeEventListener(e,this.visibilityChangeHandler),window.removeEventListener("blur",this.measureOutOfViewChangeIgnoringPrompts),window.removeEventListener("focus",this.measureBackInViewChange),this.overlappingObserver?.disconnect()}isIntersectingChange(e){const{details:i,id:t}=e.detail,s={id:t,intersectionRatio:i.intersectionRatio};this.updateViewChangeDetails(s),this.adMeasurer?.measureViewChange(s),(i.intersectionRatio||this.isOverlapped)&&this.checkAndMeasureIfAdIsBeingOverlapped()}getHiddenAndVisibilityChangeForDocument(){let i=e.i5.Standard,t=e.i6.hidden;return void 0!==document.hidden?(i=e.i5.Standard,t=e.i6.hidden):void 0!==document.webkitHidden&&(i=e.i5.Webkit,t=e.i6.webkitHidden),{hidden:i,visibilityChange:t}}setupVideoEvents(){this.handleVideoFullscreenEvent=this.eventController.define(e.i7,(e=>{this.adMeasurer?.measureFullscreenChange(e.detail)})),this.handleVideoPauseEvent=this.eventController.define(e.i8,(e=>{this.adMeasurer?.measureVideoPause(e.detail)})),this.handleVideoPlayEvent=this.eventController.define(e.i9,(e=>{this.adMeasurer?.measureVideoPlay(e.detail)})),this.handleVideoVolumeEvent=this.eventController.define(e.ia,(e=>{this.adMeasurer?.measureVolumeChange(e.detail)})),this.handleVideoSeekingEvent=this.eventController.define(e.ib,(e=>{e.detail.fromReconnect||this.adMeasurer?.measureVideoSeek(e.detail)})),this.handleVideoSeekedEvent=this.eventController.define(e.ic,(e=>{e.detail.fromReconnect||this.adMeasurer?.measureVideoSeeked(e.detail)})),this.handleVideoTimeUpdateEvent=this.eventController.define(e.id,(e=>{setTimeout((()=>{this.adMeasurer?.measureVideoTimeUpdate(e.detail)}))}))}setupGalleryEvents(){this.handleGalleryItemImpressionEvent=this.eventController.define(m,(e=>{const{postId:i,itemIndex:t}=e.detail;i===this.postId&&this.adMeasurer?.measureGalleryItemImpression(t)}))}fireAnalyticsEventForClickRedirect({outboundUrl:i,impressionId:t,galleryIndex:s}){e.hK(e.cu.CLICK)&&this.adMeasurer&&this.postElement&&e.i2({target:this.postElement,pixelEvent:{type:e.cu.CLICK,url:i},impressionId:t,pixelRequestBody:this.adMeasurer.getPixelScalingFields(s),displayMetadata:this.adMeasurer.getAdEventDisplayMetadata(),videoMetadata:this.adMeasurer.getAdEventVideoMetadata()})}fireInitializationErrorMetricEvent(i){const t=e.ie({name:"shreddit_ad_init_failure",value:1,label_values:[`error_type,${i}`,`post_id,${this.postId}`,`impression_id,${this.impressionId}`]}),s=e.c("track-event",{details:t});this.postElement?.dispatchEvent(s)}}return r[I]=!0,r},e:T,get i(){return f}}}));
SML.dm("shredditadpost67940715",["shelle48e5956","iconc33661e6","activateleadgendialog8ffade1f","shredditdynamicadlink6c4ac877","indexe9f94f78","contentactionbutton6a45f903","partialfeedpostclientjs25890fbe","links22118b0c","agegatestandaloneclientjsb13e879d","gallery554c6dec","clicklocationtracker6f864270","shopgallerydatafetcherclientjs777c4af0"],(async(t,e,i,s,n,a,r,o,d,l)=>{const h=[t.A.BACKGROUND,t.A.PROMOTED_LABEL,t.A.CREDIT_BAR_WHITESPACE,t.A.TITLE,t.A.TEXT_BODY,t.A.ACTION_BAR_WHITESPACE];class c{constructor(t){this._currGalleryIndex=0,this.handleGalleryNavEvent=t=>{const{detail:{details:e}}=t,{noun:i,action:s,source:n,post:a}=e;a?.id===this.host.postId&&"gallery"===n&&"click"===s&&("forward"===i&&this._currGalleryIndex+1<this.host.galleryItems.length&&this._currGalleryIndex++,"backward"===i&&this._currGalleryIndex-1>=0&&this._currGalleryIndex--,this.host.querySelectorAll("call-to-action-gallery-links").forEach((t=>t.handleGalleryNavEvent(this._currGalleryIndex))),this.host.querySelectorAll("shreddit-dynamic-ad-link").forEach((t=>{h.includes(t.clickLocation)&&(t.galleryIndex=this._currGalleryIndex)})))},(this.host=t).addController(this)}hostConnected(){this.host.galleryItems?.length&&this.host.addEventListener("track-event",this.handleGalleryNavEvent)}hostDisconnected(){this.host.removeEventListener("track-event",this.handleGalleryNavEvent)}}class p{constructor(t){(this.host=t).addController(this)}hostConnected(){this.host.impressionId||this.host.hasAdEvents||(this.hydrateAdEventsFromStorage(),this.hydrateAdUserTargetingFromStorage(),this.host.hasAdEvents&&(this.updateDynamicLinkUrls(),this.host.setupAdObserver()))}updateDynamicLinkUrls(){this.host.querySelectorAll("shreddit-dynamic-ad-link").forEach((e=>{const i="/"===e.outboundLinkOverride?.charAt(0),s=!!this.host.galleryItems,n=!!this.host.isReminderAd;i||n||!s&&e.outboundLinkOverride===t.dN||(e.outboundLinkOverride=this.host.galleryItems?this.host.galleryItems[e.galleryIndex??0]?.outboundUrl:this.host.outboundLinkUrl)}))}hydrateAdEventsFromStorage(){const e=new URL(t.dO.href).searchParams.get(t.dP);this.host.impressionId=e||"";const i=s.g(this.host.impressionId);i&&(this.host.adEvents=i.adEvents,this.host.outboundLinkUrl=i.clickRedirectUrl,this.host.galleryItems&&i.galleryAdData&&(this.host.galleryItems=i.galleryAdData?.map(((t,e)=>({...(this.host.galleryItems||[])[e],adEvents:t.adEvents,outboundUrl:t.clickRedirectUrl})))),this.host.encryptedTrackingPayload=i.encryptedTrackingPayload,this.host.additionalEventMetadata=i.additionalEventMetadata)}hydrateAdUserTargetingFromStorage(){const t=s.a();t&&(this.host.adUserTargeting=t)}}const u=n.W(r.S);let m=class extends u{constructor(){super(...arguments),this.adEvents=[],this.impressionId="0",this.isBlank=!1,this.isCommentingDisabled=!1,this.isSharingDisabled=!1,this.isSurveyAd=!1,this.isPromotedCommunityPost=!1,this.isReminderAd=!1,this.placement=t.b1.FEED,this.isPixelFiringRefactorExperimentEnabled=!1,this.shouldFetchBusinessId=!1,this.AdPostHydrationController=new p(this),this.AdPostGalleryLinksController=new c(this),this.pubSub=new t.P(this),this._trackAdClick=this._events.define("observe-ad-click",(async e=>{const s=this.postType===t.dQ.Image,n=this.postType===t.dQ.Video,a=n&&this.viewType!==t.al.CompactView&&e.detail.clickLocation!==t.A.MEDIA,r=n&&this.viewType===t.al.CompactView;(s||r||a)&&(await this._activateLeadGenDialog(),i.s({leadGenInfo:this.leadGenInfo,postId:this.id,impressionId:this.impressionId,onSuccess:()=>this.dispatchEvent(t.c(t.dR))}))})),this.onAdUpdateAction=({action:t,impressionId:e})=>{"hide"===t&&e===this.impressionId&&(this.hidden=!0)},this.checkTextBodySize=t=>{t[0].target.clientHeight>0&&(this.hideTextPostContentOverflow(),this.textResizeObserver.disconnect())}}static get styles(){return[...super.styles,t.z(":host {\n  position: relative;\n}\n.ad-link-bar {\n  grid-column: 1 / 13;\n  height: 40px;\n  border-top: transparent;\n}\n.meta-row {\n  grid-column: 1 / 4;\n}\n.grid-template-col-inherit {\n  grid-template-columns: inherit;\n}\n")]}_activateLeadGenDialog(){return i.a({leadGenInfo:this.leadGenInfo})}get hasAdEvents(){return this.adEvents?.length>0}handleCarouselArrowClick(t){t.preventDefault();const e=t;l.h(this,e,this.impressionId)}async connectedCallback(){super.connectedCallback(),this.pubSub.subscribe(t.T.AdUpdated,this.onAdUpdateAction),this.setupAdObserver();const e=this.querySelector(`#${this.id}-post-rtjson-content`);e&&(this.textResizeObserver=new ResizeObserver(this.checkTextBodySize),this.textResizeObserver.observe(e)),await this.fetchAdBusinessId()}setupAdObserver(){!this.isAdObserved&&this.hasAdEvents&&this.enableAdObserver({postElement:this,events:n.e(this.adEvents),postId:this.id,impressionId:this.impressionId,adType:this.adType,dimensions:this.dimensions,galleryItems:this.galleryItems?.map((t=>({...t,adEvents:n.e(t.adEvents||[])})))})}disconnectedCallback(){this.pubSub.unsubscribe(t.T.AdUpdated,this.onAdUpdateAction),this.textResizeObserver?.disconnect(),super.disconnectedCallback()}handleView(t,e){super.handleView(t,e,this.galleryItems?.length)}handleShareClick(){if(this.isSharingDisabled){const e=t.c("faceplate-alert",{level:t.x.notice,message:"Sharing has been disabled for this post"});this.dispatchEvent(e)}else this.handleShareButtonInteraction()}handleClickCommentsButton(e){if(this.isSurveyAd)super.handleClickCommentsButton(e);else if(this.isCommentingDisabled){const e=t.c("faceplate-alert",{level:t.x.notice,message:"Comments have been disabled for this post"});this.dispatchEvent(e)}else this.isFeed?(s.s({impressionId:this.impressionId,adEvents:this.adEvents,clickRedirectUrl:this.outboundLinkUrl,galleryAdData:this.galleryItems?.map((t=>({adEvents:t.adEvents,clickRedirectUrl:t.outboundUrl}))),encryptedTrackingPayload:this.encryptedTrackingPayload,additionalEventMetadata:this.additionalEventMetadata}),s.b(this.adUserTargeting),this.trackEvent(o.n(this))):super.handleClickCommentsButton(e)}renderCommentsButton(){if(this.isCommentingDisabled)return e.x`${a.c({size:this.defaultActionButtonSize,appearance:d.ab()?"bordered":"secondary",attributes:{type:"button",className:this.defaultActionButtonClassnames,onclick:this.handleClickCommentsButton,name:"comments-action-button","data-post-click-location":t.dS.COMMENTS_BUTTON},leadingIcon:e.a8({attributes:{className:"icon-comment","aria-hidden":"true"},size:a.I[this.defaultActionButtonSize]}),screenReaderContent:"comments",children:e.x`<faceplate-number number="${this.commentCount}" pretty></faceplate-number>`})}`;{const e=new URL(this.permalink,window.location.origin);return e.searchParams.set(t.cr,"1"),e.searchParams.set(t.dP,this.impressionId),this.leadGenInfo?.campaignId&&e.searchParams.set(t.dT,this.leadGenInfo.campaignId),this.videoAdLoopingExperiment&&e.searchParams.set(t.dU,this.videoAdLoopingExperiment),this.isPromotedCommunityPost&&e.searchParams.set(t.dV,this.postId),this.permalink=e.pathname+e.search,super.renderCommentsButton()}}renderShareButton(){if(this.isSharingDisabled){const t="Share";return e.x`${a.c({size:this.defaultActionButtonSize,appearance:d.ab()?"bordered":"secondary",attributes:{type:"button",onclick:this.handleShareClick,onkeydown:this.handleShareClick,className:this.defaultActionButtonClassnames},leadingIcon:e.a$({attributes:{className:"icon-share","aria-hidden":"true"},size:a.I[this.defaultActionButtonSize]}),screenReaderContent:t,children:t})}`}return this.shareButtonSSR=!1,super.renderShareButton()}renderHiddenPost(){return e.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> Ad hidden </p> </div> </div> `}renderActionRow(){return this.isSurveyAd?e.x``:super.renderActionRow()}render(){return this.hidden?this.renderHiddenPost():e.x` <shreddit-with-observer-wrapper id="in-feed-ad" .config="${{threshold:t.b2}}"> ${this.isBlank?null:super.render()} </shreddit-with-observer-wrapper>`}async fetchAdBusinessId(){if(!this.shouldFetchBusinessId||this.adBusinessId||!this.postId)return;const t=await d.K(this.postId);t&&(this.adBusinessId=t)}};t._([t.n({type:String,attribute:"post-id"})],m.prototype,"postId",void 0),t._([t.n({type:Array,attribute:"ad-events",reflect:!0})],m.prototype,"adEvents",void 0),t._([t.n({type:Array,attribute:"gallery-items",reflect:!0})],m.prototype,"galleryItems",void 0),t._([t.n({type:Object,attribute:!0})],m.prototype,"dimensions",void 0),t._([t.n({type:String,attribute:"ad-type"})],m.prototype,"adType",void 0),t._([t.n({type:String,attribute:"outbound-link-url",reflect:!0})],m.prototype,"outboundLinkUrl",void 0),t._([t.n({type:String,attribute:"impression-id",reflect:!0})],m.prototype,"impressionId",void 0),t._([t.n({type:Object,attribute:"ad-user-targeting",reflect:!0})],m.prototype,"adUserTargeting",void 0),t._([t.n({type:String,attribute:"video-ad-looping-experiment",reflect:!0})],m.prototype,"videoAdLoopingExperiment",void 0),t._([t.n({type:Boolean,attribute:"is-blank"})],m.prototype,"isBlank",void 0),t._([t.n({type:Boolean,attribute:"is-commenting-disabled"})],m.prototype,"isCommentingDisabled",void 0),t._([t.n({type:Boolean,attribute:"is-sharing-disabled"})],m.prototype,"isSharingDisabled",void 0),t._([t.n({type:Boolean,attribute:"is-survey-ad"})],m.prototype,"isSurveyAd",void 0),t._([t.n({type:Boolean,attribute:"is-promoted-community-post"})],m.prototype,"isPromotedCommunityPost",void 0),t._([t.n({type:Boolean,attribute:"is-reminder-ad"})],m.prototype,"isReminderAd",void 0),t._([t.n({type:String,attribute:"country-code"})],m.prototype,"countryCode",void 0),t._([t.n({type:String,attribute:"placement"})],m.prototype,"placement",void 0),t._([t.n({type:Object,attribute:"lead-gen-info"})],m.prototype,"leadGenInfo",void 0),t._([t.n({type:String,attribute:"campaign-id"})],m.prototype,"campaignId",void 0),t._([t.n({type:String,attribute:"encrypted-tracking-payload"})],m.prototype,"encryptedTrackingPayload",void 0),t._([t.n({type:Array,attribute:"additional-event-metadata"})],m.prototype,"additionalEventMetadata",void 0),t._([t.n({type:String,attribute:"ad-transparency-encoded-data"})],m.prototype,"adTransparencyEncodedData",void 0),t._([t.n({type:Boolean,attribute:"pixel-firing-refactor-experiment-enabled"})],m.prototype,"isPixelFiringRefactorExperimentEnabled",void 0),t._([t.n({type:String,attribute:"ads-correlation-id"})],m.prototype,"adsCorrelationId",void 0),t._([t.n({type:String,attribute:"ad-business-id",reflect:!0})],m.prototype,"adBusinessId",void 0),t._([t.n({type:Boolean,attribute:"should-fetch-business-id"})],m.prototype,"shouldFetchBusinessId",void 0),m=t._([t.e("shreddit-ad-post")],m)}));
SML.dm("adreminderbutton7b02359f",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d","overflowmenuactionsf8d12b95"],(async(e,t,i,s)=>{var n;!function(e){e.Scheduled="scheduled",e.Live="live",e.Ended="ended",e.Unavailable="unavailable"}(n||(n={}));let a=class extends t.s{constructor(){super(...arguments),this.isReminderSet=!1,this.eventState=n.Scheduled,this.postId="",this.permalink="",this.pdpTarget="_self",this.isPdp=!1,this.isLoggedIn=!1,this.shouldFireEngagedClick=!1,this.requestInProgress=!1,this.handleClickCancelReminder=()=>{this.shouldFireEngagedClick&&this.dispatchEvent(new Event(s.E,{bubbles:!0})),this.cancelReminder()},this.cancelReminder=async()=>{this.isReminderSet=!1;if(await this.updatePostReminderState(e.bN.NoReminder)){const t=e.c("faceplate-alert",{level:e.x.notice,message:"Reminder cancelled"});this.dispatchEvent(t)}else{this.isReminderSet=!0;const e="Failed to cancel reminder";this.dispatchErrorAlert(e)}},this.handleClickSetReminder=async()=>{this.shouldFireEngagedClick&&this.dispatchEvent(new Event(s.b,{bubbles:!0})),this.isLoggedIn?await this.setReminder():this.dispatchEvent(e.c(e.aD.follow))},this.setReminder=async()=>{this.isReminderSet=!0;if(await this.updatePostReminderState(e.bN.Reminder)){const t=e.c("faceplate-alert",{level:e.x.success,message:"Reminder set"});this.dispatchEvent(t),this.pubsub?.publish(e.T.AMAPostRsvpSubscribe,{postId:this.postId})}else{this.isReminderSet=!1;const e="Failed to set reminder";this.dispatchErrorAlert(e)}},this.updatePostReminderState=async t=>{this.requestInProgress=!0;const i=await e.B({operation:e.O.UpdatePostReminderState,variables:{input:{postId:this.postId,reminderState:t}}});return this.requestInProgress=!1,!!i.data.updatePostReminderState?.ok}}connectedCallback(){super.connectedCallback(),this.pubsub=new e.P(this)}dispatchErrorAlert(t){const i=e.c("faceplate-alert",{level:e.x.error,cause:"uncategorized",message:t});this.dispatchEvent(i)}getButtonAttributes(){const e=this.eventState===n.Live;return e&&this.isPdp?null:e&&!this.isPdp?{text:"Join Now",appearance:"primary",href:this.permalink,target:this.pdpTarget}:this.isReminderSet&&!e?{action:this.handleClickCancelReminder,text:"Reminder set",appearance:i.ab()?"secondary":"bordered"}:this.isReminderSet||e?null:{action:this.handleClickSetReminder,text:"Remind me",appearance:i.ab()?"bordered":"secondary"}}render(){if(this.eventState===n.Ended)return t.x``;const i=this.getButtonAttributes();if(!i)return t.x``;const{appearance:s,action:a,text:r,href:d,target:o}=i,l=e.r({appearance:s,attributes:{className:"relative",onclick:a,id:"",href:d,target:o,disabled:this.requestInProgress},size:e.s.Small,children:r});return t.x`${l}`}};a.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-reminder-set",reflect:!0})],a.prototype,"isReminderSet",void 0),e._([e.n({type:String,attribute:"event-state"})],a.prototype,"eventState",void 0),e._([e.n({type:String,attribute:"post-id"})],a.prototype,"postId",void 0),e._([e.n({type:String})],a.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"pdp-target"})],a.prototype,"pdpTarget",void 0),e._([e.n({type:Boolean,attribute:"is-pdp"})],a.prototype,"isPdp",void 0),e._([e.n({type:Boolean,attribute:"is-logged-in"})],a.prototype,"isLoggedIn",void 0),e._([e.n({type:Boolean,attribute:"should-fire-engaged-click"})],a.prototype,"shouldFireEngagedClick",void 0),e._([e.d()],a.prototype,"requestInProgress",void 0),a=e._([e.e("ad-reminder-button")],a)}));
SML.dm("feedadclientjs75e47368",["shredditspoilerd9cdac7e","shredditadpost67940715","adreminderbutton7b02359f","shelle48e5956","iconc33661e6","activateleadgendialog8ffade1f","shredditdynamicadlink6c4ac877","agegatestandaloneclientjsb13e879d","clicklocationtracker6f864270","shopgallerydatafetcherclientjs777c4af0","numbera5d31186","indexe9f94f78","overflowmenuactionsf8d12b95","distinguishedtags1c4757ea","contentactionbutton6a45f903","partialfeedpostclientjs25890fbe","modlogtakedownpreviewclientjsd3af86b9","faceplateshimmer9894306d","index43b39749","awardcontroller351c7b93","scrolltocomments57babb9e","awards2379b181","awards8d1217c9","headeractionitemchatclientjsb3335fba","tooltipbaseaa9651a3","utils93db03dd","rplcoachmark4e17786a","rplcoachmarkcard5c5498b1","modpostlistclientjsa6825fc7","contenttags9bd7e916","shredditpostsharebutton64b8d78b","expandablesectionheader41e0cfd1","withshared1523f2d","ae18b1320","index192b5d82","keywordsfa9c4196","selectcontroller4c63b3e8","userflairfe275854","postFlair51562697","promotepostactionscontroller30d2105c","translationinterventionmodal407043a2","translationsa30aa3ad","chatmobilexpromoclientjs5e1c145c","appselectorclientjs9964d0b0","TinyGesture26737d23","links22118b0c","v2events64802d88","modverdict58953687","gallery554c6dec","faceplatecarousele02bc9b8","shouldconttruncated81ee171","passwordrecoveryfc50288b","qrcodemodalupsellclientjsbd428344","index751e2b35"],(async()=>{"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&SML.di("./shreddit-post-text-body-a81ad62f.js",import.meta.url,"shredditposttextbodya81ad62f")}));
SML.dm("chatchannelfeedelementclientjs4d536740",["shelle48e5956","iconc33661e6","allchatspagerecommendationsclientjs6f0a19fc","agegatestandaloneclientjsb13e879d"],(async(e,t)=>{var s;!function(e){e.NONE="NONE",e.VIEWED="VIEWED",e.DISMISSED="DISMISSED"}(s||(s={}));const i="data-chat-feed-element-dismiss",n="data-chat-feed-element-clickable",a="click";let l=class extends(e.W(t.s)){constructor(){super(...arguments),this.consumptionState=s.NONE,this.uxtsVariant="chat_channel_unit_in_home_feed_scc",this.isRecommended=!1,this.isMultiChat=!1,this.onDismiss=t=>{const s=this.nextElementSibling;s&&"HR"===s.nodeName&&this.parentElement?.removeChild(s),this.parentNode?.removeChild(this),t.stopPropagation(),e.a6(e.a8.Dismiss,e.a7.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})},this.onChatFeedElementClick=()=>{e.a6(e.a8.Click,e.a7.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})}}connectedCallback(){super.connectedCallback(),this.isMultiChat?this.uxtsVariant="chat_channel_unit_in_home_feed_multiple":this.isRecommended&&(this.uxtsVariant="chat_channel_unit_in_home_feed_scc_and_ucc"),this.enableObserver(),this.addDismissHandlers(),this.addClickHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver(),this.removeDismissHandlers(),this.removeClickHandlers()}addDismissHandlers(){this.querySelector(`[${i}]`)?.addEventListener(a,this.onDismiss)}removeDismissHandlers(){this.querySelector(`[${i}]`)?.removeEventListener(a,this.onDismiss)}addClickHandlers(){this.querySelector(`[${n}]`)?.addEventListener(a,this.onChatFeedElementClick)}removeClickHandlers(){this.querySelector(`[${n}]`)?.removeEventListener(a,this.onChatFeedElementClick)}observerIsIntersectingCallback(){this.consumptionState===s.NONE&&(this.consumptionState=s.VIEWED,e.a6(e.a8.View,e.a7.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant}))}render(){return t.x`<slot></slot>`}};l.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-recommended"})],l.prototype,"isRecommended",void 0),e._([e.n({type:Boolean,attribute:"is-multi-chat"})],l.prototype,"isMultiChat",void 0),l=e._([e.e("chat-feed-element-wrapper")],l)}));
SML.dm("zoomableimgd46c7c63",["shelle48e5956","agegatestandaloneclientjsb13e879d","iconc33661e6"],(async(e,t,i)=>{let s=class extends i.s{constructor(){super(...arguments),this.zoomedIn=!1,this.disabled=!1,this.media=null,this._events=new e.E(this),this._click=this._events.define("click",this.onClick),this.fullImageWidth=0,this.fullImageHeight=0,this.checkMediaSize=()=>{this.media?.complete&&(this.fullImageWidth=this.media.naturalWidth,this.fullImageHeight=this.media.naturalHeight,this.disabled=this.fullImageWidth<=this.clientWidth&&this.fullImageHeight<=this.clientHeight,this.zoomedIn=!this.disabled&&this.zoomedIn)},this.checkMediaSizeDebounced=e.aB(this.checkMediaSize,100)}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.media=this.querySelector("img"),this.media&&this.media.addEventListener("load",this.checkMediaSize,{once:!0}),requestAnimationFrame(this.checkMediaSize),window.addEventListener("resize",this.checkMediaSizeDebounced)}firstUpdated(){this.checkMediaSize()}onClick(e){if(this.media&&e.target===this.media&&!this.disabled){let t=0,i=0;if(!this.zoomedIn){const s=this.media.getBoundingClientRect(),l=e.clientX-s.left,h=e.clientY-s.top,a=l/s.width*100,o=h/s.height*100;i=this.fullImageWidth*a/100-this.clientWidth/2,t=this.fullImageHeight*o/100-this.clientHeight/2}this.zoomedIn=!this.zoomedIn,requestAnimationFrame((()=>{this.scrollTo({top:t,left:i})}))}}render(){this.media&&this.media.setAttribute("class",this.getChildClassList()),this.setAttribute("class",this.getClasslist())}getClasslist(){return t.o("flex",this.zoomedIn?"fixed top-0 left-0 w-screen h-screen overflow-auto":"w-full h-full justify-center items-center overflow-hidden")}getChildClassList(){return t.o("z-1",this.disabled?"max-h-full max-w-full":this.zoomedIn?"max-w-none max-h-none m-auto cursor-zoom-out":"max-h-full max-w-full object-contain cursor-zoom-in")}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.checkMediaSizeDebounced),this.zoomedIn=!1}};e._([e.d()],s.prototype,"zoomedIn",void 0),e._([e.d()],s.prototype,"disabled",void 0),s=e._([e.e("zoomable-img")],s)}));