SML.di("./faceplate-search-input-c5d66775.js",import.meta.url,"faceplatesearchinputc5d66775");SML.di("./shell-e48e5956.js",import.meta.url,"shelle48e5956");SML.di("./icon-c33661e6.js",import.meta.url,"iconc33661e6");SML.di("./base-bec934cd.js",import.meta.url,"basebec934cd");SML.di("./text-input-9c3f45be.js",import.meta.url,"textinput9c3f45be");SML.di("./community-picker-f331f77f.js",import.meta.url,"communitypickerf331f77f");SML.di("./age-gate-standalone-client-js-b13e879d.js",import.meta.url,"agegatestandaloneclientjsb13e879d");SML.di("./constants-9e09f052.js",import.meta.url,"constants9e09f052");SML.di("./utils-57a7018c.js",import.meta.url,"utils57a7018c");SML.di("./qr-code-modal-upsell-client-js-bd428344.js",import.meta.url,"qrcodemodalupsellclientjsbd428344");SML.di("./search-typeahead-expandable-section-9f20cf7a.js",import.meta.url,"searchtypeaheadexpandablesection9f20cf7a");SML.di("./search-telemetry-tracker-71747e0d.js",import.meta.url,"searchtelemetrytracker71747e0d");SML.di("./post-consume-tracker-ba161fe0.js",import.meta.url,"postconsumetrackerba161fe0");SML.di("./links-22118b0c.js",import.meta.url,"links22118b0c");SML.di("./index-4d32cdc8.js",import.meta.url,"index4d32cdc8");SML.di("./unicode-utils-36cdbab7.js",import.meta.url,"unicodeutils36cdbab7");SML.di("./shreddit-spoiler-d9cdac7e.js",import.meta.url,"shredditspoilerd9cdac7e");SML.di("./search-helpers-8a0eaca6.js",import.meta.url,"searchhelpers8a0eaca6");SML.di("./search-dynamic-id-594f3691.js",import.meta.url,"searchdynamicid594f3691");SML.di("./expandable-section-header-41e0cfd1.js",import.meta.url,"expandablesectionheader41e0cfd1");SML.di("./ad-event-tracker-34dfd729.js",import.meta.url,"adeventtracker34dfd729");SML.di("./index-e9f94f78.js",import.meta.url,"indexe9f94f78");SML.di("./overflow-menu-actions-f8d12b95.js",import.meta.url,"overflowmenuactionsf8d12b95");SML.di("./distinguished-tags-1c4757ea.js",import.meta.url,"distinguishedtags1c4757ea");SML.di("./shreddit-dynamic-ad-link-6c4ac877.js",import.meta.url,"shredditdynamicadlink6c4ac877");SML.di("./suggested-search-queries-client-js-5da0e903.js",import.meta.url,"suggestedsearchqueriesclientjs5da0e903");SML.di("./faceplate-expandable-section-helper-4260ec3a.js",import.meta.url,"faceplateexpandablesectionhelper4260ec3a");SML.di("./faceplate-auto-height-animator-fe421cec.js",import.meta.url,"faceplateautoheightanimatorfe421cec");SML.di("./content-tags-9bd7e916.js",import.meta.url,"contenttags9bd7e916");SML.di("./pdp-seeker-5f445c59.js",import.meta.url,"pdpseeker5f445c59");
SML.dm("searchinputdesktopclientjse4fe283e",["shelle48e5956","iconc33661e6","basebec934cd","faceplatesearchinputc5d66775","textinput9c3f45be","communitypickerf331f77f","agegatestandaloneclientjsb13e879d","constants9e09f052","utils57a7018c","qrcodemodalupsellclientjsbd428344","searchtypeaheadexpandablesection9f20cf7a","searchtelemetrytracker71747e0d","postconsumetrackerba161fe0","links22118b0c","index4d32cdc8","unicodeutils36cdbab7","shredditspoilerd9cdac7e","searchhelpers8a0eaca6","searchdynamicid594f3691","expandablesectionheader41e0cfd1","adeventtracker34dfd729","indexe9f94f78","overflowmenuactionsf8d12b95","distinguishedtags1c4757ea","shredditdynamicadlink6c4ac877","suggestedsearchqueriesclientjs5da0e903","faceplateexpandablesectionhelper4260ec3a","faceplateautoheightanimatorfe421cec","contenttags9bd7e916","pdpseeker5f445c59"],(async(e,t,s)=>{class r{constructor(t){this.onKeyDown=e=>{const t="Escape"===e.key,s="Tab"===e.key,r=Boolean(s&&this.host.shadowRoot&&this.host.input&&this.host.shadowRoot.activeElement===this.host.input),o=s&&!e.shiftKey;t&&e.preventDefault(),(t||r||o)&&this.host.handleBlur()},this.getKeyboardNavigableDropdownItems=()=>{const t=`[role="menuitem"],summary[aria-controls*="${e.gR}"]`,s=[];return[this.host.suggestedSearchResultsContainer,this.host.recentSearchesContainer,this.host.trendingSearchesContainer,this.host.typeaheadResultsContainer].forEach((e=>{if(!e)return;e.querySelectorAll(t).forEach((e=>{const t=null!==e.offsetParent&&e.offsetHeight>0,r="SUMMARY"===e.tagName,o=e.closest("faceplate-expandable-section-helper");t&&(r||!o||o.open)&&s.push(e)}))})),s},this.handleRecentSearchTabKeyNavigation=e=>{const t=e.target.querySelector(".recent-search-item-delete-button");e.shiftKey&&e.target.className.includes("recent-search-item-delete-button")?(e.target.closest('[role="menuitem"]')?.focus(),e.preventDefault(),e.stopPropagation()):!e.shiftKey&&t&&(t.focus(),e.preventDefault(),e.stopPropagation())},this.handleDropdownKeyDown=e=>{const t=e.target?.closest(`#${s.a}`);if("Tab"===e.key&&t)this.handleRecentSearchTabKeyNavigation(e);else if("ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();const t=e.target,s=this.getKeyboardNavigableDropdownItems();let r=-1;s.forEach(((e,s)=>{e===t&&(r=s)}));const o="ArrowDown"===e.key?r+1:r-1,a=r>=0&&r<s.length?s[o]:void 0;a?a.focus():this.focusSearchInputWithArrowKeys()}},this.host=t}hostConnected(){this.host.addEventListener("keydown",this.onKeyDown)}hostDisconnected(){this.host.removeEventListener("keydown",this.onKeyDown)}handleKeyDown(e){if(!["ArrowDown","ArrowUp"].includes(e.key))return;e.preventDefault();const t=this.getKeyboardNavigableDropdownItems();0!==t.length&&("ArrowDown"===e.key?t[0].focus():"ArrowUp"===e.key&&t[t.length-1].focus())}focusSearchInputWithArrowKeys(){const e=this.host.input?.shadowRoot?.querySelector("input");e?.focus();const t=e?.value.length;t&&e?.setSelectionRange(t,t)}}let o=class extends s.R{constructor(){super(...arguments),this.handleDropdownKeyDown=e=>{super.handleDropdownKeyDown(e),this.keyboardNavigationController?.handleDropdownKeyDown(e)}}handleFocus(){super.handleFocus(),this.keyboardNavigationController||(this.keyboardNavigationController=new r(this),this.addController(this.keyboardNavigationController))}handleKeyDown(e){super.handleKeyDown(e),this.keyboardNavigationController?.handleKeyDown(e)}render(){return t.x` <div class="flex w-100"> <div class="reddit-search-bar rounded-5 flex-1 box-border ${e.U({"shadow-sm":this.isFocused,"bg-neutral-background-strong":this.isFocused,"bg-secondary-background":!this.isFocused})}" data-faceplate-tracking-context="${JSON.stringify(this.searchTelemetryData)}"> <div class="${e.U({"pb-[.5rem]":this.showDropdown&&!this.isSearchScopeEnabled,"pb-xs":this.showDropdown&&this.isSearchScopeEnabled,"border-b-sm":this.showDropdown,"border-t-0":this.showDropdown,"border-r-0":this.showDropdown,"border-l-0":this.showDropdown,"border-solid":this.showDropdown,"border-neutral-border-weak":this.showDropdown})}"> <form autocomplete="off" class="flex relative items-center text-neutral-content-strong" @submit="${this.handleSubmit}"> ${this.renderSearchInput(!0)} </form> </div> <div class="max-h-[calc(100vh-var(--shreddit-header-height)-15px-10px)] overflow-y-auto overflow-x-hidden m-t ${e.U({hidden:!this.showDropdown})}" id="${s.S}"> ${this.renderDropdownContent(!0)} </div> </div> ${this.renderShowFiltersEntryPoint()} </div> `}};o=e._([e.e("reddit-search-large")],o)}));