SML.di("./shell-e48e5956.js",import.meta.url,"shelle48e5956");SML.di("./icon-c33661e6.js",import.meta.url,"iconc33661e6");SML.di("./age-gate-standalone-client-js-b13e879d.js",import.meta.url,"agegatestandaloneclientjsb13e879d");SML.di("./render-toast-5ba1c1f2.js",import.meta.url,"rendertoast5ba1c1f2");SML.di("./banned-user-banner-client-js-81a6c148.js",import.meta.url,"banneduserbannerclientjs81a6c148");SML.di("./TinyGesture-26737d23.js",import.meta.url,"TinyGesture26737d23");
SML.dm("alertcontrollerclientjs96e8685e",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d","rendertoast5ba1c1f2","TinyGesture26737d23","banneduserbannerclientjs81a6c148"],(async(e,t,n,s,a)=>{let i=class extends t.s{constructor(){super(...arguments),this.isVisible=!1,this.alertMessage="",this.isDevelopment=!1,this.appearance="plain",this.openBanner=t=>{const n=t;this.alert=n.detail;const{level:s=e.x.none}=this.alert,a="Server error. Try again later.",i=this.alert?.content??this.alert?.message??a;switch(s){case e.x.emergency:case e.x.alert:case e.x.critical:case e.x.error:this.appearance="error";break;case e.x.warning:case e.x.notice:this.appearance="caution";break;case e.x.success:this.appearance="success";break;default:this.appearance="plain"}const r=`Multiple errors occured, including: ${i}`;s<=e.x.success||this.isDevelopment?this.isVisible?this.alertMessage=this.isDevelopment?r:a:(this.alertMessage=i,this.isVisible=!0):this.isVisible=!1},this.closeBanner=()=>{this.isVisible=!1}}connectedCallback(){super.connectedCallback(),this.addEventListener("show-banner",this.openBanner)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("show-banner",this.openBanner)}render(){return t.x`${this.isVisible?t.x`<faceplate-banner class="z-5 pointer-events-auto w-full rounded-none l:rounded-[0.75rem] xl:rounded-[0.75rem] overflow-hidden l:mt-md l:mx-auto l:max-w-[1352px] xl:max-w-[1524px]" appearance="${this.appearance}" shape="square" msg="${t.l(this.alertMessage)}" aria-live="polite" dismissible><div slot="leadingIcon"> ${this.alert?.namedContent?.icon?this.alert.namedContent.icon:t.aH()} </div> <span slot="closeButton"> ${n.ap("error",{"aria-label":"close error button",onclick:this.closeBanner})} </span> </faceplate-banner>`:t.A}<slot></slot>`}};i.styles=[e.t],e._([e.d()],i.prototype,"isVisible",void 0),e._([e.d()],i.prototype,"alertMessage",void 0),i=e._([e.e("banner-controller")],i);let r=class extends t.s{constructor(){super(...arguments),this.ariaLive="polite",this._gesture=new a.T(this,{mouseSupport:!0}),this.handleToast=n=>{const a=n.detail,i={...a,meta:{...a.meta},namedContent:{...a.namedContent}},{level:r,namedContent:o,meta:l}=i;o.action??(o.action=e.r({attributes:{onclick:()=>c.dismiss()},appearance:"plainInverted",leadingIcon:t.C()}));const c=s.r(this,i);r&&r>=e.x.warning&&r<=e.x.success&&!l?.disableAutoDismiss&&window.setTimeout((()=>{c.dismiss()}),l?.duration??4e3),this.appendChild(c)}}static get styles(){return t.a`:host{position:fixed}:host>slot{display:flex;flex-direction:column;gap:var(--spacer-md);align-items:center;position:fixed;left:50%;transform:translateX(-50%);padding:0 1rem;bottom:var(--rem16)}`}connectedCallback(){super.connectedCallback(),this.addEventListener("show-toast",this.handleToast),this._gesture.on("swipeleft",this._onSwipe),this._gesture.on("swiperight",this._onSwipe)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("show-toast",this.handleToast),this._gesture.destroy()}_onSwipe(e){if(e instanceof MouseEvent)return;const t=e.target instanceof HTMLElement?e.target:null,n=t?.closest("faceplate-toast");n instanceof s.F&&n.dismiss()}render(){return t.x`<slot></slot>`}};e._([e.n({type:String,reflect:!0,attribute:"aria-live"})],r.prototype,"ariaLive",void 0),r=e._([e.e("toaster-lite")],r);const o=e.g(t.s);let l=class extends o{constructor(){super(...arguments),this.ariaLive="polite",this.min=e.x.error,this.max=e.x.success,this.BATCH_TIMEOUT=100,this._alertsCtrl=new n.aq(this,{batchWindow:this.BATCH_TIMEOUT,onAlert:n=>{const{level:s=e.x.none}=n;if(n.namedContent=n.namedContent||{},!n.namedContent.icon)switch(s){case e.x.emergency:case e.x.alert:case e.x.critical:case e.x.error:n.namedContent.icon=t.aD({size:t.I.Large});break;case e.x.warning:case e.x.notice:n.namedContent.icon=t.aH({size:t.I.Large})}if("string"==typeof n.namedContent.actionTemplateId){const e=document.querySelector(n.namedContent.actionTemplateId);e&&(n.namedContent.action=e.content.cloneNode(!0))}if(s<=e.x.error)return this._trackEvent(n,"banner"),this.triggerBanner(n);this._trackEvent(n,"toast"),this.triggerToast(n)},isOnline:()=>!0}),this._trackEvent=(t,n)=>{this.trackEvent(e.b({source:"client",action:"record",noun:"alert"},{action_info:{feature:t.sourceElement||"unknown",reason:t.cause||t.message||"unknown",setting_value:`${t.level??"unknown"}`,type:n}}))},this.triggerToast=t=>{this.toaster?.dispatchEvent(e.c("show-toast",t))},this.triggerBanner=t=>{this.bannerController?.dispatchEvent(e.c("show-banner",t))}}connectedCallback(){super.connectedCallback(),this._alertsCtrl.options.min=this.min,this._alertsCtrl.options.max=this.max}render(){return t.x` <banner-controller></banner-controller> <toaster-lite></toaster-lite> `}};l.styles=[t.a`:host{position:fixed;width:100%}`,e.t],e._([e.n({type:String,reflect:!0,attribute:"aria-live"})],l.prototype,"ariaLive",void 0),e._([e.n({attribute:"min",converter:e.cp})],l.prototype,"min",void 0),e._([e.n({attribute:"max",converter:e.cp})],l.prototype,"max",void 0),e._([e.y("banner-controller")],l.prototype,"bannerController",void 0),e._([e.y("toaster-lite")],l.prototype,"toaster",void 0),l=e._([e.e("alert-controller")],l)}));