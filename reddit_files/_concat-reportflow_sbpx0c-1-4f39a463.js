SML.di("./shell-e48e5956.js",import.meta.url,"shelle48e5956");SML.di("./icon-c33661e6.js",import.meta.url,"iconc33661e6");
SML.dm("agegatestandaloneclientjsb13e879d",["shelle48e5956","iconc33661e6"],(async(e,t)=>{const n=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>n(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&n(e.shadowRoot,t))return!0;for(const o of e.querySelectorAll("slot"))if(o.assignedElements().some((e=>n(e,t))))return!0;return!1};const o=new WeakMap;function r(e,t=document){let n=o.get(t);n||(n=new Map,o.set(t,n));let r=n.get(e);return r||(r={key:e},n.set(e,r)),r}const i=Symbol("mixins/pagination"),a=function(t){const n=new WeakMap,o=e.ha();return{getContextKey:(e,t)=>r(e,t),appointLeader(e,r){if(n.has(r)){if(n.get(r).isConnected)throw new Error(`Cannot appoint leader for key "${r.key}" in the same context twice.`)}n.set(r,e);const i=o.getRegisteredElements(r);if(i)for(const n of i)t(e,n)},dismissLeader(e,t){const o=n.get(t);o&&o===e&&n.delete(t)},getLeader:e=>n.get(e),registerFollower(e,r){o.register(r,e);const i=n.get(r);i&&t(i,e)},unregisterFollower(e,t){o.unregister(t,e)},getFollowers:e=>o.getRegisteredElements(e)}}(((e,t)=>{t.syncPagination(e)}));const s=new WeakMap;const l=({selected:n,selectedIcon:o,size:r=e.s.Medium,unselectedIcon:i,...a})=>{const{html:s}=t.g();return e.he({...a,attributes:{...a.attributes},size:r,selected:n,leadingIcon:n?o:i,trailingIcon:s`<span class="inline-flex dropdown-icon ${a.children&&"ml-2xs"}"> ${t.Y({size:r===e.s.Small?t.I.Small:t.I.Medium})} </span>`,dropdown:!0})};function c(e){const t={};return(n,o)=>{const r=((e,t)=>t?e+JSON.stringify(t):e)(n,o);return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=new e(n,o)}}const d=c(Intl.NumberFormat),u=c(Intl.RelativeTimeFormat),h=c(Intl.DateTimeFormat);let m="RelativeTimeFormat"in Intl;const p=6e4;function f(e){const t=Math.abs(e.diff);switch(e.unit){case"minutes":return`${t} min. ago`;case"hours":return`${t} hr. ago`;case"days":return t>1?`${t} days ago`:`${t} day ago`;case"months":return`${t} mo. ago`;case"years":return`${t} yr. ago`;default:!function(e){throw new Error("Unexpected object: "+e)}(e.unit)}}const g=()=>e.v.get(e.kc),b=()=>e.v.get(e.ke),v=t=>t.placement===e.b1.FEED,w=t=>t.placement===e.b1.COMMENTS_PAGE||t.placement===e.b1.COMMENT_TREES,_=({post:t,placement:n})=>t&&w(t)&&t.isPdpCombined?e.b1.COMMENTS_PAGE:n||t?.placement,x=({postId:t,adMedia:n,impressionId:o,post:r,clickLocation:i=e.A.UNKNOWN,galleryIndex:a,page_request_id:s,placement:l})=>{const c={post:{id:t,subreddit_id:r?.subredditId,author_id:r?.authorId,promoted:!0},ad_click:{location:i},ad_metadata:{impression_id:o,placement:_({post:r,placement:l})},feed:e.hW(),action_info:{page_request_id:s}};return r&&v(r)&&(c.action_info||(c.action_info={}),c.action_info.position=r.feedIndex,c.screen||(c.screen={}),c.screen={},c.screen.view_type=e.hX(r.viewType)),r?.galleryItems&&(c.gallery={position:a,num_items:r.galleryItems.length}),r?.countryCode&&(c.geo={country_code:r.countryCode}),n&&(c.media={height:Math.round(n?.height),width:Math.round(n?.width)}),e.b(e.kf,c)},C=t=>{const n=t.closest("shreddit-ad-post")||t.closest("shreddit-comments-page-ad")||t.closest("ad-event-tracker")||t.closest("shreddit-sidebar-ad");if(n)return n;{const n=t.getRootNode(),o=n instanceof ShadowRoot?n.host:null;return o?.tagName===e.kg||o?.tagName===e.kh?o:null}};const y="combined";function E(e){return e.assignedNodes({flatten:!0}).filter((e=>!!(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)))).length>0}function $(e){return void 0===e?e:e.startsWith("selector(")?e.replace(/^selector\(/,"").replace(/\)$/,""):e}function I(e){return{...e,trigger:"object"==typeof e.trigger?S(e.trigger):e.trigger,target:$(e.target),template:$(e.template),triggerElem:$(e.triggerElem)}}function S(e){return"event"in e?e.filters?`event(${e.event}(${JSON.stringify(e.filters)}))`:`event(${e.event})`:"topic"in e?e.filters?`subscribe(${e.topic}(${JSON.stringify(e.filters)}))`:`subscribe(${e.topic})`:""}function M(e){return n=>e(t.x,t.l,n)}const k=M((function(e,t,n){return e`<ac-activate ?once="${(n=I(n)).once}" ?scoped="${n.scoped}" args="${t(n.args?JSON.stringify(n.args):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" name="${n.name.toString()}" query-params="${t(n.queryParams?JSON.stringify(n.queryParams):void 0)}" render-mode="${t(n.renderMode)}" route-params="${t(n.routeParams?JSON.stringify(n.routeParams):void 0)}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-activate>`})),T=M((function(e,t,n){return e`<ac-dispatch ?once="${(n=I(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" detail="${t(n.detail?JSON.stringify(n.detail):void 0)}" event-name="${n.eventName}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-dispatch>`})),N=M((function(e,t,n){return e`<ac-gql-mutate ?once="${(n=I(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" id="${t(n.id)}" operation="${n.operation}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}" variables="${t(n.variables?JSON.stringify(n.variables):void 0)}"></ac-gql-mutate>`}));function L(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var o=e[n];if("*"!==o&&"+"!==o&&"?"!==o)if("\\"!==o)if("{"!==o)if("}"!==o)if(":"!==o)if("("!==o)t.push({type:"CHAR",index:n,value:e[n++]});else{var r=1,i="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--r){s++;break}}else if("("===e[s]&&(r++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=e[s++]}else i+=e[s++]+e[s++];if(r)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=s}else{for(var a="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;a+=e[s++]}if(!a)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:a}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),o=t.prefixes,r=void 0===o?"./":o,i="[^".concat(function(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}(t.delimiter||"/#?"),"]+?"),a=[],s=0,l=0,c="",d=function(e){if(l<n.length&&n[l].type===e)return n[l++].value},u=function(e){var t=d(e);if(void 0!==t)return t;var o=n[l],r=o.type,i=o.index;throw new TypeError("Unexpected ".concat(r," at ").concat(i,", expected ").concat(e))},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};l<n.length;){var m=d("CHAR"),p=d("NAME"),f=d("PATTERN");if(p||f){var g=m||"";-1===r.indexOf(g)&&(c+=g,g=""),c&&(a.push(c),c=""),a.push({name:p||s++,prefix:g,suffix:"",pattern:f||i,modifier:d("MODIFIER")||""})}else{var b=m||d("ESCAPED_CHAR");if(b)c+=b;else if(c&&(a.push(c),c=""),d("OPEN")){g=h();var v=d("NAME")||"",w=d("PATTERN")||"",_=h();u("CLOSE"),a.push({name:v||(w?s++:""),pattern:v&&!w?i:w,prefix:g,suffix:_,modifier:d("MODIFIER")||""})}else u("END")}}return a}function D(e,t){return function(e,t){void 0===t&&(t={});var n=function(e){return e&&e.sensitive?"":"i"}(t),o=t.encode,r=void 0===o?function(e){return e}:o,i=t.validate,a=void 0===i||i,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",o=0;o<e.length;o++){var i=e[o];if("string"!=typeof i){var l=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,d="*"===i.modifier||"+"===i.modifier;if(Array.isArray(l)){if(!d)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(0===l.length){if(c)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var u=0;u<l.length;u++){var h=r(l[u],i);if(a&&!s[o].test(h))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));n+=i.prefix+h+i.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var m=d?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(m))}}else{h=r(String(l),i);if(a&&!s[o].test(h))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));n+=i.prefix+h+i.suffix}}else n+=i}return n}}(L(e,t),t)}const F="subredditName",A=["r","x"],P=A.join("|");const O=t.e(class extends t.i{constructor(){super(...arguments),this.key=t.A}render(e,t){return this.key=e,t}update(e,[n,o]){return n!==this.key&&(t.bN(e),this.key=n),o}});const R={plain:"plain",plainInverted:"plainInverted",error:"destructive",brand:"brand",caution:"plain",success:"success"};const U=e=>!e.hasAttribute("disabled"),z=e=>e.tabIndex=0,B=e=>e.tabIndex=-1,V=e=>0===e.tabIndex&&U(e),H=e=>(z(e),e.focus(),e),j=e=>(B(e),e),q=e=>{for(let t=0;t<e.length;t++){const n=e[t];if(V(n))return[n,t]}return null},G=e=>{for(const t of e)if(U(t))return t;return null},Z=e=>{const t=G(e);return t?H(t):null},W=e=>{const t=(e=>{for(let t=0;t<e.length;t++){const n=e[e.length-1-t];if(U(n))return n}return null})(e);return t?H(t):null},J=Symbol.for("rpl-menu-item");const K={xs:12,sm:16,md:20,lg:24,xl:32,"2xl":48},Q=({path:e,iconName:n,defaultSvgFill:o="currentColor",defaultPathFill:r})=>({className:i,size:a="md",svgFill:s=o,pathFill:l=r}={size:"md",pathFill:r})=>t.x`<svg rpl class="${t.l(i)}" fill="${s}" height="${K[a]}" width="${K[a]}" icon-name="${n}" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> ${e({pathFill:l})} </svg>`,X=Q({iconName:"caret-right-outline",defaultSvgFill:"currentColor",defaultPathFill:void 0,path:({pathFill:e})=>t.e5`<path d="m7.942 15.442-.884-.884L11.616 10 7.058 5.442l.884-.884 5 5a.624.624 0 0 1 0 .884l-5 5Z" fill="${t.l(e)}"></path>`}),Y=Q({iconName:"caret-left-outline",defaultSvgFill:"currentColor",defaultPathFill:void 0,path:e=>t.e5`<path d="m12.058 15.442-5-5a.624.624 0 0 1 0-.884l5-5 .884.884L8.384 10l4.558 4.558-.884.884Z" fill="${t.l(e.pathFill)}"></path>`}),ee=Q({iconName:"checkmark-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M7.5 15.958a1.102 1.102 0 0 1-.778-.322l-5.429-5.429 1.414-1.414L7.5 13.586 17.793 3.293l1.414 1.414L8.278 15.636a1.101 1.101 0 0 1-.778.322Z" fill="${t.l(e.pathFill)}"></path>`}),te=Q({iconName:"checkbox-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M16.375 2H3.625C3.19419 2.00053 2.78117 2.1719 2.47654 2.47654C2.1719 2.78117 2.00053 3.19419 2 3.625V16.375C2.00053 16.8058 2.1719 17.2188 2.47654 17.5235C2.78117 17.8281 3.19419 17.9995 3.625 18H16.375C16.8058 17.9995 17.2188 17.8281 17.5235 17.5235C17.8281 17.2188 17.9995 16.8058 18 16.375V3.625C17.9995 3.19419 17.8281 2.78117 17.5235 2.47654C17.2188 2.1719 16.8058 2.00053 16.375 2ZM9.03 13.03C8.9605 13.0998 8.87791 13.1552 8.78696 13.1929C8.696 13.2307 8.59849 13.2502 8.5 13.2502C8.40151 13.2502 8.304 13.2307 8.21304 13.1929C8.12209 13.1552 8.0395 13.0998 7.97 13.03L5.97 11.03L7.03 9.97L8.5 11.439L12.97 6.97L14.03 8.03L9.03 13.03Z" fill="${t.l(e.pathFill)}"></path>`}),ne=Q({iconName:"checkbox-outline",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M16.375 18H3.625C3.19419 17.9995 2.78117 17.8281 2.47654 17.5235C2.1719 17.2188 2.00053 16.8058 2 16.375V3.625C2.00053 3.19419 2.1719 2.78117 2.47654 2.47654C2.78117 2.1719 3.19419 2.00053 3.625 2H16.375C16.8058 2.00053 17.2188 2.1719 17.5235 2.47654C17.8281 2.78117 17.9995 3.19419 18 3.625V16.375C17.9995 16.8058 17.8281 17.2188 17.5235 17.5235C17.2188 17.8281 16.8058 17.9995 16.375 18ZM3.625 3.25C3.52554 3.25 3.43016 3.28951 3.35983 3.35983C3.28951 3.43016 3.25 3.52554 3.25 3.625V16.375C3.25 16.4745 3.28951 16.5698 3.35983 16.6402C3.43016 16.7105 3.52554 16.75 3.625 16.75H16.375C16.4745 16.75 16.5698 16.7105 16.6402 16.6402C16.7105 16.5698 16.75 16.4745 16.75 16.375V3.625C16.75 3.52554 16.7105 3.43016 16.6402 3.35983C16.5698 3.28951 16.4745 3.25 16.375 3.25H3.625Z" fill="${t.l(e.pathFill)}"></path>`}),oe=Q({iconName:"radio-button-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M10 19C7.92015 18.998 5.90531 18.2749 4.29873 16.954C2.69215 15.6331 1.59322 13.796 1.18915 11.7558C0.785071 9.7155 1.10085 7.59826 2.08268 5.76471C3.06451 3.93115 4.65166 2.49471 6.57376 1.70008C8.49586 0.905442 10.634 0.801774 12.624 1.40673C14.6139 2.01169 16.3326 3.28785 17.4872 5.01782C18.6418 6.74779 19.1609 8.82455 18.9561 10.8943C18.7513 12.9641 17.8353 14.8989 16.364 16.369C15.5287 17.205 14.5366 17.8677 13.4444 18.3192C12.3523 18.7707 11.1818 19.0021 10 19ZM10 2.254C8.72575 2.25395 7.47113 2.56819 6.34732 3.16888C5.22351 3.76957 4.2652 4.63817 3.55729 5.69773C2.84939 6.75729 2.41374 7.97509 2.28895 9.24324C2.16416 10.5114 2.35408 11.7908 2.84188 12.968C3.32968 14.1452 4.1003 15.1839 5.08547 15.9921C6.07064 16.8004 7.23995 17.3531 8.4898 17.6015C9.73965 17.8498 11.0315 17.786 12.2508 17.4158C13.4701 17.0456 14.5793 16.3803 15.48 15.479C16.5641 14.3956 17.3024 13.015 17.6016 11.5119C17.9007 10.0088 17.7472 8.45067 17.1605 7.0348C16.5738 5.61893 15.5803 4.40892 14.3057 3.55791C13.0311 2.70689 11.5326 2.25311 10 2.254ZM13.536 6.464C12.8367 5.76487 11.9458 5.2888 10.9759 5.09598C10.0061 4.90316 9.0008 5.00225 8.08724 5.38073C7.17369 5.75921 6.39288 6.40007 5.84353 7.22229C5.29418 8.04451 5.00097 9.01115 5.00097 10C5.00097 10.9889 5.29418 11.9555 5.84353 12.7777C6.39288 13.5999 7.17369 14.2408 8.08724 14.6193C9.0008 14.9978 10.0061 15.0968 10.9759 14.904C11.9458 14.7112 12.8367 14.2351 13.536 13.536C14.4725 12.5975 14.9985 11.3258 14.9985 10C14.9985 8.67418 14.4725 7.4025 13.536 6.464Z" fill="${t.l(e.pathFill)}">`}),re=Q({iconName:"radio-button-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.e5`<path d="M10 19C7.92015 18.998 5.90531 18.2749 4.29873 16.954C2.69215 15.6331 1.59322 13.796 1.18915 11.7558C0.785071 9.7155 1.10085 7.59826 2.08268 5.76471C3.06451 3.93115 4.65166 2.49471 6.57376 1.70008C8.49586 0.905442 10.634 0.801774 12.624 1.40673C14.6139 2.01169 16.3326 3.28785 17.4872 5.01782C18.6418 6.74779 19.1609 8.82455 18.9561 10.8943C18.7513 12.9641 17.8353 14.8989 16.364 16.369C15.5287 17.205 14.5366 17.8677 13.4444 18.3192C12.3523 18.7707 11.1818 19.0021 10 19ZM10 2.254C8.72575 2.25395 7.47113 2.56819 6.34732 3.16888C5.22351 3.76957 4.2652 4.63817 3.55729 5.69773C2.84939 6.75729 2.41374 7.97509 2.28895 9.24324C2.16416 10.5114 2.35408 11.7908 2.84188 12.968C3.32968 14.1452 4.1003 15.1839 5.08547 15.9921C6.07064 16.8004 7.23995 17.3531 8.4898 17.6015C9.73965 17.8498 11.0315 17.786 12.2508 17.4158C13.4701 17.0456 14.5793 16.3803 15.48 15.479C16.5641 14.3956 17.3024 13.015 17.6016 11.5119C17.9007 10.0088 17.7472 8.45067 17.1605 7.0348C16.5738 5.61893 15.5803 4.40892 14.3057 3.55791C13.0311 2.70689 11.5326 2.25311 10 2.254Z" fill="${t.l(e.pathFill)}">`});const ie=function(e){return e},ae=new Map([["image/png",e.km.Png],["image/x-png",e.km.Png],["image/gif",e.km.Gif],["image/jpeg",e.km.Jpeg],["image/webp",e.km.Webp],["video/mp4",e.km.Mp4],["video/quicktime",e.km.Quicktime]]);let se={uploadErrorMessage:()=>"There was an error uploading the file.",uploadToS3ErrorMessage:()=>"Failed to upload file to S3.",genericErrorMessage:()=>"Something went wrong",unsupportedMimetype:e=>`${e} files are not supported.`};function le(e,t){const n=new FormData;return t?.forEach((({header:e,value:t})=>{t&&n.append(e,t)})),n.append("file",e),n}function ce(e){return(new DOMParser).parseFromString(e,"text/xml")}function de(e){window.Sentry?.captureMessage?.(e)}const ue={"3xs":"w-[1rem] h-[1rem]","2xs":"w-[1rem] h-[1rem]",xs:"w-[1.5rem] h-[1.5rem]",sm:"w-[2rem] h-[2rem]",md:"w-[2.5rem] h-[2.5rem]",lg:"w-[3rem] h-[3rem]",xl:"w-[3.5rem] h-[3.5rem]","2xl":"w-[4rem] h-[4rem]","3xl":"w-[5.5rem] h-[5.5rem]"},he={"3xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]","2xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]",xs:"w-[1.5rem] h-[1.5rem] min-w-[1.5rem] min-h-[1.5rem]",sm:"w-[2rem] h-[2rem] min-w-[2rem] min-h-[2rem]",md:"w-[2.5rem] h-[2.5rem] min-w-[2.5rem] min-h-[2.5rem]",lg:"w-[3rem] h-[3rem] min-w-[3rem] min-h-[3rem]",xl:"w-[2.875rem] h-[2.875rem] min-w-[2.875rem] min-h-[2.875rem]","2xl":"w-[3.25rem] h-[3.25rem] min-w-[3.25rem] min-h-[3.25rem]","3xl":"w-[4.5rem] h-[4.5rem] min-w-[4.5rem] min-h-[4.5rem]"},me={"3xs":"outline-offset-[0.125rem]","2xs":"outline-offset-[0.125rem]",xs:"outline-offset-[0.125rem]",sm:"outline-offset-[0.125rem]",md:"outline-offset-[0.125rem]",lg:"outline-offset-[0.1875rem]",xl:"outline-offset-[0.1875rem]","2xl":"outline-offset-[0.1875rem]","3xl":"outline-offset-[.25rem]"},pe={"3xs":"border","2xs":"border",xs:"border",sm:"border",md:"border-md",lg:"border-md",xl:"border-md","2xl":"border-lg","3xl":"border-lg"},fe={"3xs":"outline-1","2xs":"outline-1",xs:"outline-1",sm:"outline-1",md:"outline-2",lg:"outline-2",xl:"outline-2","2xl":"outline-4","3xl":"outline-4"},ge={"3xs":2,"2xs":2,xs:2,sm:4,md:4,lg:4,xl:6,"2xl":6,"3xl":6},be={"3xs":-5.4,"2xs":-5.4,xs:-5.4,sm:-7,md:-7,lg:-7,xl:-8.3,"2xl":-8.3,"3xl":-8.3},ve={"3xs":"-right-[0.0625rem]","2xs":"right-0",xs:"right-[0.05rem]",sm:"right-[0.10rem]",md:"-right-[0.0825rem]",lg:"-right-[0.125rem]",xl:"-right-[0.125rem]","2xl":"-right-[.65rem]","3xl":"-right-[.75rem]"},we={"3xs":"w-[.25rem] h-[.25rem] border","2xs":"w-[.25rem] h-[.25rem] border",xs:"w-[.25rem] h-[.25rem] border",sm:"w-[.375rem] h-[.375rem] border-2",md:"w-[.375rem] h-[.375rem] border-2",lg:"w-[.625rem] h-[.625rem] border-2",xl:"w-[.625rem] h-[.625rem] border-2","2xl":"w-[1rem] h-[1rem] border-2","3xl":"w-[1.25rem] h-[1.25rem] border-2"},_e={"3xs":"rounded-1","2xs":"rounded-1",xs:"rounded-1",sm:"rounded-2",md:"rounded-2",lg:"rounded-2",xl:"rounded-[.75rem]","2xl":"rounded-[.75rem]","3xl":"rounded-4"},xe=({ringColorClassName:e,size:t})=>e?`${e} outline ${fe[t]} ${me[t]}`:"",Ce=({...e})=>{const{html:n,ifDefined:o}=t.g(),{attributes:r,children:i,position:a="relative",size:s,status:l}=e;return n`<span class="inline-flex ${a} ${o(r?.className)} ${e.flip?"-scale-x-100":""}">${i}${$e({status:l,size:s})} </span>`},ye=({children:e,snoovatarSrc:n,avatarBgClassName:o,appearance:r})=>{const{html:i}=t.g();return i` <span style="${o||!n?"":`background: ${"media"===r?"var(--color-avatar-media-gradient)":"var(--color-avatar-gradient)"}`}" class="rounded-full absolute h-full w-full inline-flex justify-center ${o||""}"> ${e??t.A} </span>`},Ee=e=>{const{appearance:n}=e;return"collectible"===n?(({snoovatarSrc:e,snoovatarAlt:n,size:o,attributes:r,status:i,flip:a,lazy:s})=>{const{html:l}=t.g();return Ce({flip:a,size:o,status:i,children:l`${Me()} ${Se({size:o})}${Ie({snoovatarSrc:e,snoovatarAlt:n,size:o,lazy:s})}`,attributes:{...r,className:`${he[o]}`}})})(e):(({attributes:e,ringLayer:n,children:o,snoovatarAlt:r,snoovatarSrc:i,avatarBgClassName:a,size:s,ringColorClassName:l,status:c,appearance:d,flip:u,lazy:h})=>{const{html:m}=t.g(),p="default"===d?"box-border [&>:first-child]:rounded-[inherit] overflow-hidden":"",f=m`<span class="absolute rounded-full inset-0 border border-solid border-neutral-border-weak bg-transparent"></span>`;return Ce({flip:u,size:s,status:c,position:n?"absolute":"relative",attributes:{...e,className:`${xe({ringColorClassName:l,size:s})} fp-avatar-container rounded-full ${he[s]} isolate box-content`},children:m` ${i?t.A:ye({snoovatarSrc:i,appearance:d,avatarBgClassName:a,children:m`<span class="relative rounded-full overflow-hidden ${n?"border border-solid border-neutral-background":""} inline-flex w-full h-full ${p}">${o} ${"default"===d&&n?f:t.A} </span>`})} ${i?ke({snoovatarSrc:i,snoovatarAlt:r,size:s,ringColorClassName:l,avatarBgClassName:a,appearance:d,lazy:h}):t.A}`})})(e)},$e=({status:e,size:n})=>{const{html:o}=t.g();return e?o` <span class="${"online"===e?"bg-online":""} flex absolute bottom-0 rounded-full border-solid border-neutral-background bg-neutral-background ${ve[n]} ${pe[n]} ${we[n]}"> ${"online"===e?"":e} </span> `:""},Ie=({size:e,snoovatarAlt:n,snoovatarSrc:o,lazy:r})=>{const{html:i,svg:a}=t.g(),s=Math.random().toString(16).slice(2);return i`<div class="absolute h-full w-full" style="transform:translateY(${be[e]}%)"> <svg width="100%" height="100%" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden"> <defs> <clipPath id="${s}"> <path d="M120 0H0V96H22.0602C22.5169 98.2109 23.896 100.155 25.8949 101.309L56          118.691C58.4752 120.12 61.5248 120.12 64 118.691L94.1051 101.309C96.104 100.155 97.4831          98.2109 97.9398 96H120V0Z"/> </clipPath> </defs> ${r?a`<foreignObject clip-path="url(#${s})" width="100%" height="100%"> <img src="${o}" alt="${n}" loading="lazy"> </foreignObject>`:a`<image href="${o}" alt="${n}" clip-path="url(#${s})" height="100%" width="100%">`} </svg> </div>`},Se=({size:e})=>{const{html:n}=t.g();return n`<span class="absolute h-full w-full left-0"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 72 72" fill="none"> <path d="M34 3.4641C35.2376 2.74957 36.7624 2.74957 38 3.4641L63.1769 18C64.4145 18.7145 65.1769 20.035 65.1769 21.4641V50.5359C65.1769 51.965 64.4145 53.2855 63.1769 54L38 68.5359C36.7624 69.2504 35.2376 69.2504 34 68.5359L8.82309 54C7.58548 53.2855 6.82309 51.965 6.82309 50.5359V21.4641C6.82309 20.035 7.58548 18.7145 8.82309 18L34 3.4641Z" stroke="url(#paint0_diamond_26526_186798)" stroke-width="${ge[e]}" stroke-linejoin="round"/> <defs> <radialGradient id="paint0_diamond_26526_186798" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-7.4247 26.0998) rotate(15.9097) scale(50.0682 24082.5)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> </defs> </svg> </span>`},Me=()=>{const{html:e}=t.g();return e`<div class="absolute h-full w-full" style="transform:scale(${.95})"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" fill="none"> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint0_diamond_26026_173944)"/> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint1_linear_26026_173944)"/> <defs> <radialGradient id="paint0_diamond_26026_173944" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-6.59974 23.1999) rotate(15.9097) scale(44.5051 21406.7)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> <linearGradient id="paint1_linear_26026_173944" x1="23.5687" y1="22.7061" x2="44.1183" y2="53.4817" gradientUnits="userSpaceOnUse"> <stop stop-color="#004E5F"/> <stop offset="1" stop-color="#727CD8" stop-opacity="0.81"/> </linearGradient> </defs> </svg> </div>`},ke=({size:e,snoovatarAlt:n,snoovatarSrc:o,attributes:r,avatarBgClassName:i,appearance:a,lazy:s})=>{const{html:l,svg:c,createElement:d}=t.g(),u=Math.random().toString(16).slice(2);return d("span",{...r,className:"absolute left-0 right-0 bottom-0 mx-auto inline-flex shrink-0 justify-center box-border h-full w-full"},l`${ye({snoovatarSrc:o,avatarBgClassName:i,appearance:a})} <svg viewBox="0 0 121 122" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden absolute bottom-0 ${ue[e]}"> <defs> <clipPath id="${u}"> <path d="M0 0V79L28.1628 105.5C35.013 115.465 46.4934 122 59.5 122C72.5066 122 83.987 115.465 90.8372 105.5L120.5 79V0H0Z"/> </clipPath> </defs> ${s?c`<foreignObject clip-path="url(#${u})" width="100%" height="100%"> <img src="${o}" alt="${n}" loading="lazy"> </foreignObject>`:c`<image href="${o}" alt="${n}" clip-path="url(#${u})" height="100%" width="100%">`} </svg>`)},Te=({size:e="sm",appearance:n="default",snoovatarAlt:o="User Avatar",ringLayer:r,attributes:i,...a})=>{const{html:s,ifDefined:l}=t.g(),c="icon"===n||"subreddit"===n;return s`<span class="inline-flex items-center justify-center ${ue[e]} ${i?.className}" rpl avatar id="${l(i?.id)}" slot="${l(i?.slot)}"> ${r&&!c?r:""} ${c?(({attributes:e,children:n,size:o,appearance:r,status:i,ringColorClassName:a})=>{const s="icon"===r?"rounded-full":_e[o],{html:l,ifDefined:c}=t.g();return l`<span rpl id="${c(e?.id)}" slot="${c(e?.slot)}" class="inline-block ${s} ${xe({ringColorClassName:a,size:o})} relative [&>:first-child]:h-full [&>:first-child]:w-full [&>:first-child]:mb-0 [&>:first-child]:rounded-[inherit] h-full w-full [&>:first-child]:overflow-hidden [&>:first-child]:max-h-full"> ${n}${$e({status:i,size:o})} </span>`})({size:e,attributes:i,appearance:n,...a}):Ee({attributes:i,snoovatarAlt:o,appearance:n,ringLayer:r,size:e,...a})}</span>`},Ne=Symbol.for("lit-nothing");let Le={videoMinDimensionError:(e,t)=>`Videos must be at least ${e}x${t}`,videoMinRateError:e=>`Videos must have a bitrate of at least ${Math.floor(e)}KB/s`,videoCodecError:()=>"Unsupported video codec",videoIsTooShortError:t=>e.h({one:`Videos must be at least ${t} second`,other:`Videos must be at least ${t} seconds`,count:t}),videoIsTooLongError:t=>e.h({one:`Videos must be shorter than ${t} minute`,other:`Videos must be shorter than ${t} minutes`,count:t}),videoMaxSizeError:e=>`Videos must be ${e}GB or smaller`,videoMimetypeError:()=>"Upload an MP4 or MOV",imageMaxSizeError:e=>`Upload an image less than ${e}MB`,imageMaxSizeErrorKB:e=>`Upload an image less than ${e}KB`,gifMaxSizeError:e=>`Upload a GIF less than ${e}MB`,gifMaxSizeErrorKB:e=>`Upload a GIF less than${e}KB`,imageMaxDimensionError:(e,t)=>`Upload an image smaller than ${e}x${t}`,imageMinDimensionError:(e,t)=>`Upload an image at least ${e}x${t}`,imageOnlyGifsError:()=>"Upload a GIF",imageOnlyStaticImagesError:()=>"Upload a PNG, JPG, WEBP",imageStaticOrGifError:()=>"Upload a PNG, JPG, WEBP, or GIF",or:()=>"or ",imageTypeJoin:e=>`${De(e).reduce(((e,t,n,o)=>`${e}${Fe(n,o)}${Ae(n,o)}${t}`),"")}`,imageInvalidTypeErrorGeneric:()=>"Upload an image",imageInvalidTypeErrorSpecified:e=>`Upload a ${e}`};const De=e=>e.reduce(((e,t)=>{const n=ae.get(t)||t;return e.includes(n)?e:[...e,n]}),[]),Fe=(e,t)=>e>0?t.length>2?", ":" ":"",Ae=(e,t)=>t.length>1&&e===t.length-1?Le.or():"",Pe=["image/jpeg","image/png","image/webp"],Oe=["image/gif"],Re=[...Pe,...Oe],Ue=1024,ze=1048576,Be=20971520,Ve=104857600,He=e=>e.split(",").map((e=>e.trim())),je=e=>{const t="accept"in e?e.accept:void 0,{allowStaticImages:n=!1,allowAnimatedImages:o=!1}="allowStaticImages"in e?e:{};return{accept:t,allowStaticImages:n,allowAnimatedImages:o}};function qe(e){const{accept:t,allowStaticImages:n,allowAnimatedImages:o}=je(e);if(t&&t?.includes("image/*"))return Le.imageInvalidTypeErrorGeneric();if(t){const e=He(t);return Le.imageInvalidTypeErrorSpecified(Le.imageTypeJoin(e))}return o&&!n?Le.imageOnlyGifsError():n&&!o?Le.imageOnlyStaticImagesError():Le.imageStaticOrGifError(t)}function Ge(e){const t=[],{accept:n,allowStaticImages:o,allowAnimatedImages:r}=je(e);return n?He(n):(o&&t.push(...Pe),r&&t.push(...Oe),t)}const Ze="highlight_card_";const We={rootMargin:"0px",threshold:[1]};class Je extends e.bC{constructor(t,n){super(t),this._isInViewport=!1,this._hasBeenImpressed=!1,this._hasBeenConsumed=!1,this._hasPageUnloaded=!1,this.onVisible=e=>{this._isInViewport&&e&&(this._hasPageUnloaded=!1,this._becameVisibleOnScreenTimestamp=Date.now())},this.onHidden=e=>{this._isInViewport&&(e||this._hasPageUnloaded||this.handlePotentialConsume())},this.onBeforeUnloadCallback=()=>{this._hasPageUnloaded=!0,this._isInViewport&&this.handlePotentialConsume()},this.onEnter=()=>{this._isInViewport||(this._isInViewport=!0,this._becameVisibleOnScreenTimestamp=Date.now(),this.handlePotentialImpression())},this.onLeave=()=>{this._isInViewport&&(this.handlePotentialConsume(),this._isInViewport=!1)},t.addController(this),this._config={...n,observerConfig:n.observerConfig??We},this._observerController=new e.ar(this,t,this._config.observerConfig);const o=new e.E(this,(()=>t));o.define("faceplate-enter",this.onEnter),o.define("faceplate-leave",this.onLeave)}hostConnected(){super.hostConnected(),e.aT(this.onVisible,{immediate:!0}),e.aT(this.onHidden,{immediate:!0,shouldBeCalledFirst:!0}),e.aS.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0})}hostDisconnected(){super.hostDisconnected(),e.aU(this.onHidden),e.aU(this.onVisible),e.aS.unsubscribe(this.onBeforeUnloadCallback)}handlePotentialImpression(){this._hasBeenImpressed||(this._hasBeenImpressed=!0,this._config.onView?.())}handlePotentialConsume(){!this._hasBeenConsumed&&this._becameVisibleOnScreenTimestamp&&Date.now()-this._becameVisibleOnScreenTimestamp>this._config.consumeThreshold&&(this._hasBeenConsumed=!0,this._observerController.hostDisconnected(),this._config.onConsume?.())}}const Ke="component-reload";const Qe=(t,n,o)=>e.b({source:"custom_feeds",...t},{customFeed:{id:n},...o?{subreddit:{id:o}}:{}}),Xe=new Set,Ye=t=>{if(!e.l.isAvailable())return;const n=e.l.getItem(t);if(n)try{return JSON.parse(n)}catch{return}},et=(t,n)=>{e.l.isAvailable()&&e.l.setItem(t,JSON.stringify(n))},tt=new Set(["reddit","config","special"]),nt=new Set(["edit","revisions","settings","discussions","pages","create"]),ot=new Set(["config/description","config/sidebar","config/stylesheet","config/submit_text"]);function rt(e,t){const n=Ye(e);return n?n.slice(0,t):[]}const it=Object.entries({16:"icon32",24:"icon48",32:"icon64",40:"icon96",48:"icon96",56:"icon96",88:"icon96"});const at=1e3,st=1e6,lt=1e9,ct=({num:e,divider:t,defaultFixed:n=0,maxDigits:o,removeZeroDecimal:r})=>{const i=e/t;if(!o){const e=i.toFixed(n);return r&&Number(e)%1==0?Math.floor(i).toString():i.toFixed(Math.floor(n))}return i.toString().slice(0,o+1)};const dt=(e,t,n=1)=>{const o=Math.pow(10,n);return(Math.floor(e/(t/o))/o).toFixed(n)};const ut=/(?:\/|-)nftv2_([a-z0-9%]+)_([a-z]+)_([a-z0-9-]{36})(?:-headshot)?\.(?:png|svg)/i;const ht="moderator";function mt(t){return t===e.bZ.Post}const pt=async(e=document,t=5e3,n=100)=>{const o=Date.now(),r=e=>{const t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let n=t.nextNode();for(;n;){if(n instanceof Element&&n.shadowRoot){const e=i(n.shadowRoot);if(e)return e}n=t.nextNode()}return null},i=e=>{const t=e.querySelector('textarea[name="message"]');return t instanceof HTMLTextAreaElement?t:r(e)};return new Promise((i=>{const a=()=>{const s=(()=>{const t=e.querySelector("rs-message-composer");return t?.input?t.input:r(e)})();s?i(s):Date.now()-o>t?i(null):setTimeout(a,n)};a()}))};const ft=(e,t)=>{"complete"!==document.readyState?window.addEventListener("load",e,t):e()},gt="preview";return{$:et,A:function(e){return{source:"feed_experience",action:e?"unsubscribe":"subscribe",noun:"subreddit"}},B:function(){return{source:"feed_experience_overflow",noun:"hide",action:"click"}},C:function(){return{source:"feed_experience",action:"impression",noun:"feed_experience"}},D:()=>e.b({source:"global",action:"view",noun:"screen"},{action_info:{page_type:e.w.AchievementDetail}}),E:"click",F:"dismiss",G:"gen_guides",H:"back",I:class{constructor(e,t){this.observedElements=[],this.handleSlotChange=e=>{this.observer.disconnect();const t=e.target;t instanceof HTMLSlotElement&&(this.observedElements=t.assignedElements(),this.observedElements.forEach((e=>this.observer.observe(e))))},this.observer=new IntersectionObserver(this.handleIntersection.bind(this),t),(this.host=e).addController(this)}hostConnected(){this.observedElements.forEach((e=>this.observer.observe(e)))}hostDisconnected(){this.observer.disconnect()}isLoadableFaceplatePartial(t){return t instanceof e.bs&&t.loading===e.I.Programmatic&&!t.isLoading}async handleIntersection(e){e.forEach((e=>{e.isIntersecting&&this.isLoadableFaceplatePartial(e.target)&&e.target.load()}))}},J:(e,t=e.tagName.toLowerCase())=>{const n=e=>(""===e&&(e="generic"),t+":"+e);return{dispatch:(t,o={bubbles:!0,cancelable:!0,composed:!0})=>e.dispatchEvent(new CustomEvent(n(t),o)),eventId:n}},K:async function(t){if(t)try{const n=await e.B({operation:e.O.GetAdBusinessNameById,variables:{postId:t}}),o=n?.data?.postInfoById?.adBusiness?.id;return"string"==typeof o&&o?o:void 0}catch{return}},L:ee,M:function(e,t=0,n=!1){let o=!1,r=null;const i=function(...a){o?n&&(r=[this,a]):(e.apply(this,a),o=!0,setTimeout((()=>{o=!1,r&&(i.apply(r[0],r[1]),r=null)}),t))};return i},N:function*(e,t){if(void 0!==e){let n=0;for(const o of e)yield t(o,n++)}},O:function(e,t){return null!==e.querySelector(`:scope > [slot="${t}"]`)},P:({conversationId:e,position:t,searchQuery:n})=>{const o={conversation_id:e};return t&&(o.query_id=`${t}`),n&&(o.query=n),{search:o}},Q:function(e,t){if(!e)return{color:"",icon:""};const n=function(e){const t=e?.primaryColor,n=e?.mobileKeyColor,o=e?.legacyPrimaryColor;return t||n||o||null}(e)||"",o=function(e,t){if(!t)return e?.icon;for(const[n,o]of it){const r=e?.[o];if(r&&t<=parseInt(n,10))return r}return e?.icon}(e,t),r=e?.legacyIcon?.url;return{color:n,icon:o||r||""}},R:"onboarding",S:"subreddit-posting-eligibility-modal",T:()=>e.b({source:"comment",action:"click",noun:"share"}),U:()=>e.b({source:"comment",action:"click",noun:"share_copy"}),V:Je,W:function(e){if(i in e)return e;class t extends e{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(e){if(e===this._pageIndex)return;const t=this._pageIndex;this._pageIndex=e,this.pageIndexChangedCallback(t)}get pageNames(){return this._pageNames}set pageNames(e){e&&(this.pages=e.length),this._pageNames=e}syncLinkedPageables(){if(this._paginationLeaderContext){const e=a.getFollowers(this._paginationLeaderContext);if(!e||!e.size)return;for(const t of e)t.syncPagination(this)}if(this._paginationFollowerContext){const e=a.getLeader(this._paginationFollowerContext);e&&(e.pageIndex=this._pageIndex)}}syncPagination(e){this.pageIndex=e.pageIndex,this.pages=e.pages,this.pageNames=e.pageNames}getPaginationContext(){const e=this.getRootNode();if(e!==this&&(e instanceof Document||e instanceof ShadowRoot))return e}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=this.getPaginationContext();if(!e)return;const t=this.getAttribute("for");t&&(this._paginationFollowerContext=a.getContextKey(t,e),a.registerFollower(this,this._paginationFollowerContext)),this.id&&!t&&(this._paginationLeaderContext=a.getContextKey(this.id,e),a.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(a.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(a.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(e){this.syncLinkedPageables()}}return t[i]=!0,t},X:"saved-responses__reorder",Y:(e=0)=>new Promise((t=>setTimeout(t,e))),Z:"https://www.google.com/recaptcha/enterprise.js",_:Ne,a:(e,t)=>{const n=e.composedPath(),o=Array.isArray(t)?t.map((e=>e.toUpperCase())):[t.toUpperCase()];for(const e of n)if(o.includes(e.tagName))return!0;return!1},a$:"saved-responses__delete",a0:Ye,a1:"pdp-ama-comment-tab-wrapper",a2:"clear-search-input",a3:(e,t)=>Qe({action:"add",noun:"subreddit"},e,t),a4:(e,t)=>Qe({action:"remove",noun:"subreddit"},e,t),a5:({attributes:n,title:o,titleDataTestId:r,description:i,buttonProps:a,creative:s,creativeSafe:l=!0})=>{const{html:c,createElement:d}=t.g();return d("div",{...n,className:"flex flex-col items-center w-full",rpl:!0,"rpl-empty-state":!0},c`<div class="w-full flex flex-col items-center overflow-hidden box-border ${!l&&"p-md"}"> ${s} </div> <div class="flex flex-col w-full items-center box-border px-md gap-md ${o||i?"pb-md":""}"> ${o||i?c` <div class="max-w-[480px] flex flex-col items-center text-center"> <div class="text-24 font-bold text-neutral-content-strong" data-testid="${t.l(r)}"> ${o} </div> <div class="text-16 text-neutral-content-weak">${i}</div> </div> `:""} ${a?c`<div>${e.r(a)}</div>`:""} </div>`)},a6:(t,{communityId:n,communityName:o})=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"communities_menu",subreddit:{name:o,id:n}})),a7:Ke,a8:class{constructor(t,n){this.isLoading=!1,this.hasReloadError=!1,this.handleReload=async e=>{if(this.reloadUrl){this.isLoading=!0,this.hasReloadError=!1,this.host.requestUpdate();try{await this.getAndReplacePartial(e.detail?.queryParameters)}catch(e){this.hasReloadError=!0}this.isLoading=!1,this.host.requestUpdate()}};const{reloadUrl:o,containerSelector:r,mode:i=e.o.Contents}=n||{};(this.host=t).addController(this),this._partialRequest=new e.aH(this.host),this._reloadUrl=o,this.containerSelector=r||this.host.tagName.toLowerCase(),this._mode=i}get reloadUrl(){return this._reloadUrl}set reloadUrl(e){this._reloadUrl=e}get mode(){return this._mode}set mode(e){this._mode=e}hostConnected(){this.host.addEventListener(Ke,this.handleReload)}hostDisconnected(){this.host.removeEventListener(Ke,this.handleReload)}async getAndReplacePartial(t={}){const n=this.reloadUrl&&Array.from(Object.entries(t)).reduce(((t,[n,o])=>e.cd(t,n,o)),this.reloadUrl),o=await this._partialRequest.request(n),r=await(o?.text());if(!r)throw new Error("Unable to reload content");const i=(new DOMParser).parseFromString(r,"text/html").querySelector(this.containerSelector);if(!i)throw new Error(`Element ${this.containerSelector} not found in reload response`);if(this.mode!==e.o.Contents)e.aQ(i.outerHTML,this.host,this.mode);else{if(!i?.innerHTML)throw new Error("No content to reload");e.aQ(i.innerHTML,this.host,this.mode)}}},a9:function(e){return e?"Settings saved.":"Failed to save settings. Please try again."},aA:j,aB:U,aC:H,aD:Z,aE:e=>{const t=q(e);return t?(j(t[0]),t):null},aF:W,aG:(e,t,n)=>{if(!t)return W(e);const o=((e,t,n)=>{for(let o=1;o<e.length;o++){const r=(t-o+e.length)%e.length,i=e[r];if(r>t&&!n)return null;if(U(i))return i}return U(e[t])?e[t]:null})(e,t[1],n);return o?H(o):null},aH:(e,t,n)=>{if(!t)return Z(e);const o=((e,t,n)=>{for(let o=1;o<e.length;o++){const r=(t+o)%e.length,i=e[r];if(r<t&&!n)return null;if(U(i))return i}return U(e[t])?e[t]:null})(e,t[1],n);return o?H(o):null},aI:e=>J in e,aJ:{MenuItem:"menuitem",Button:"button",Link:"link",Checkbox:"menuitemcheckbox",Radio:"menuitemradio"},aK:E,aL:nt,aM:tt,aN:"config/automoderator",aO:"config/post_removal_message",aP:ot,aQ:50,aR:100,aS:class{hostConnected(){}constructor(e,t){this.host=e,this.config=t,this.mouseIsDown=!1,this._interactionTrigger=null,this.eventUsedMap=new WeakMap,this.handleBlur=e=>{if(this.hasTrigger("focus")||this.hasTrigger("focus-visible")){const t=()=>this.host.finishInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayEnd(this.host)):t()}},this.handleClick=e=>{this.eventUsedMap.has(e)||(this.eventUsedMap.set(e,!0),this.hasTrigger("click")&&(this.config.isInteractedWith(this.host)?this.host.finishInteraction(e,"click"):this.host.startInteraction(e,"click")))},this.handleFocus=e=>{const t=this.hasTrigger("focus"),n=this.hasTrigger("focus-visible");if((!(!t&&n&&e.target instanceof HTMLElement)||e.target.matches(":focus-visible"))&&(t||n)&&!this.mouseIsDown){const t=()=>this.host.startInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayStart(this.host)):t()}},this.handleMouseEnter=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.startInteraction(e,"hover")),this.config.hoverDelayStart(this.host))},this.handleMouseLeave=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.finishInteraction(e,"hover")),this.config.hoverDelayEnd(this.host))},this.handleMouseDown=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!0)},this.handleMouseUp=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!1)},this.host.addController(this)}set interactionTrigger(e){this._interactionTrigger=e,this.host.requestUpdate()}get interactionTrigger(){return this._interactionTrigger}delayInteraction(e,t){clearTimeout(this.delayTimeout),this.delayTimeout=window.setTimeout(e,t)}hasTrigger(e){return this.host.trigger.split(" ").includes(e)}},aT:n,aU:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),aV:2e3,aW:ut,aX:function(e){return`add-ama-collaborators-modal-${e}`},aY:function(e,t,n){return e?t():null==n?void 0:n()},aZ:"saved-responses__create",a_:"saved-responses__exit-create-view",aa:O,ab:function(){return"button_appearance"===e.dw(e.ki)||e.dw(e.ki)===y},ac:t=>e.b({source:ht,action:"click",noun:mt(t)?"reorder_post_flair_confirm":"reorder_flair_confirm"}),ad:"flair-settings__table-feature-id",ae:{STREAK_EXTENDED:"streak_progressed",TROPHY_UNLOCKED:"achievement_unlocked",TROPHY_PROGRESSED:"achievement_progress"},af:"login",ag:({attributes:n,children:o,selected:r,leadingIcon:i,ariaControls:a,screenReaderContent:s,deleteButtonConfig:l})=>{const{html:c,ifDefined:d}=t.g();return c` <span class="inline-flex relative max-w-full" slot="${d(n?.slot)}"> ${e.he({hideChildrenOverflow:!0,ariaControls:a,attributes:n,selected:r,size:e.s.Small,leadingIcon:i&&Te({children:i,appearance:"icon",size:"2xs"}),children:c`<span class="${r?"inline-block mr-[calc(var(--size-button-sm-h)-var(--rem10)-var(--button-border-width-default))]":""} overflow-hidden text-ellipsis">${o}</span>`,screenReaderContent:s})} ${r?c` <span style="${"transform: translateY(-50%);\nposition: absolute;\nright: 0;\ntop: 50%;\ntransform: translateY(-50%);\ndisplay: inline-flex;\n"}"> ${e.r({...l,appearance:"plain",size:e.s.Small,leadingIcon:t.aR({size:t.I.Small})})} </span>`:void 0} </span> `},ah:function(e){return!!e},ai:"https://chat.reddit.com/",aj:async function(e){const t=URL.createObjectURL(e),{width:n,height:o}=await function(e){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>{t({width:o.width,height:o.height})},o.onerror=e=>{n(e)},o.src=e}))}(t);return{src:t,type:e.type,size:e.size,width:n,height:o}},ak:function(e,t){const{width:n,height:o,type:r,size:i}=e,{minImageDimension:a,maxImageDimension:s,maxImageFileSize:l=Be,maxGifFileSize:c=Ve}=t,{accept:d,allowStaticImages:u,allowAnimatedImages:h}=je(t),m=Ge(t);if(!(m.includes(r)||m.includes("image/*")&&r.startsWith("image/")))return{valid:!1,error:qe(d?{accept:d}:{allowStaticImages:u,allowAnimatedImages:h}),reason:"INVALID_IMAGE_TYPE_ERROR"};if(a&&(n<a||o<a))return{valid:!1,error:Le.imageMinDimensionError(a,a),reason:"IMAGE_MIN_DIMENSION_ERROR"};if(s&&(n>s||o>s))return{valid:!1,error:Le.imageMaxDimensionError(s,s),reason:"IMAGE_MAX_DIMENSION_ERROR"};if("image/gif"===r&&i>c){return{valid:!1,error:Math.floor(c/ze)<1?Le.gifMaxSizeErrorKB(Math.floor(c/Ue)):Le.gifMaxSizeError(Math.floor(c/ze)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}if(r.startsWith("image/")&&"image/gif"!==r&&i>l){return{valid:!1,error:Math.floor(l/ze)<1?Le.imageMaxSizeErrorKB(Math.floor(l/Ue)):Le.imageMaxSizeError(Math.floor(l/ze)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}return{valid:!0,error:null}},al:()=>"Comment deleted by user",am:function(){return"Something went wrong"},an:5,ao:()=>"[deleted]",ap:function(n,o){return e.r({attributes:o,appearance:R[n],leadingIcon:t.C()})},aq:class{constructor(t,n){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,!this._batchQueue||!this._batchQueue.length)return;const t=e.kj(this._batchQueue);for(const e of t)this.options.onAlert(e);this._batchQueue.length=0},t.addController(this),this.host=t,this.options=n,n.batchWindow&&n.batchWindow>0&&(this._batchQueue=[])}hostConnected(){e.kk(this.host).then((t=>{t&&(this._reporter=t,e.kl.register(t,this))}))}hostDisconnected(){this._reporter&&(e.kl.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(e){if(!this.options.isOnline()&&!e.showWhenOffline)return!1;const t=this.options;if("number"==typeof e.level){if(t.max&&e.level>t.max)return!1;if(t.min&&e.level<t.min)return!1}else if(void 0!==t.min||void 0!==t.max)return!1;return!t.name||t.name===e.name}displayAlert(e){if(this._batchQueue){if(this._batchQueue.push(e),this._batchTimer)return;this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow)}else this.options.onAlert(e)}},ar:function(e){return e.replace(Ze,"")},as:C,at:function({el:t,outboundUrl:n,clickLocation:o,galleryIndex:r}){const i=C(t),a=i?.placement||("placement"in t?t.placement:void 0),s=i?.id||t?.id||("postId"in t?t?.postId:""),l=i?.impressionId||("impressionId"in t?t?.impressionId:""),c=e.c("observe-ad-click",{postId:s,impressionId:l,outboundUrl:n,galleryIndex:r,clickLocation:o});t.dispatchEvent(c),e.l.isAvailable()&&(e.l.setItem(e.L.LastClickedAdId,s),e.l.setItem(e.L.ImpressionId,l),e.l.setItem(e.L.AdPlacement,a||""))},au:V,av:z,aw:B,ax:G,ay:t=>Object.values(e.cy).includes(t),az:q,b:(n,o)=>o?e.r({shape:"pill",appearance:"plain",size:e.s.Small,attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",slot:"trigger",...n},hideChildrenOverflow:!0,children:t.x`<slot name="trigger-content"></slot>`,trailingIcon:t.N({size:t.I.Small,attributes:{"aria-hidden":"true",className:"px-[2px]"}})}):l({appearance:"plain",attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",...n},children:t.x`<slot name="trigger-content"></slot>`,size:e.s.Small}),b$:b,b0:"saved-responses__update-item",b1:"saved-responses__submit",b2:"saved-responses__saved",b3:"saved-responses__open-reorder-modal",b4:"saved_responses__cancel_update",b5:"saved-responses-table__partial_id",b6:"saved_responses__response_delete_modal_id",b7:Y,b8:X,b9:"achievement-progress-toast",bA:function(n,o){if(!n)return;const{html:r}=t.g();return r` <span class="flex items-center justify-center">${Array.isArray(n)?r`${n.map((t=>e.r({...t,appearance:R[o]})))}`:e.r(n)}</span>`},bB:3,bC:async(e,t=pt)=>{const n=await t();n&&(e?(n.value="",n.focus()):setTimeout((()=>{n.focus()}),1e3))},bD:e=>Qe({action:"delete",noun:"custom_feed"},e),bE:function(e){return null!=e},bF:({attributes:e,children:n,trailingSlot:o})=>{const{html:r,createElement:i}=t.g();return i("li",{...e,booleanListItemHeader:!0,className:"flex items-center m-0 pr-md h-2xl min-w-0 text-secondary font-semibold text-12",rpl:!0},r`<span class="grow min-w-0 px-sm truncate">${n}</span> ${o?r`<span class="flex items-center">${o}</span> `:void 0}`)},bG:"onboarded-ad-account",bH:"ad-account-creation-cancel",bI:k,bJ:"emote|",bK:function(t){return t===e.al.ModQueueCompactView},bL:function(e,{displayFull:t,roundDown:n,maxDigits:o,removeZeroDecimal:r}={}){return t?(e=>{const t=e.split(".");return[t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")].concat(t.slice(1)).join(".")})(e.toString()):e>=99999999949?`${ct({num:e,divider:lt,maxDigits:o,removeZeroDecimal:r})}b`:e>=999999949&&e<99999999949?`${ct({num:e,divider:lt,defaultFixed:1,maxDigits:o,removeZeroDecimal:r})}b`:e>=99999949&&e<999999949?`${ct({num:e,divider:st,maxDigits:o,removeZeroDecimal:r})}m`:e>=999949&&e<99999949?`${ct({num:e,divider:st,defaultFixed:1,maxDigits:o,removeZeroDecimal:r})}m`:e>=99949&&e<999949?`${ct({num:e,divider:at,maxDigits:o,removeZeroDecimal:r})}k`:e>=at&&e<99949?n?`${dt(e,at)}k`:`${ct({num:e,divider:at,defaultFixed:1,maxDigits:o,removeZeroDecimal:r})}k`:String(e)},bM:function(){return"vote_component"===e.dw(e.ki)||e.dw(e.ki)===y},bN:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),bO:function(e){return!!e&&ut.test(e)},bP:async function(e,t){const n=await window.fetch(t.uploadLeaseUrl,{method:"POST",body:le(e,t.uploadLeaseHeaders)});if(n.ok){const e=function(e){const t=ce(e);return t.querySelector("Location")?.textContent?.trim()}(await n.text());return e||de("Unable to retrieve S3 url for uploaded resource."),e}throw de(`Failed to upload file to S3 with error code: ${function(e){const t=ce(e);return t.querySelector("Code")?.textContent?.trim()}(await n.text())}`),new Error(se.uploadToS3ErrorMessage())},bQ:ae,bR:function(e=!1){return e?"Saved":"Save changes"},bS:()=>e.b({source:"post_detail",action:"click",noun:"load_more_comments"}),bT:t=>e.b({source:ht,action:"click",noun:mt(t)?"post_flair_edit_save":"flair_edit_save"}),bU:t=>e.b({source:ht,action:"click",noun:mt(t)?"create_post_flair_confirm":"create_flair_confirm"}),bV:"flair-settings__flair-copy",bW:"flair-settings__flair-delete",bX:"flair-settings__flair-delete-modal",bY:t=>e.b({source:ht,action:"click",noun:mt(t)?"remove_post_flair_confirm":"remove_flair_confirm"}),bZ:g,b_:(t,n,o)=>{e.c_({name:e.kc}),e.$({name:e.kc,country:n,value:`${t}`,options:{...e.a0,domain:o}})},ba:"request",bb:"reddit-search:open",bc:N,bd:function(e){return`${Ze}${e}`},be:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"all_communities"})),bf:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"favorites"})),bg:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"search_bar"})),bh:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"query_prompt"})),bi:t=>t.trackEvent(e.b({source:"community_search",action:"click",noun:"search_bar"})),bj:"wiki-banned-users__unban",bk:"wiki-banned-users__ban",bl:"wiki-banned-users__edit",bm:"wiki-banned-contributors-confirmation-modal",bn:"wiki-banned-contributors-ban-modal",bo:(e,t)=>new CustomEvent("rpl:menu-clicked-item",{bubbles:!0,composed:!0,cancelable:!0,detail:{type:e,item:t}}),bp:({item:e,reason:t})=>new CustomEvent("rpl:menu-close",{bubbles:!0,composed:!0,detail:{item:e,reason:t,itemPath:[e]}}),bq:t=>Object.values(e.e3).includes(t),br:t=>Object.values(e.e4).includes(t),bs:J,bt:te,bu:ne,bv:oe,bw:re,bx:t=>e.b({source:"achievements",action:"click",noun:"card_icon"},{action_info:{page_type:t}}),by:t=>e.b({source:"achievements",action:"click",noun:"profile_showcase"},{action_info:{page_type:t}}),bz:(e,t)=>{const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return Math.floor(n.top)>=Math.floor(o.top)&&Math.ceil(n.bottom)<=Math.ceil(o.bottom)&&Math.ceil(n.right)<=Math.ceil(o.right)&&Math.floor(n.left)>=Math.floor(o.left)},c:class{constructor(e){this.host=e,this.slotsCache=new Map,this.hasContentsCache=new Map,this.slotTextCache=new Map,this.handleSlotChange=e=>{if(!(e.target instanceof HTMLSlotElement))return;const t=e.target,n=t.hasAttribute("name")?t.name:"default",o=this.hasContentsCache.get(n),r=E(t);this.slotsCache.set(n,t),this.hasContentsCache.set(n,E(t)),this.slotTextCache.delete(n),o!==r&&this.host.requestUpdate()},e.addController(this)}hostConnected(){}getSlot(e){const t=this.slotsCache.get(e);if(void 0!==t)return t;const n=this.host.shadowRoot?.querySelector("default"===e?"slot:not([name])":`slot[name="${e}"]`);return n instanceof HTMLSlotElement?(this.slotsCache.set(e,n),n):null}hasSlotContent(e){return this.hasContentsCache.get(e)??!1}getSlotText(e){const t=this.slotTextCache.get(e);if(void 0!==t)return t;if(!(this.hasContentsCache.get(e)??!1))return this.slotTextCache.set(e,null),null;const n=this.getSlot(e);if(!n)return null;const o=(e=>{const t=e.assignedNodes({flatten:!0}),n=[];for(const e of t)e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim()),e.nodeType===Node.ELEMENT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim());return n.length>0?n.join(" "):null})(n);return this.slotTextCache.set(e,o),o}},get c$(){return Le},c0:(t,n,o)=>{e.c_({name:e.ke}),e.$({name:e.ke,country:n,value:`${t}`,options:{...e.a0,domain:o}})},c1:()=>e.v.get(e.kd),c2:(t,n,o)=>{e.c_({name:e.kd}),e.$({name:e.kd,country:n,value:`${t}`,options:{...e.a0,domain:o}})},c3:function({fieldErrors:e,defaultMessage:t}){return e?.[0]?.message??t},c4:e=>!e||e.includes("avatar_default_"),c5:({attributes:e,children:n})=>{const{html:o,createElement:r}=t.g();return r("li",{...e,booleanListItemGroup:!0,className:"list-none",rpl:!0},o`<ul class="p-0"> ${n} </ul>`)},c6:()=>e.b({source:"comment",action:"click",noun:"load_more_comments"}),c7:()=>e.b({source:"post_detail",action:"click",noun:"comment_image"}),c8:"comment-composer-cancel-draft",c9:"comment-edit-success",cA:"comment-deletion-modal",cB:t=>e.b({source:t,action:"click",noun:"follow"}),cC:t=>e.b({source:t,action:"undo",noun:"follow"}),cD:"list-reply-comment-button",cE:t=>e.b({source:t,action:"click",noun:"save"}),cF:t=>e.b({source:t,action:"click",noun:"unsave"}),cG:e=>e??Ne,cH:"view",cI:"auth_modal",cJ:"send",cK:"https://www.reddit.com/redditchat/",cL:"chat-mobile-xpromo",cM:(t,n)=>e.b({source:ht,action:"click",noun:mt(t)?"enable_post_flair":"enable_user_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),cN:(t,n)=>e.b({source:ht,action:"click",noun:mt(t)?"let_users_assign_post_flair":"let_users_assign_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),cO:t=>e.b({source:ht,action:"click",noun:mt(t)?"reorder_post_flair_dialog":"reorder_flair_dialog"}),cP:_,cQ:v,cR:w,cS:"skip",cT:{Total:"#D2DADD",Posts:"#0E8A00",Negative:"#372F8C",Positive:"#008675",Neutral:"#629FFF",Score:"#D93A00",Performance:"#6A5CFF",Comments:"#D93900",Upvotes:"#6A5CFF","Post Upvotes":"#DE019F","Comment Upvotes":"#5BA200","Total Upvotes":"#97AFBC","Total Mentions":"#6A5CFF"},get cU(){return se},cV:ie,cW:function(t){return t===e.al.CardView},cX:"giphy|",cY:function(t){const n={[e.hx.Female]:"Woman",[e.hx.Male]:"Man",[e.hx.NonBinary]:"Non-binary",[e.hx.OptOut]:"I prefer not to say",[e.hx.UserDefined]:"I refer to myself as..."};return t?n[t]:n},cZ:({prefix:e=A[0],...t})=>{const n=D((({withAbout:e,aboutOptional:t}={})=>`/:prefix(${P})/:${F}/${e?":page(about/?)"+(t?"?":""):""}`)({withAbout:!0,aboutOptional:!0}))({...t,prefix:e});return t.omitLeadingSlash?n.substring(1):n},c_:Ge,ca:"reloadPollingDurationMs",cb:()=>e.b({source:"post_detail",action:"click",noun:"collapse_comment"}),cc:()=>e.b({source:"post_detail",action:"click",noun:"expand_comment"}),cd:"/svc/shreddit/edit-comment",ce:function({type:n,iconProps:o}){switch(n){case e.eT.Public:return{label:"Public",description:"Anyone can view, post, and comment to this community",icon:t.bI(o),iconSelected:t.bJ(o)};case e.eT.Restricted:return{label:"Restricted",description:"Anyone can view, but only approved users can contribute",icon:t.b5(o),iconSelected:t.bK(o)};case e.eT.Private:return{label:"Private",description:"Only approved users can view and contribute",icon:t.bv(o),iconSelected:t.aj(o)};case e.eT.EmployeesOnly:return{label:"Employee-only",description:"Only employees can view and contribute",icon:t.ci(o),iconSelected:t.ch(o)};default:return null}},cf:e=>Qe({action:"duplicate",noun:"custom_feed"},e),cg:e=>Qe({action:"create",noun:"custom_feed"},e),ch:(e,t,n)=>{for(const n of t)if(n[0]===e)return(0,n[1])();return null==n?void 0:n()},ci:function(){return document&&document.documentElement.lang?document.documentElement.lang:navigator&&navigator.language?navigator.language:"en-US"},cj:function(e){return new Date(e.replace("+0000","+00:00"))},ck:"wiki-page-settings-done-button",cl:"wiki-page-settings-close-button",cm:"wiki-page-setting-modal-dialog",cn:h,co:function(e,t,n){var o;const r=function(e,t){const n=t.getTime()-e.getTime(),o=Math.round(n/31104e6),r=Math.round(n/2592e6),i=Math.round(n/864e5),a=Math.round(n/36e5),s=n/p;let l="minutes",c=0;return Math.abs(Math.round(s))<60?c=s>-1&&s<1?Math.sign(s)*Math.ceil(Math.abs(s)):Math.round(s):Math.abs(a)<24?(l="hours",c=a):Math.abs(i)<29?(l="days",c=i):Math.abs(r)<11?(l="months",c=r):(l="years",c=o),{unit:l,diff:c}}(new Date,e);try{if(m){return function(e,t,n){return u(t,{localeMatcher:"lookup",numeric:"always",style:n}).format(e.diff,e.unit)}(r,t,null!==(o=null==n?void 0:n.format)&&void 0!==o?o:(null==n?void 0:n.short)?"short":"long")}}catch(e){}return((null==n?void 0:n.short)||"short"===(null==n?void 0:n.format))&&r.diff<0&&t.match(/en.*/)?f(r):h(t,{dateStyle:"short",timeStyle:"short"}).format(e)},cp:function(t){return t===e.al.CompactView},cq:"subreddit_about",cr:"comment-post",cs:"isTranslatable",ct:"targetLanguage",cu:({adjacentElement:t})=>{if(!e.gV(e.gW()))return()=>{};const n=document.createElement("input");return n.setAttribute("type","text"),n.style.position="absolute",n.style.opacity="0",n.style.height="0",n.style.fontSize="16px",t.insertAdjacentElement("afterend",n),n.focus(),()=>n.remove()},cv:2e3,cw:"list-reply-comment",cx:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"downvote_comment"},{action_info:{trigger_type:n}}),cy:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"upvote_comment"},{action_info:{trigger_type:n}}),cz:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"clearvote_comment"},{action_info:{trigger_type:n}}),d:r,d0:Re,d1:F,d2:"hidePostSubmitLink",d3:T,d4:"wiki-revision-note-modal-dialog",d5:"wiki-page-tabs",e:function(e){return Array.from(function*(e){for(let t=1;t<=e;t++)yield t}(e))},f:d,g:function(e,t){const n=e.composedPath();for(const e of n){const n=e.dataset,o=n&&n[t];if(null!=o)return o}return null},h:D,i:({listId:e,seeButtonId:t})=>{const n=document.querySelector(`#${e}`),o=n?.querySelectorAll(".hidden"),r=n?.querySelector(`#${t}`),i=r?.getAttribute("data-see-less-label"),a=r?.getAttribute("data-see-more-label");if((!r||!Xe.has(r))&&n&&r&&o&&i&&a){let e=!0;r.addEventListener("click",(()=>{Array.from(o).forEach((t=>{e?t.classList.remove("hidden"):t.classList.add("hidden")})),r.textContent=e?i:a,e=!e})),Xe.add(r)}},j:function(e=!1){return e?"Saved":"Save"},k:(e,t,n)=>{const o=rt(t,n),r=new Map,i=[e,...o];for(;i.length&&r.size<n;){const e=i.shift();r.has(e.uuid)||r.set(e.uuid,e)}const a=Array.from(r.values());a.length===o.length&&a.every(((e,t)=>e.uuid===o[t].uuid))||et(t,a)},l:Te,m:function(e="#preview"){ft((function(){const t=document.querySelector(e);t?.classList.contains(gt)||t?.classList.add(gt)}))},n:rt,o:(...e)=>e.filter(Boolean).join(" "),p:l,q:()=>{const e=b(),t=g();return"true"===e||void 0===e&&void 0===t?window.matchMedia("(prefers-reduced-motion: reduce)")?.matches:"false"!==t},r:()=>e.b({source:"community_nav",action:"click",noun:"community_recent"}),s:ft,t:function({el:t,clickLocation:n,galleryIndex:o}){try{const r=C(t),i=r?.placement||("placement"in t?t?.placement:void 0),a=r?.postId||("postId"in t?t?.postId:""),s=r?.impressionId||("impressionId"in t?t?.impressionId:""),l=r?r.querySelector(`[click-location=${e.A.MEDIA}]`):t.querySelector(`[click-location=${e.A.MEDIA}]`);let c;l&&(c=l.getBoundingClientRect());const d=e.cX(),u=e.c("track-event",{details:x({postId:a,impressionId:s,post:r,adMedia:c,clickLocation:n,galleryIndex:o||0,page_request_id:d,placement:i})});t.dispatchEvent(u)}catch(e){const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&(e.message&&(e.message=`post/click/ad exception: ${e.message}`),t.captureException(e))}},u:"templateSelector",v:e=>{window.location.href=e||window.location.href},w:function(e){const t=document.querySelector(e);if(!t)return Promise.reject(`lazy script "${e}" cannot be found`);const n=s.get(t);if(n)return n;if(!t.nonce)return Promise.reject('loadLazyScriptWithNonce should only be used to load scripts with "nonce"s');const o=t?.getAttribute("data-src");if(!o)return Promise.reject('loadLazyScriptWithNonce expects a script tag with a "data-src" attribute');const r=document.querySelector(`script[src="${o}"]`);if(r)return Promise.resolve(r);const i=new Promise(((e,n)=>{const r=document.createElement("script");r.nonce=t.nonce,r.onload=function(){e(r)},r.onerror=function(e){n(e?.toString())},r.src=o,r.dataset.lazy="true",document.body.appendChild(r)}));return s.set(t,i),i},x:function(){return{source:"feed_experience",action:"impression",noun:"subreddit"}},y:function(){return{source:"feed_experience",action:"consume",noun:"subreddit"}},z:function(e,t){if(!e?.includes("r/"))return"/";let n=[e,t].filter(Boolean).join("/");return n.startsWith("/")||(n=`/${n}`),n.endsWith("/")||(n=`${n}/`),n}}}));
SML.dm("communitypickerf331f77f",["shelle48e5956","agegatestandaloneclientjsb13e879d"],(async(e,t)=>{const n=e.ha(),o=function(){const e=new WeakMap;let t=!1;return{get isDirty(){return t},getRegistration:(e,t,n)=>({target:e,key:t,value:n}),register({target:n,key:o,value:r}){const s=e.get(n);if(s&&!s.has(o))s.set(o,r);else{if(s)throw new Error(`Cannot register value for key ${o}; something is already registered!`);e.set(n,new Map([[o,r]]))}t=!0},unregister({target:n,key:o,value:r}){const s=e.get(n);s&&s.get(o)===r&&(s.delete(o),t=!0)},getRegisteredElements(n){const o=e.get(n);return t=!1,o},unregisterAll(n){e.delete(n),t=!0}}}(),r=e.h9("FaceplateForm"),s=r.registerAncestorClass,i=r.connectToAncestor,c=Symbol.for("mixins/form-association");function u(e){return!!e&&c in e.constructor}function a(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||c in e.constructor)}const l=new Set(["checkbox","radio"]);function m(e){return a(e)&&l.has(e.type)||u(e)&&"checked"in e}const f=new Set(["radio"]);function p(e){const{count:t,none:n,single:o,many:r}=e;return 0===t&&void 0!==n?n:1===t?o:r}return{C:"community-picker-default",F:c,a:"community-picker-your-communities",b:"community-picker-others",c:i,d:function(t,n=!1){return n||0!==t?e.h({one:`Allows up to ${t} emoji`,other:`Allows up to ${t} emojis`,count:t}):""},e:u,f:function(e){return!!e&&(e instanceof HTMLSelectElement||c in e.constructor&&"options"in e)},g:a,h:function(e){return m(e)&&f.has(e.type)},i:m,j:o,k:n,l:p,m:function(e,n,o=!1,r=""){return p({count:n,none:o?void 0:"",single:e` <faceplate-number number="${n}" pretty></faceplate-number> <span class="${t.cG(r)}"> member </span> `,many:e` <faceplate-number number="${n}" pretty></faceplate-number> <span class="${t.cG(r)}"> members </span> `})},n:function(t,n=!1){return n||0!==t?e.h({one:`${t} question left today.`,other:`${t} questions left today.`,count:t}):""},o:function(t,n=!1){return n||0!==t?e.h({one:`${t} question left this week.`,other:`${t} questions left this week.`,count:t}):""},p:function(t,n=!1){return n||0!==t?e.h({one:`Allows text and up to ${t} emoji`,other:`Allows text and up to ${t} emojis`,count:t}):""},q:"community-picker-your-profile",r:s}}));
SML.dm("constants9e09f052",["shelle48e5956","iconc33661e6","communitypickerf331f77f"],(async(t,e,i)=>{class s{constructor(t,e,i,s,a,n,r,l,o,d){this.valueMissing=t,this.typeMismatch=e,this.patternMismatch=i,this.tooLong=s,this.tooShort=a,this.rangeUnderflow=n,this.rangeOverflow=r,this.stepMismatch=l,this.badInput=o,this.customError=d}}class a{constructor(t){this.submissionValue=null,this.constraintsSuffered={},this.customValidityMessage="",this.validityMessage="",this.validationAnchor=null,this.target=t,this.input=document.createElement("input"),this.input.className="faceplate-internal-input",this.input.tabIndex=-1,this.input.style.opacity="0",this.input.style.width="1px",this.input.style.height="100%",this.input.style.padding="0",this.input.style.border="0",this.input.style.pointerEvents="none",this.input.hidden=!0}_connect(t){t?(this._form=t,i.k.register(t,this.target)):this._form=void 0}_disconnect(){this._form&&(i.k.unregister(this._form,this.target),this._form=void 0)}getFormValue(){return this.submissionValue}setFormValue(t){this.submissionValue=t}get form(){return this._form}isSufferingFromItsConstraints(){for(const t in this.constraintsSuffered)if(this.constraintsSuffered[t])return!0;return!1}setValidity(t,e,i=null){if(t){const e=this.convertFlagsToValidityState(t);for(const i in t)this.constraintsSuffered[i]=e[i]}else this.constraintsSuffered={};const s=!!e&&this.isSufferingFromItsConstraints();if(t&&Object.prototype.hasOwnProperty.call(t,"customError")){const t=this.constraintsSuffered.customError&&e?e:"";this.customValidityMessage=t}else this.validationAnchor=i,this.validityMessage=s&&e?e:"";(this.validationAnchor||this.input).setCustomValidity(this.validationMessage),this.target.setAttribute("faceplate-validity",s?"invalid":"valid")}get willValidate(){return!(this.target.disabled||null===this.submissionValue)}convertFlagsToValidityState(t){return new s(!!t.valueMissing,!!t.typeMismatch,!!t.patternMismatch,!!t.tooLong,!!t.tooShort,!!t.rangeUnderflow,!!t.rangeOverflow,!!t.stepMismatch,!!t.badInput,!!t.customError)}get validity(){const t=this.constraintsSuffered;return this.convertFlagsToValidityState(t)}get validationMessage(){return this.customValidityMessage||this.validityMessage}dispatchInvalidEvent(){const t=new Event("invalid",{bubbles:!0,cancelable:!0});return this.target.dispatchEvent(t),t}checkValidity(){return!this.isSufferingFromItsConstraints()||(this.dispatchInvalidEvent(),!1)}reportValidity(){if(this.isSufferingFromItsConstraints()){if(!this.dispatchInvalidEvent().defaultPrevented){(this.validationAnchor||this.input).reportValidity()}return!1}return!0}}const n=t.ha(),r=new MutationObserver((t=>{for(const e of t){if("attributes"!==e.type||"disabled"!==e.attributeName||!(e.target instanceof HTMLFieldSetElement))continue;const t=n.getRegisteredElements(e.target);if(t)for(const i of t)i.formDisabledCallback&&i.formDisabledCallback(i.disabled||e.target.disabled)}}));function l(t){if(i.F in t)return t;class e extends t{constructor(){super(...arguments),this._internals=new a(this)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),i.c(this).then((t=>{if(!t||!this.isConnected)return;this._internals._connect(t),this.formAssociatedCallback&&this.formAssociatedCallback(t);let e=this;for(;e.parentElement&&(e=e.parentElement,e!==t)&&!(e instanceof HTMLLegendElement);)if(e instanceof HTMLFieldSetElement){this._fieldSet=e;n.getRegisteredElements(e)||r.observe(e,{attributes:!0}),n.register(e,this);break}this.formDisabledCallback&&this.formDisabledCallback(this.disabled)}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._internals._disconnect(),this.formAssociatedCallback&&this.formAssociatedCallback(null),this._fieldSet&&(n.unregister(this._fieldSet,this),this._fieldSet=void 0)}get value(){return this._internals.getFormValue()}set value(t){this._internals.setFormValue(t),this.syncInputValidity(!1)}get form(){return this._internals.form}get name(){return this.getAttribute("name")||""}get disabled(){return this.hasAttribute("disabled")||!(!this._fieldSet||!this._fieldSet.disabled)}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.formDisabledCallback&&this.formDisabledCallback(t||!(!this._fieldSet||!this._fieldSet.disabled))}get type(){return this.localName}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}setCustomValidity(t){this._internals.setValidity({customError:!!t},t)}syncInputValidity(t=!0){var e;const i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("input:not(.faceplate-internal-input),textarea");if(!i)return;t&&this.setAttribute("faceplate-dirty","");let s={};if(this._internals.validity.customError){for(const t in i.validity)s[t]=i.validity[t];s.customError=!0}else s=i.validity;this._internals.setValidity(s,i.validationMessage||this._internals.validationMessage)}}return e[i.F]=!0,e}class o extends(l(e.s)){static get styles(){return e.a`:host{display:inline-block;position:relative}:host([aria-disabled=true]){cursor:not-allowed;opacity:.5}:host([faceplate-validity=invalid]){border-color:var(--color-danger-content)}.faceplate-internal-input{position:absolute;left:50%;bottom:0}`}get disabled(){return super.disabled}set disabled(t){super.disabled=t}constructor(){super(),this.ariaDisabled="false",this.addEventListener("focus",this.dispatchFocusin)}dispatchFocusin(){const t=new FocusEvent("focusin",{bubbles:!0});this.dispatchEvent(t)}render(){return e.x` ${this._internals.input} `}formDisabledCallback(t){this.ariaDisabled=t?"true":"false"}formResetCallback(){this.value=this.getAttribute("value"),this.removeAttribute("faceplate-dirty")}}t._([t.n({type:Boolean,reflect:!0})],o.prototype,"disabled",null),t._([t.n({type:String,attribute:"aria-disabled",reflect:!0})],o.prototype,"ariaDisabled",void 0);return{F:class extends o{async firstUpdated(){const t=await i.c(this);t&&this.isConnected&&t.register(this)}},I:o,M:999,T:function(){return o},W:l,i:function(t,e,{className:i,size:s="small",label:a,description:n,leadingContent:r,trailingContent:l,truncateTrailingContent:o,disabled:d=!1,id:c,testId:h}){return t`<div class="flex justify-between gap-[0.5rem] text-secondary py-xs ${d?"opacity-60 pointer-events-none":""} ${i??""}" id="${e(c)}" data-testid="${e(h)}"> <span class="flex items-center gap-xs min-w-0 ${o?"shrink-0 grow":"shrink"}"> ${r?t`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${r}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="${"small"===s?"text-14":"text-16"} break-normal">${a}</span> <span class="text-12 text-secondary-weak break-normal">${n}</span> </span> </span> <span class="flex items-center ${o?"shrink pl-[8px] min-w-0":"shrink-0"}"> <span class="flex items-center justify-center h-lg ${o?"min-w-0":""}">${l}</span> </span> </div>`}}}));
SML.dm("helpers4792ac4d",["shelle48e5956","iconc33661e6","constants9e09f052"],(async(e,t,i)=>{const r={checkbox:()=>"This checkbox must be on",radio:()=>"This radio must have a selected option"};class o extends i.F{constructor(){super(...arguments),this.required=!1,this.name="",this.initialized=!1,this._events=new e.E(this),this.ariaRole="checkbox",this._checked=!1,this.ellipsis=!1,this._handleClick=this._events.define("click",(e=>{this.disabled||e.defaultPrevented||this.handleInteraction()})),this._handleKeydown=this._events.define("keydown",(e=>{this.disabled||e.defaultPrevented||"Space"===e.code&&(e.stopPropagation(),e.preventDefault(),this.handleInteraction())}))}get checked(){return this._checked}set checked(e){const t=this._checked;e!==t&&(this._internals.setFormValue(e?this.getAttribute("value")||"on":null),this._checked=e,e?this.setAttribute("aria-checked","true"):this.removeAttribute("aria-checked"),this.hasAttribute("required")&&!this.checked?this._internals.setValidity({valueMissing:!0},r[this.ariaRole]()):this._internals.setValidity(),this.requestUpdate("checked",t))}static get styles(){return[super.styles,t.a`:host(:not(faceplate-switch-input)){min-height:var(--size-md)}:host{display:flex;align-items:center;cursor:pointer}label{font:var(--font-14-20-regular);color:var(--color-neutral-content-strong);margin-left:var(--spacer-2xs);cursor:pointer}.icon{border:var(--line-md) solid transparent;height:var(--size-md);font-size:var(--size-md);flex-shrink:0}:host([checked]) .icon,:host([indeterminate]) .icon{display:inline-block;color:var(--color-primary-background)}:host(:hover) .icon{color:var(--color-primary-background-hover)}:host([faceplate-validity=invalid]) .icon{color:var(--color-danger-content);pointer-events:none}:host([aria-disabled=true]) .icon{color:var(--color-neutral-content-disabled);pointer-events:none}:host([ellipsis]) label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host([required]) label::after{position:absolute;color:var(--color-danger-content);content:'*'}:host(:focus) .icon{border-color:var(--color-global-focus,transparent);outline:0}:host(:focus){outline:0}:host(:focus:not(:focus-visible)) .icon{border-color:transparent}`]}connectedCallback(){super.connectedCallback(),this.initialized||(this.initialized=!0,this.setAttribute("role",this.ariaRole),this.setAttribute("tabindex","0"))}formDisabledCallback(e){super.formDisabledCallback(e),e?this.removeAttribute("tabindex"):this.setAttribute("tabindex","0")}render(){return t.x` ${super.render()} <label> <slot></slot> </label> `}handleInteraction(){const e=new InputEvent("input",{bubbles:!0});this.dispatchEvent(e)}}e._([e.n({type:Boolean})],o.prototype,"required",void 0),e._([e.n({type:String})],o.prototype,"name",void 0),e._([e.n({type:Boolean,reflect:!0})],o.prototype,"checked",null),e._([e.n({type:Boolean})],o.prototype,"ellipsis",void 0);const n="siteRule.value",s="categoryOrRule.value";return{C:o,R:class{constructor(e){this.bottomScrollIntoViewIfNeeded=e=>{const t=e?.parentElement;if(t&&e){t.clientHeight-(e.offsetTop+e.clientHeight)<0&&e.scrollIntoView()}},this.getHiddenInputValue=e=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.getAttribute("value")??"",this.setHiddenInputValue=(e,t)=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.setAttribute("value",t)??"",this.getAllHiddenInputValues=()=>Array.from(this.reportFormEl.querySelectorAll("form input[type=hidden]")).reduce(((e,t)=>{const i=t.getAttribute("name");return i?{...e,[i]:t.getAttribute("value")??""}:e}),{}),this.getComputedValueByRef=e=>{if(e===n){const t=this.getHiddenInputValue(s);return this.getHiddenInputValue(e).includes(t)?this.getHiddenInputValue(e):""}return this.getHiddenInputValue(e)},this.checkCondition=e=>{if("object"==typeof e){const{args:t,$type:i}=e;if("computed"===i&&Array.isArray(t)){const i=t.map((e=>"object"==typeof e&&"ref"===e.$type?this.getComputedValueByRef(e.ref):e));return"neq"===e.function?String(i[0])!==String(i[1]):String(i[0])===String(i[1])}if("ref"===i&&e.ref)return this.getHiddenInputValue(e.ref)}return!1},this.getComputedProp=e=>{if("computed"===e.$type&&"conditionalSelect"===e.function&&e.conditions&&e.values){const t=e.conditions;for(const[i,r]of t.entries())if(!0===r||"boolean"!=typeof r&&this.checkCondition(r))return e.values[i]}return e},this.getText=e=>{if(this.isString(e))return e;const t=this.getComputedProp(e);return this.isString(t)?t:""},this.getAction=e=>this.getComputedProp(e),this.getDisabledCondition=e=>!!this.checkCondition(this.getComputedProp(e)),this.getTextDataRef=e=>{const t=e.conditions?.[0];if(t&&"boolean"!=typeof t){const e=t.args;if(Array.isArray(e)&&!this.isString(e[0]))return e[0].ref}return""},this.getDisabledRef=e=>{const t=e.args;if(t&&Array.isArray(t)&&!this.isString(t[0]))return[t[0].ref];const i=e.values;return i?i.map((e=>e.args[0].ref)):void 0},this.isString=e=>"string"==typeof e,this.performAction=e=>{switch(e.actionType){case"formSubmit":return{formSubmit:!0,data:e.args};case"formClose":return{formClose:!0};case"flow":return"SELF_HARM"===this.getHiddenInputValue(e.args[0].ref)?{openCtlFlow:!0}:void 0;case"openTemplatedUrl":const t=e.args,{urlTemplate:i,placeholders:r}=t;if(t&&i&&r){let e="";return r.forEach((r=>{const o=t[r],n=this.getHiddenInputValue(o.ref);n&&(e=i.replaceAll(`%(${r})s`,n))})),{href:e,formClose:!0}}return{formClose:!0};default:const{value:o,key:n}=e.args;return"ref"===o.$type?(this.setHiddenInputValue(n,this.getHiddenInputValue(o.ref)),{key:n,value:this.getHiddenInputValue(o.ref)}):void 0}},this.reportFormEl=e}},S:n,a:s}}));
SML.dm("chatmobilexpromoclientjs5e1c145c",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,t,r)=>{let o=class extends e.hk{constructor(){super(...arguments),this._fullscreenBlurEl=document.createElement("div"),this._appliedBlurFilter=null,this._blurElement=null,this.shouldContentScroll=!1,this.isFooterEmpty=!0,this.render=()=>{const r=t.x`<slot name="closeButton" class="${e.U({floating:this.shouldContentScroll})}"></slot>`,o=t.x`<div id="header" class="${e.U({"with-icon":this._titleGraphic.length>0})}"> <slot name="titleGraphic"></slot> <slot name="title"></slot> </div>`,n=t.x`<slot name="primaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="secondaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="tertiaryButton" @slotchange="${this.calcFooterChildren}"></slot>`;return t.x` ${e.cI(this.modal?"\n  <style>\n    :host {\n      top: 50%;\n      transform: translateY(-50%);\n      position: fixed;\n    }\n  </style>\n":"\n  <style>\n    :host {\n      position: absolute;\n    }\n  </style>\n")} <div id="wrapper" role="${t.l(this.open?"dialog":void 0)}" aria-label="${t.l(this.ariaLabel??void 0)}" aria-labelledby="${t.l(null!=this.ariaLabel?void 0:"header-container")}" aria-modal="${t.l(this.open&&this.modal?"true":void 0)}"> <div id="content"> ${r} <div id="header-container"> ${o} </div> <slot></slot> </div> <div id="footer" class="${e.U({"sticky-footer":this.shouldContentScroll,empty:this.isFooterEmpty})}"> ${n} <slot name="footer" @slotchange="${this.calcFooterChildren}"></slot> </div> </div> `}}static get styles(){return t.a`${e.hk.styles}:host{--content-padding:var(--spacer-md);box-sizing:border-box;max-width:none;border-radius:var(--rem16);padding:0;overflow:hidden}#wrapper{display:flex;flex-direction:column;align-items:center;height:100%;position:relative;font-size:16px;box-sizing:border-box;max-height:inherit;min-height:inherit;overflow:hidden}slot[name=closeButton]{display:inline-flex;position:absolute;position:absolute;top:0;inset-inline-end:0;margin:var(--content-padding)}#header{display:flex;flex-direction:column;gap:var(--spacer-sm);align-items:center;text-align:left;width:100%;box-sizing:border-box}#header.with-icon{text-align:center;padding:0 var(--rem40)}slot[name=title]{font-size:var(--rem18);font-weight:700}slot:not([name]){display:flex;flex-grow:1;width:100%;padding:var(--spacer-xs) 0;font-size:var(--rem14)}#footer{display:flex;flex-direction:column;gap:var(--spacer-sm);width:100%;background:var(--color-ui-modalbackground);padding:var(--spacer-md);box-sizing:border-box}slot[name=tertiaryButton]{display:inline-flex;justify-content:center;font-size:14px}#footer.empty{display:none}@media (min-width:640px){#content{padding:var(--content-padding)}#header,#header.with-icon{flex-direction:row;padding-inline:0 var(--spacer-2xl)}#footer{flex-direction:row-reverse;align-items:center;justify-content:end}slot[name=tertiaryButton]{margin-inline-end:auto}slot[name=title]{text-align:left}}#content{height:100%;max-height:100%;width:100%;overflow:auto;position:relative;--content-padding:var(--spacer-md);padding:var(--content-padding);box-sizing:border-box;flex:1}.overflowing-content{max-height:100%;overflow-y:auto}.sticky-footer{box-shadow:var(--elevation-md)}slot[name=closeButton].floating{box-shadow:var(--elevation-sm);border-radius:999px}`}connectedCallback(){super.connectedCallback(),Object.assign(this._fullscreenBlurEl.style,{position:"fixed",top:"0",bottom:"0",right:"0",left:"0",backdropFilter:n(4)})}disconnectedCallback(){this._fullscreenBlurEl.remove(),e.hl.remove(this),this.resizeObserver?.disconnect()}firstUpdated(){this.resizeObserver=new ResizeObserver((()=>{this.measureShouldContentScroll()})),this.resizeObserver.observe(this.content)}calcFooterChildren(){this.isFooterEmpty=!(this._footerSlot?.length||this._primaryButtonSlot?.length||this._secondaryButtonSlot?.length||this._tertiaryButtonSlot?.length)}measureShouldContentScroll(){this.shouldContentScroll=Boolean(this.content?.scrollHeight&&this.content?.scrollHeight>this.content.offsetHeight)}showModal(t){if(e.hl.add(this),super.showModal(),null!=t?.blur){const e=!0===t.blur?4:Number(t.blur);this._appliedBlurFilter=n(e),t?.blurElement?(this._blurElement=t.blurElement,r=this._blurElement,o=this._appliedBlurFilter,r.style.filter=r.style.filter+" "+o):(Object.assign(this._fullscreenBlurEl.style,{backdropFilter:this._appliedBlurFilter}),document.body.append(this._fullscreenBlurEl))}var r,o}close(){this.open&&(super.close(),e.hl.remove(this),null!=this._blurElement&&null!=this._appliedBlurFilter?(!function(e,t){const r=e.style.filter.split(" ").filter(Boolean).reverse(),o=r.indexOf(t);if(-1===o)return;r.splice(o,1),e.style.filter=r.reverse().join(" ")}(this._blurElement,this._appliedBlurFilter),this._appliedBlurFilter=null,this._blurElement=null):this._fullscreenBlurEl.remove())}};function n(e){return`blur(${e}px)`}e._([e.d()],o.prototype,"shouldContentScroll",void 0),e._([e.j({slot:"titleGraphic"})],o.prototype,"_titleGraphic",void 0),e._([e.y("#content")],o.prototype,"content",void 0),e._([e.y("#footer")],o.prototype,"footer",void 0),e._([e.d()],o.prototype,"isFooterEmpty",void 0),e._([e.aP({slot:"footer",flatten:!0})],o.prototype,"_footerSlot",void 0),e._([e.aP({slot:"primaryButton",flatten:!0})],o.prototype,"_primaryButtonSlot",void 0),e._([e.aP({slot:"secondaryButton",flatten:!0})],o.prototype,"_secondaryButtonSlot",void 0),e._([e.aP({slot:"tertiaryButton",flatten:!0})],o.prototype,"_tertiaryButtonSlot",void 0),o=e._([e.e("faceplate-modal")],o);function i(e){return e?.[0]?.message??"Something went wrong"}const l=e=>({error:e||"There was an error uploading the file."});async function a(t,o){const n=r.bQ.get(t.type);if(!n)throw new Error(`${t.type} files are not supported.`);try{const a=await async function(t){const r=await e.B({operation:e.O.CreateSubredditStructuredStylesUploadLease,variables:{input:t}});if(r.errors?.length)throw new Error(i(r.errors));const o=r.data.createSubredditStructuredStylesUploadLease;if(o?.ok&&o.uploadLease)return{uploadLeaseUrl:o.uploadLease.uploadLeaseUrl,uploadLeaseHeaders:o.uploadLease.uploadLeaseHeaders};throw new Error(i(o?.errors))}({...o,filepath:t.name,mimetype:n}),s=await r.bP(t,a);return s?{url:s}:l()}catch(e){return a=e.message,window.Sentry?.captureMessage?.(`Media file upload failed with error: ${a}`),l(e.message)}var a}return{C:class{async makeGQLRequest(...t){return e.B(...t)}async uploadMedia(...e){return a(...e)}async saveImage({subredditId:e,url:t,fileContent:r,uploadType:o,gqlOperation:n}){if(r)try{const n=await this.uploadMedia(r,{subredditId:e,imagetype:o});if(t=n.url?decodeURIComponent(n.url):t,n.error)return this.handleError(o)}catch(e){return this.handleError(o)}try{await this.makeGQLRequest({operation:n,variables:{input:{subredditId:e,[this.getOperationArg(o)]:t??""}}})}catch(e){return this.handleError(o)}return null}async saveCommunityIcon(t,r,o){return this.saveImage({subredditId:t,url:r,fileContent:o,uploadType:e.hm.CommunityIcon,gqlOperation:e.O.UpdateSubredditIcon})}async saveBanner(t,r,o){return this.saveImage({subredditId:t,url:r,fileContent:o,uploadType:e.hm.BannerBackgroundImage,gqlOperation:e.O.UpdateSubredditBanner})}async saveMobileBanner(t,r,o){return this.saveImage({subredditId:t,url:r,fileContent:o,uploadType:e.hm.MobileBannerImage,gqlOperation:e.O.UpdateSubredditBanner})}handleError(t){switch(t){case e.hm.BannerBackgroundImage:return"Something went wrong while saving the banner.";case e.hm.MobileBannerImage:return"Something went wrong while saving the mobile banner.";case e.hm.CommunityIcon:default:return"Something went wrong saving the avatar."}}getOperationArg(t){switch(t){case e.hm.BannerBackgroundImage:return"bannerBackgroundImage";case e.hm.MobileBannerImage:return"mobileBannerImage";case e.hm.CommunityIcon:default:return"communityIcon"}}},get F(){return o},O:"mod-show-post-level-crowd-control-modal",u:a}}));
SML.dm("TinyGesture26737d23",[],(async()=>{class t{constructor(e,o){this.element=e,this.touch1=null,this.touch2=null,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.touchMove1=null,this.touchMove2=null,this.touchMoveX=null,this.touchMoveY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapTimer=null,this.doubleTapWaiting=!1,this.thresholdX=0,this.thresholdY=0,this.disregardVelocityThresholdX=0,this.disregardVelocityThresholdY=0,this.swipingHorizontal=!1,this.swipingVertical=!1,this.swipingDirection=null,this.swipedHorizontal=!1,this.swipedVertical=!1,this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[],pinch:[],pinchend:[],rotate:[],rotateend:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.opts=Object.assign({},t.defaults,o),this.element.addEventListener("touchstart",this._onTouchStart,i),this.element.addEventListener("touchmove",this._onTouchMove,i),this.element.addEventListener("touchend",this._onTouchEnd,i),this.opts.mouseSupport&&!("ontouchstart"in window)&&(this.element.addEventListener("mousedown",this._onTouchStart,i),document.addEventListener("mousemove",this._onTouchMove,i),document.addEventListener("mouseup",this._onTouchEnd,i))}destroy(){var t,i;this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(null!==(t=this.longPressTimer)&&void 0!==t?t:void 0),clearTimeout(null!==(i=this.doubleTapTimer)&&void 0!==i?i:void 0)}on(t,i){if(this.handlers[t])return this.handlers[t].push(i),{type:t,fn:i,cancel:()=>this.off(t,i)}}off(t,i){if(this.handlers[t]){const e=this.handlers[t].indexOf(i);-1!==e&&this.handlers[t].splice(e,1)}}fire(t,i){for(let e=0;e<this.handlers[t].length;e++)this.handlers[t][e](i)}onTouchStart(t){var i,e,o,s,h,n,l,u,r,d,c,a,v,p,m,T,g,M,w,f,y,X,Y,E,b,S;let V=!1;if("mousedown"!==t.type){if(this.touch1||(this.touch1=t.changedTouches[0],V=!0),(V&&t.changedTouches.length>1||!V)&&!this.touch2)return this.touch2=[...t.changedTouches].find((t=>{var i;return t.identifier!==(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||null,this.originalDistance=Math.sqrt(Math.pow((null!==(e=null===(i=this.touch2)||void 0===i?void 0:i.screenX)&&void 0!==e?e:0)-(null!==(n=null!==(s=null===(o=this.touchMove1)||void 0===o?void 0:o.screenX)&&void 0!==s?s:null===(h=this.touch1)||void 0===h?void 0:h.screenX)&&void 0!==n?n:0),2)+Math.pow((null!==(u=null===(l=this.touch2)||void 0===l?void 0:l.screenY)&&void 0!==u?u:0)-(null!==(a=null!==(d=null===(r=this.touchMove1)||void 0===r?void 0:r.screenY)&&void 0!==d?d:null===(c=this.touch1)||void 0===c?void 0:c.screenY)&&void 0!==a?a:0),2)),void(this.originalAngle=Math.atan2((null!==(p=null===(v=this.touch2)||void 0===v?void 0:v.screenY)&&void 0!==p?p:0)-(null!==(M=null!==(T=null===(m=this.touchMove1)||void 0===m?void 0:m.screenY)&&void 0!==T?T:null===(g=this.touch1)||void 0===g?void 0:g.screenY)&&void 0!==M?M:0),(null!==(f=null===(w=this.touch2)||void 0===w?void 0:w.screenX)&&void 0!==f?f:0)-(null!==(E=null!==(X=null===(y=this.touchMove1)||void 0===y?void 0:y.screenX)&&void 0!==X?X:null===(Y=this.touch1)||void 0===Y?void 0:Y.screenX)&&void 0!==E?E:0))/(Math.PI/180));if(!V)return}(V||"mousedown"===t.type)&&(this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===t.type?t.screenX:(null===(b=this.touch1)||void 0===b?void 0:b.screenX)||0,this.touchStartY="mousedown"===t.type?t.screenY:(null===(S=this.touch1)||void 0===S?void 0:S.screenY)||0,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.swipingDirection=null,this.longPressTimer=setTimeout((()=>this.fire("longpress",t)),this.opts.longPressTime),this.scale=1,this.rotation=0,this.fire("panstart",t))}onTouchMove(t){var i,e,o,s,h,n,l,u,r,d,c,a,v;if("mousemove"===t.type&&(!this.touchStartX||null!==this.touchEndX))return;let p,m;if("mousemove"!==t.type&&(p=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),this.touchMove1=p||this.touchMove1,m=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)})),this.touchMove2=m||this.touchMove2),"mousemove"===t.type||p){const u=("mousemove"===t.type?t.screenX:null!==(i=null==p?void 0:p.screenX)&&void 0!==i?i:0)-(null!==(e=this.touchStartX)&&void 0!==e?e:0);this.velocityX=u-(null!==(o=this.touchMoveX)&&void 0!==o?o:0),this.touchMoveX=u;const r=("mousemove"===t.type?t.screenY:null!==(s=null==p?void 0:p.screenY)&&void 0!==s?s:0)-(null!==(h=this.touchStartY)&&void 0!==h?h:0);this.velocityY=r-(null!==(n=this.touchMoveY)&&void 0!==n?n:0),this.touchMoveY=r;const d=Math.abs(this.touchMoveX),c=Math.abs(this.touchMoveY);this.swipingHorizontal=d>this.thresholdX,this.swipingVertical=c>this.thresholdY,this.swipingDirection=d>c?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",Math.max(d,c)>this.opts.pressThreshold&&clearTimeout(null!==(l=this.longPressTimer)&&void 0!==l?l:void 0),this.fire("panmove",t)}"mousemove"!==t.type&&null!=this.touchMove1&&null!=this.touchMove2&&(this.newDistance=Math.sqrt(Math.pow(this.touchMove2.screenX-this.touchMove1.screenX,2)+Math.pow(this.touchMove2.screenY-this.touchMove1.screenY,2)),this.scale=this.newDistance/(null!==(u=this.originalDistance)&&void 0!==u?u:0),this.fire("pinch",t),this.newAngle=Math.atan2((null!==(r=this.touchMove2.screenY)&&void 0!==r?r:0)-(null!==(d=this.touchMove1.screenY)&&void 0!==d?d:0),(null!==(c=this.touchMove2.screenX)&&void 0!==c?c:0)-(null!==(a=this.touchMove1.screenX)&&void 0!==a?a:0))/(Math.PI/180),this.rotation=this.newAngle-(null!==(v=this.originalAngle)&&void 0!==v?v:0),this.fire("rotate",t))}onTouchEnd(t){var i,e,o,s,h,n,l,u,r,d;let c;if("mouseup"!==t.type&&(c=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||(this.touch1=null,this.touchMove1=null),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)}))||(this.touch2=null,this.touchMove2=null)),"mouseup"!==t.type||this.touchStartX&&null===this.touchEndX){if("mouseup"===t.type||c){this.touchEndX="mouseup"===t.type?t.screenX:null!==(i=null==c?void 0:c.screenX)&&void 0!==i?i:0,this.touchEndY="mouseup"===t.type?t.screenY:null!==(e=null==c?void 0:c.screenY)&&void 0!==e?e:0,this.fire("panend",t),clearTimeout(null!==(o=this.longPressTimer)&&void 0!==o?o:void 0);const a=this.touchEndX-(null!==(s=this.touchStartX)&&void 0!==s?s:0),v=Math.abs(a),p=this.touchEndY-(null!==(h=this.touchStartY)&&void 0!==h?h:0),m=Math.abs(p),T=Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),g=Math.abs(T),M=m/v;v>this.thresholdX||m>this.thresholdY||this.opts.diagonalSwipes&&(g>this.thresholdX||g>this.thresholdY)?(this.swipedHorizontal=v>this.thresholdX||this.opts.diagonalSwipes&&g>this.thresholdX,this.swipedVertical=m>this.thresholdY||this.opts.diagonalSwipes&&g>this.thresholdY,(!this.opts.diagonalSwipes||M<Math.tan((45-this.opts.diagonalLimit)*Math.PI/180)||M>Math.tan((45+this.opts.diagonalLimit)*Math.PI/180))&&(v>=m&&(this.swipedVertical=!1),m>v&&(this.swipedHorizontal=!1)),this.swipedHorizontal&&(a<0?((null!==(n=this.velocityX)&&void 0!==n?n:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",t):((null!==(l=this.velocityX)&&void 0!==l?l:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdX)&&this.fire("swiperight",t)),this.swipedVertical&&(p<0?((null!==(u=this.velocityY)&&void 0!==u?u:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdY)&&this.fire("swipeup",t):((null!==(r=this.velocityY)&&void 0!==r?r:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdY)&&this.fire("swipedown",t))):v<this.opts.pressThreshold&&m<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(null!==(d=this.doubleTapTimer)&&void 0!==d?d:void 0),this.fire("doubletap",t)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout((()=>this.doubleTapWaiting=!1),this.opts.doubleTapTime),this.fire("tap",t)))}this.touch1||this.touch2||(this.fire("pinchend",t),this.fire("rotateend",t),this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null)}}}t.defaults={threshold:(t,i)=>Math.max(25,Math.floor(.15*("x"===t?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight))),velocityThreshold:10,disregardVelocityThreshold:(t,i)=>Math.floor(.5*("x"===t?i.element.clientWidth:i.element.clientHeight)),pressThreshold:8,diagonalSwipes:!1,diagonalLimit:15,longPressTime:500,doubleTapTime:300,mouseSupport:!0};let i=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i={passive:!0}}}))}catch(t){}return{T:t}}));
SML.dm("appselectorclientjs9964d0b0",["shelle48e5956","iconc33661e6","TinyGesture26737d23"],(async(t,e,i)=>{const s="var(--bottom-sheet-max-height)";let o=class extends e.s{constructor(){super(...arguments),this.open=!1,this.blocking=!1,this.docked=!1,this.focusManager=new t.aF(this,this),this.inFocusTrap=!1,this._isModal=!1,this._isExpanded=!1,this._isExpandable=!1,this._isDockable=!1,this._gesture=new i.T(this,{mouseSupport:!1}),this._cachedHeight="auto",this._dockedHeight="auto",this._cachedHeightAtTouchStartPx=0,this._rafID=null,this._mutationObserver=void 0,this.show=t=>{this._isModal=!1,this._isExpanded=(t&&"expanded"in t&&t.expanded)??!1,this._isExpandable=t?.expandable??!1,this._isDockable=t?.dockable??!1,this.open=!0,this._isExpandable&&(this._gesture.on("panstart",this._onTouchStart),this._gesture.on("panmove",this._onTouchMove),this._gesture.on("panend",this._onTouchEnd)),this._isExpanded?this._content.style.height=s:""!==this._content.style.height&&"auto"!==this._content.style.height||(this._cachedHeight=this._content.clientHeight+"px",this._content.style.height=this._cachedHeight),this._dockedHeight=this._headerElements[0]?this._headerElements[0].clientHeight-1+"px":"auto",this._mutationObserver||this._connectMutationObserver()},this.showModal=e=>{if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');t.hl.add(this),this.show(e),this._isModal=!0,t.hu.add(this)},this.close=()=>{const e=t.c("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this._isExpanded=!1,this.inFocusTrap&&(t.hu.remove(this),t.hl.remove(this)),this._isExpandable&&(this._gesture.off("panstart",this._onTouchStart),this._gesture.off("panmove",this._onTouchMove),this._gesture.off("panend",this._onTouchEnd)),this._content.style.height=this._cachedHeight)},this.expand=()=>{if(this.open&&this._isExpandable&&!this._isExpanded){const e=t.c("faceplate-expand");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=s,this.docked=!1,this._isExpanded=!0}},this.collapse=()=>{if(this.open&&this._isExpandable&&this._isExpanded){const e=t.c("faceplate-collapse");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=this._cachedHeight,this.docked=!1,this._isExpanded=!1}},this.dock=()=>{if(!this.open||!this._isDockable||this.docked)return;const e=t.c("faceplate-dock");this.dispatchEvent(e),e.defaultPrevented||(this._cancelRAF(),this._content.style.height=this._dockedHeight,this.docked=!0)},this.undock=()=>{if(!this.open||!this._isDockable||!this.docked)return;const e=this._isExpandable&&this._isExpanded?s:this._cachedHeight,i=t.c("faceplate-undock");this.dispatchEvent(i),i.defaultPrevented||(this._cancelRAF(),this._content.style.height=e,this.docked=!1)},this.recalculateCachedHeight=()=>{const e=this._cachedHeight;this._content.style.height="auto";const i=this._content.clientHeight+"px";this._cachedHeight=i,this._isDockable&&this.docked?this._content.style.height=this._dockedHeight:this._isExpandable&&this._isExpanded?this._content.style.height=s:(this._content.style.height=e,window.requestAnimationFrame((()=>{this._content.style.height=i,this._cancelRAF()})));const o=t.c("__TEST-ONLY_bottom-sheet-recalculation",{cachedHeight:this._cachedHeight,dockedHeight:this._dockedHeight,expandedHeight:s});this.dispatchEvent(o)},this._onTouchStart=()=>{this._cancelRAF(),this._content.style.transitionDuration="0ms",this._cachedHeightAtTouchStartPx=this._content.clientHeight},this._onTouchMove=()=>{this._cancelRAF(),this._isExpanded&&(this._gesture.touchMoveY??0)<=0||(this._rafID=window.requestAnimationFrame((()=>{null!=this._gesture.touchMoveY&&(this._content.style.height=this._cachedHeightAtTouchStartPx-this._gesture.touchMoveY+"px")})))},this._onTouchEnd=()=>{if(this._cancelRAF(),this._content.style.transitionDuration="300ms",!this.open||null==this._gesture.touchMoveY)return;const t=this._gesture.touchMoveY>=this._gesture.thresholdY,e=this._gesture.touchMoveY<=-this._gesture.thresholdY;t?this._isExpanded?this.collapse():this._closeIfNotBlocked():e?this._isExpanded||this.expand():this._isExpanded?this._content.style.height=s:this._content.style.height=this._cachedHeight},this._cancelRAF=()=>{this._rafID&&(window.cancelAnimationFrame(this._rafID),this._rafID=null)},this._renderHandle=()=>this._isExpandable?e.x`<div id="handle" class="${this._isModal?"out":"in"}"></div>`:null,this._handleBackDropKeyUp=t=>{"Enter"===t.key&&this._closeIfNotBlocked()},this._closeIfNotBlocked=()=>{this.blocking||this.close()},this.render=()=>e.x` <div id="backdrop" part="backdrop" class="${this._isModal&&this.open?"blocker":""}" @click="${this._closeIfNotBlocked}" @keyup="${this._handleBackDropKeyUp}"></div> <div id="content" part="content" role="${e.l(this.open?"dialog":void 0)}" aria-label="${e.l(this.label??void 0)}" aria-modal="${e.l(this.open&&this._isModal?"true":void 0)}"> ${this._renderHandle()} <slot name="header"></slot> <slot></slot> </div> `}static get styles(){return e.a`:host{--bottom-sheet-max-height:85vh}@supports (height:95dvh){:host{--bottom-sheet-max-height:95dvh}}:host{position:fixed;bottom:0;left:0;opacity:0;transition-duration:.3s;transition-property:visibility,opacity;transition-timing-function:ease;visibility:hidden;pointer-events:none}:host([open]){opacity:1;z-index:2;visibility:visible}:host([open])>#content{pointer-events:auto;transform:translateY(0)}:host>#backdrop{position:fixed;--backdrop-position-value:-100%;left:var(--backdrop-position-value);right:var(--backdrop-position-value);top:var(--backdrop-position-value);bottom:var(--backdrop-position-value)}:host>#backdrop.blocker{background:var(--color-scrim);pointer-events:auto}:host>#content{align-items:center;background:var(--color-ui-modalbackground);bottom:0;border-top-left-radius:var(--rem12);border-top-right-radius:var(--rem12);box-shadow:var(--boxshadow-modal);box-sizing:border-box;display:flex;flex-direction:column;left:0;position:fixed;touch-action:none;transform:translateY(100%);transition-duration:.3s;transition-property:height,transform;transition-timing-function:ease;width:100vw;max-height:var(--bottom-sheet-max-height)}:host>slot:not([name]){align-items:center;display:flex;flex-direction:column;gap:var(--spacer-sm)}#handle{position:absolute;top:0;left:50%;transform:translateX(-50%);height:var(--rem4);width:var(--rem48);border-radius:var(--rem4)}#handle.in{top:var(--spacer-xs);background-color:var(--color-neutral-border)}#handle.out{top:calc(-1 * var(--spacer-xs));background-color:var(--color-global-white)}`}disconnectedCallback(){super.disconnectedCallback(),this._gesture.destroy(),t.hu.remove(this),t.hl.remove(this),this._mutationObserver?.disconnect()}_connectMutationObserver(){this._mutationObserver=new MutationObserver((()=>{window.requestAnimationFrame(this.recalculateCachedHeight)})),this._mutationObserver.observe(this,{characterData:!0,childList:!0,attributes:!1,subtree:!0})}};t._([t.n({type:Boolean,reflect:!0})],o.prototype,"open",void 0),t._([t.n({type:Boolean})],o.prototype,"blocking",void 0),t._([t.n({type:Boolean,reflect:!0})],o.prototype,"docked",void 0),t._([t.n({type:String,attribute:"ariaLabel"})],o.prototype,"label",void 0),t._([t.y("#content")],o.prototype,"_content",void 0),t._([t.j({slot:"header"})],o.prototype,"_headerElements",void 0),o=t._([t.e("faceplate-bottom-sheet")],o)}));
SML.dm("ae18b1320",["iconc33661e6"],(async e=>{var n,t;!function(e){e.Regular="regular",e.Semibold="semibold"}(n||(n={})),function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(t||(t={})),t.Small,e.I.ExtraSmall,t.Medium,e.I.Small,t.Large,e.I.Medium;const i={sm:"text-12",md:"text-14",lg:"text-16"},a={always:"underline",hover:"hover:underline",none:"no-underline hover:no-underline"},r={primary:"",secondary:"text-secondary-plain hover:text-secondary-plain-hover no-visited visited:text-secondary-plain","plain-weak":"text-secondary-plain-weak hover:text-secondary-plain-hover no-visited visited:text-secondary-plain-weak",media:"text-media-onbackground no-visited visited:text-media-onbackground",inverted:"text-inverted-secondary-plain hover:text-inverted-secondary-plain-hover no-visited visited:text-neutral-background-weak"};return{get A(){return t},a:({attributes:n,children:t,fontWeight:o="regular",size:d,suppressVisitedStyle:l=!1,underline:s="hover",visited:m,appearance:c="primary",trailingIcon:u})=>{const{html:v,createElement:p}=e.g(),g=v`${t}${u?v`<span class="ml-2xs align-middle">${u}</span>`:""}`,x=`${n?.className||""} a cursor-pointer\n  ${c?r[c]:""}\n  ${d?i[d]:""}\n  ${"semibold"===o?"font-semibold":""}\n  ${l?"no-visited":""}\n  ${s?a[s]:""}\n  ${m?"visited":""}`;return p("a",{...n,rpl:!0,className:x},g)},get b(){return n}}}));
SML.dm("faceplateradioinput3de18d3b",["shelle48e5956","agegatestandaloneclientjsb13e879d","iconc33661e6","helpers4792ac4d","constants9e09f052","communitypickerf331f77f"],(async(e,t,o,s)=>{const n=new WeakMap;let c=class extends s.C{constructor(){super(),this.ariaRole="radio"}static get styles(){return[super.styles,o.a`:host(:focus) .icon{border-radius:100%}:host{margin:var(--spacer-sm)}:host([checked]) .icon,:host([indeterminate]) .icon{display:inline-block;color:var(--color-input-radio-hover)}:host .icon{color:var(--color-input-radio)}:host(:hover) .icon{color:var(--color-input-radio-hover)}`]}connectedCallback(){super.connectedCallback(),this._contextKey=t.d(this.name,this.getRootNode()),n.has(this._contextKey)?n.get(this._contextKey).add(this):n.set(this._contextKey,new Set([this]))}disconnectedCallback(){super.disconnectedCallback(),this._contextKey&&n.get(this._contextKey)?.delete(this)}handleInteraction(){if(this._contextKey){const e=n.get(this._contextKey);if(e)for(const t of e)t!==this&&(t.checked=!1)}this.checked=!0,super.handleInteraction()}render(){const e={size:o.I.Small,attributes:{className:"icon"}};return o.x` ${this.checked?o.f(e):o.h(e)} ${super.render()} `}};return c=e._([e.e("faceplate-radio-input")],c),{get FaceplateRadioInput(){return c}}}));
SML.dm("textinput9c3f45be",["iconc33661e6","shelle48e5956","communitypickerf331f77f","constants9e09f052"],(async(t,e,i,a)=>{const r=t.e(class extends t.i{constructor(e){if(super(e),e.type!==t.t.PROPERTY&&e.type!==t.t.ATTRIBUTE&&e.type!==t.t.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!t.b(e))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(e,[i]){if(i===t.T||i===t.A)return i;const a=e.element,r=e.name;if(e.type===t.t.PROPERTY){if(i===a[r])return t.T}else if(e.type===t.t.BOOLEAN_ATTRIBUTE){if(!!i===a.hasAttribute(r))return t.T}else if(e.type===t.t.ATTRIBUTE&&a.getAttribute(r)===i+"")return t.T;return t.bN(e),i}});class n{constructor(t,e){this._observedNames=new Set,this._previousStates=new Map,this._records=new Map,this._eventListener=t=>{this._processRecord(t.detail)},this._callCallback=()=>{this._records.size&&this._callback(this.takeRecords(),this)},this._callback=t,this.form=e.form}_processRecord(t){const e=!this._records.size,{input:i,message:a,name:r}=t;if(!this._observedNames.has(r))return;this._previousStates.get(r)!==a&&(this._records.set(r,{target:i,message:a,name:r}),this._previousStates.set(r,a),this._records.size&&e&&queueMicrotask(this._callCallback))}observe(t){if(this._observedNames.has(t))return;this._observedNames.add(t),1===this._observedNames.size&&this.form.addEventListener("_faceplate-validation-change",this._eventListener);const e=this.form.elements[t];!e||e instanceof HTMLOutputElement||Array.isArray(e)||this._processRecord({input:e,name:t,message:e.validationMessage})}disconnect(){this._observedNames.size&&(this._observedNames.clear(),this._previousStates.clear(),this._records.clear(),this.form.removeEventListener("_faceplate-validation-change",this._eventListener))}takeRecords(){const t=Array.from(this._records.values());return this._records=new Map,t}unobserve(t){this._observedNames.has(t)&&(this._observedNames.delete(t),this._previousStates.delete(t),this._records.delete(t),this._observedNames.size||this.disconnect())}}let s=class extends t.s{constructor(){super(...arguments),this.name="",this.level=null,this.placeholder="",this.ariaLive=null,this.message="",this.characterCount=Number.NEGATIVE_INFINITY,this.characterCountAriaLabel="",this.visuallyHiddenText="",this.isInputDirty=!0,this._message="",this.setIsDirtyByAttribute=t=>{this.isInputDirty=t.hasAttribute("faceplate-dirty")},this.onFormConnect=t=>{t?.addEventListener("faceplate-submit",(()=>{this.isInputDirty=!0})),t&&this.isConnected&&(this._observer=new n((t=>{for(const i of t)if(i.name===this.name){if(i.target instanceof a.F){this.setIsDirtyByAttribute(i.target);new MutationObserver((t=>{for(const e of t)"faceplate-dirty"===e.attributeName&&this.setIsDirtyByAttribute(e.target),"faceplate-validity"===e.attributeName&&this.toggleSuccessStyling(e.target)})).observe(i.target,{attributes:!0})}else this.isInputDirty=!0;this.setMessage(this.message||i.message,"valid"===i.target.getAttribute("faceplate-validity")?e.x.success:e.x.error)}}),{form:t}),this._observer.observe(this.name),this._observer.form.addEventListener("faceplate-alert",this._handleAlert))},this.associateForm=t=>{this.onFormConnect(t)},this._handleAlert=t=>{this.isInputDirty=!0;const{name:i,level:a,message:r}=t.detail;i===this.name&&a!==e.x.error&&this.setMessage(r,a)},this.toggleSuccessStyling=t=>{this.isInputDirty&&("valid"===t.getAttribute("faceplate-validity")?this.shadowRoot?.getElementById("helper-text")?.classList.add("success"):this.shadowRoot?.getElementById("helper-text")?.classList.remove("success"))}}connectedCallback(){super.connectedCallback(),i.c(this).then(this.onFormConnect)}disconnectedCallback(){super.disconnectedCallback(),this._observer&&(this._observer.disconnect(),this._observer.form.removeEventListener("faceplate-alert",this._handleAlert))}setMessage(t,i){t&&void 0!==i?this.level=e.x[i]:this.removeAttribute("level"),this._message=t||""}get textContent(){return this.shadowRoot?.firstElementChild?.textContent||""}get innerText(){return this.shadowRoot?.firstElementChild?.innerText||""}static get styles(){return t.a`:host{display:block;font-size:var(--font-small);color:var(--color-input-helper-text);line-height:var(--size-md);font-size:var(--font-small);box-sizing:border-box}.container{display:flex;justify-content:space-between;padding-top:var(--spacer-input-padding-top);line-height:var(--size-md);font-size:var(--font-small)}.success,:host([level=success]){color:var(--color-success-content)}.overflow-char-limit,:host([level=alert]),:host([level=critical]),:host([level=emergency]),:host([level=error]){color:var(--color-danger-content)}:host([level=warning]){color:var(--color-alert-caution)}:host([level=notice]){color:var(--color-success-content)}.pristine{color:var(--color-input-helper-text)}:host([character-count]) .character-count{margin-inline-start:var(--spacer-xs);flex-shrink:0}.empty{padding:0}`}render(){const i=this.characterCount>Number.NEGATIVE_INFINITY;return this.placeholder||this._message||i?t.x`<span aria-live="${t.l(this.ariaLive??void 0)}" class="${e.U({container:!0,pristine:!this.isInputDirty})}"> <span id="helper-text">${this.isInputDirty&&this._message?this._message:this.placeholder}</span> ${i?t.x`<span class="character-count ${this.characterCount<0?"overflow-char-limit":""}" aria-label="${t.l(this.characterCountAriaLabel)}">${this.characterCount}</span>`:void 0} </span> <faceplate-screen-reader-content aria-live="assertive">${this.visuallyHiddenText}</faceplate-screen-reader-content>`:t.x`<faceplate-screen-reader-content aria-live="polite">${this.visuallyHiddenText}</faceplate-screen-reader-content>`}};e._([e.n({type:String,reflect:!0})],s.prototype,"name",void 0),e._([e.n({type:String,reflect:!0})],s.prototype,"level",void 0),e._([e.n({type:String})],s.prototype,"placeholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"aria-live"})],s.prototype,"ariaLive",void 0),e._([e.n({type:String,attribute:"message"})],s.prototype,"message",void 0),e._([e.n({type:Number,attribute:"character-count"})],s.prototype,"characterCount",void 0),e._([e.n({type:String,attribute:"character-count-aria-label"})],s.prototype,"characterCountAriaLabel",void 0),e._([e.n({type:String,attribute:"visually-hidden-text"})],s.prototype,"visuallyHiddenText",void 0),e._([e.d()],s.prototype,"isInputDirty",void 0),e._([e.d()],s.prototype,"_message",void 0),s=e._([e.e("faceplate-form-helper-text")],s);class l extends a.F{constructor(){super(...arguments),this.suffix="",this.value="",this.name="",this.placeholder="",this.required=!1,this.screenReaderContent="",this.novalidate=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.hasLabel=!1,this.hasTrailingButton=!1,this.statefulInput=!1,this.reportedDirty=!1,this.hasValidationHelpers=!1,this.suppressInternalClicks=!1,this.validationMsg="",this.allowMaxLengthOverflow=!1,this.setFormValidationHelpers=t=>{t&&(t.addEventListener("faceplate-submit",this.setDirtyAttribute),this.helperText?.associateForm(t),this.hasValidationHelpers=!0)},this.setStatefulInputByValue=()=>{this.statefulInput=!this.isEmpty},this.inputContainer=i=>t.x` <span class="${e.U({"input-container":!0})}"> ${i} </span> `,this.labelTextWrapper=()=>{const e=t=>t&&t[0]?.textContent;return t.x` <span class="label-text inner-label" id="fp-input-label"><slot name="label" @slotchange="${t=>this.onSlotChange({event:t,property:"hasLabel",name:"label",hasChanged:e})}"></slot>${this.required?t.x`<span class="required-asterisk" aria-hidden="true">*</span>`:null}</span> `},this.setDirtyAttribute=()=>{this.setAttribute("faceplate-dirty","")},this.onSlotChange=({event:t,property:e,name:i,hasChanged:a})=>{t.target?.name===i&&(this[e]=a?a(t.target?.assignedElements()):t.target?.assignedNodes().length>0)}}async connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("blur",this.onBlur.bind(this));const t=await i.c(this);this.setFormValidationHelpers(t)}disconnectedCallback(){super.disconnectedCallback(),this?.removeEventListener("focus",this.onFocus),this?.removeEventListener("blur",this.onBlur),this.form?.removeEventListener("faceplate-submit",this.setDirtyAttribute)}async firstUpdated(){super.firstUpdated(),this.calculateLabelPosition(),this.validateMaxLength()}updated(t){if(t.get("prefix")&&this.calculateLabelPosition(),void 0!==t.get("statefulInput")){const t=this.shadowRoot?.querySelector(".input-container")?.classList;this.statefulInput?t.add("stateful-input"):t.remove("stateful-input")}t.has("value")&&(super.value=this.value,this.setStatefulInputByValue())}get delegatedFocusElements(){return[this.innerInput]}static get styles(){return[super.styles,t.a`label{display:flex;position:relative}:host{outline:0;font-family:var(--font-sans);cursor:text}:host input,:host textarea{font:inherit;color:var(--color-neutral-content-strong);padding:0}.label-container{display:inline-flex;position:relative;height:var(--rem40);align-items:center;box-sizing:border-box}:host([appearance=bordered]) .label-container{background:var(--color-input-bordered);color:var(--color-input-bordered-text)}:host([appearance=secondary]) .label-container{background:var(--color-input-secondary);border-radius:var(--radius-md);outline:0;color:var(--color-input-secondary-text)}:host([appearance=secondary]) .label-container:hover{background:var(--color-input-secondary-hover)}:host([appearance=bordered]) .label-container:hover{background:var(--color-input-bordered-hover)}:host(:focus-within) .label-container{outline:1px auto var(--color-global-focus)}:host([faceplate-validity=invalid][faceplate-dirty]) .label-container{border-color:transparent;box-shadow:0 0 0 var(--rem2) var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .label-container{border-color:transparent;box-shadow:none}:host .label-container,:host faceplate-form-helper-text{padding-inline-start:var(--spacer-md)}:host .label-container,:host faceplate-form-helper-text:not(.helper-text-without-label-with-trailing){padding-inline-end:var(--spacer-md)}:host([appearance=secondary]) .label-container{align-items:center}:host .label-container.with-trailing-button{padding-inline-end:var(--spacer-xs)}.label-container.interior-label{height:var(--rem56)}.input-container{font:var(--font-16-20-regular)}::slotted([slot=leadingIcon]),::slotted([slot=trailingIconButton]){color:var(--color-neutral-content-weak);display:inline-flex;align-items:center}:host([faceplate-validity=valid][faceplate-dirty]) .trailing-icon.valid{color:var(--color-success-background)}.required-asterisk,:host([faceplate-validity=invalid][faceplate-dirty]) .trailing-icon.invalid{color:var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .trailing-icon.valid{display:none}.trailing-icon,::slotted([slot=trailingIcon]){margin-inline-start:var(--spacer-xs);flex-shrink:0}:host([disabled]){color:var(--color-neutral-content-disabled)}:host([faceplate-validity=invalid][faceplate-dirty]) .invalid,:host([faceplate-validity=valid][faceplate-dirty]) .valid{display:inline-block}.trailing-icon{display:none}:host .label-container.without-label faceplate-form-helper-text,:host([appearance=secondary]) .label-container.without-label{padding-top:var(--rem10);padding-bottom:var(--rem10)}:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label),:host([faceplate-validity=valid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label){color:var(--color-label-default)}.label-text{position:absolute;pointer-events:none}:host([disabled]) .label-text:not(.inner-label){color:var(--color-neutral-content-disabled)}.stateful-input .label-text:not(.inner-label){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.stateful-input .label-text.inner-label{transform:translate(calc(-1 * var(--left-label-position)),calc(-1 * (var(--rem16))));font-size:var(--size-sm);line-height:var(--rem16);white-space:nowrap}.label-container:not(.without-label) .input-container:not(.stateful-input) input::placeholder,.label-container:not(.without-label) .input-container:not(.stateful-input) textarea::placeholder{opacity:0}.label-container:not(.without-label) .input-container.stateful-input{transform:translateY(var(--spacer-xs))}.activated,.activated .label-text.inner-label{transition:all 150ms ease-out}.inner-label{inset-inline-start:var(--left-label-position)}.input-container:not(.stateful-input) .inner-label{transform:translateY(0);transition:transform 150ms ease}.hidden{display:none}.label-text:not(.inner-label){color:var(--color-label-default)}slot[name=clearButton]:not(.has-value){display:none}.input-boundary-box{display:flex;align-items:center}.input-boundary-box,.label-container{flex:1}.label-container:not(.without-label) .input-boundary-box{padding:var(--spacer-xs) 0}#trailing-icons-container{display:flex;align-items:center;gap:var(--spacer-xs);justify-content:flex-end}:host([persistent-trailing-icon]) #trailing-icons-general{flex-direction:row-reverse}.input-prefix,.input-suffix,.label-text{color:var(--color-label-default)}:host .without-label.with-trailing-button{padding-inline-end:var(--spacer-2xs)}.input-container{position:relative;transform:translateY(0);display:flex;align-items:center;width:100%;line-height:var(--rem20)}:host([faceplate-validity=invalid]:not([persistent-trailing-icon])[faceplate-dirty]) ::slotted([slot=trailingIconButton]){display:none}#trailing-icons-general{display:flex;align-items:center}#trailing-icons-validation{display:flex}:host(:not([faceplate-dirty])) #trailing-icons-validation{display:none}`]}get isEmpty(){return!(!this.innerInput?.value&&this.innerInput?.validity.badInput)&&!(this.innerInput?.value??this.value)}onFocus(){this.hasAttribute("faceplate-dirty")&&!this.reportedDirty&&(this.reportedDirty=!0),this.removeAttribute("faceplate-dirty"),this.shadowRoot?.querySelector(".input-container")?.classList.add("activated"),this.isEmpty&&(this.statefulInput=!0)}onBlur(){this.isEmpty&&(this.statefulInput=!1),this.reportedDirty&&this.setAttribute("faceplate-dirty","")}focus(){this.innerInput?.focus()}blur(){this.innerInput?.blur()}onChange(t){const e=t?.target;this.value=e?.value||"",this.dispatchEvent(new InputEvent("change",{bubbles:!0}))}onInput(t){const e=t?.target;this.value=e?.value||"",this.handleCharLimit?.(),this.validateMaxLength(),this.setStatefulInputByValue()}validateMaxLength(){if(this.allowMaxLengthOverflow&&this.maxLength){const t=this._internals.validationMessage===this.validationMsg,e=this.value.length>this.maxLength;!t&&e?this.setCustomValidity(this.validationMsg):t&&!e&&this.setCustomValidity("")}}handleCharLimit(){const t=this.maxLength&&this.value.length>=this.maxLength;this.helperText&&this.helperTextScreenReaderMsg&&(t?this.helperText.visuallyHiddenText=this.helperTextScreenReaderMsg:!t&&this.helperText.visuallyHiddenText&&(this.helperText.visuallyHiddenText=""))}async calculateLabelPosition(t=0){let e=0,i=0;const a=this.shadowRoot?.querySelector(".input-prefix");if(a){!getComputedStyle(this.shadowRoot?.host).getPropertyValue("--font-16-20-regular").trim().length&&t<5&&setTimeout((()=>{this.calculateLabelPosition(t+1)}),50),i=a.getBoundingClientRect().width;const r=getComputedStyle(this.shadowRoot?.querySelector(".input-prefix")).getPropertyValue("margin-inline-end");e+=i+parseFloat(r)}(this.shadowRoot?.querySelector("label")).style.setProperty("--left-label-position",`${e}px`)}onLabelClick(t){this.suppressInternalClicks&&"input"!==t.target.nodeName.toLowerCase()&&t.stopPropagation()}renderInput(i){let a;return this.characterCount&&(a=this.maxLength?this.maxLength-this.value.length:this.value.length),t.x`<label @click="${this.onLabelClick}"> <div class="${e.U({"label-container":!0,"interior-label":!0,"without-label":!this.hasLabel,"with-trailing-button":this.hasTrailingButton})}"> <span class="input-boundary-box"> <slot name="leadingIcon"></slot> ${this.inputContainer(t.x` ${this.prefix?t.x`<span class="input-prefix">${this.prefix}</span>`:void 0} ${this.labelTextWrapper()} ${i} ${this.suffix?t.x`<span class="input-suffix">${this.suffix}</span>`:void 0} `)} <span id="trailing-icons-container"> <span id="trailing-icons-validation"> ${t.a1({attributes:{className:"trailing-icon invalid"},size:t.I.Medium})} ${t.E({attributes:{className:"trailing-icon valid"},size:t.I.Medium})} </span> <span id="trailing-icons-general"> <slot name="trailingIconButton" @slotchange="${t=>this.onSlotChange({event:t,property:"hasTrailingButton",name:"trailingIconButton"})}"> </slot> <slot name="clearButton" class="${e.U({"has-value":!!this.value.length})}"></slot> </span> </span> </span> </div> </label> <faceplate-form-helper-text class="${e.U({"no-label":!this.hasLabel,"helper-text-without-label-with-trailing":!this.hasLabel&&this.hasTrailingButton})}" character-count="${t.l(a)}" name="${this.name}" aria-live="${t.l(this.helperTextAriaLive??void 0)}" message="${t.l(this.helperTextMessage)}" level="${t.l(this.helperTextLevel??void 0)}" placeholder="${this.helperTextPlaceholder}" character-count-aria-label="${t.l(this.characterCountAriaLabel)}"> </faceplate-form-helper-text>`}}return l.clearButton=(i={})=>e.r({attributes:{...i,type:"button"},appearance:"plain",size:e.s.Small,leadingIcon:t.a6({attributes:{className:"trailing-icon"},size:t.I.Medium})}),e._([e.n({type:String})],l.prototype,"suffix",void 0),e._([e.n({type:String})],l.prototype,"value",void 0),e._([e.n({type:String})],l.prototype,"name",void 0),e._([e.n({type:String})],l.prototype,"placeholder",void 0),e._([e.n({type:Boolean})],l.prototype,"required",void 0),e._([e.n({type:String})],l.prototype,"screenReaderContent",void 0),e._([e.n({type:String})],l.prototype,"autocomplete",void 0),e._([e.n({type:String})],l.prototype,"inputmode",void 0),e._([e.n({type:Boolean})],l.prototype,"novalidate",void 0),e._([e.n({type:Number,attribute:"maxlength"})],l.prototype,"maxLength",void 0),e._([e.n({type:Number,attribute:"minlength"})],l.prototype,"minLength",void 0),e._([e.y("input,textarea")],l.prototype,"innerInput",void 0),e._([e.y("faceplate-form-helper-text")],l.prototype,"helperText",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-level"})],l.prototype,"helperTextLevel",void 0),e._([e.n({type:String,attribute:"helper-text-placeholder"})],l.prototype,"helperTextPlaceholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],l.prototype,"helperTextAriaLive",void 0),e._([e.n({type:String,attribute:"helper-text-message"})],l.prototype,"helperTextMessage",void 0),e._([e.n({type:Boolean,attribute:"character-count"})],l.prototype,"characterCount",void 0),e._([e.n({type:String,attribute:"helper-text-screen-reader-msg"})],l.prototype,"helperTextScreenReaderMsg",void 0),e._([e.n({type:String,attribute:"character-count-aria-label"})],l.prototype,"characterCountAriaLabel",void 0),e._([e.d()],l.prototype,"hasLabel",void 0),e._([e.d()],l.prototype,"hasTrailingButton",void 0),e._([e.j({slot:"label"})],l.prototype,"labelSlot",void 0),e._([e.j({slot:"trailingIconButton"})],l.prototype,"trailingIconButtonSlot",void 0),e._([e.d()],l.prototype,"statefulInput",void 0),e._([e.n({type:Boolean,attribute:"suppress-internal-clicks"})],l.prototype,"suppressInternalClicks",void 0),e._([e.n({type:Boolean})],l.prototype,"readonly",void 0),e._([e.n({type:String,attribute:"validation-message"})],l.prototype,"validationMsg",void 0),e._([e.n({type:Boolean,attribute:"allow-max-length-overflow"})],l.prototype,"allowMaxLengthOverflow",void 0),{T:l,l:r}}));
SML.dm("utils57a7018c",["shelle48e5956","iconc33661e6","textinput9c3f45be"],(async(t,e,i)=>{var n;!function(t){t.BORDERED="bordered",t.SECONDARY="secondary"}(n||(n={}));let r=class extends i.T{constructor(){super(...arguments),this.prefix="",this.type="text",this.appearance=n.SECONDARY,this.persistentTrailingIcon=!1,this.withSelect=!1}static get styles(){return[super.styles,e.a`input{outline:0;background:0 0;border:none;width:100%}:host([appearance=bordered]) .label-container:not(.without-label) .input-container.stateful-input{transform:translateY(0)}::slotted([slot=leadingIcon]){margin-inline-end:var(--spacer-xs);display:flex}.input-prefix{margin-inline-end:var(--spacer-4xs)}.input-suffix{margin-inline-start:var(--spacer-4xs)}.input-prefix,.input-suffix{flex-shrink:0}:host([appearance=bordered]) .label-container{border-radius:20px 20px 0 0;align-items:flex-end;padding-bottom:var(--spacer-2xs)}:host([appearance=bordered]) .input-boundary-box{margin-bottom:var(--rem6);align-items:center;padding:0}:host .label-container.without-label{height:var(--rem40)}:host(:focus-within) .label-container:not(.with-trailing-button) ::slotted([slot=clearButton].has-value),:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) ::slotted([slot=clearButton].has-value){display:inline-block}`]}dispatchFocusin(){}render(){return super.renderInput(e.x`<input aria-labelledby="fp-input-label" ?readonly="${this.readonly}" type="${this.type}" pattern="${e.l(this.pattern)}" @input="${this.onInput}" @change="${this.onChange}" @mouseover="${t=>t.stopPropagation()}" .value="${i.l(this.value)}" name="${e.l(this.withSelect?void 0:this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" min="${e.l(this.min)}" max="${e.l(this.max)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}" step="${e.l(this.step)}">`)}};return t._([t.n({type:String})],r.prototype,"prefix",void 0),t._([t.n({type:String})],r.prototype,"type",void 0),t._([t.n({type:String})],r.prototype,"pattern",void 0),t._([t.n({converter:t=>"string"==typeof t&&"any"===t.toLowerCase()?"any":isNaN(t)?void 0:Number(t)})],r.prototype,"step",void 0),t._([t.n({type:Number})],r.prototype,"min",void 0),t._([t.n({type:Number})],r.prototype,"max",void 0),t._([t.n({type:String,reflect:!0})],r.prototype,"appearance",void 0),t._([t.n({type:Boolean,attribute:"persistent-trailing-icon"})],r.prototype,"persistentTrailingIcon",void 0),t._([t.n({type:Boolean,attribute:"with-select"})],r.prototype,"withSelect",void 0),r=t._([t.e("faceplate-text-input")],r),{C:class{get active(){return this.duration>0}get timeRemaining(){return`${Math.floor(this.duration/6e4)}:${Math.ceil(this.duration%6e4/1e3).toString().padStart(2,"0")}`}get secondsRemaining(){return Math.ceil(this.duration/1e3).toString()}constructor(t){this.duration=0,this.interval=0,this.update=()=>{this.duration=this.duration-this.interval,this.duration<=0&&this.reset(),this.host.requestUpdate()},this.host=t,this.host.addController(this)}hostDisconnected(){this.reset()}reset(){clearInterval(this.timeout),this.duration=0,this.interval=0}start(t,e=1e3){this.reset(),this.duration=t,this.interval=e,this.timeout=setInterval(this.update,this.interval),this.host.requestUpdate()}},get F(){return r},get T(){return n},g:function(t){const[e,i,n]=t.split("-").map(Number);return new Date(e,i-1,n)},t:function(t){return t<10?`0${t}`:t}}}));
SML.dm("shredditslottera644cf2e",["shelle48e5956","iconc33661e6"],(async(t,e)=>{let s=class extends e.s{constructor(){super(...arguments),this._events=new t.E(this),this.handleSlotChange=this._events.define("slotchange",(t=>{if(t.target.parentNode!==this.shadowRoot)return;const e=this.renderTemplate();e!==this.content&&(this.content=e,this.requestUpdate())})),this.onSetRouteRequested=this._events.define("shreddit-slotter-set-slot-name",(t=>{!t.defaultPrevented&&this.hasSlot(t.detail.slotName)&&(t.preventDefault(),this.slotName=t.detail.slotName)}))}static get styles(){return[t.t]}update(t){t.has("slotName")&&(this.content=this.renderTemplate(),this.requestUpdate()),super.update(t)}updated(e){e.has("slotName")&&this.slotName&&this.dispatchEvent(t.c("shreddit-slotter-slot-name-changed",{slotName:this.slotName})),super.updated(e)}renderTemplate(){if(!this.slotName)return;const s=this.querySelector(`template[slot=${this.slotName}]`);if(!(s instanceof HTMLTemplateElement))return"";const l=t.i()?"theme-dark":"theme-light";return e.x`<span class="${l} w-full">${t.a5(s)}</span>`}hasSlot(t){return this.querySelector(`template[slot=${t}]`)instanceof HTMLTemplateElement}render(){return e.x` ${this.content||""} <slot></slot> `}};t._([t.n({type:String,attribute:"slot-name",reflect:!0})],s.prototype,"slotName",void 0),s=t._([t.e("shreddit-slotter")],s)}));
SML.dm("zendeskstephelperdc8aba38",[],(async()=>{const E=["BE","BG","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","CY","RO","SK","SI","ES","SE"],n=["EU","UK","AU"];var t;!function(E){E.REGION_SUFFIX="odsa",E.URL_REGION_KEY="&tf_35141892305556=",E.URL_PERMALINK_KEY="&tf_19617252816916="}(t||(t={}));const R=R=>{if("GB"===R?R="UK":function(n){return E.includes(n)}(R)&&(R="EU"),n.includes(R))return R.toLowerCase()+"_"+t.REGION_SUFFIX};return{c:(E,n="",e="",L=!1)=>{const _=R(n);if(!_)return E;const r=t.URL_REGION_KEY+_;let U="";return""!==e&&(U=L?t.URL_PERMALINK_KEY+e:t.URL_PERMALINK_KEY+location.origin+e),E+r+U}}}));
SML.dm("rendersavedresponsetemplatebysubredditidb78cebab",["shelle48e5956","iconc33661e6","agegatestandaloneclientjsb13e879d"],(async(e,t,r)=>{var s;!function(e){e.Error="error",e.Success="success",e.Incomplete="incomplete"}(s||(s={}));const o=n(16);function a(e,t){return e-t/100*e}function n(e){return 2*Math.PI*e}let l=class extends t.s{constructor(){super(...arguments),this.value=0,this.status=s.Incomplete}static get styles(){return t.a`:host{--loader-size-base:var(--rem40);display:inline-block;position:relative}:host([status=incomplete]){color:var(--color-neutral-content,var(--color-tone-1))}:host([status=success]){color:var(--color-success-content,var(--color-alert-positive))}:host([status=error]){color:var(--color-danger-content,var(--color-alert-negative))}svg{height:var(--loader-size,var(--loader-size-base));width:var(--loader-size,var(--loader-size-base));fill:none;stroke-width:8;display:block}.bg{stroke:var(--color-neutral-content-disabled,var(--color-tone-3))}.track{stroke:currentColor;transition:.35s stroke-dashoffset;transform:rotate(-90deg);transform-origin:50% 50%}.icon{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}::slotted([slot=error]),::slotted([slot=success]){display:flex}`}render(){const e=this.status===s.Success;return t.x` <svg viewBox="0 0 40 40" class="loader" xmlns="http://www.w3.org/2000/svg"> <circle class="bg" cx="20" cy="20" r="${16}"></circle> <circle class="track ${this.status}" cx="20" cy="20" r="${16}" stroke-dasharray="${o} ${o}" stroke-dashoffset="${a(o,e?100:this.value)}"></circle> </svg> <div class="icon"> <slot name="${this.status}"></slot> </div> `}};e._([e.n({type:Number})],l.prototype,"value",void 0),e._([e.n({type:String,reflect:!0})],l.prototype,"status",void 0),l=e._([e.e("faceplate-progress")],l);var c=Object.freeze({__proto__:null,get FaceplateProgress(){return l},get ProgressState(){return s},calcCircumference:n,calcStokeDashOffset:a});let i=e.B;return{get f(){return c},r:async function({responseId:t,subredditId:s,contentId:o,modmailVariables:a}){const{data:n,errors:l}=await i({operation:e.O.RenderSavedResponseTemplateBySubredditId,variables:{responseId:t,subredditId:s,...o?{removalVariables:{contentId:o}}:{},...a?{variables:{modmailVariables:a}}:{}}});if(l?.length||"Subreddit"!==n.subredditInfoById?.__typename||!n.subredditInfoById?.moderation?.renderSavedResponseTemplate?.templateValidation?.ok)throw new Error(r.am());return n.subredditInfoById.moderation.renderSavedResponseTemplate.response.markdown}}}));
SML.dm("faceplatetextareainput29f541e5",["shelle48e5956","iconc33661e6","textinput9c3f45be"],(async(e,t,r)=>{var i,a;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary",e.PLAIN="plain"}(i||(i={})),function(e){e.COLLAPSED="collapsed",e.EXPANDED="expanded"}(a||(a={}));let n=class extends r.T{constructor(){super(...arguments),this.appearance=i.SECONDARY,this.size=a.COLLAPSED,this._textAreaContainerRef=e.aq()}static get styles(){return[super.styles,t.a`:host(){--trailing-icons-container:var(--rem32)}:host([resize]) .label-container{overflow:auto}.label-container:not(.without-label){padding-top:var(--spacer-xs);padding-bottom:var(--spacer-xs)}:host([resize]) textarea{height:100%;width:100%}:host([resize=both]) .label-container{resize:both}:host([resize=horizontal]) .label-container{resize:horizontal}:host([resize=vertical]) .label-container{resize:vertical}textarea{background:0 0;border:none;outline:0;overflow-y:auto;resize:none}:host([size=expanded]:not([rows])) .label-container{min-height:var(--rem90)}:host(:not([rows])) textarea{min-height:var(--rem20,1.25rem);height:var(--rem20,1.25rem)}:host(:not([cols])) textarea{width:100%}.label-text{top:0}:host([appearance=bordered]) .label-container{border:1px solid var(--color-neutral-border)}:host([appearance=bordered]) .label-container:hover{border-color:var(--color-neutral-border-medium)}:host([appearance=bordered]) .label-container:hover,:host([appearance=plain]) .label-container:hover{background:var(--color-neutral-background-hover);border-radius:none}:host([appearance=plain]) .label-container{border-radius:0}.input-boundary-box,.input-container,:host .label-container,label{height:100%;width:100%;box-sizing:border-box}:host([size=expanded]) .input-container{height:calc(100% - var(--trailing-icon-container,0px))}.input-container{align-items:flex-start}:host .label-container{border-radius:var(--radius-md)}.input-boundary-box{flex-direction:column}:host(:not([size])) .input-boundary-box,:host([size=collapsed]) .input-boundary-box{flex-direction:row;min-height:var(--rem40);padding:var(--spacer-2xs) 0}:host([size=expanded]) #trailing-icons-container{width:100%;justify-content:flex-end}#trailing-icons-container{height:(--trailing-icons-container)}.text-area-wrapper{height:inherit;width:100%;min-height:var(--textarea-minheight,var(--rem20));display:flex}`]}updated(e){e.has("value")&&this.handleDynamicResize(),super.updated(e)}async handleDynamicResize(){if(!this.rows&&!this.cols){const{width:e}=this.innerTextArea.getBoundingClientRect();this.innerTextArea.style.overflow="hidden",this.innerTextArea.style.height="0",this.innerTextArea.style.width=`${e}px`;const t=`${this.innerTextArea?.scrollHeight}px`;this.innerTextArea.style.height=t,this.innerTextArea.style.removeProperty("overflow"),this.innerTextArea.style.removeProperty("width"),this._textAreaContainerRef?.value&&this._textAreaContainerRef.value.style.setProperty("--textarea-minheight",t)}}onInput(e){this.handleDynamicResize(),super.onInput(e)}render(){return super.renderInput(t.x` <div class="text-area-wrapper" ${e.as(this._textAreaContainerRef)}> <textarea aria-labelledby="fp-input-label" style="${t.l(this.fontFamily?`font-family: ${this.fontFamily}`:void 0)}" class="${e.U({"no-label":!this.hasLabel})}" ?readonly="${this.readonly}" id="innerTextArea" rows="${t.l(this.rows)}" cols="${t.l(this.cols)}" @input="${this.onInput}" @change="${this.onChange}" .value="${r.l(this.value)}" name="${t.l(this.name)}" minlength="${t.l(this.minLength)}" maxlength="${t.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" placeholder="${t.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${t.l(this.autocomplete)}" inputmode="${t.l(this.inputmode)}"></textarea> </div>`)}};return e._([e.n({type:Number})],n.prototype,"rows",void 0),e._([e.n({type:Number})],n.prototype,"cols",void 0),e._([e.n({type:String})],n.prototype,"resize",void 0),e._([e.y("#innerTextArea")],n.prototype,"innerTextArea",void 0),e._([e.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),e._([e.n({type:String})],n.prototype,"size",void 0),e._([e.n({type:String,attribute:"font-family"})],n.prototype,"fontFamily",void 0),n=e._([e.e("faceplate-textarea-input")],n),{get F(){return n},get T(){return a},get a(){return i}}}));
SML.dm("index970155ae",["shelle48e5956","iconc33661e6","helpers4792ac4d"],(async(t,e,n)=>{var r;!function(t){t.PRIMARY="primary",t.BRAND="brand"}(r||(r={}));const o={[r.PRIMARY]:"switch-input-primary",[r.BRAND]:"switch-input-brand"};var a;!function(t){t.ON="faceplate-switch-input:on",t.OFF="faceplate-switch-input:off"}(a||(a={}));let i=class extends n.C{constructor(){super(...arguments),this.appearance=r.PRIMARY}static get styles(){return[super.styles,e.a`.switch-input-primary{--checked-color-background-default:var(--color-switch-input-background-checked);--checked-color-background-hover:var(--color-switch-input-background-checked-hover)}.switch-input-brand{--checked-color-background-default:var(--color-brand-background);--checked-color-background-hover:var(--color-brand-background-hover)}.outer{background:var(--color-switch-input-background-default);border-radius:var(--radius-full);box-shadow:var(--elevation-switch-input-default-inset);height:var(--size-switch-input-h);vertical-align:middle;width:var(--size-switch-input-w);padding:var(--line-md);box-sizing:border-box;position:relative;display:flex;align-items:center;flex-shrink:0;transition:background-color .3s;contain:strict}.knob{--knob-size:calc(var(--size-switch-input-h) - (var(--line-md) * 2));--knob-size-active:calc((36 / 28) * var(--knob-size));--translate-checked:calc(
            var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2)
          );background:var(--color-global-white);border-radius:var(--radius-full);filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .15));display:flex;align-items:center;justify-content:center;height:var(--knob-size);position:absolute;transform:translateX(0);transition-duration:.3s;transition-property:transform,width;width:var(--knob-size)}.knob:dir(rtl){--translate-checked:calc(
            -1 * (var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2))
          )}:host(:active:not([aria-disabled=true])) .knob{width:var(--knob-size-active)}:host([checked]) .knob{transform:translateX(var(--translate-checked))}:host([checked]:active:not([aria-disabled=true])) .knob{transform:translateX(calc(var(--translate-checked) - (var(--knob-size-active) - var(--knob-size))))}:host([checked]:active:not([aria-disabled=true])) .knob:dir(rtl){transform:translateX(calc(var(--translate-checked) + (var(--knob-size-active) - var(--knob-size))))}label{margin-inline-start:var(--spacer-xs)}:host([checked]) .outer{background:var(--checked-color-background-default)}:host([faceplate-validity=invalid]) .outer{background:var(--color-danger-content)}:host(:focus-visible) .outer{outline:1px auto var(--color-global-focus)}:host(:hover) .outer{background:var(--color-switch-input-background-default-hover)}:host([checked]:hover) .outer{background:var(--checked-color-background-hover)}:host([aria-disabled=true]){opacity:1}:host([aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-disabled);box-shadow:none}:host([checked][aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true][checked]:active) .outer{background:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true]) .knob{background-color:var(--color-switch-input-background-handle-disabled);box-shadow:none}:host([aria-disabled=true]) label{opacity:.5}svg{opacity:0;color:var(--color-global-black);transition:opacity .3s}:host([checked]) svg{opacity:1}`]}render(){return e.x` <span class="${o[this.appearance||r.PRIMARY]} outer"> <span class="knob"> ${e.P({attributes:{"aria-hidden":"true"},size:e.I.ExtraSmall})} </span> </span> ${super.render()} `}toggle(){this.checked=!this.checked,this.dispatchEvent(t.c(this.checked?a.ON:a.OFF)),super.handleInteraction()}handleInteraction(){this.toggle()}};t._([t.n({type:String})],i.prototype,"appearance",void 0),i=t._([t.e("faceplate-switch-input")],i);const c=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${t}`)})();function s(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function l(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function u(t,e={}){return{width:e.width||function(t){const e=l(t,"border-left-width"),n=l(t,"border-right-width");return t.clientWidth+e+n}(t),height:e.height||function(t){const e=l(t,"border-top-width"),n=l(t,"border-bottom-width");return t.clientHeight+e+n}(t)}}const d=16384;function h(t){return new Promise(((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t}))}async function f(t,e,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${e}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(t),async function(t){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(t))).then(encodeURIComponent).then((t=>`data:image/svg+xml;charset=utf-8,${t}`))}(o)}const g=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||g(n,e))};function p(t,e,n){const r=`.${t}:${e}`,o=n.cssText?function(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}(n):function(t){return s(t).map((e=>`${e}: ${t.getPropertyValue(e)}${t.getPropertyPriority(e)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${o}}`)}function w(t,e,n){const r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;const a=c();try{e.className=`${e.className} ${a}`}catch(t){return}const i=document.createElement("style");i.appendChild(p(a,n,r)),e.appendChild(i)}const m="application/font-woff",b="image/jpeg",y={woff:m,woff2:m,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:b,jpeg:b,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function v(t){const e=function(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return y[e]||""}function k(t){return-1!==t.search(/^(data:)/)}async function E(t,e,n){const r=await fetch(t,e);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((t,e)=>{const a=new FileReader;a.onerror=e,a.onloadend=()=>{try{t(n({res:r,result:a.result}))}catch(t){e(t)}},a.readAsDataURL(o)}))}const S={};async function x(t,e,n){const r=function(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}(t,e,n.includeQueryParams);if(null!=S[r])return S[r];let o;n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const r=await E(t,n.fetchRequestInit,(({res:t,result:n})=>(e||(e=t.headers.get("Content-Type")||""),function(t){return t.split(/,/)[1]}(n))));o=function(t,e){return`data:${e};base64,${t}`}(r,e)}catch(e){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${t}`;e&&(r="string"==typeof e?e:e.message),r&&console.warn(r)}return S[r]=o,o}async function R(t,e){return g(t,HTMLCanvasElement)?async function(t){const e=t.toDataURL();return"data:,"===e?t.cloneNode(!1):h(e)}(t):g(t,HTMLVideoElement)?async function(t,e){if(t.currentSrc){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.clientWidth,e.height=t.clientHeight,null==n||n.drawImage(t,0,0,e.width,e.height),h(e.toDataURL())}const n=t.poster,r=v(n);return h(await x(n,r,e))}(t,e):g(t,HTMLIFrameElement)?async function(t){var e;try{if(null===(e=null==t?void 0:t.contentDocument)||void 0===e?void 0:e.body)return await T(t.contentDocument.body,{},!0)}catch(t){}return t.cloneNode(!1)}(t):t.cloneNode(!1)}const P=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function $(t,e){return g(e,Element)&&(function(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):s(r).forEach((o=>{let a=r.getPropertyValue(o);if("font-size"===o&&a.endsWith("px")){const t=Math.floor(parseFloat(a.substring(0,a.length-2)))-.1;a=`${t}px`}g(t,HTMLIFrameElement)&&"display"===o&&"inline"===a&&(a="block"),"d"===o&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),n.setProperty(o,a,r.getPropertyPriority(o))}))}(t,e),function(t,e){w(t,e,":before"),w(t,e,":after")}(t,e),function(t,e){g(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),g(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function(t,e){if(g(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find((e=>t.value===e.getAttribute("value")));r&&r.setAttribute("selected","")}}(t,e)),e}async function T(t,e,n){return n||!e.filter||e.filter(t)?Promise.resolve(t).then((t=>R(t,e))).then((n=>async function(t,e,n){var r,o;let a=[];return a=P(t)&&t.assignedNodes?s(t.assignedNodes()):g(t,HTMLIFrameElement)&&(null===(r=t.contentDocument)||void 0===r?void 0:r.body)?s(t.contentDocument.body.childNodes):s((null!==(o=t.shadowRoot)&&void 0!==o?o:t).childNodes),0===a.length||g(t,HTMLVideoElement)||await a.reduce(((t,r)=>t.then((()=>T(r,n))).then((t=>{t&&e.appendChild(t)}))),Promise.resolve()),e}(t,n,e))).then((e=>$(t,e))).then((t=>async function(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===n.length)return t;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const n=t.querySelector(a),o=document.querySelector(a);n||!o||r[a]||(r[a]=await T(o,e,!0))}}const o=Object.values(r);if(o.length){const e="http://www.w3.org/1999/xhtml",n=document.createElementNS(e,"svg");n.setAttribute("xmlns",e),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(e,"defs");n.appendChild(r);for(let t=0;t<o.length;t++)r.appendChild(o[t]);t.appendChild(n)}return t}(t,e))):null}const C=/url\((['"]?)([^'"]+?)\1\)/g,A=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,L=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function D(t,e,n,r,o){try{const a=n?function(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),e&&(r.href=e),o.href=t,o.href}(e,n):e,i=v(e);let c;return o||(c=await x(a,i,r)),t.replace(function(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${c}$3`)}catch(t){}return t}function I(t){return-1!==t.search(C)}async function N(t,e,n){if(!I(t))return t;const r=function(t,{preferredFontFormat:e}){return e?t.replace(L,(t=>{for(;;){const[n,,r]=A.exec(t)||[];if(!r)return"";if(r===e)return`src: ${n};`}})):t}(t,n),o=function(t){const e=[];return t.replace(C,((t,n,r)=>(e.push(r),t))),e.filter((t=>!k(t)))}(r);return o.reduce(((t,r)=>t.then((t=>D(t,r,e,n)))),Promise.resolve(r))}async function M(t,e,n){var r;const o=null===(r=e.style)||void 0===r?void 0:r.getPropertyValue(t);if(o){const r=await N(o,null,n);return e.style.setProperty(t,r,e.style.getPropertyPriority(t)),!0}return!1}async function z(t,e){g(t,Element)&&(await async function(t,e){await M("background",t,e)||await M("background-image",t,e),await M("mask",t,e)||await M("mask-image",t,e)}(t,e),await async function(t,e){const n=g(t,HTMLImageElement);if((!n||k(t.src))&&(!g(t,SVGImageElement)||k(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,o=await x(r,v(r),e);await new Promise(((e,r)=>{t.onload=e,t.onerror=r;const a=t;a.decode&&(a.decode=e),"lazy"===a.loading&&(a.loading="eager"),n?(t.srcset="",t.src=o):t.href.baseVal=o}))}(t,e),await async function(t,e){const n=s(t.childNodes).map((t=>z(t,e)));await Promise.all(n).then((()=>t))}(t,e))}const O={};async function H(t){let e=O[t];if(null!=e)return e;const n=await fetch(t);return e={url:t,cssText:await n.text()},O[t]=e,e}async function _(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),E(a,e.fetchRequestInit,(({result:t})=>(n=n.replace(o,`url(${t})`),[o,t])))}));return Promise.all(o).then((()=>n))}function F(t){if(null==t)return[];const e=[];let n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const t=r.exec(n);if(null===t)break;e.push(t[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let t=o.exec(n);if(null===t){if(t=a.exec(n),null===t)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(t[0])}return e}async function j(t,e){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const n=s(t.ownerDocument.styleSheets),r=await async function(t,e){const n=[],r=[];return t.forEach((n=>{if("cssRules"in n)try{s(n.cssRules||[]).forEach(((t,o)=>{if(t.type===CSSRule.IMPORT_RULE){let a=o+1;const i=H(t.href).then((t=>_(t,e))).then((t=>F(t).forEach((t=>{try{n.insertRule(t,t.startsWith("@import")?a+=1:n.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:t,error:e})}})))).catch((t=>{console.error("Error loading remote css",t.toString())}));r.push(i)}}))}catch(o){const a=t.find((t=>null==t.href))||document.styleSheets[0];null!=n.href&&r.push(H(n.href).then((t=>_(t,e))).then((t=>F(t).forEach((t=>{a.insertRule(t,n.cssRules.length)})))).catch((t=>{console.error("Error loading remote stylesheet",t)}))),console.error("Error inlining remote css file",o)}})),Promise.all(r).then((()=>(t.forEach((t=>{if("cssRules"in t)try{s(t.cssRules||[]).forEach((t=>{n.push(t)}))}catch(e){console.error(`Error while reading CSS rules from ${t.href}`,e)}})),n)))}(n,e);return function(t){return t.filter((t=>t.type===CSSRule.FONT_FACE_RULE)).filter((t=>I(t.style.getPropertyValue("src"))))}(r)}async function U(t,e){const n=await j(t,e);return(await Promise.all(n.map((t=>{const n=t.parentStyleSheet?t.parentStyleSheet.href:null;return N(t.cssText,n,e)})))).join("\n")}async function V(t,e={}){const{width:n,height:r}=u(t,e),o=await T(t,e,!0);await async function(t,e){const n=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:await U(t,e);if(n){const e=document.createElement("style"),r=document.createTextNode(n);e.appendChild(r),t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}}(o,e),await z(o,e),function(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;null!=r&&Object.keys(r).forEach((t=>{n[t]=r[t]}))}(o,e);return await f(o,n,r)}async function q(t,e={}){const{width:n,height:r}=u(t,e),o=await V(t,e),a=await h(o),i=document.createElement("canvas"),c=i.getContext("2d"),s=e.pixelRatio||function(){let t,e;try{e=process}catch(t){}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),l=e.canvasWidth||n,f=e.canvasHeight||r;return i.width=l*s,i.height=f*s,e.skipAutoScale||function(t){(t.width>d||t.height>d)&&(t.width>d&&t.height>d?t.width>t.height?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d):t.width>d?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d))}(i),i.style.width=`${l}`,i.style.height=`${f}`,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,i.width,i.height)),c.drawImage(a,0,0,i.width,i.height),i}var B=Object.freeze({__proto__:null,getFontEmbedCSS:async function(t,e={}){return U(t,e)},toBlob:async function(t,e={}){const n=await q(t,e);return await function(t,e={}){return t.toBlob?new Promise((n=>{t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)})):new Promise((n=>{const r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),o=r.length,a=new Uint8Array(o);for(let t=0;t<o;t+=1)a[t]=r.charCodeAt(t);n(new Blob([a],{type:e.type?e.type:"image/png"}))}))}(n)},toCanvas:q,toJpeg:async function(t,e={}){return(await q(t,e)).toDataURL("image/jpeg",e.quality||1)},toPixelData:async function(t,e={}){const{width:n,height:r}=u(t,e);return(await q(t,e)).getContext("2d").getImageData(0,0,n,r).data},toPng:async function(t,e={}){return(await q(t,e)).toDataURL()},toSvg:V});return{get F(){return i},get S(){return r},get i(){return B}}}));
SML.dm("indexeb1de04e",["shelle48e5956","iconc33661e6"],(async(e,t)=>{const s=async(t,s,i)=>{try{const{isBlocked:o,response:{data:{updateRedditorBlockState:l},errors:n}}=await r(t?e.f5.None:e.f5.Blocked,s);if(l?.ok){const t=o?`u/${i} is now blocked.`:`u/${i} is now unblocked.`;return{level:e.x.success,message:t}}if(n.length||null===l)return window.Sentry?.captureMessage(n?.[0]?.message??"Something went wrong"),{level:e.x.error,message:`You can't block u/${i} for 24 hours after unblocking them`,cause:"user-block-rate-limited"};throw new Error(n?.[0]?.message??"Generic error while blocking user")}catch(e){return window.Sentry?.captureMessage(e),o()}},r=async(t,s)=>{try{return{response:await e.B({operation:e.O.UpdateRedditorBlockState,variables:{input:{redditorId:s,blockState:t}}}),isBlocked:t!==e.f5.None}}catch(e){throw new Error("Error during user blocking gql call")}},o=()=>({level:e.x.error,message:"An error has occurred. Please try again later",cause:e.ag.UncaughtError}),i=t.s;let l=class extends i{constructor(){super(...arguments),this.userId="",this.username="",this.isUserInitBlocked=!1,this.showAlerts=!1,this.shouldNotHandleSubmission=!1,this.isUserBlocked=!1,this._onClick=()=>{this.shouldNotHandleSubmission||this.child?.disabled||this.handleBlockUserState()},this.handleBlockUserState=async()=>{const{level:t,message:r,cause:o}=await s(this.isUserBlocked,this.userId,this.username);(this.showAlerts||t===e.x.error)&&this.dispatchEvent(e.c("faceplate-alert",{level:t,message:r,cause:o})),t===e.x.error&&this.dispatchEvent(e.c("blocked-state-update-error")),t===e.x.success&&(this.isUserBlocked=!this.isUserBlocked,this.dispatchEvent(e.c("blocked-state-updated",{isBlocked:this.isUserBlocked})))}}get child(){return this.querySelector("button")??this.querySelector("faceplate-switch-input")??void 0}connectedCallback(){super.connectedCallback(),this.isUserBlocked=this.isUserInitBlocked,this.addEventListener("click",this._onClick)}disconnectedCallback(){this.removeEventListener("click",this._onClick)}render(){return t.x`<slot></slot> `}};l.styles=[e.t],e._([e.n({type:String,attribute:"user-id"})],l.prototype,"userId",void 0),e._([e.n({type:String})],l.prototype,"username",void 0),e._([e.n({type:Boolean,attribute:"is-user-init-blocked"})],l.prototype,"isUserInitBlocked",void 0),e._([e.n({type:Boolean,attribute:"show-alerts"})],l.prototype,"showAlerts",void 0),e._([e.n({type:Boolean,attribute:"should-not-handle-submission"})],l.prototype,"shouldNotHandleSubmission",void 0),e._([e.d()],l.prototype,"isUserBlocked",void 0),l=e._([e.e("user-blocking")],l);var n=Object.freeze({__proto__:null,get UserBlocking(){return l}});return{h:s,get i(){return n}}}));
SML.dm("reportflowclientjsa1f4122e",["shelle48e5956","helpers4792ac4d","ae18b1320","iconc33661e6","zendeskstephelperdc8aba38","chatmobilexpromoclientjs5e1c145c","appselectorclientjs9964d0b0","faceplateradioinput3de18d3b","utils57a7018c","shredditslottera644cf2e","rendersavedresponsetemplatebysubredditidb78cebab","faceplatetextareainput29f541e5","index970155ae","indexeb1de04e","constants9e09f052","communitypickerf331f77f","agegatestandaloneclientjsb13e879d","TinyGesture26737d23","textinput9c3f45be"],(async(t,e,s,i,r)=>{var o,a;!function(t){t.isSubmitError="isSubmitError",t.isRateLimitError="isRateLimitError",t.isBlockingError="isBlockingError",t.isReportBlockingSuccess="isReportBlockingSuccess",t.isReportUnblockingSuccess="isReportUnblockingSuccess"}(o||(o={})),function(t){t.Post="post",t.Comment="comment",t.User="user",t.PrivateMessage="private_message"}(a||(a={}));class n{constructor(e){this.gqlOperationByType={[a.Post]:t.O.ReportPost,[a.Comment]:t.O.ReportComment,[a.User]:t.O.ReportUserDetails,[a.PrivateMessage]:t.O.ReportPrivateMessage},this.inputKeyByType={[a.Post]:"postId",[a.Comment]:"commentId",[a.User]:"redditorId",[a.PrivateMessage]:"messageId"},this.getItemType=t=>{if(t.includes("t4_"))return a.PrivateMessage;if(t.includes("t3_"))return a.Post;if(t.includes("t2_"))return a.User;if(t.includes("t1_"))return a.Comment;throw new Error("Unsupported item type provided")},this.onReportSubmit=async t=>{const{actionData:e,hiddenInputValues:s}=t;if(!e)return;const i=s.thingId,r=this.getItemType(i),o=this.reportPayloadGenerator(s,e),a=await this.getReportOperationResponse(r,i,o);if(!a||a.errors&&a.errors.length)return!1;const n="reportPost"in a.data&&a.data?.reportPost?.ok,l="reportComment"in a.data&&a.data?.reportComment?.ok,d="reportUserDetails"in a.data&&a.data?.reportUserDetails?.ok,h="reportPrivateMessage"in a.data&&a.data?.reportPrivateMessage?.ok;return n||l||d||h},this.onCTLReportSubmit=async(t,e)=>{const s=this.getItemType(t),i=await this.getReportOperationResponse(s,t,{fromHelpDesk:!1,siteRule:"SELF_HARM",...e?{userDetailType:e}:{}});if(!i||i.errors&&i.errors.length)return!1;const r="reportPost"in i.data&&i.data?.reportPost?.ok,o="reportComment"in i.data&&i.data?.reportComment?.ok,a="reportUserDetails"in i.data&&i.data?.reportUserDetails?.ok;return!!(r||o||a)||null},this.reportPayloadGenerator=(t,e)=>{const{ruleType:s,ruleId:i,freeText:r,additionalContent:o}=e,n=t[i.ref],l=this.getItemType(t.thingId),d={fromHelpDesk:!1,...this.isEmbed?{hostAppName:"R2"}:{}};if("site"===s?d.siteRule=n:"subreddit"===s&&"other"===n?d.customRule=t["customRule.value"]:d.subredditRule=t["subredditRule.value"],l===a.User&&(d.userDetailType=t["userDetail.value"]),r&&r.ref&&(d.freeText=t["freeText.value"]),o&&o.ref){const e=t[o.ref];e&&(d.reportedItems=e.split(",").map((t=>({itemId:t}))))}return d},this.getReportOperationResponse=async(t,e,s)=>{const i=this.inputKeyByType[t];if(!i)throw new Error("Unsupported item type provided");const r={[i]:e,...s};return await this.reportRequest(t,r)},this.reportRequest=async(e,s)=>{const i=this.gqlOperationByType[e];if(!i)throw new Error("Unsupported item type provided");try{return await t.B({operation:i,variables:{input:s}})}catch(t){return}},this.isEmbed=e}}let l=class extends i.s{constructor(){super(...arguments),this.isEmbed=!1,this.permalink="",this.countryCode="",this.buttonText="Next",this.isDisabled=!0,this.href="",this.onButtonClick=e=>{e.stopImmediatePropagation();const s=this.config.action,i=s?this.helpers?.getAction(s):null;if(s&&i){const e=this.helpers?.performAction(i);if("screenId"===e?.key){const s=t.c("shreddit-slotter-set-slot-name",{slotName:e.value}),i=this.helpers?.getHiddenInputValue("screenSequence"),r=i.split(" ");r.push(e.value),this.helpers?.setHiddenInputValue("screenSequence",r.toString()),this.getRootNode().host.dispatchEvent(s)}else e?.formSubmit?(this.dispatchEvent(t.c("submit-report-modal")),this.handleSubmission(e.data)):e?.href?("DSA"===this.helpers?.getHiddenInputValue("categoryOrRule.value")&&this.countryCode?window.open(r.c("https://support.reddithelp.com/hc/requests/new?ticket_form_id=19623931614484",this.countryCode,this.permalink)):window.open(e.href),this.dispatchEvent(t.c("close-report-modal",{buttonAction:s.actionType}))):e?.formClose?this.dispatchEvent(t.c("close-report-modal",{buttonAction:s.actionType})):e?.openCtlFlow&&this.dispatchEvent(t.c("open-ctl-modal"))}},this.toggleLoadingIndicator=()=>{const t=this.shadowRoot?.querySelector("faceplate-progress"),e=this.shadowRoot?.querySelector("span.report-button-content");t?.classList.toggle("hidden"),e?.classList.toggle("opacity-0")},this.handleSubmission=async e=>{this.toggleLoadingIndicator();const s=this.helpers?.getAllHiddenInputValues();if(e&&s){await(this.gqlHelpers?.onReportSubmit({actionData:e,hiddenInputValues:s}))?(this.helpers?.setHiddenInputValue("formSubmitted","true"),this.formEl?.querySelector("shreddit-slotter")?.dispatchEvent(t.c("shreddit-slotter-set-slot-name",{slotName:"formSubmitted"}))):this.dispatchEvent(t.c("faceplate-alert",{level:t.x.error,cause:"uncategorized",message:"An error occurred while submitting your report. Wait a bit, and try again."}))}},this.initTemplatedUrlListener=()=>{const{action:t}=this.config;if(t&&"openTemplatedUrl"===t.actionType){const e=t.args;if(e){const s=e?.placeholders;s?.forEach((s=>{const i=e[s]?.ref;i&&this.formEl?.querySelector(`input[type=hidden][name="${i}"]`)?.addEventListener("change",(()=>{const e=this.helpers?.performAction(t);e?.href&&(this.href=e.href)}))}))}}},this.initEventListeners=()=>{const{text:t,disabled:e}=this.config;if(!this.helpers?.isString(t)){const e=this.helpers?.getTextDataRef(t);e&&this.formEl?.querySelector(`input[type=hidden][name="${e}"]`)?.addEventListener("change",(()=>{this.buttonText=this.helpers?.getText(this.config.text)??this.buttonText}))}if(e){const t=this.helpers?.getDisabledRef(e);t&&t.length&&t.forEach((t=>this.formEl?.querySelector(`input[type=hidden][name="${t}"]`)?.addEventListener("change",(async()=>{this.isDisabled=(this.config.disabled&&this.helpers?.getDisabledCondition(this.config.disabled))??this.isDisabled,await this.updateComplete,this.getRootNode()?.host?.getRootNode()?.host?.getModal().focusManager.refresh()}))))}else this.isDisabled=!1;this.initTemplatedUrlListener()}}firstUpdated(){this.initEventListeners()}connectedCallback(){super.connectedCallback();const t=this.getRootNode().host.closest("report-form");this.formEl=t,this.helpers=new e.R(t),this.gqlHelpers=new n(this.isEmbed),this.buttonText=this.helpers?.getText(this.config.text)??this.buttonText,this.config.disabled?this.isDisabled=this.helpers?.getDisabledCondition(this.config.disabled)??this.isDisabled:this.isDisabled=!1}render(){const e=this.href?{href:this.href,target:"_blank",rel:"noopener noreferrer"}:{};return i.x` ${t.r({appearance:"primary",attributes:{disabled:this.isDisabled,onclick:this.onButtonClick,className:"w-full s:w-auto relative",...e},children:i.x` <faceplate-progress value="20" class="animate-spin loading-icon hidden absolute left-0 right-0 m-auto w-[16px]" style="--loader-size:1rem"></faceplate-progress> <span class="report-button-content">${this.buttonText}</span>`})} `}};l.styles=[t.t],t._([t.n({type:Object})],l.prototype,"config",void 0),t._([t.n({type:Boolean,attribute:"is-embed"})],l.prototype,"isEmbed",void 0),t._([t.n({type:String,attribute:"permalink"})],l.prototype,"permalink",void 0),t._([t.n({type:String,attribute:"country-code"})],l.prototype,"countryCode",void 0),t._([t.d()],l.prototype,"buttonText",void 0),t._([t.d()],l.prototype,"isDisabled",void 0),t._([t.d()],l.prototype,"href",void 0),l=t._([t.e("report-action")],l);const d=[{hiddenInputRef:"value",inputAttribute:"value"},{hiddenInputRef:"nextAction",inputAttribute:"data-nextaction"},{hiddenInputRef:"label",inputAttribute:"data-label"},{hiddenInputRef:"description",inputAttribute:"data-description"}];let h=class extends i.s{firstUpdated(){this.updateComplete.then((()=>{this.dispatchEvent(t.c("report-form-rendered"))}))}constructor(){super(),this.reasonSelectionCache={},this.getSlotter=()=>this.querySelector("shreddit-slotter")?.shadowRoot,this.getSelectedReason=()=>this.getSlotter()?.querySelector("[data-buttonbar] button.button-activated"),this.getHiddenInput=t=>this.querySelector("form")?.querySelector(`input[type=hidden][name="${t}"]`),this.getFormElementById=t=>this.getSlotter()?.querySelector(`#${t}`),this.setHiddenInputValue=(t,e)=>{const s=this.getHiddenInput(t);s?.setAttribute("value",e??""),s?.dispatchEvent(new Event("change"))},this.getPreviousValue=t=>{if(t===e.S){const s=this.getHiddenInput(e.a)?.getAttribute("value")??"",i=this.reasonSelectionCache[s];this.setHiddenInputValue(t,i)}return this.getHiddenInput(t)?.getAttribute("value")},this.populateValue=async({fieldName:t,el:e,elType:s})=>{if(t){const i=this.getPreviousValue(t);if(i||""===i)switch(s){case"button":e.getAttribute("value")===i&&this.toggleReportReason(e);break;case"textDisplay":e.textContent=i,await this.updateComplete,this.helpers?.bottomScrollIntoViewIfNeeded(this.getSelectedReason());break;case"radioInput":e.getAttribute("value")===i&&e.setAttribute("checked","true");break;default:e.setAttribute("value",i)}}},this.toggleReportReason=t=>{const e=this.getSelectedReason();e&&(e.classList.remove("button-activated"),e.ariaChecked=null,e.removeAttribute("aria-describedby")),t.classList.add("button-activated"),t.ariaChecked="true",t.setAttribute("aria-describedby","report-footer-content-body")},this.updateHiddenInputsFromReportReason=t=>{const e=t.getAttribute("data-ref");d.forEach((({hiddenInputRef:s,inputAttribute:i})=>{this.setHiddenInputValue(`${e}.${s}`,t.getAttribute(i))}))},this.updateReasonSelectionCache=t=>{const s=this.getHiddenInput(e.a)?.getAttribute("value")??"";this.reasonSelectionCache={...this.reasonSelectionCache,[s]:t}},this.addReportReasonListeners=()=>{const t=this.getSlotter()?.querySelectorAll("[data-buttonbar] button");t?.length&&t.forEach((t=>{const e=t.getAttribute("data-ref");this.populateValue({fieldName:`${e}.value`,el:t,elType:"button"}),t.addEventListener("click",(t=>{t.stopImmediatePropagation(),t.currentTarget instanceof Element&&(this.toggleReportReason(t.currentTarget),this.updateHiddenInputsFromReportReason(t.currentTarget))}))}))},this.createTextWithLinkElement=t=>t.map((t=>"Link"===t.type?i.x`${s.a({children:t.text,attributes:{href:t.linkTo,target:"_blank",rel:"noopener noreferrer"}})}  `:i.x`<span>${t.text}</span> `)),this.showCurrentDynamicLinkElements=(t,e)=>{const s=JSON.parse(t);this.createTextWithLinkElement(s).forEach((t=>{const s=document.createElement("div");i.B(t,s),e.appendChild(s.firstElementChild)}))},this.addFooterListener=(t,e)=>{const s=this.getFormElementById(t),i=s?.getAttribute(e);s&&i&&(this.populateValue({fieldName:s.getAttribute(e),el:s,elType:"textDisplay"}),this.getHiddenInput(i)?.addEventListener("change",(async t=>{t.currentTarget instanceof Element&&(this.setFooterContent(s,t.currentTarget),await this.updateComplete,this.helpers?.bottomScrollIntoViewIfNeeded(this.getSelectedReason()))})))},this.setFooterContent=(t,e)=>{t.firstChild&&(t.innerHTML="");const s=e.getAttribute("value");s?.includes("PlainText")?this.showCurrentDynamicLinkElements(s,t):t.textContent=e.getAttribute("value")??""},this.addReasonFooterContentListeners=()=>{this.addFooterListener("report-footer-content-title","data-title-ref"),this.addFooterListener("report-footer-content-body","data-text-ref")},this.addRadioListeners=()=>{const t=this.getSlotter()?.querySelectorAll("faceplate-radio-input");t?.length&&t?.forEach((t=>{this.populateValue({fieldName:`${t.getAttribute("name")}.value`,el:t,elType:"radioInput"}),t.addEventListener("input",(t=>{if(t.currentTarget instanceof Element){const e=t.currentTarget.getAttribute("name"),s=t.currentTarget.getAttribute("value");this.setHiddenInputValue(`${e}.value`,s),this.updateReasonSelectionCache(s??"")}}))}))},this.showTextInput=t=>{t.classList.remove("hidden"),this.querySelector("shreddit-slotter")?.shadowRoot?.querySelector('faceplate-radio-input[name="subredditRule"][value="other"]')?.scrollIntoView()},this.addTextInputListeners=()=>{const t=this.getSlotter()?.querySelectorAll("faceplate-textarea-input");t?.length&&t.forEach((t=>{const e=t.getAttribute("data-visibility-ref"),s=t.getAttribute("data-visibility-check");this.populateValue({fieldName:t.name,el:t,elType:"textInput"});if(e&&s){const i=this.getHiddenInput(e);i?.getAttribute("value")===s&&this.showTextInput(t),i?.addEventListener("change",(e=>{e.currentTarget.getAttribute("value")===s?this.showTextInput(t):t.classList.contains("hidden")||t.classList.add("hidden")}))}t.shadowRoot?.querySelector("textarea")?.addEventListener("keyup",(t=>{const e=t.currentTarget.getAttribute("name"),s=t.currentTarget.value;e&&s&&this.setHiddenInputValue(e,s)}))}))},this.addUserBlockingSwitchListener=()=>{const e=this.getSlotter()?.querySelector("faceplate-switch-input");e&&e.addEventListener("click",(()=>{const s=e.checked;this.dispatchEvent(t.c("report-flow-blocking",{checked:s}))}))},this.addInteractionListeners=()=>{this.addReportReasonListeners(),this.addReasonFooterContentListeners(),this.addRadioListeners(),this.addTextInputListeners(),this.addUserBlockingSwitchListener()},this.addStepChangeListener=()=>{const t=this.querySelector("shreddit-slotter");t?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await t.updateComplete,this.addInteractionListeners()}))},this.initEventListeners=t=>{"report/view/reportform"===t.SAN&&(this.addInteractionListeners(),this.addStepChangeListener())},this.helpers=new e.R(this),this.addEventListener("faceplate-track",this.initEventListeners)}render(){return i.x` <slot></slot>`}};h.styles=[i.a`:host{display:block;width:100%}`,t.t],t._([t.n({type:String,attribute:"author-id"})],h.prototype,"authorId",void 0),h=t._([t.e("report-form")],h);let c=class extends i.s{static get styles(){return[i.a`:host>faceplate-banner{display:flex;flex-direction:column;gap:var(--spacer-md);align-items:center;position:fixed;left:50%;transform:translateX(-50%);padding:0 1rem;bottom:var(--rem16);width:calc(100% - 2rem)}`,t.t]}disconnectedCallback(){super.disconnectedCallback()}connectedCallback(){super.connectedCallback(),this.showError&&(this.dispatchAlert({}),this.dispatchCloseReportFlowEvent())}constructor(){super(),this.isEmbed=!1,this.thingId="",this.isOpen=!1,this.showError=!1,this.authorId="",this.authorName="",this.partialSrc="/svc/shreddit/report-flow/",this.getModal=()=>this.isDesktop?this.querySelector("faceplate-modal"):this.querySelector("faceplate-bottom-sheet"),this.initModalCloseListener=()=>{this.getModal()?.querySelector("#report-modal-close")?.addEventListener("click",this.onCloseModal)},this.dispatchCloseReportFlowEvent=()=>{this.dispatchEvent(t.c("report-flow-close"))},this.closeFramedModal=()=>{this.isEmbed&&parent.postMessage(JSON.stringify({type:"close.framedmodal"}),"*")},this.onCloseModal=t=>{if(t){const{buttonAction:e}=t.detail;this.isUserBlockedSwitchChecked&&"formClose"===e&&this.handleUserBlocking()}this.getModal()?.close(),this.dispatchCloseReportFlowEvent(),this.closeFramedModal()},this.addBaseSlotterListener=()=>{const t=this.getModal()?.querySelector("shreddit-slotter");t?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await t.updateComplete,this.getModal()?.focusManager.refresh(),this.getModal()?.focusManager.focusFirst()}))},this.initFlowSlotterListener=()=>{this.addEventListener("shreddit-slotter-set-slot-name",(()=>{this.renderBackButton(),this.updateModalTitle()}))},this.initModal=()=>{this.initFlowSlotterListener(),this.getModal()?.showModal(),this.initModalCloseListener(),this.initEscapeListener(),this.initModalBackButtonListener(),this.addBaseSlotterListener(),this.isEmbed&&parent.postMessage(JSON.stringify({type:"loaded.framedmodal"}),"*")},this.getInputValue=t=>this.getModal()?.querySelector("report-form")?.querySelector(`form input[type=hidden][name="${t}"]`)?.getAttribute("value"),this.setInputValue=(t,e)=>this.getModal()?.querySelector("report-form")?.querySelector(`form input[type=hidden][name="${t}"]`)?.setAttribute("value",e),this.onBackButtonClick=()=>{const e=this.getInputValue("screenSequence").split(","),s=e.slice(0,e.length);s.pop(),this.setInputValue("screenSequence",s.toString());const i=t.c("shreddit-slotter-set-slot-name",{slotName:s[s.length-1]});this.querySelector("shreddit-slotter").dispatchEvent(i)},this.renderBackButton=()=>{const t=this.getModal()?.querySelector("#report-modal-back");if(t){const e=this.getInputValue("formSubmitted");this.getInputValue("screenSequence").split(",").length>1&&"false"===e?(t?.classList.remove("hidden"),t.disabled=!1):(t?.classList.add("hidden"),t.disabled=!0)}},this.updateModalTitle=async()=>{await this.updateComplete;"true"===this.getInputValue("formSubmitted")&&(this.getModal()?.querySelector(".header-title")?.classList.add("hidden"),this.getModal()?.querySelector(".report-success-title")?.classList.remove("hidden"))},this.initModalBackButtonListener=()=>{this.getModal()?.querySelector("#report-modal-back")?.addEventListener("click",this.onBackButtonClick)},this.initEscapeListener=()=>{document.addEventListener("keydown",(t=>{if("Escape"===t.key){const t=this.getModal(),e=this.getCTLModal();""===t?.getAttribute("open")&&this.onCloseModal(),""===e?.getAttribute("open")&&this.onCloseCTLModal()}}))},this.handleUserBlocking=async()=>{try{await t.B({operation:t.O.UpdateRedditorBlockState,variables:{input:{redditorId:this.authorId,blockState:t.f5.Blocked}}}),this.dispatchAlert({level:t.x.success,message:`u/${this.authorName} is now blocked.`})}catch(e){this.dispatchAlert({level:t.x.error,message:"An error has occured. Please try again later"})}},this.dispatchAlert=({level:e=t.x.error,message:s="Reporting is currently unavailable. Try reloading the page or waiting a few minutes, before trying again."})=>{this.dispatchEvent(t.c("faceplate-alert",{level:e,message:s}))},this.onCloseCTLModal=()=>{this.getCTLModal()?.close(),this.dispatchCloseReportFlowEvent(),this.closeFramedModal()},this.addCTLSlotterListener=()=>{const t=this.getCTLModal()?.querySelector("shreddit-slotter");t?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await t.updateComplete,this.getCTLModal()?.focusManager.refresh(),this.getCTLModal()?.focusManager.focusFirst();const e=this.getCTLModal()?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#ctl-ok-button");e?.addEventListener("click",this.onCloseCTLModal)}))},this.getCTLModal=()=>this.querySelector("#ctl-modal"),this.initCTLModalCloseListener=()=>{this.getCTLModal()?.querySelector("#ctl-modal-close")?.addEventListener("click",this.onCloseCTLModal)},this.initCTLModal=async()=>{this.getModal()?.close(),this.getCTLModal()?.showModal(),this.initCTLModalCloseListener()},this.showThankYou=()=>{const e=t.c("shreddit-slotter-set-slot-name",{slotName:"thankyou"});this.getCTLModal()?.querySelector("shreddit-slotter")?.dispatchEvent(e)},this.submitCTLReport=async()=>{const e=this.helpers?.getHiddenInputValue("userDetail.value");await(this.gqlHelpers?.onCTLReportSubmit(this.thingId,e))?this.showThankYou():this.dispatchAlert({level:t.x.error,message:"An error occurred while submitting your report. Wait a bit, and try again."})},this.initCTLListeners=t=>{if("report/view/ctl"===t.SAN){const t=this.getCTLModal()?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#ctl-yes-button");t?.addEventListener("click",this.submitCTLReport),this.getCTLModal()?.focusManager.refresh(),this.getCTLModal()?.focusManager.focusFirst(),this.addCTLSlotterListener()}},this.gqlHelpers=new n(this.isEmbed);const s=this.querySelector("report-form");s&&(this.helpers=new e.R(s)),this.addEventListener("report-form-rendered",this.initModal),this.addEventListener("faceplate-track",this.initCTLListeners),this.addEventListener("close-report-modal",this.onCloseModal),this.addEventListener("open-ctl-modal",this.initCTLModal),this.addEventListener("report-flow-blocking",(t=>{const{checked:e}=t.detail;this.isUserBlockedSwitchChecked=e}))}render(){return i.x`<slot></slot>`}};t._([t.n({type:Boolean,attribute:"is-desktop"})],c.prototype,"isDesktop",void 0),t._([t.n({type:Boolean,attribute:"is-embed"})],c.prototype,"isEmbed",void 0),t._([t.n({type:String,attribute:"thing-id"})],c.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"is-open"})],c.prototype,"isOpen",void 0),t._([t.n({type:Boolean,attribute:"show-error"})],c.prototype,"showError",void 0),t._([t.n({type:String,attribute:"author-id"})],c.prototype,"authorId",void 0),t._([t.n({type:String,attribute:"author-name"})],c.prototype,"authorName",void 0),c=t._([t.e("report-flow")],c)}));